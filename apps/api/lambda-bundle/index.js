"use strict";var O7e=Object.create;var dC=Object.defineProperty;var k7e=Object.getOwnPropertyDescriptor;var N7e=Object.getOwnPropertyNames;var D7e=Object.getPrototypeOf,F7e=Object.prototype.hasOwnProperty;var te=(t,e)=>()=>(t&&(e=t(t=0)),e);var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Qi=(t,e)=>{for(var r in e)dC(t,r,{get:e[r],enumerable:!0})},Tte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of N7e(e))!F7e.call(t,i)&&i!==r&&dC(t,i,{get:()=>e[i],enumerable:!(n=k7e(e,i))||n.enumerable});return t};var oe=(t,e,r)=>(r=t!=null?O7e(D7e(t)):{},Tte(e||!t||!t.__esModule?dC(r,"default",{value:t,enumerable:!0}):r,t)),Wt=t=>Tte(dC({},"__esModule",{value:!0}),t);var Cte=v((pxr,Sm)=>{"use strict";var L7e=t=>{let e=t.headers["content-encoding"]||t.headers["Content-Encoding"];return e&&e!=="identity"},M7e=(t,e)=>(typeof t.enforceBase64=="function"?t.enforceBase64:L7e)(e)===!0;Sm.exports=(t,e)=>{e=e||{},e.binaryMimeTypes=e.binaryMimeTypes||[],e.serializeLambdaArguments=e.serializeLambdaArguments!==void 0?e.serializeLambdaArguments:!1,e.decorateRequest=e.decorateRequest!==void 0?e.decorateRequest:!0,e.retainStage=e.retainStage!==void 0?e.retainStage:!1,e.pathParameterUsedAsPath=e.pathParameterUsedAsPath!==void 0?e.pathParameterUsedAsPath:!1,e.parseCommaSeparatedQueryParams=e.parseCommaSeparatedQueryParams!==void 0?e.parseCommaSeparatedQueryParams:!0,e.payloadAsStream=e.payloadAsStream!==void 0?e.payloadAsStream:!1,e.albMultiValueHeaders=e.albMultiValueHeaders!==void 0?e.albMultiValueHeaders:!1;let r={};return e.decorateRequest&&(e.decorationPropertyName=e.decorationPropertyName||"awsLambda",t.decorateRequest(e.decorationPropertyName,{getter:()=>({get event(){return r.event},get context(){return r.context}})})),function(n,i){let s=arguments[2];r.event=n,r.context=i,e.callbackWaitsForEmptyEventLoop!==void 0&&(i.callbackWaitsForEmptyEventLoop=e.callbackWaitsForEmptyEventLoop);let o=n.httpMethod||(n.requestContext&&n.requestContext.http?n.requestContext.http.method:void 0),a=e.pathParameterUsedAsPath&&n.pathParameters&&n.pathParameters[e.pathParameterUsedAsPath]&&`/${n.pathParameters[e.pathParameterUsedAsPath]}`||n.path||n.rawPath||"/";!e.retainStage&&n.requestContext&&n.requestContext.stage&&n.requestContext.resourcePath&&a.indexOf(`/${n.requestContext.stage}/`)===0&&n.requestContext.resourcePath.indexOf(`/${n.requestContext.stage}/`)!==0&&(a=a.substring(n.requestContext.stage.length+1));let u={},c={};n.requestContext&&n.requestContext.elb?n.multiValueQueryStringParameters?Object.keys(n.multiValueQueryStringParameters).forEach(m=>{u[decodeURIComponent(m)]=n.multiValueQueryStringParameters[m].map(g=>decodeURIComponent(g))}):n.queryStringParameters&&Object.keys(n.queryStringParameters).forEach(m=>{u[decodeURIComponent(m)]=decodeURIComponent(n.queryStringParameters[m]),e.parseCommaSeparatedQueryParams&&n.version==="2.0"&&typeof u[decodeURIComponent(m)]=="string"&&u[decodeURIComponent(m)].indexOf(",")>0&&(c[decodeURIComponent(m)]=u[decodeURIComponent(m)].split(","))}):(n.queryStringParameters&&e.parseCommaSeparatedQueryParams&&n.version==="2.0"&&Object.keys(n.queryStringParameters).forEach(m=>{typeof n.queryStringParameters[m]=="string"&&n.queryStringParameters[m].indexOf(",")>0&&(c[decodeURIComponent(m)]=n.queryStringParameters[m].split(","))}),Object.assign(u,n.multiValueQueryStringParameters||n.queryStringParameters,c));let f=Object.assign({},n.headers);n.multiValueHeaders&&Object.keys(n.multiValueHeaders).forEach(m=>{n.multiValueHeaders[m].length>1?f[m]=n.multiValueHeaders[m]:n.multiValueHeaders[m].length===1&&e.albMultiValueHeaders&&(f[m]=n.multiValueHeaders[m][0])});let d=n.body!==null&&n.body!==void 0?Buffer.from(n.body,n.isBase64Encoded?"base64":"utf8"):n.body;n.body&&!f["Content-Length"]&&!f["content-length"]&&(f["content-length"]=Buffer.byteLength(d)),e.serializeLambdaArguments&&(n.body=void 0,f["x-apigateway-event"]=encodeURIComponent(JSON.stringify(n)),i&&(f["x-apigateway-context"]=encodeURIComponent(JSON.stringify(i)))),n.requestContext&&n.requestContext.requestId&&(f["x-request-id"]=f["x-request-id"]||n.requestContext.requestId),n.cookies&&n.cookies.length&&(f.cookie=n.cookies.join(";"));let h;n.requestContext&&(n.requestContext.http&&n.requestContext.http.sourceIp?h=n.requestContext.http.sourceIp:n.requestContext.identity&&n.requestContext.identity.sourceIp&&(h=n.requestContext.identity.sourceIp));let p=new Promise(m=>{t.inject({method:o,url:a,query:u,payload:d,headers:f,remoteAddress:h,payloadAsStream:e.payloadAsStream},(g,y)=>{if(r={},g){if(console.error(g),!e.payloadAsStream)return m({statusCode:500,body:"",headers:{}});let x=y&&y.stream();return m({meta:{statusCode:500,headers:{}},stream:x&&x.readableLength>0?x:require("node:stream").Readable.from("")})}f["transfer-encoding"]==="chunked"&&delete f["transfer-encoding"],f["Transfer-Encoding"]==="chunked"&&delete f["Transfer-Encoding"];let w,S;Object.keys(y.headers).forEach(x=>{let I=x.toLowerCase()==="set-cookie",P=Array.isArray(y.headers[x]);P?I?(w=w||{},w[x]=y.headers[x]):y.headers[x]=y.headers[x].join(","):typeof y.headers[x]<"u"&&typeof y.headers[x]!="string"&&(y.headers[x]=y.headers[x].toString()),I&&(S=P?y.headers[x]:[y.headers[x]],(n.version==="2.0"||P)&&delete y.headers[x])});let E=(y.headers["content-type"]||y.headers["Content-Type"]||"").split(";",1)[0],b=e.binaryMimeTypes.indexOf(E)>-1||M7e(e,y),O={statusCode:y.statusCode,headers:y.headers,isBase64Encoded:b};if(S&&n.version==="2.0"&&(O.cookies=S),w&&(!n.version||n.version==="1.0")&&(O.multiValueHeaders=w),e.albMultiValueHeaders&&(O.multiValueHeaders||(O.multiValueHeaders={}),Object.entries(O.headers).forEach(([x,I])=>{O.multiValueHeaders[x]=[I]})),!e.payloadAsStream)return O.body=b?y.rawPayload.toString("base64"):y.payload,m(O);let M=y.stream();m({meta:O,stream:M&&M.readableLength>0?M:require("node:stream").Readable.from("")})})});return s&&p.then(m=>s(null,m)).catch(s),p}};Sm.exports.default=Sm.exports;Sm.exports.awsLambdaFastify=Sm.exports});var Rte=v((mxr,xte)=>{"use strict";function q7e(t){var e=new t,r=e;function n(){var s=e;return s.next?e=s.next:(e=new t,r=e),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}xte.exports=q7e});var Pte=v((gxr,yq)=>{"use strict";var $7e=Rte();function Ate(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=$7e(U7e),i=null,s=null,o=0,a=null,u={push:g,drain:ao,saturated:ao,pause:f,paused:!1,get concurrency(){return r},set concurrency(O){if(!(O>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=O,!u.paused)for(;i&&o<r;)o++,w()},running:c,resume:p,idle:m,length:d,getQueue:h,unshift:y,empty:ao,kill:S,killAndDrain:E,error:b};return u;function c(){return o}function f(){u.paused=!0}function d(){for(var O=i,M=0;O;)O=O.next,M++;return M}function h(){for(var O=i,M=[];O;)M.push(O.value),O=O.next;return M}function p(){if(u.paused){if(u.paused=!1,i===null){o++,w();return}for(;i&&o<r;)o++,w()}}function m(){return o===0&&u.length()===0}function g(O,M){var x=n.get();x.context=t,x.release=w,x.value=O,x.callback=M||ao,x.errorHandler=a,o>=r||u.paused?s?(s.next=x,s=x):(i=x,s=x,u.saturated()):(o++,e.call(t,x.value,x.worked))}function y(O,M){var x=n.get();x.context=t,x.release=w,x.value=O,x.callback=M||ao,x.errorHandler=a,o>=r||u.paused?i?(x.next=i,i=x):(i=x,s=x,u.saturated()):(o++,e.call(t,x.value,x.worked))}function w(O){O&&n.release(O);var M=i;M&&o<=r?u.paused?o--:(s===i&&(s=null),i=M.next,M.next=null,e.call(t,M.value,M.worked),s===null&&u.empty()):--o===0&&u.drain()}function S(){i=null,s=null,u.drain=ao}function E(){i=null,s=null,u.drain(),u.drain=ao}function b(O){a=O}}function ao(){}function U7e(){this.value=null,this.callback=ao,this.next=null,this.release=ao,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var i=t.callback,s=t.errorHandler,o=t.value;t.value=null,t.callback=ao,t.errorHandler&&s(r,o),i.call(t.context,r,n),t.release(t)}}function j7e(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(f,d){e.call(this,f).then(function(h){d(null,h)},d)}var i=Ate(t,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i.drained=c,i;function a(f){var d=new Promise(function(h,p){s(f,function(m,g){if(m){p(m);return}h(g)})});return d.catch(ao),d}function u(f){var d=new Promise(function(h,p){o(f,function(m,g){if(m){p(m);return}h(g)})});return d.catch(ao),d}function c(){var f=new Promise(function(d){process.nextTick(function(){if(i.idle())d();else{var h=i.drain;i.drain=function(){typeof h=="function"&&h(),d(),i.drain=h}}})});return f}}yq.exports=Ate;yq.exports.promise=j7e});var vq=v((yxr,hC)=>{"use strict";var{format:B7e}=require("node:util");function H7e(){return`${this.name} [${this.code}]: ${this.message}`}function _q(t,e,r=500,n=Error){if(!t)throw new Error("Fastify error code must not be empty");if(!e)throw new Error("Fastify error message must not be empty");t=t.toUpperCase(),!r&&(r=void 0);function i(...s){if(!new.target)return new i(...s);this.code=t,this.name="FastifyError",this.statusCode=r;let o=s.length-1;o!==-1&&s[o]&&typeof s[o]=="object"&&"cause"in s[o]&&(this.cause=s.pop().cause),this.message=B7e(e,...s),Error.stackTraceLimit!==0&&Error.captureStackTrace(this,i)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),i.prototype[Symbol.toStringTag]="Error",i.prototype.toString=H7e,i}hC.exports=_q;hC.exports.default=_q;hC.exports.createError=_q});var pC=v((_xr,Ite)=>{"use strict";var{createError:sl}=vq();Ite.exports={AVV_ERR_EXPOSE_ALREADY_DEFINED:sl("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' is already defined, specify an expose option for '%s'"),AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:sl("AVV_ERR_ATTRIBUTE_ALREADY_DEFINED","'%s' is already defined"),AVV_ERR_CALLBACK_NOT_FN:sl("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:sl("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:sl("AVV_ERR_ROOT_PLG_BOOTED","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:sl("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:sl("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise"),AVV_ERR_PLUGIN_EXEC_TIMEOUT:sl("AVV_ERR_PLUGIN_EXEC_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}});var Tm=v((vxr,Ote)=>{"use strict";var z7e=Symbol("avvio.Boot"),V7e=Symbol("isOnCloseHandler"),W7e=Symbol("avvio.ThenifyDoNotWrap"),G7e=Symbol("avvio.TimeTree.untrackNode"),K7e=Symbol("avvio.TimeTree.trackNode"),X7e=Symbol("avvio.TimeTree.getParent"),J7e=Symbol("avvio.TimeTree.getNode"),Z7e=Symbol("avvio.TimeTree.addNode"),Y7e=Symbol.for("plugin-meta");Ote.exports={kAvvio:z7e,kIsOnCloseHandler:V7e,kThenifyDoNotWrap:W7e,kUntrackNode:G7e,kTrackNode:K7e,kGetParent:X7e,kGetNode:J7e,kAddNode:Z7e,kPluginMeta:Y7e}});var qte=v((wxr,Mte)=>{"use strict";var{kUntrackNode:kte,kTrackNode:wq,kGetParent:Nte,kGetNode:Dte,kAddNode:Fte}=Tm(),bq=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[wq](e){this.tableId.set(e.id,e),this.tableLabel.has(e.label)?this.tableLabel.get(e.label).push(e):this.tableLabel.set(e.label,[e])}[kte](e){this.tableId.delete(e.id);let r=this.tableLabel.get(e.label);r.pop(),r.length===0&&this.tableLabel.delete(e.label)}[Nte](e){if(e===null)return null;if(this.tableLabel.has(e)){let r=this.tableLabel.get(e);return r[r.length-1]}else return null}[Dte](e){return this.tableId.get(e)}[Fte](e,r,n){let i=this[Nte](e);if(i===null)return this.root={parent:null,id:"root",label:r,nodes:[],start:n,stop:null,diff:-1},this[wq](this.root),this.root.id;let o=`${r}-${Math.random()}`,a={parent:e,id:o,label:r,nodes:[],start:n,stop:null,diff:-1};return i.nodes.push(a),this[wq](a),o}start(e,r,n=Date.now()){return this[Fte](e,r,n)}stop(e,r=Date.now()){let n=this[Dte](e);n&&(n.stop=r,n.diff=n.stop-n.start||0,this[kte](n))}toJSON(){return Object.assign({},this.root)}prettyPrint(){return Lte(this.toJSON())}};function Lte(t,e=""){let r=e,n=t.nodes.length,i=n-1;r+=`${t.label} ${t.diff} ms
`;for(let s=0;s<n;++s){let o=t.nodes[s],a=e+(s===i?"  ":"\u2502 ");r+=e,r+=s===i?"\u2514\u2500":"\u251C\u2500",r+=o.nodes.length===0?"\u2500 ":"\u252C ",r+=Lte(o,a).slice(e.length+2)}return r}Mte.exports={TimeTree:bq}});var mC=v((bxr,$te)=>{"use strict";var{debuglog:Q7e}=require("node:util"),eKe=Q7e("avvio");$te.exports={debug:eKe}});var jte=v((Exr,Ute)=>{"use strict";function tKe(){let t={resolve:null,reject:null,promise:null};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}Ute.exports={createPromise:tKe}});var Hte=v((Sxr,Bte)=>{"use strict";var{kPluginMeta:Eq}=Tm();function rKe(t,e){return t[Eq]&&t[Eq].name?t[Eq].name:e&&e.name?e.name:t.name?t.name:t.toString().split(`
`).slice(0,2).map(r=>r.trim()).join(" -- ")}Bte.exports={getPluginName:rKe}});var gC=v((Txr,zte)=>{"use strict";function nKe(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}zte.exports={isPromiseLike:nKe}});var Wte=v((Cxr,Vte)=>{"use strict";var{EventEmitter:iKe}=require("node:events"),{inherits:sKe}=require("node:util"),{debug:ti}=mC(),{createPromise:oKe}=jte(),{AVV_ERR_PLUGIN_EXEC_TIMEOUT:aKe}=pC(),{getPluginName:uKe}=Hte(),{isPromiseLike:cKe}=gC();function Cm(t,e,r,n,i){this.queue=t,this.func=e,this.options=r,this.isAfter=n,this.timeout=i,this.started=!1,this.name=uKe(e,r),this.queue.pause(),this._error=null,this.loaded=!1,this._promise=null,this.startTime=null}sKe(Cm,iKe);Cm.prototype.exec=function(t,e){ti("exec",this.name),this.server=t;let r=this.func,n=this.name,i=!1;this.options=typeof this.options=="function"?this.options(this.server):this.options;let s=null,o=u=>{if(i){ti("loading complete",n);return}this._error=u,ti(u?"exec errored":"exec completed",n),i=!0,s&&clearTimeout(s),e(u)};this.timeout>0&&(ti("setting up timeout",n,this.timeout),s=setTimeout(function(){ti("timed out",n),s=null;let u=new aKe(n);u.fn=r,o(u)},this.timeout)),this.started=!0,this.startTime=Date.now(),this.emit("start",this.server?this.server.name:null,this.name,Date.now());let a=r(this.server,this.options,o);cKe(a)&&(ti("exec: resolving promise",n),a.then(()=>process.nextTick(o),u=>process.nextTick(o,u)))};Cm.prototype.loadedSoFar=function(){if(ti("loadedSoFar",this.name),this.loaded)return Promise.resolve();let t=()=>{this.server.after((r,n)=>{this._error=r,this.queue.pause(),this._promise&&(r?(ti("rejecting promise",this.name,r),this._promise.reject(r)):(ti("resolving promise",this.name),this._promise.resolve()),this._promise=null),process.nextTick(n,r)}),this.queue.resume()},e;return this._promise?e=Promise.resolve():(this._promise=oKe(),e=this._promise.promise,this.server?t():this.on("start",t)),e};Cm.prototype.enqueue=function(t,e){ti("enqueue",this.name,t.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.queue.push(t,e)};Cm.prototype.finish=function(t,e){ti("finish",this.name,t);let r=()=>{this.loaded||(ti("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,e(t))};if(t){this._promise&&(this._promise.reject(t),this._promise=null),r();return}let n=()=>{if(ti("check",this.name,this.queue.length(),this.queue.running(),this._promise),this.queue.length()===0&&this.queue.running()===0)if(this._promise){let i=()=>{ti("wrap"),queueMicrotask(n)};this._promise.resolve(),this._promise.promise.then(i,i),this._promise=null}else r();else ti("delayed",this.name),this.queue.drain=()=>{ti("drain",this.name),this.queue.drain=lKe,queueMicrotask(n)}};queueMicrotask(n),this.queue.resume()};function lKe(){}Vte.exports={Plugin:Cm}});var Kte=v((xxr,Gte)=>{"use strict";var{AVV_ERR_PLUGIN_NOT_VALID:Sq}=pC();function fKe(t){if(!(t&&(typeof t=="function"||typeof t.then=="function")))throw Array.isArray(t)?new Sq("array"):t===null?new Sq("null"):new Sq(typeof t)}Gte.exports={validatePlugin:fKe}});var Jte=v((Rxr,Xte)=>{"use strict";function dKe(t){return t!==null&&typeof t=="object"&&typeof t.default=="function"}Xte.exports={isBundledOrTypescriptPlugin:dKe}});var Qte=v((Axr,Yte)=>{"use strict";var{debug:Zte}=mC(),{kThenifyDoNotWrap:Tq}=Tm();function hKe(){if(this.booted){Zte("thenify returning undefined because we are already booted");return}if(this[Tq]){this[Tq]=!1;return}return Zte("thenify"),(t,e)=>this._loadRegistered().then(()=>(this[Tq]=!0,t(this._server)),e)}Yte.exports={thenify:hKe}});var tre=v((Pxr,ere)=>{"use strict";var{isPromiseLike:pKe}=gC(),{kAvvio:mKe}=Tm();function gKe(t,e,r){let n=t.apply(t,e);pKe(n)&&!n[mKe]?n.then(()=>process.nextTick(r),i=>process.nextTick(r,i)):r&&process.nextTick(r)}ere.exports={executeWithThenable:gKe}});var cre=v((Ixr,xq)=>{"use strict";var yC=Pte(),yKe=require("node:events").EventEmitter,_Ke=require("node:util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:Y0,AVV_ERR_CALLBACK_NOT_FN:xm,AVV_ERR_ROOT_PLG_BOOTED:vKe,AVV_ERR_READY_TIMEOUT:wKe,AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:bKe}=pC(),{kAvvio:ire,kIsOnCloseHandler:sre}=Tm(),{TimeTree:EKe}=qte(),{Plugin:ore}=Wte(),{debug:Rm}=mC(),{validatePlugin:SKe}=Kte(),{isBundledOrTypescriptPlugin:TKe}=Jte(),{isPromiseLike:CKe}=gC(),{thenify:are}=Qte(),{executeWithThenable:rre}=tre();function wn(t,e,r){if(typeof t=="function"&&arguments.length===1&&(r=t,e={},t=null),typeof e=="function"&&(r=e,e={}),e=e||{},e.autostart=e.autostart!==!1,e.timeout=Number(e.timeout)||0,e.expose=e.expose||{},!new.target)return new wn(t,e,r);this._server=t||this,this._opts=e,t&&this._expose(),this._current=[],this._error=null,this._lastUsed=null,this.setMaxListeners(0),r&&this.once("start",r),this.started=!1,this.booted=!1,this.pluginTree=new EKe,this._readyQ=yC(this,ure,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=nre},this._closeQ=yC(this,RKe,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=nre},this._doStart=null;let n=this;this._root=new ore(yC(this,this._loadPluginNextTick,1),function(s,o,a){n._doStart=a,o.autostart&&n.start()},e,!1,0),this._trackPluginLoading(this._root),this._loadPlugin(this._root,i=>{Rm("root plugin ready");try{this.emit("preReady"),this._root=null}catch(s){i=i||this._error||s}if(i){if(this._error=i,this._readyQ.length()===0)throw i}else this.booted=!0;this._readyQ.resume()})}_Ke(wn,yKe);wn.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};wn.prototype.override=function(t,e,r){return t};wn.prototype[ire]=!0;wn.prototype.use=function(t,e){return this._lastUsed=this._addPlugin(t,e,!1),this};wn.prototype._loadRegistered=function(){let t=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.queue.resume()),t?t.loadedSoFar():Promise.resolve()};Object.defineProperty(wn.prototype,"then",{get:are});wn.prototype._addPlugin=function(t,e,r){if(TKe(t)&&(t=t.default),SKe(t),e=e||{},this.booted)throw new vKe;let n=this._current[0],i=this._opts.timeout;if(!n.loaded&&n.timeout>0){let o=Date.now()-n.startTime;i=n.timeout-(o+3)}let s=new ore(yC(this,this._loadPluginNextTick,1),t,e,r,i);if(this._trackPluginLoading(s),n.loaded)throw new Error(s.name,n.name);return n.enqueue(s,o=>{o&&(this._error=o)}),s};wn.prototype._expose=function(){let e=this,r=e._server,{use:n="use",after:i="after",ready:s="ready",onClose:o="onClose",close:a="close"}=this._opts.expose;if(r[n])throw new Y0(n,"use");if(r[n]=function(u,c){return e.use(u,c),this},r[i])throw new Y0(i,"after");if(r[i]=function(u){return typeof u!="function"?e._loadRegistered():(e.after(Cq(u,this)),this)},r[s])throw new Y0(s,"ready");if(r[s]=function(u){if(u&&typeof u!="function")throw new xm(s,typeof u);return e.ready(u?Cq(u,this):void 0)},r[o])throw new Y0(o,"onClose");if(r[o]=function(u){if(typeof u!="function")throw new xm(o,typeof u);return e.onClose(AKe(u,this)),this},r[a])throw new Y0(a,"close");if(r[a]=function(u){if(u&&typeof u!="function")throw new xm(a,typeof u);return u?(e.close(Cq(u,this)),this):e.close()},r.then)throw new bKe("then");Object.defineProperty(r,"then",{get:are.bind(e)}),r[ire]=!0};wn.prototype.after=function(t){if(!t)return this._loadRegistered();this._addPlugin(e.bind(this),{},!0);function e(r,n,i){ure.call(this,t,i)}return this};wn.prototype.onClose=function(t){if(typeof t!="function")throw new xm("onClose",typeof t);return t[sre]=!0,this._closeQ.unshift(t,e=>{e&&(this._error=e)}),this};wn.prototype.close=function(t){let e;if(t){if(typeof t!="function")throw new xm("close",typeof t)}else e=new Promise(function(r,n){t=function(i){if(i)return n(i);r()}});return this.ready(()=>{this._error=null,this._closeQ.push(t),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),e};wn.prototype.ready=function(t){if(t){if(typeof t!="function")throw new xm("ready",typeof t);this._readyQ.push(t),queueMicrotask(this.start.bind(this));return}return new Promise((e,r)=>{this._readyQ.push(i),this.start();let n=this._current[0].server;function i(s,o,a){s?r(s):e(n),process.nextTick(a)}})};wn.prototype._trackPluginLoading=function(t){let e=this._current[0]?.name||null;t.once("start",(r,n,i)=>{let s=this.pluginTree.start(e||null,n,i);t.once("loaded",(o,a,u)=>{this.pluginTree.stop(s,u)})})};wn.prototype.prettyPrint=function(){return this.pluginTree.prettyPrint()};wn.prototype.toJSON=function(){return this.pluginTree.toJSON()};wn.prototype._loadPlugin=function(t,e){let r=this;if(CKe(t.func)){t.func.then(o=>{typeof o.default=="function"&&(o=o.default),t.func=o,this._loadPlugin(t,e)},e);return}let n=r._current[0];if(r._current.unshift(t),r._error&&!t.isAfter){Rm("skipping loading of plugin as instance errored and it is not an after",t.name),process.nextTick(s);return}let i=n&&n.server||r._server;if(!t.isAfter)try{i=r.override(i,t.func,t.options)}catch(o){return Rm("override errored",t.name),s(o)}t.exec(i,s);function s(o){t.finish(o,a=>{r._current.shift(),e(a)})}};wn.prototype._loadPluginNextTick=function(t,e){process.nextTick(this._loadPlugin.bind(this),t,e)};function nre(){}function ure(t,e){let r=this._server,n=this._error;if(this._error=null,t.length===0)this._error=n,rre(t,[],e);else if(t.length===1)rre(t,[n],e);else if(this._opts.timeout===0){let i=s=>{this._error=s,e(this._error)};t.length===2?t(n,i):t(n,r,i)}else xKe.call(this,t,n,r,e)}function xKe(t,e,r,n){let i=t.unwrappedName??t.name;Rm("setting up ready timeout",i,this._opts.timeout);let s=setTimeout(()=>{Rm("timed out",i),s=null;let a=new wKe(i);a.fn=t,this._error=a,n(a)},this._opts.timeout);t.length===2?t(e,o.bind(this)):t(e,r,o.bind(this));function o(a){s&&(clearTimeout(s),this._error=a,n(this._error))}}function RKe(t,e){let r=this._server,n=t[sre];if(t.length===0||t.length===1){let i;n?i=t(r):i=t(this._error),i&&typeof i.then=="function"?(Rm("resolving close/onClose promise"),i.then(()=>process.nextTick(e),s=>process.nextTick(e,s))):process.nextTick(e)}else t.length===2?t(n?r:this._error,e):n?t(r,e):t(this._error,r,e)}function AKe(t,e){return r.bind(e);function r(n,i){let s;t.length===0?(s=t(),s&&s.then?s.then(function(){process.nextTick(i)},i):process.nextTick(i)):t.length===1?(s=t(this),s&&s.then?s.then(function(){process.nextTick(i)},i):process.nextTick(i)):t(this,i)}}function Cq(t,e){let r=n.bind(e);return r.unwrappedName=t.name,r;function n(i,s){let o;t?t.length===0?(o=t(),o&&o.then?o.then(function(){process.nextTick(s,i)},s):process.nextTick(s,i)):t.length===1?(o=t(i),o&&o.then?o.then(function(){process.nextTick(s)},s):process.nextTick(s)):t.length===2?t(i,s):t(i,this,s):process.nextTick(s)}}xq.exports=wn;xq.exports.express=function(t){return wn(t,{expose:{use:"load"}})}});var Hn=v((Oxr,lre)=>{"use strict";var PKe={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kPublicRouteContext:Symbol("fastify.routeOptions"),kGenReqId:Symbol("fastify.genReqId"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kRequestCacheValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestOriginalUrl:Symbol("fastify.request.originalUrl"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplyCacheSerializeFns:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kChildLoggerFactory:Symbol("fastify.childLoggerFactory"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};lre.exports=PKe});var Pq=v((kxr,_C)=>{"use strict";var{format:Rq}=require("node:util");function IKe(t){return fre({...t,name:"DeprecationWarning"})}function fre({name:t,code:e,message:r,unlimited:n=!1}={}){if(!t)throw new Error("Warning name must not be empty");if(!e)throw new Error("Warning code must not be empty");if(!r)throw new Error("Warning message must not be empty");if(typeof n!="boolean")throw new Error("Warning opts.unlimited must be a boolean");e=e.toUpperCase();let i={[t]:function(o,a,u){s.emitted===!0&&s.unlimited!==!0||(s.emitted=!0,process.emitWarning(s.format(o,a,u),s.name,s.code))}};n&&(i={[t]:function(o,a,u){s.emitted=!0,process.emitWarning(s.format(o,a,u),s.name,s.code)}});let s=i[t];return s.emitted=!1,s.message=r,s.unlimited=n,s.code=e,s.format=function(o,a,u){let c;return o&&a&&u?c=Rq(r,o,a,u):o&&a?c=Rq(r,o,a):o?c=Rq(r,o):c=r,c},s}var Aq={createWarning:fre,createDeprecation:IKe};_C.exports=Aq;_C.exports.default=Aq;_C.exports.processWarning=Aq});var La=v((Nxr,hre)=>{"use strict";var{createDeprecation:zn,createWarning:dre}=Pq(),OKe=zn({code:"FSTDEP005",message:'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.'}),kKe=zn({code:"FSTDEP006",message:"You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s"}),NKe=zn({code:"FSTDEP007",message:'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.'}),DKe=zn({code:"FSTDEP008",message:'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.'}),FKe=zn({code:"FSTDEP009",message:'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.'}),LKe=zn({code:"FSTDEP010",message:'Modifying the "reply.sent" property is deprecated. Use the "reply.hijack()" method instead.'}),MKe=zn({code:"FSTDEP011",message:'Variadic listen method is deprecated. Please use ".listen(optionsObject)" instead. The variadic signature will be removed in `fastify@5`.'}),qKe=zn({code:"FSTDEP012",message:'request.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "request.context" will be removed in `fastify@5`.'}),$Ke=zn({code:"FSTDEP013",message:'Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.'}),UKe=zn({code:"FSTDEP014",message:"You are trying to set/access the default route. This property is deprecated. Please, use setNotFoundHandler if you want to custom a 404 handler or the wildcard (*) to match all routes."}),jKe=zn({code:"FSTDEP015",message:'You are accessing the deprecated "request.routeSchema" property. Use "request.routeOptions.schema" instead. Property "req.routeSchema" will be removed in `fastify@5`.'}),BKe=zn({code:"FSTDEP016",message:'You are accessing the deprecated "request.routeConfig" property. Use "request.routeOptions.config" instead. Property "req.routeConfig" will be removed in `fastify@5`.'}),HKe=zn({code:"FSTDEP017",message:'You are accessing the deprecated "request.routerPath" property. Use "request.routeOptions.url" instead. Property "req.routerPath" will be removed in `fastify@5`.'}),zKe=zn({code:"FSTDEP018",message:'You are accessing the deprecated "request.routerMethod" property. Use "request.routeOptions.method" instead. Property "req.routerMethod" will be removed in `fastify@5`.'}),VKe=zn({code:"FSTDEP019",message:'reply.context property access is deprecated. Please use "request.routeOptions.config" or "request.routeOptions.schema" instead for accessing Route settings. The "reply.context" will be removed in `fastify@5`.'}),WKe=zn({code:"FSTDEP020",message:'You are using the deprecated "reply.getResponseTime()" method. Use the "reply.elapsedTime" property instead. Method "reply.getResponseTime()" will be removed in `fastify@5`.'}),GKe=zn({code:"FSTDEP021",message:"The `reply.redirect()` method has a new signature: `reply.redirect(url: string, code?: number)`. It will be enforced in `fastify@v5`"}),KKe=zn({code:"FSTDEP021",message:"You are using the deprecated json shorthand schema on route %s. Specify full object schema instead. It will be removed in `fastify@v5`"}),XKe=dre({name:"FastifyWarning",code:"FSTWRN001",message:"The %s schema for %s: %s is missing. This may indicate the schema is not well specified.",unlimited:!0}),JKe=dre({name:"FastifyWarning",code:"FSTWRN002",message:"The %s plugin being registered mixes async and callback styles, which will result in an error in `fastify@5`",unlimited:!0});hre.exports={FSTDEP005:OKe,FSTDEP006:kKe,FSTDEP007:NKe,FSTDEP008:DKe,FSTDEP009:FKe,FSTDEP010:LKe,FSTDEP011:MKe,FSTDEP012:qKe,FSTDEP013:$Ke,FSTDEP014:UKe,FSTDEP015:jKe,FSTDEP016:BKe,FSTDEP017:HKe,FSTDEP018:zKe,FSTDEP019:VKe,FSTDEP020:WKe,FSTDEP021:GKe,FSTDEP022:KKe,FSTWRN001:XKe,FSTWRN002:JKe}});var vi=v((Dxr,vC)=>{"use strict";var Le=vq(),Od={FST_ERR_NOT_FOUND:Le("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_OPTIONS_NOT_OBJ:Le("FST_ERR_OPTIONS_NOT_OBJ","Options must be an object",500,TypeError),FST_ERR_QSP_NOT_FN:Le("FST_ERR_QSP_NOT_FN","querystringParser option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:Le("FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN","schemaController.bucket option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:Le("FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN","schemaErrorFormatter option should be a non async function. Instead got '%s'.",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:Le("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ","ajv.customOptions option should be an object, instead got '%s'",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:Le("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR","ajv.plugins option should be an array, instead got '%s'",500,TypeError),FST_ERR_VERSION_CONSTRAINT_NOT_STR:Le("FST_ERR_VERSION_CONSTRAINT_NOT_STR","Version constraint should be a string.",500,TypeError),FST_ERR_VALIDATION:Le("FST_ERR_VALIDATION","%s",400),FST_ERR_LISTEN_OPTIONS_INVALID:Le("FST_ERR_LISTEN_OPTIONS_INVALID","Invalid listen options: '%s'",500,TypeError),FST_ERR_ERROR_HANDLER_NOT_FN:Le("FST_ERR_ERROR_HANDLER_NOT_FN","Error Handler must be a function",500,TypeError),FST_ERR_CTP_ALREADY_PRESENT:Le("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:Le("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:Le("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:Le("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:Le("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:Le("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:Le("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:Le("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:Le("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_CTP_INSTANCE_ALREADY_STARTED:Le("FST_ERR_CTP_INSTANCE_ALREADY_STARTED",'Cannot call "%s" when fastify instance is already started!',400),FST_ERR_DEC_ALREADY_PRESENT:Le("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:Le("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array.",500,TypeError),FST_ERR_DEC_MISSING_DEPENDENCY:Le("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:Le("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:Le("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:Le("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:Le("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_HOOK_NOT_SUPPORTED:Le("FST_ERR_HOOK_NOT_SUPPORTED","%s hook not supported!",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:Le("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.dev/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:Le("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:Le("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_LOG_INVALID_LOGGER:Le("FST_ERR_LOG_INVALID_LOGGER","Invalid logger object provided. The logger instance should have these functions(s): '%s'.",500,TypeError),FST_ERR_REP_INVALID_PAYLOAD_TYPE:Le("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_RESPONSE_BODY_CONSUMED:Le("FST_ERR_REP_RESPONSE_BODY_CONSUMED","Response.body is already consumed."),FST_ERR_REP_ALREADY_SENT:Le("FST_ERR_REP_ALREADY_SENT",'Reply was already sent, did you forget to "return reply" in "%s" (%s)?'),FST_ERR_REP_SENT_VALUE:Le("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true.",500,TypeError),FST_ERR_SEND_INSIDE_ONERR:Le("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:Le("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:Le("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:Le("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:Le("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_FAILED_ERROR_SERIALIZATION:Le("FST_ERR_FAILED_ERROR_SERIALIZATION","Failed to serialize an error. Error: %s. Original error: %s"),FST_ERR_MISSING_SERIALIZATION_FN:Le("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:Le("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:Le("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:Le("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:Le("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:Le("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:Le("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:Le("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:Le("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:Le("FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX",'response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }'),FST_ERR_HTTP2_INVALID_VERSION:Le("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:Le("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:Le("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:Le("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:Le("FST_ERR_BAD_URL","'%s' is not a valid url component",400,URIError),FST_ERR_ASYNC_CONSTRAINT:Le("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:Le("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_INVALID_URL:Le("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400,TypeError),FST_ERR_ROUTE_OPTIONS_NOT_OBJ:Le("FST_ERR_ROUTE_OPTIONS_NOT_OBJ",'Options for "%s:%s" route must be an object',500,TypeError),FST_ERR_ROUTE_DUPLICATED_HANDLER:Le("FST_ERR_ROUTE_DUPLICATED_HANDLER",'Duplicate handler for "%s:%s" route is not allowed!',500),FST_ERR_ROUTE_HANDLER_NOT_FN:Le("FST_ERR_ROUTE_HANDLER_NOT_FN","Error Handler for %s:%s route, if defined, must be a function",500,TypeError),FST_ERR_ROUTE_MISSING_HANDLER:Le("FST_ERR_ROUTE_MISSING_HANDLER",'Missing handler function for "%s:%s" route.',500),FST_ERR_ROUTE_METHOD_INVALID:Le("FST_ERR_ROUTE_METHOD_INVALID","Provided method is invalid!",500,TypeError),FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:Le("FST_ERR_ROUTE_METHOD_NOT_SUPPORTED","%s method is not supported.",500),FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:Le("FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED","Body validation schema for %s:%s route is not supported!",500),FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:Le("FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT","'bodyLimit' option must be an integer > 0. Got '%s'",500,TypeError),FST_ERR_ROUTE_REWRITE_NOT_STR:Le("FST_ERR_ROUTE_REWRITE_NOT_STR",'Rewrite url for "%s" needs to be of type "string" but received "%s"',500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:Le("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:Le("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_INSTANCE_ALREADY_LISTENING:Le("FST_ERR_INSTANCE_ALREADY_LISTENING","Fastify instance is already listening. %s"),FST_ERR_PLUGIN_VERSION_MISMATCH:Le("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:Le("FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE","The decorator '%s'%s is not present in %s"),FST_ERR_PLUGIN_CALLBACK_NOT_FN:Le("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s",500,TypeError),FST_ERR_PLUGIN_NOT_VALID:Le("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:Le("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:Le("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:Le("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function ZKe(t,e){return e.cause=t,e}vC.exports=Od;vC.exports.appendStackTrace=ZKe;vC.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:Od.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:Od.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:Od.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:Od.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:Od.FST_ERR_PLUGIN_TIMEOUT,AVV_ERR_PLUGIN_EXEC_TIMEOUT:Od.FST_ERR_PLUGIN_TIMEOUT}});var ol=v((Fxr,Ere)=>{"use strict";var YKe=["onRoute","onRegister","onReady","onListen","preClose","onClose"],yre=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError","onRequestAbort"],QKe=yre.concat(YKe),{FST_ERR_HOOK_INVALID_TYPE:eXe,FST_ERR_HOOK_INVALID_HANDLER:tXe,FST_ERR_SEND_UNDEFINED_ERR:wC,FST_ERR_HOOK_TIMEOUT:rXe,FST_ERR_HOOK_NOT_SUPPORTED:nXe,AVVIO_ERRORS_MAP:pre,appendStackTrace:mre}=vi(),{kChildren:Q0,kHooks:_re,kRequestPayloadStream:gre}=Hn();function ev(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onListen=[],this.onTimeout=[],this.onRequestAbort=[],this.preClose=[]}ev.prototype=Object.create(null);ev.prototype.validate=function(t,e){if(typeof t!="string")throw new eXe;if(Array.isArray(this[t])===!1)throw new nXe(t);if(typeof e!="function")throw new tXe(t,Object.prototype.toString.call(e))};ev.prototype.add=function(t,e){this.validate(t,e),this[t].push(e)};function iXe(t){let e=new ev;return e.onRequest=t.onRequest.slice(),e.preParsing=t.preParsing.slice(),e.preValidation=t.preValidation.slice(),e.preSerialization=t.preSerialization.slice(),e.preHandler=t.preHandler.slice(),e.onSend=t.onSend.slice(),e.onResponse=t.onResponse.slice(),e.onError=t.onError.slice(),e.onRoute=t.onRoute.slice(),e.onRegister=t.onRegister.slice(),e.onTimeout=t.onTimeout.slice(),e.onRequestAbort=t.onRequestAbort.slice(),e.onReady=[],e.onListen=[],e.preClose=[],e}function vre(t,e,r,n){let i=r[_re][t],s=0,o=0;u();function a(f){if(f){f.code==="AVV_ERR_READY_TIMEOUT"?f=mre(f,new rXe(t)):f=pre[f.code]!=null?mre(f,new pre[f.code](f.message)):f,n(f);return}n()}function u(f){if(f){a(f);return}if(s===i.length&&o===r[Q0].length){s===0&&o===0?a():e(function(h,p){a(h),p(h)});return}if(s===i.length&&o<r[Q0].length){let d=r[Q0][o++];vre(t,e,d,u);return}e(c(i[s++],r)),u()}function c(f,d){return function(h,p){if(h){p(h);return}if(f.length===1){try{f.call(d,p)}catch(m){p(m)}return}try{let m=f.call(d);if(m&&typeof m.then=="function"){m.then(p,p);return}}catch(m){h=m}p(h)}}}function wre(t){let e=t[_re].onListen,r=e.length,n=0,i=0;s();function s(a){if(a&&t.log.error(a),n===r){for(;i<t[Q0].length;){let u=t[Q0][i++];wre(u)}return}o(e[n++],t,s)}async function o(a,u,c){if(a.length===1){try{a.call(u,c)}catch(f){c(f)}return}try{let f=a.call(u);if(f&&typeof f.then=="function"){f.then(c,c);return}c()}catch(f){c(f)}}}function Am(t){return function(r,n,i,s){let o=0;function a(f){if(f||o===r.length){s(f,n,i);return}let d;try{d=t(r[o++],n,i,a)}catch(h){s(h,n,i);return}d&&typeof d.then=="function"&&d.then(u,c)}function u(){a()}function c(f){f||(f=new wC),s(f,n,i)}a()}}function sXe(t,e,r,n){return t(e,r,n)}var oXe=Am(sXe),aXe=Am(tv),uXe=Am(tv),cXe=Am(tv),lXe=Am(tv);function bre(t,e,r,n,i){let s=0;function o(c,f){if(c){i(c,e,r,n);return}if(f!==void 0&&(n=f),s===t.length){i(null,e,r,n);return}let d;try{d=t[s++](e,r,n,o)}catch(h){i(h,e,r);return}d&&typeof d.then=="function"&&d.then(a,u)}function a(c){o(null,c)}function u(c){c||(c=new wC),i(c,e,r,n)}o()}var fXe=bre;function dXe(t,e,r,n){let i=0;function s(u,c){if(r.sent)return;if(c!==void 0&&(e[gre]=c),u||i===t.length){n(u,e,r);return}let f;try{f=t[i++](e,r,e[gre],s)}catch(d){n(d,e,r);return}f&&typeof f.then=="function"&&f.then(o,a)}function o(u){s(null,u)}function a(u){u||(u=new wC),n(u,e,r)}s()}function hXe(t,e,r){let n=0;function i(a){if(a||n===t.length){r(a,e);return}let u;try{u=t[n++](e,i)}catch(c){r(c,e);return}u&&typeof u.then=="function"&&u.then(s,o)}function s(){i()}function o(a){a||(a=new wC),r(a,e)}i()}function tv(t,e,r,n){if(r.sent!==!0)return t(e,r,n)}Ere.exports={Hooks:ev,buildHooks:iXe,hookRunnerGenerator:Am,preParsingHookRunner:dXe,onResponseHookRunner:oXe,onSendHookRunner:bre,preSerializationHookRunner:fXe,onRequestAbortHookRunner:hXe,hookIterator:tv,hookRunnerApplication:vre,onListenHookRunner:wre,preHandlerHookRunner:uXe,preValidationHookRunner:aXe,onRequestHookRunner:lXe,onTimeoutHookRunner:cXe,lifecycleHooks:yre,supportedHooks:QKe}});var kre=v((Lxr,Oq)=>{"use strict";var pXe=require("node:http"),mXe=require("node:https"),gXe=require("node:dns"),{FSTDEP011:Sre}=La(),{kState:wi,kOptions:yXe,kServerBindings:_Xe}=Hn(),{onListenHookRunner:bC}=ol(),{FST_ERR_HTTP2_INVALID_VERSION:vXe,FST_ERR_REOPENED_CLOSE_SERVER:xre,FST_ERR_REOPENED_SERVER:Rre,FST_ERR_LISTEN_OPTIONS_INVALID:wXe}=vi();Oq.exports.createServer=bXe;Oq.exports.compileValidateHTTPVersion=SXe;function Are(t){return`Server listening at ${t}`}function bXe(t,e){let r=Ire(t,e);function n(i,...s){let o=s.slice(-1).pop(),a=Object.prototype.toString.call(arguments[0]);if(arguments.length===0)i=Iq([]);else if(arguments.length>0&&a!=="[object Object]"&&a!=="[object Function]")Sre(),i=Iq(Array.from(arguments)),o=i.cb;else if(s.length>1){Sre();let c=i.path?[i.path]:[i.port??0,i.host??"localhost"];Object.assign(i,Iq([...c,...s]))}else i.cb=o;if(i.signal){if(typeof i.signal.on!="function"&&typeof i.signal.addEventListener!="function")throw new wXe("Invalid options.signal");if(i.signal.aborted)this.close();else{let c=()=>{this.close()};i.signal.addEventListener("abort",c,{once:!0})}}let u;if(i.path==null?u=i.host??"localhost":u=i.host,(Object.prototype.hasOwnProperty.call(i,"host")===!1||i.host==null)&&(i.host=u),u==="localhost"?i.cb=(c,f)=>{if(c){o(c,f);return}Tre.call(this,r,e,t,i,()=>{this[wi].listening=!0,o(null,f),bC(this)})}:i.cb=(c,f)=>{if(c){o(c,f);return}this[wi].listening=!0,o(null,f),bC(this)},o===void 0)return EXe.call(this,r,i).then(f=>new Promise((d,h)=>{u==="localhost"?Tre.call(this,r,e,t,i,()=>{this[wi].listening=!0,d(f),bC(this)}):(d(f),bC(this))}));this.ready(Pre.call(this,r,i))}return{server:r,listen:n}}function Tre(t,e,r,n,i){this[wi].listening=!1,gXe.lookup(n.host,{all:!0},(s,o)=>{if(s){i();return}let a=t.listening&&r.serverFactory,u=0,c=0;if(!a){let d=t.address();for(let h of o)if(h.address!==d.address){u++;let p=Object.assign({},n,{host:h.address,port:d.port,cb:y=>{c++,y||this[_Xe].push(m),c===u&&i()}}),m=Ire(r,e),g=()=>{m.close(()=>{}),r.forceCloseConnections==="idle"?m.closeIdleConnections():typeof m.closeAllConnections=="function"&&r.forceCloseConnections&&m.closeAllConnections()};m.on("upgrade",t.emit.bind(t,"upgrade")),t.on("unref",g),t.on("close",g),t.on("error",g),this[wi].listening=!1,Pre.call(this,m,p)()}}if(u===0){i();return}let f=t.unref;t.unref=function(){f.call(t),t.emit("unref")}})}function Pre(t,e){let r=n=>{if(t.removeListener("error",r),t.removeListener("listening",r),n)this[wi].listening=!1,e.cb(n,null);else{let i=Ore.call(this,t,e.listenTextResolver||Are);e.cb(null,i)}};return n=>{if(n!=null)return e.cb(n);if(this[wi].listening&&this[wi].closing)return e.cb(new xre,null);if(this[wi].listening)return e.cb(new Rre,null);t.once("error",r),this[wi].closing||(t.once("listening",r),t.listen(e),this[wi].listening=!0)}}function EXe(t,e){return this[wi].listening&&this[wi].closing?Promise.reject(new xre):this[wi].listening?Promise.reject(new Rre):this.ready().then(()=>{let r,n;function i(){t.removeListener("error",r),t.removeListener("listening",n)}let s=new Promise((a,u)=>{r=c=>{i(),this[wi].listening=!1,u(c)},t.once("error",r)}),o=new Promise((a,u)=>{n=()=>{i(),this[wi].listening=!0,a(Ore.call(this,t,e.listenTextResolver||Are))},t.once("listening",n)});return t.listen(e),Promise.race([s,o])})}function SXe(t){let e=!1,r=new Map;return t.serverFactory&&(e=!0),t.http2?(r.set("2.0",!0),t.https&&t.https.allowHTTP1===!0&&(r.set("1.1",!0),r.set("1.0",!0))):(r.set("1.1",!0),r.set("1.0",!0)),function(i){return e||r.has(i)}}function Ire(t,e){let r=null,n=t.https===!0?{}:t.https;return t.serverFactory?r=t.serverFactory(e,t):t.http2?(typeof n=="object"?r=Cre().createSecureServer(n,e):r=Cre().createServer(e),r.on("session",CXe(t.http2SessionTimeout))):(n?r=mXe.createServer(n,e):r=pXe.createServer(t.http,e),r.keepAliveTimeout=t.keepAliveTimeout,r.requestTimeout=t.requestTimeout,t.maxRequestsPerSocket>0&&(r.maxRequestsPerSocket=t.maxRequestsPerSocket)),t.serverFactory||r.setTimeout(t.connectionTimeout),r}function Iq(t){if(t.length===0)return{port:0,host:"localhost"};let r={cb:typeof t[t.length-1]=="function"?t.pop():void 0},n=t[0],i=t.length,s=t[i-1];return typeof n=="string"&&isNaN(n)?(r.path=n,r.backlog=i>1?s:void 0):(r.port=i>=1&&Number.isInteger(n)?n:TXe(n),r.host=i>=2&&t[1]?t[1]:"localhost",r.backlog=i>=3?t[2]:void 0),r}function TXe(t){let e=Number(t);return e>=0&&!Number.isNaN(e)&&Number.isInteger(e)?e:0}function Ore(t,e){let r=t.address(),n=typeof r=="string";n||(r.address.indexOf(":")===-1?r=r.address+":"+r.port:r="["+r.address+"]:"+r.port),r=(n?"":"http"+(this[yXe].https?"s":"")+"://")+r;let i=e(r);return this.log.info(i),r}function Cre(){try{return require("node:http2")}catch{throw new vXe}}function CXe(t){return function(e){e.setTimeout(t,xXe)}}function xXe(){this.close()}});var Dq=v((Mxr,Dre)=>{"use strict";var{kSchemaHeaders:TC,kSchemaParams:kq,kSchemaQuerystring:Nq,kSchemaBody:kd,kSchemaResponse:Nre}=Hn(),RXe=/^[1-5]{1}[0-9]{2}$|^[1-5]xx$|^default$/,{FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:AXe}=vi(),{FSTWRN001:EC}=La();function PXe(t,e){if(!t.schema||!t.schema.response)return;let{method:r,url:n}=t.config||{};t[Nre]=Object.keys(t.schema.response).reduce(function(i,s){let o=t.schema.response[s];if(s=s.toLowerCase(),!RXe.exec(s))throw new AXe;if(o.content){let a={};for(let u of Object.keys(o.content)){let c=o.content[u].schema;a[u]=e({schema:c,url:n,method:r,httpStatus:s,contentType:u})}i[s]=a}else i[s]=e({schema:o,url:n,method:r,httpStatus:s});return i},{})}function IXe(t,e,r){let{schema:n}=t;if(!n)return;let{method:i,url:s}=t.config||{},o=n.headers;if(o&&(r||Object.getPrototypeOf(o)!==Object.prototype))t[TC]=e({schema:o,method:i,url:s,httpPart:"headers"});else if(o){let a={};Object.keys(o).forEach(u=>{a[u]=o[u]}),a.required instanceof Array&&(a.required=a.required.map(u=>u.toLowerCase())),o.properties&&(a.properties={},Object.keys(o.properties).forEach(u=>{a.properties[u.toLowerCase()]=o.properties[u]})),t[TC]=e({schema:a,method:i,url:s,httpPart:"headers"})}else Object.prototype.hasOwnProperty.call(n,"headers")&&EC("headers",i,s);if(n.body){let a=n.body.content;if(a){let u={};for(let c of Object.keys(a)){let f=a[c].schema;u[c]=e({schema:f,method:i,url:s,httpPart:"body",contentType:c})}t[kd]=u}else t[kd]=e({schema:n.body,method:i,url:s,httpPart:"body"})}else Object.prototype.hasOwnProperty.call(n,"body")&&EC("body",i,s);n.querystring?t[Nq]=e({schema:n.querystring,method:i,url:s,httpPart:"querystring"}):Object.prototype.hasOwnProperty.call(n,"querystring")&&EC("querystring",i,s),n.params?t[kq]=e({schema:n.params,method:i,url:s,httpPart:"params"}):Object.prototype.hasOwnProperty.call(n,"params")&&EC("params",i,s)}function SC(t,e,r){let n=e[r]===void 0,i=t&&t(n?null:e[r]);if(i?.then)return i.then(o=>s(o)).catch(o=>o);return s(i);function s(o){return o===!1?t.errors:o&&o.error?o.error:(o&&o.value&&(e[r]=o.value),!1)}}function CC(t,e,r){let n=r===void 0;if(n||!r.skipParams){let s=SC(t[kq],e,"params");if(s)return typeof s.then!="function"?al(s,"params",t.schemaErrorFormatter):OXe(s,t,e)}if(n||!r.skipBody){let s=null;if(typeof t[kd]=="function")s=t[kd];else if(t[kd]){let a=FXe(e.headers["content-type"]),u=t[kd][a];u&&(s=u)}let o=SC(s,e,"body");if(o)return typeof o.then!="function"?al(o,"body",t.schemaErrorFormatter):kXe(o,t,e)}if(n||!r.skipQuery){let s=SC(t[Nq],e,"query");if(s)return typeof s.then!="function"?al(s,"querystring",t.schemaErrorFormatter):NXe(s,t,e)}let i=SC(t[TC],e,"headers");return i?typeof i.then!="function"?al(i,"headers",t.schemaErrorFormatter):DXe(i,t,e):!1}function OXe(t,e,r){return t.then(n=>n?al(n,"params",e.schemaErrorFormatter):CC(e,r,{skipParams:!0}))}function kXe(t,e,r){return t.then(n=>n?al(n,"body",e.schemaErrorFormatter):CC(e,r,{skipParams:!0,skipBody:!0}))}function NXe(t,e,r){return t.then(n=>n?al(n,"querystring",e.schemaErrorFormatter):CC(e,r,{skipParams:!0,skipBody:!0,skipQuery:!0}))}function DXe(t,e,r){return t.then(n=>n?al(n,"headers",e.schemaErrorFormatter):!1)}function al(t,e,r){if(t instanceof Error)return t.statusCode=t.statusCode||400,t.code=t.code||"FST_ERR_VALIDATION",t.validationContext=t.validationContext||e,t;let n=r(t,e);return n.statusCode=n.statusCode||400,n.code=n.code||"FST_ERR_VALIDATION",n.validation=t,n.validationContext=e,n}function FXe(t){return t?t.split(/[ ;]/,1)[0].trim().toLowerCase():""}Dre.exports={symbols:{bodySchema:kd,querystringSchema:Nq,responseSchema:Nre,paramsSchema:kq,headersSchema:TC},compileSchemasForValidation:IXe,compileSchemasForSerialization:PXe,validate:CC}});var Fq=v((qxr,Lre)=>{"use strict";var{kReplyIsError:Fre,kReplyHijacked:LXe}=Hn();function MXe(t,e){t.then(function(r){if(e[LXe]!==!0&&(r!==void 0||e.sent===!1&&e.raw.headersSent===!1&&e.request.raw.aborted===!1))try{e.send(r)}catch(n){e[Fre]=!0,e.send(n)}},function(r){if(e.sent===!0){e.log.error({err:r},"Promise errored, but reply.sent = true was set");return}e[Fre]=!0;try{e.send(r)}catch(n){e.send(n)}})}Lre.exports=MXe});var $q=v(($xr,qq)=>{"use strict";var{validate:qXe}=Dq(),{preValidationHookRunner:$Xe,preHandlerHookRunner:UXe}=ol(),jXe=Fq(),{kReplyIsError:xC,kRouteContext:cl}=Hn();function BXe(t,e,r){if(r.sent===!0)return;if(t!=null){r[xC]=!0,r.send(t);return}let n=e.raw.method,i=e.headers,s=e[cl];if(n==="GET"||n==="HEAD"){ul(e,r);return}let o=i["content-type"];if(n==="POST"||n==="PUT"||n==="PATCH"||n==="TRACE"||n==="SEARCH"||n==="PROPFIND"||n==="PROPPATCH"||n==="LOCK"||n==="COPY"||n==="MOVE"||n==="MKCOL"||n==="REPORT"||n==="MKCALENDAR"){o===void 0?i["transfer-encoding"]===void 0&&(i["content-length"]==="0"||i["content-length"]===void 0)?ul(e,r):s.contentTypeParser.run("",ul,e,r):s.contentTypeParser.run(o,ul,e,r);return}if(n==="OPTIONS"||n==="DELETE"){o!==void 0&&(i["transfer-encoding"]!==void 0||i["content-length"]!==void 0)?s.contentTypeParser.run(o,ul,e,r):ul(e,r);return}ul(e,r)}function ul(t,e){try{t[cl].preValidation!==null?$Xe(t[cl].preValidation,t,e,Lq):Lq(null,t,e)}catch(r){Lq(r,t,e)}}function Lq(t,e,r){if(r.sent===!0)return;if(t!=null){r[xC]=!0,r.send(t);return}let n=qXe(r[cl],e);if(n&&typeof n.then=="function"||!1){let s=Mre.bind(null,e,r);n.then(s,s)}else Mre(e,r,n)}function Mre(t,e,r){if(r){if(e[cl].attachValidation===!1){e.send(r);return}e.request.validationError=r}t[cl].preHandler!==null?UXe(t[cl].preHandler,t,e,Mq):Mq(null,t,e)}function Mq(t,e,r){if(r.sent)return;if(t!=null){r[xC]=!0,r.send(t);return}let n;try{n=e[cl].handler(e,r)}catch(i){r[xC]=!0,r.send(i);return}n!==void 0&&(n!==null&&typeof n.then=="function"?jXe(n,r):r.send(n))}qq.exports=BXe;qq.exports[Symbol.for("internals")]={handler:ul,preHandlerCallback:Mq}});var $re=v((Uxr,qre)=>{"use strict";function Pm(){}var HXe={fatal:Pm,error:Pm,warn:Pm,info:Pm,debug:Pm,trace:Pm};Object.defineProperty(qre,"exports",{get(){return Object.create(HXe)}})});var jq=v((jxr,Bre)=>{"use strict";var rv=t=>t&&typeof t.message=="string",Uq=t=>{if(!t)return;let e=t.cause;if(typeof e=="function"){let r=t.cause();return rv(r)?r:void 0}else return rv(e)?e:void 0},Ure=(t,e)=>{if(!rv(t))return"";let r=t.stack||"";if(e.has(t))return r+`
causes have become circular...`;let n=Uq(t);return n?(e.add(t),r+`
caused by: `+Ure(n,e)):r},zXe=t=>Ure(t,new Set),jre=(t,e,r)=>{if(!rv(t))return"";let n=r?"":t.message||"";if(e.has(t))return n+": ...";let i=Uq(t);if(i){e.add(t);let s=typeof t.cause=="function";return n+(s?"":": ")+jre(i,e,s)}else return n},VXe=t=>jre(t,new Set);Bre.exports={isErrorLike:rv,getErrorCause:Uq,stackWithCauses:zXe,messageWithCauses:VXe}});var Bq=v((Bxr,zre)=>{"use strict";var WXe=Symbol("circular-ref-tag"),RC=Symbol("pino-raw-err-ref"),Hre=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[RC]},set:function(t){this[RC]=t}}});Object.defineProperty(Hre,RC,{writable:!0,value:{}});zre.exports={pinoErrProto:Hre,pinoErrorSymbols:{seen:WXe,rawSymbol:RC}}});var Gre=v((Hxr,Wre)=>{"use strict";Wre.exports=zq;var{messageWithCauses:GXe,stackWithCauses:KXe,isErrorLike:Vre}=jq(),{pinoErrProto:XXe,pinoErrorSymbols:JXe}=Bq(),{seen:Hq}=JXe,{toString:ZXe}=Object.prototype;function zq(t){if(!Vre(t))return t;t[Hq]=void 0;let e=Object.create(XXe);e.type=ZXe.call(t.constructor)==="[object Function]"?t.constructor.name:t.name,e.message=GXe(t),e.stack=KXe(t),Array.isArray(t.errors)&&(e.aggregateErrors=t.errors.map(r=>zq(r)));for(let r in t)if(e[r]===void 0){let n=t[r];Vre(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,Hq)&&(e[r]=zq(n)):e[r]=n}return delete t[Hq],e.raw=t,e}});var Xre=v((zxr,Kre)=>{"use strict";Kre.exports=PC;var{isErrorLike:Vq}=jq(),{pinoErrProto:YXe,pinoErrorSymbols:QXe}=Bq(),{seen:AC}=QXe,{toString:eJe}=Object.prototype;function PC(t){if(!Vq(t))return t;t[AC]=void 0;let e=Object.create(YXe);e.type=eJe.call(t.constructor)==="[object Function]"?t.constructor.name:t.name,e.message=t.message,e.stack=t.stack,Array.isArray(t.errors)&&(e.aggregateErrors=t.errors.map(r=>PC(r))),Vq(t.cause)&&!Object.prototype.hasOwnProperty.call(t.cause,AC)&&(e.cause=PC(t.cause));for(let r in t)if(e[r]===void 0){let n=t[r];Vq(n)?Object.prototype.hasOwnProperty.call(n,AC)||(e[r]=PC(n)):e[r]=n}return delete t[AC],e.raw=t,e}});var Qre=v((Vxr,Yre)=>{"use strict";Yre.exports={mapHttpRequest:tJe,reqSerializer:Zre};var Wq=Symbol("pino-raw-req-ref"),Jre=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Wq]},set:function(t){this[Wq]=t}}});Object.defineProperty(Jre,Wq,{writable:!0,value:{}});function Zre(t){let e=t.info||t.socket,r=Object.create(Jre);if(r.id=typeof t.id=="function"?t.id():t.id||(t.info?t.info.id:void 0),r.method=t.method,t.originalUrl)r.url=t.originalUrl;else{let n=t.path;r.url=typeof n=="string"?n:t.url?t.url.path||t.url:void 0}return t.query&&(r.query=t.query),t.params&&(r.params=t.params),r.headers=t.headers,r.remoteAddress=e&&e.remoteAddress,r.remotePort=e&&e.remotePort,r.raw=t.raw||t,r}function tJe(t){return{req:Zre(t)}}});var nne=v((Wxr,rne)=>{"use strict";rne.exports={mapHttpResponse:rJe,resSerializer:tne};var Gq=Symbol("pino-raw-res-ref"),ene=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Gq]},set:function(t){this[Gq]=t}}});Object.defineProperty(ene,Gq,{writable:!0,value:{}});function tne(t){let e=Object.create(ene);return e.statusCode=t.headersSent?t.statusCode:null,e.headers=t.getHeaders?t.getHeaders():t._headers,e.raw=t,e}function rJe(t){return{res:tne(t)}}});var Xq=v((Gxr,ine)=>{"use strict";var Kq=Gre(),nJe=Xre(),IC=Qre(),OC=nne();ine.exports={err:Kq,errWithCause:nJe,mapHttpRequest:IC.mapHttpRequest,mapHttpResponse:OC.mapHttpResponse,req:IC.reqSerializer,res:OC.resSerializer,wrapErrorSerializer:function(e){return e===Kq?e:function(n){return e(Kq(n))}},wrapRequestSerializer:function(e){return e===IC.reqSerializer?e:function(n){return e(IC.reqSerializer(n))}},wrapResponseSerializer:function(e){return e===OC.resSerializer?e:function(n){return e(OC.resSerializer(n))}}}});var Jq=v((Kxr,sne)=>{"use strict";function iJe(t,e){return e}sne.exports=function(){let e=Error.prepareStackTrace;Error.prepareStackTrace=iJe;let r=new Error().stack;if(Error.prepareStackTrace=e,!Array.isArray(r))return;let n=r.slice(2),i=[];for(let s of n)s&&i.push(s.getFileName());return i}});var fne=v((Xxr,lne)=>{"use strict";function Zq(t){if(t===null||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){let e=[];for(let r=0;r<t.length;r++)e[r]=Zq(t[r]);return e}if(typeof t=="object"){let e=Object.create(Object.getPrototypeOf(t));for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Zq(t[r]));return e}return t}function one(t){let e=[],r="",n=!1,i=!1,s="";for(let o=0;o<t.length;o++){let a=t[o];!n&&a==="."?r&&(e.push(r),r=""):a==="["?(r&&(e.push(r),r=""),n=!0):a==="]"&&n?(e.push(r),r="",n=!1,i=!1):(a==='"'||a==="'")&&n?i?a===s?(i=!1,s=""):r+=a:(i=!0,s=a):r+=a}return r&&e.push(r),e}function ane(t,e,r){let n=t;for(let s=0;s<e.length-1;s++){let o=e[s];if(typeof n!="object"||n===null||!(o in n)||typeof n[o]!="object"||n[o]===null)return!1;n=n[o]}let i=e[e.length-1];if(i==="*"){if(Array.isArray(n))for(let s=0;s<n.length;s++)n[s]=r;else if(typeof n=="object"&&n!==null)for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&(n[s]=r)}else typeof n=="object"&&n!==null&&i in n&&Object.prototype.hasOwnProperty.call(n,i)&&(n[i]=r);return!0}function une(t,e){let r=t;for(let i=0;i<e.length-1;i++){let s=e[i];if(typeof r!="object"||r===null||!(s in r)||typeof r[s]!="object"||r[s]===null)return!1;r=r[s]}let n=e[e.length-1];if(n==="*"){if(Array.isArray(r))for(let i=0;i<r.length;i++)r[i]=void 0;else if(typeof r=="object"&&r!==null)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&delete r[i]}else typeof r=="object"&&r!==null&&n in r&&Object.prototype.hasOwnProperty.call(r,n)&&delete r[n];return!0}var kC=Symbol("PATH_NOT_FOUND");function sJe(t,e){let r=t;for(let n of e){if(r==null||typeof r!="object"||r===null||!(n in r))return kC;r=r[n]}return r}function oJe(t,e){let r=t;for(let n of e){if(r==null||typeof r!="object"||r===null)return;r=r[n]}return r}function aJe(t,e,r,n=!1){for(let i of e){let s=one(i);if(s.includes("*"))cne(t,s,r,i,n);else if(n)une(t,s);else{let o=sJe(t,s);if(o===kC)continue;let a=typeof r=="function"?r(o,s):r;ane(t,s,a)}}}function cne(t,e,r,n,i=!1){let s=e.indexOf("*");if(s===e.length-1){let o=e.slice(0,-1),a=t;for(let u of o){if(a==null||typeof a!="object"||a===null)return;a=a[u]}if(Array.isArray(a))if(i)for(let u=0;u<a.length;u++)a[u]=void 0;else for(let u=0;u<a.length;u++){let c=[...o,u.toString()],f=typeof r=="function"?r(a[u],c):r;a[u]=f}else if(typeof a=="object"&&a!==null)if(i){let u=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&u.push(c);for(let c of u)delete a[c]}else for(let u in a){let c=[...o,u],f=typeof r=="function"?r(a[u],c):r;a[u]=f}}else uJe(t,e,r,s,n,i)}function uJe(t,e,r,n,i,s=!1){let o=e.slice(0,n),a=e.slice(n+1),u=[];function c(f,d){if(d===o.length){if(Array.isArray(f))for(let h=0;h<f.length;h++)u[d]=h.toString(),c(f[h],d+1);else if(typeof f=="object"&&f!==null)for(let h in f)u[d]=h,c(f[h],d+1)}else if(d<o.length){let h=o[d];f&&typeof f=="object"&&f!==null&&h in f&&(u[d]=h,c(f[h],d+1))}else if(a.includes("*"))cne(f,a,typeof r=="function"?(p,m)=>{let g=[...u.slice(0,d),...m];return r(p,g)}:r,i,s);else if(s)une(f,a);else{let h=typeof r=="function"?r(oJe(f,a),[...u.slice(0,d),...a]):r;ane(f,a,h)}}if(o.length===0)c(t,0);else{let f=t;for(let d=0;d<o.length;d++){let h=o[d];if(f==null||typeof f!="object"||f===null)return;f=f[h],u[d]=h}f!=null&&c(f,o.length)}}function cJe(t){if(t.length===0)return null;let e=new Map;for(let r of t){let n=one(r),i=e;for(let s=0;s<n.length;s++){let o=n[s];i.has(o)||i.set(o,new Map),i=i.get(o)}}return e}function lJe(t,e){if(!e)return t;function r(n,i,s=0){if(!i||i.size===0||n===null||typeof n!="object")return n;if(n instanceof Date)return new Date(n.getTime());if(Array.isArray(n)){let a=[];for(let u=0;u<n.length;u++){let c=u.toString();i.has(c)||i.has("*")?a[u]=r(n[u],i.get(c)||i.get("*")):a[u]=n[u]}return a}let o=Object.create(Object.getPrototypeOf(n));for(let a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i.has(a)||i.has("*")?o[a]=r(n[a],i.get(a)||i.get("*")):o[a]=n[a]);return o}return r(t,e)}function fJe(t){if(typeof t!="string")throw new Error("Paths must be (non-empty) strings");if(t==="")throw new Error("Invalid redaction path ()");if(t.includes(".."))throw new Error(`Invalid redaction path (${t})`);if(t.includes(","))throw new Error(`Invalid redaction path (${t})`);let e=0,r=!1,n="";for(let i=0;i<t.length;i++){let s=t[i];if((s==='"'||s==="'")&&e>0)r?s===n&&(r=!1,n=""):(r=!0,n=s);else if(s==="["&&!r)e++;else if(s==="]"&&!r&&(e--,e<0))throw new Error(`Invalid redaction path (${t})`)}if(e!==0)throw new Error(`Invalid redaction path (${t})`)}function dJe(t){if(!Array.isArray(t))throw new TypeError("paths must be an array");for(let e of t)fJe(e)}function hJe(t={}){let{paths:e=[],censor:r="[REDACTED]",serialize:n=JSON.stringify,strict:i=!0,remove:s=!1}=t;dJe(e);let o=cJe(e);return function(u){if(i&&(u===null||typeof u!="object")&&(u==null||typeof u!="object"))return n?n(u):u;let c=lJe(u,o),f=u,d=r;return typeof r=="function"&&(d=r),aJe(c,e,d,s),n===!1?(c.restore=function(){return Zq(f)},c):typeof n=="function"?n(c):JSON.stringify(c)}}lne.exports=hJe});var Im=v((Jxr,dne)=>{"use strict";var pJe=Symbol("pino.setLevel"),mJe=Symbol("pino.getLevel"),gJe=Symbol("pino.levelVal"),yJe=Symbol("pino.levelComp"),_Je=Symbol("pino.useLevelLabels"),vJe=Symbol("pino.useOnlyCustomLevels"),wJe=Symbol("pino.mixin"),bJe=Symbol("pino.lsCache"),EJe=Symbol("pino.chindings"),SJe=Symbol("pino.asJson"),TJe=Symbol("pino.write"),CJe=Symbol("pino.redactFmt"),xJe=Symbol("pino.time"),RJe=Symbol("pino.timeSliceIndex"),AJe=Symbol("pino.stream"),PJe=Symbol("pino.stringify"),IJe=Symbol("pino.stringifySafe"),OJe=Symbol("pino.stringifiers"),kJe=Symbol("pino.end"),NJe=Symbol("pino.formatOpts"),DJe=Symbol("pino.messageKey"),FJe=Symbol("pino.errorKey"),LJe=Symbol("pino.nestedKey"),MJe=Symbol("pino.nestedKeyStr"),qJe=Symbol("pino.mixinMergeStrategy"),$Je=Symbol("pino.msgPrefix"),UJe=Symbol("pino.wildcardFirst"),jJe=Symbol.for("pino.serializers"),BJe=Symbol.for("pino.formatters"),HJe=Symbol.for("pino.hooks"),zJe=Symbol.for("pino.metadata");dne.exports={setLevelSym:pJe,getLevelSym:mJe,levelValSym:gJe,levelCompSym:yJe,useLevelLabelsSym:_Je,mixinSym:wJe,lsCacheSym:bJe,chindingsSym:EJe,asJsonSym:SJe,writeSym:TJe,serializersSym:jJe,redactFmtSym:CJe,timeSym:xJe,timeSliceIndexSym:RJe,streamSym:AJe,stringifySym:PJe,stringifySafeSym:IJe,stringifiersSym:OJe,endSym:kJe,formatOptsSym:NJe,messageKeySym:DJe,errorKeySym:FJe,nestedKeySym:LJe,wildcardFirstSym:UJe,needsMetadataGsym:zJe,useOnlyCustomLevelsSym:vJe,formattersSym:BJe,hooksSym:HJe,nestedKeyStrSym:MJe,mixinMergeStrategySym:qJe,msgPrefixSym:$Je}});var Qq=v((Zxr,gne)=>{"use strict";var hne=fne(),{redactFmtSym:VJe,wildcardFirstSym:NC}=Im(),Yq=/[^.[\]]+|\[([^[\]]*?)\]/g,pne="[Redacted]",mne=!1;function WJe(t,e){let{paths:r,censor:n,remove:i}=GJe(t),s=r.reduce((u,c)=>{Yq.lastIndex=0;let f=Yq.exec(c),d=Yq.exec(c),h=f[1]!==void 0?f[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):f[0];if(h==="*"&&(h=NC),d===null)return u[h]=null,u;if(u[h]===null)return u;let{index:p}=d,m=`${c.substr(p,c.length-1)}`;return u[h]=u[h]||[],h!==NC&&u[h].length===0&&u[h].push(...u[NC]||[]),h===NC&&Object.keys(u).forEach(function(g){u[g]&&u[g].push(m)}),u[h].push(m),u},{}),o={[VJe]:hne({paths:r,censor:n,serialize:e,strict:mne,remove:i})},a=(...u)=>e(typeof n=="function"?n(...u):n);return[...Object.keys(s),...Object.getOwnPropertySymbols(s)].reduce((u,c)=>{if(s[c]===null)u[c]=f=>a(f,[c]);else{let f=typeof n=="function"?(d,h)=>n(d,[c,...h]):n;u[c]=hne({paths:s[c],censor:f,serialize:e,strict:mne,remove:i})}return u},o)}function GJe(t){if(Array.isArray(t))return t={paths:t,censor:pne},t;let{paths:e,censor:r=pne,remove:n}=t;if(Array.isArray(e)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),{paths:e,censor:r,remove:n}}gne.exports=WJe});var vne=v((Yxr,_ne)=>{"use strict";var KJe=()=>"",XJe=()=>`,"time":${Date.now()}`,JJe=()=>`,"time":${Math.round(Date.now()/1e3)}`,ZJe=()=>`,"time":"${new Date(Date.now()).toISOString()}"`,YJe=1000000n,yne=1000000000n,QJe=BigInt(Date.now())*YJe,eZe=process.hrtime.bigint(),tZe=()=>{let t=process.hrtime.bigint()-eZe,e=QJe+t,r=e/yne,n=e%yne,i=Number(r*1000n+n/1000000n),s=new Date(i),o=s.getUTCFullYear(),a=(s.getUTCMonth()+1).toString().padStart(2,"0"),u=s.getUTCDate().toString().padStart(2,"0"),c=s.getUTCHours().toString().padStart(2,"0"),f=s.getUTCMinutes().toString().padStart(2,"0"),d=s.getUTCSeconds().toString().padStart(2,"0");return`,"time":"${o}-${a}-${u}T${c}:${f}:${d}.${n.toString().padStart(9,"0")}Z"`};_ne.exports={nullTime:KJe,epochTime:XJe,unixTime:JJe,isoTime:ZJe,isoTimeNano:tZe}});var bne=v((Qxr,wne)=>{"use strict";function rZe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}wne.exports=nZe;function nZe(t,e,r){var n=r&&r.stringify||rZe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var c="",f=1-i,d=-1,h=t&&t.length||0,p=0;p<h;){if(t.charCodeAt(p)===37&&p+1<h){switch(d=d>-1?d:0,t.charCodeAt(p+1)){case 100:case 102:if(f>=u||e[f]==null)break;d<p&&(c+=t.slice(d,p)),c+=Number(e[f]),d=p+2,p++;break;case 105:if(f>=u||e[f]==null)break;d<p&&(c+=t.slice(d,p)),c+=Math.floor(Number(e[f])),d=p+2,p++;break;case 79:case 111:case 106:if(f>=u||e[f]===void 0)break;d<p&&(c+=t.slice(d,p));var m=typeof e[f];if(m==="string"){c+="'"+e[f]+"'",d=p+2,p++;break}if(m==="function"){c+=e[f].name||"<anonymous>",d=p+2,p++;break}c+=n(e[f]),d=p+2,p++;break;case 115:if(f>=u)break;d<p&&(c+=t.slice(d,p)),c+=String(e[f]),d=p+2,p++;break;case 37:d<p&&(c+=t.slice(d,p)),c+="%",d=p+2,p++,f--;break}++f}++p}return d===-1?t:(d<h&&(c+=t.slice(d)),c)}});var t$=v((eRr,e$)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let e=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(t,0,0,Number(r))},t=new Int32Array(new SharedArrayBuffer(4));e$.exports=e}else{let t=function(e){if((e>0&&e<1/0)===!1)throw typeof e!="number"&&typeof e!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(e);for(;n>Date.now(););};e$.exports=t}});var Pne=v((tRr,Ane)=>{"use strict";var bn=require("fs"),iZe=require("events"),sZe=require("util").inherits,Ene=require("path"),n$=t$(),oZe=require("assert"),DC=100,FC=Buffer.allocUnsafe(0),aZe=16*1024,Sne="buffer",Tne="utf8",[uZe,cZe]=(process.versions.node||"0.0").split(".").map(Number),lZe=uZe>=22&&cZe>=7;function Cne(t,e){e._opening=!0,e._writing=!0,e._asyncDrainScheduled=!1;function r(s,o){if(s){e._reopening=!1,e._writing=!1,e._opening=!1,e.sync?process.nextTick(()=>{e.listenerCount("error")>0&&e.emit("error",s)}):e.emit("error",s);return}let a=e._reopening;e.fd=o,e.file=t,e._reopening=!1,e._opening=!1,e._writing=!1,e.sync?process.nextTick(()=>e.emit("ready")):e.emit("ready"),!e.destroyed&&(!e._writing&&e._len>e.minLength||e._flushPending?e._actualWrite():a&&process.nextTick(()=>e.emit("drain")))}let n=e.append?"a":"w",i=e.mode;if(e.sync)try{e.mkdir&&bn.mkdirSync(Ene.dirname(t),{recursive:!0});let s=bn.openSync(t,n,i);r(null,s)}catch(s){throw r(s),s}else e.mkdir?bn.mkdir(Ene.dirname(t),{recursive:!0},s=>{if(s)return r(s);bn.open(t,n,i,r)}):bn.open(t,n,i,r)}function Jo(t){if(!(this instanceof Jo))return new Jo(t);let{fd:e,dest:r,minLength:n,maxLength:i,maxWrite:s,periodicFlush:o,sync:a,append:u=!0,mkdir:c,retryEAGAIN:f,fsync:d,contentMode:h,mode:p}=t||{};e=e||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=i||0,this.maxWrite=s||aZe,this._periodicFlush=o||0,this._periodicFlushTimer=void 0,this.sync=a||!1,this.writable=!0,this._fsync=d||!1,this.append=u||!1,this.mode=p,this.retryEAGAIN=f||(()=>!0),this.mkdir=c||!1;let m,g;if(h===Sne)this._writingBuf=FC,this.write=hZe,this.flush=mZe,this.flushSync=yZe,this._actualWrite=vZe,m=()=>bn.writeSync(this.fd,this._writingBuf),g=()=>bn.write(this.fd,this._writingBuf,this.release);else if(h===void 0||h===Tne)this._writingBuf="",this.write=dZe,this.flush=pZe,this.flushSync=gZe,this._actualWrite=_Ze,m=()=>bn.writeSync(this.fd,this._writingBuf,"utf8"),g=()=>bn.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${Tne}" and "${Sne}", but passed ${h}`);if(typeof e=="number")this.fd=e,process.nextTick(()=>this.emit("ready"));else if(typeof e=="string")Cne(e,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(y,w)=>{if(y){if((y.code==="EAGAIN"||y.code==="EBUSY")&&this.retryEAGAIN(y,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{n$(DC),this.release(void 0,0)}catch(b){this.release(b)}else setTimeout(g,DC);else this._writing=!1,this.emit("error",y);return}this.emit("write",w);let S=r$(this._writingBuf,this._len,w);if(this._len=S.len,this._writingBuf=S.writingBuf,this._writingBuf.length){if(!this.sync){g();return}try{do{let b=m(),O=r$(this._writingBuf,this._len,b);this._len=O.len,this._writingBuf=O.writingBuf}while(this._writingBuf.length)}catch(b){this.release(b);return}}this._fsync&&bn.fsyncSync(this.fd);let E=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):E>this.minLength?this._actualWrite():this._ending?E>0?this._actualWrite():(this._writing=!1,LC(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(fZe,this)):this.emit("drain"))},this.on("newListener",function(y){y==="drain"&&(this._asyncDrainScheduled=!1)}),this._periodicFlush!==0&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function r$(t,e,r){return typeof t=="string"&&Buffer.byteLength(t)!==r&&(r=Buffer.from(t).subarray(0,r).toString().length),e=Math.max(e-r,0),t=t.slice(r),{writingBuf:t,len:e}}function fZe(t){t.listenerCount("drain")>0&&(t._asyncDrainScheduled=!1,t.emit("drain"))}sZe(Jo,iZe);function xne(t,e){return t.length===0?FC:t.length===1?t[0]:Buffer.concat(t,e)}function dZe(t){if(this.destroyed)throw new Error("SonicBoom destroyed");let e=this._len+t.length,r=this._bufs;return this.maxLength&&e>this.maxLength?(this.emit("drop",t),this._len<this._hwm):(r.length===0||r[r.length-1].length+t.length>this.maxWrite?r.push(""+t):r[r.length-1]+=t,this._len=e,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function hZe(t){if(this.destroyed)throw new Error("SonicBoom destroyed");let e=this._len+t.length,r=this._bufs,n=this._lens;return this.maxLength&&e>this.maxLength?(this.emit("drop",t),this._len<this._hwm):(r.length===0||n[n.length-1]+t.length>this.maxWrite?(r.push([t]),n.push(t.length)):(r[r.length-1].push(t),n[n.length-1]+=t.length),this._len=e,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function Rne(t){this._flushPending=!0;let e=()=>{if(this._fsync)this._flushPending=!1,t();else try{bn.fsync(this.fd,n=>{this._flushPending=!1,t(n)})}catch(n){t(n)}this.off("error",r)},r=n=>{this._flushPending=!1,t(n),this.off("drain",e)};this.once("drain",e),this.once("error",r)}function pZe(t){if(t!=null&&typeof t!="function")throw new Error("flush cb must be a function");if(this.destroyed){let e=new Error("SonicBoom destroyed");if(t){t(e);return}throw e}if(this.minLength<=0){t?.();return}t&&Rne.call(this,t),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function mZe(t){if(t!=null&&typeof t!="function")throw new Error("flush cb must be a function");if(this.destroyed){let e=new Error("SonicBoom destroyed");if(t){t(e);return}throw e}if(this.minLength<=0){t?.();return}t&&Rne.call(this,t),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}Jo.prototype.reopen=function(t){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(t)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(t&&(this.file=t),this._reopening=!0,this._writing)return;let e=this.fd;this.once("ready",()=>{e!==this.fd&&bn.close(e,r=>{if(r)return this.emit("error",r)})}),Cne(this.file,this)};Jo.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():LC(this)))};function gZe(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let t="";for(;this._bufs.length||t;){t.length<=0&&(t=this._bufs[0]);try{let e=bn.writeSync(this.fd,t,"utf8"),r=r$(t,this._len,e);t=r.writingBuf,this._len=r.len,t.length<=0&&this._bufs.shift()}catch(e){if((e.code==="EAGAIN"||e.code==="EBUSY")&&!this.retryEAGAIN(e,t.length,this._len-t.length))throw e;n$(DC)}}try{bn.fsyncSync(this.fd)}catch{}}function yZe(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=FC);let t=FC;for(;this._bufs.length||t.length;){t.length<=0&&(t=xne(this._bufs[0],this._lens[0]));try{let e=bn.writeSync(this.fd,t);t=t.subarray(e),this._len=Math.max(this._len-e,0),t.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(e){if((e.code==="EAGAIN"||e.code==="EBUSY")&&!this.retryEAGAIN(e,t.length,this._len-t.length))throw e;n$(DC)}}}Jo.prototype.destroy=function(){this.destroyed||LC(this)};function _Ze(){let t=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let e=bn.writeSync(this.fd,this._writingBuf,"utf8");t(null,e)}catch(e){t(e)}else bn.write(this.fd,this._writingBuf,"utf8",t)}function vZe(){let t=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:xne(this._bufs.shift(),this._lens.shift()),this.sync)try{let e=bn.writeSync(this.fd,this._writingBuf);t(null,e)}catch(e){t(e)}else lZe&&(this._writingBuf=Buffer.from(this._writingBuf)),bn.write(this.fd,this._writingBuf,t)}function LC(t){if(t.fd===-1){t.once("ready",LC.bind(null,t));return}t._periodicFlushTimer!==void 0&&clearInterval(t._periodicFlushTimer),t.destroyed=!0,t._bufs=[],t._lens=[],oZe(typeof t.fd=="number",`sonic.fd must be a number, got ${typeof t.fd}`);try{bn.fsync(t.fd,e)}catch{}function e(){t.fd!==1&&t.fd!==2?bn.close(t.fd,r):r()}function r(n){if(n){t.emit("error",n);return}t._ending&&!t._writing&&t.emit("finish"),t.emit("close")}}Jo.SonicBoom=Jo;Jo.default=Jo;Ane.exports=Jo});var i$=v((rRr,Dne)=>{"use strict";var Zo={exit:[],beforeExit:[]},Ine={exit:EZe,beforeExit:SZe},Om;function wZe(){Om===void 0&&(Om=new FinalizationRegistry(TZe))}function bZe(t){Zo[t].length>0||process.on(t,Ine[t])}function One(t){Zo[t].length>0||(process.removeListener(t,Ine[t]),Zo.exit.length===0&&Zo.beforeExit.length===0&&(Om=void 0))}function EZe(){kne("exit")}function SZe(){kne("beforeExit")}function kne(t){for(let e of Zo[t]){let r=e.deref(),n=e.fn;r!==void 0&&n(r,t)}Zo[t]=[]}function TZe(t){for(let e of["exit","beforeExit"]){let r=Zo[e].indexOf(t);Zo[e].splice(r,r+1),One(e)}}function Nne(t,e,r){if(e===void 0)throw new Error("the object can't be undefined");bZe(t);let n=new WeakRef(e);n.fn=r,wZe(),Om.register(e,n),Zo[t].push(n)}function CZe(t,e){Nne("exit",t,e)}function xZe(t,e){Nne("beforeExit",t,e)}function RZe(t){if(Om!==void 0){Om.unregister(t);for(let e of["exit","beforeExit"])Zo[e]=Zo[e].filter(r=>{let n=r.deref();return n&&n!==t}),One(e)}}Dne.exports={register:CZe,registerBeforeExit:xZe,unregister:RZe}});var Fne=v((nRr,AZe)=>{AZe.exports={name:"thread-stream",version:"3.1.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{build:"tsc --noEmit",test:'standard && npm run build && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*","test/syntax-error.mjs"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var Mne=v((iRr,Lne)=>{"use strict";function PZe(t,e,r,n,i){let s=Date.now()+n,o=Atomics.load(t,e);if(o===r){i(null,"ok");return}let a=o,u=c=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{a=o,o=Atomics.load(t,e),o===a?u(c>=1e3?1e3:c*2):o===r?i(null,"ok"):i(null,"not-equal")},c)};u(1)}function IZe(t,e,r,n,i){let s=Date.now()+n,o=Atomics.load(t,e);if(o!==r){i(null,"ok");return}let a=u=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{o=Atomics.load(t,e),o!==r?i(null,"ok"):a(u>=1e3?1e3:u*2)},u)};a(1)}Lne.exports={wait:PZe,waitDiff:IZe}});var $ne=v((sRr,qne)=>{"use strict";qne.exports={WRITE_INDEX:4,READ_INDEX:8}});var zne=v((oRr,Hne)=>{"use strict";var{version:OZe}=Fne(),{EventEmitter:kZe}=require("events"),{Worker:NZe}=require("worker_threads"),{join:DZe}=require("path"),{pathToFileURL:FZe}=require("url"),{wait:LZe}=Mne(),{WRITE_INDEX:_s,READ_INDEX:Ma}=$ne(),MZe=require("buffer"),qZe=require("assert"),Te=Symbol("kImpl"),$Ze=MZe.constants.MAX_STRING_LENGTH,nv=class{constructor(e){this._value=e}deref(){return this._value}},qC=class{register(){}unregister(){}},UZe=process.env.NODE_V8_COVERAGE?qC:global.FinalizationRegistry||qC,jZe=process.env.NODE_V8_COVERAGE?nv:global.WeakRef||nv,Une=new UZe(t=>{t.exited||t.terminate()});function BZe(t,e){let{filename:r,workerData:n}=e,s=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||DZe(__dirname,"lib","worker.js"),o=new NZe(s,{...e.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:FZe(r).href,dataBuf:t[Te].dataBuf,stateBuf:t[Te].stateBuf,workerData:{$context:{threadStreamVersion:OZe},...n}}});return o.stream=new nv(t),o.on("message",HZe),o.on("exit",Bne),Une.register(t,o),o}function jne(t){qZe(!t[Te].sync),t[Te].needDrain&&(t[Te].needDrain=!1,t.emit("drain"))}function MC(t){let e=Atomics.load(t[Te].state,_s),r=t[Te].data.length-e;if(r>0){if(t[Te].buf.length===0){t[Te].flushing=!1,t[Te].ending?c$(t):t[Te].needDrain&&process.nextTick(jne,t);return}let n=t[Te].buf.slice(0,r),i=Buffer.byteLength(n);i<=r?(t[Te].buf=t[Te].buf.slice(r),$C(t,n,MC.bind(null,t))):t.flush(()=>{if(!t.destroyed){for(Atomics.store(t[Te].state,Ma,0),Atomics.store(t[Te].state,_s,0);i>t[Te].data.length;)r=r/2,n=t[Te].buf.slice(0,r),i=Buffer.byteLength(n);t[Te].buf=t[Te].buf.slice(r),$C(t,n,MC.bind(null,t))}})}else if(r===0){if(e===0&&t[Te].buf.length===0)return;t.flush(()=>{Atomics.store(t[Te].state,Ma,0),Atomics.store(t[Te].state,_s,0),MC(t)})}else qa(t,new Error("overwritten"))}function HZe(t){let e=this.stream.deref();if(e===void 0){this.exited=!0,this.terminate();return}switch(t.code){case"READY":this.stream=new jZe(e),e.flush(()=>{e[Te].ready=!0,e.emit("ready")});break;case"ERROR":qa(e,t.err);break;case"EVENT":Array.isArray(t.args)?e.emit(t.name,...t.args):e.emit(t.name,t.args);break;case"WARNING":process.emitWarning(t.err);break;default:qa(e,new Error("this should not happen: "+t.code))}}function Bne(t){let e=this.stream.deref();e!==void 0&&(Une.unregister(e),e.worker.exited=!0,e.worker.off("exit",Bne),qa(e,t!==0?new Error("the worker thread exited"):null))}var o$=class extends kZe{constructor(e={}){if(super(),e.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[Te]={},this[Te].stateBuf=new SharedArrayBuffer(128),this[Te].state=new Int32Array(this[Te].stateBuf),this[Te].dataBuf=new SharedArrayBuffer(e.bufferSize||4*1024*1024),this[Te].data=Buffer.from(this[Te].dataBuf),this[Te].sync=e.sync||!1,this[Te].ending=!1,this[Te].ended=!1,this[Te].needDrain=!1,this[Te].destroyed=!1,this[Te].flushing=!1,this[Te].ready=!1,this[Te].finished=!1,this[Te].errored=null,this[Te].closed=!1,this[Te].buf="",this.worker=BZe(this,e),this.on("message",(r,n)=>{this.worker.postMessage(r,n)})}write(e){if(this[Te].destroyed)return a$(this,new Error("the worker has exited")),!1;if(this[Te].ending)return a$(this,new Error("the worker is ending")),!1;if(this[Te].flushing&&this[Te].buf.length+e.length>=$Ze)try{s$(this),this[Te].flushing=!0}catch(r){return qa(this,r),!1}if(this[Te].buf+=e,this[Te].sync)try{return s$(this),!0}catch(r){return qa(this,r),!1}return this[Te].flushing||(this[Te].flushing=!0,setImmediate(MC,this)),this[Te].needDrain=this[Te].data.length-this[Te].buf.length-Atomics.load(this[Te].state,_s)<=0,!this[Te].needDrain}end(){this[Te].destroyed||(this[Te].ending=!0,c$(this))}flush(e){if(this[Te].destroyed){typeof e=="function"&&process.nextTick(e,new Error("the worker has exited"));return}let r=Atomics.load(this[Te].state,_s);LZe(this[Te].state,Ma,r,1/0,(n,i)=>{if(n){qa(this,n),process.nextTick(e,n);return}if(i==="not-equal"){this.flush(e);return}process.nextTick(e)})}flushSync(){this[Te].destroyed||(s$(this),u$(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[Te].ready}get destroyed(){return this[Te].destroyed}get closed(){return this[Te].closed}get writable(){return!this[Te].destroyed&&!this[Te].ending}get writableEnded(){return this[Te].ending}get writableFinished(){return this[Te].finished}get writableNeedDrain(){return this[Te].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[Te].errored}};function a$(t,e){setImmediate(()=>{t.emit("error",e)})}function qa(t,e){t[Te].destroyed||(t[Te].destroyed=!0,e&&(t[Te].errored=e,a$(t,e)),t.worker.exited?setImmediate(()=>{t[Te].closed=!0,t.emit("close")}):t.worker.terminate().catch(()=>{}).then(()=>{t[Te].closed=!0,t.emit("close")}))}function $C(t,e,r){let n=Atomics.load(t[Te].state,_s),i=Buffer.byteLength(e);return t[Te].data.write(e,n),Atomics.store(t[Te].state,_s,n+i),Atomics.notify(t[Te].state,_s),r(),!0}function c$(t){if(!(t[Te].ended||!t[Te].ending||t[Te].flushing)){t[Te].ended=!0;try{t.flushSync();let e=Atomics.load(t[Te].state,Ma);Atomics.store(t[Te].state,_s,-1),Atomics.notify(t[Te].state,_s);let r=0;for(;e!==-1;){if(Atomics.wait(t[Te].state,Ma,e,1e3),e=Atomics.load(t[Te].state,Ma),e===-2){qa(t,new Error("end() failed"));return}if(++r===10){qa(t,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{t[Te].finished=!0,t.emit("finish")})}catch(e){qa(t,e)}}}function s$(t){let e=()=>{t[Te].ending?c$(t):t[Te].needDrain&&process.nextTick(jne,t)};for(t[Te].flushing=!1;t[Te].buf.length!==0;){let r=Atomics.load(t[Te].state,_s),n=t[Te].data.length-r;if(n===0){u$(t),Atomics.store(t[Te].state,Ma,0),Atomics.store(t[Te].state,_s,0);continue}else if(n<0)throw new Error("overwritten");let i=t[Te].buf.slice(0,n),s=Buffer.byteLength(i);if(s<=n)t[Te].buf=t[Te].buf.slice(n),$C(t,i,e);else{for(u$(t),Atomics.store(t[Te].state,Ma,0),Atomics.store(t[Te].state,_s,0);s>t[Te].buf.length;)n=n/2,i=t[Te].buf.slice(0,n),s=Buffer.byteLength(i);t[Te].buf=t[Te].buf.slice(n),$C(t,i,e)}}}function u$(t){if(t[Te].flushing)throw new Error("unable to flush while flushing");let e=Atomics.load(t[Te].state,_s),r=0;for(;;){let n=Atomics.load(t[Te].state,Ma);if(n===-2)throw Error("_flushSync failed");if(n!==e)Atomics.wait(t[Te].state,Ma,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}Hne.exports=o$});var d$=v((aRr,Vne)=>{"use strict";var{createRequire:zZe}=require("module"),VZe=Jq(),{join:l$,isAbsolute:WZe,sep:GZe}=require("node:path"),KZe=t$(),f$=i$(),XZe=zne();function JZe(t){f$.register(t,YZe),f$.registerBeforeExit(t,QZe),t.on("close",function(){f$.unregister(t)})}function ZZe(t,e,r,n){let i=new XZe({filename:t,workerData:e,workerOpts:r,sync:n});i.on("ready",s),i.on("close",function(){process.removeListener("exit",o)}),process.on("exit",o);function s(){process.removeListener("exit",o),i.unref(),r.autoEnd!==!1&&JZe(i)}function o(){i.closed||(i.flushSync(),KZe(100),i.end())}return i}function YZe(t){t.ref(),t.flushSync(),t.end(),t.once("close",function(){t.unref()})}function QZe(t){t.flushSync()}function eYe(t){let{pipeline:e,targets:r,levels:n,dedupe:i,worker:s={},caller:o=VZe(),sync:a=!1}=t,u={...t.options},c=typeof o=="string"?[o]:o,f="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},d=t.target;if(d&&r)throw new Error("only one of target or targets can be specified");return r?(d=f["pino-worker"]||l$(__dirname,"worker.js"),u.targets=r.filter(p=>p.target).map(p=>({...p,target:h(p.target)})),u.pipelines=r.filter(p=>p.pipeline).map(p=>p.pipeline.map(m=>({...m,level:p.level,target:h(m.target)})))):e&&(d=f["pino-worker"]||l$(__dirname,"worker.js"),u.pipelines=[e.map(p=>({...p,target:h(p.target)}))]),n&&(u.levels=n),i&&(u.dedupe=i),u.pinoWillSendConfig=!0,ZZe(h(d),u,s,a);function h(p){if(p=f[p]||p,WZe(p)||p.indexOf("file://")===0)return p;if(p==="pino/file")return l$(__dirname,"..","file.js");let m;for(let g of c)try{let y=g==="node:repl"?process.cwd()+GZe:g;m=zZe(y).resolve(p);break}catch{continue}if(!m)throw new Error(`unable to determine transport target for "${p}"`);return m}}Vne.exports=eYe});var HC=v((uRr,iie)=>{"use strict";var Wne=require("node:diagnostics_channel"),Gne=bne(),{mapHttpRequest:tYe,mapHttpResponse:rYe}=Xq(),p$=Pne(),Kne=i$(),{lsCacheSym:nYe,chindingsSym:Yne,writeSym:Xne,serializersSym:Qne,formatOptsSym:Jne,endSym:iYe,stringifiersSym:eie,stringifySym:tie,stringifySafeSym:m$,wildcardFirstSym:rie,nestedKeySym:sYe,formattersSym:nie,messageKeySym:oYe,errorKeySym:aYe,nestedKeyStrSym:uYe,msgPrefixSym:UC}=Im(),{isMainThread:cYe}=require("worker_threads"),lYe=d$(),BC;typeof Wne.tracingChannel=="function"?BC=Wne.tracingChannel("pino_asJson"):BC={hasSubscribers:!1,traceSync(t,e,r,...n){return t.call(r,...n)}};function km(){}function fYe(t,e){if(!e)return r;return function(...i){e.call(this,i,r,t)};function r(n,...i){if(typeof n=="object"){let s=n;n!==null&&(n.method&&n.headers&&n.socket?n=tYe(n):typeof n.setHeader=="function"&&(n=rYe(n)));let o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),typeof this[UC]=="string"&&s!==void 0&&s!==null&&(s=this[UC]+s),this[Xne](n,Gne(s,o,this[Jne]),t)}else{let s=n===void 0?i.shift():n;typeof this[UC]=="string"&&s!==void 0&&s!==null&&(s=this[UC]+s),this[Xne](null,Gne(s,i,this[Jne]),t)}}}function h$(t){let e="",r=0,n=!1,i=255,s=t.length;if(s>100)return JSON.stringify(t);for(var o=0;o<s&&i>=32;o++)i=t.charCodeAt(o),(i===34||i===92)&&(e+=t.slice(r,o)+"\\",r=o,n=!0);return n?e+=t.slice(r):e=t,i<32?JSON.stringify(t):'"'+e+'"'}function dYe(t,e,r,n){if(BC.hasSubscribers===!1)return Zne.call(this,t,e,r,n);let i={instance:this,arguments};return BC.traceSync(Zne,i,this,t,e,r,n)}function Zne(t,e,r,n){let i=this[tie],s=this[m$],o=this[eie],a=this[iYe],u=this[Yne],c=this[Qne],f=this[nie],d=this[oYe],h=this[aYe],p=this[nYe][r]+n;p=p+u;let m;f.log&&(t=f.log(t));let g=o[rie],y="";for(let S in t)if(m=t[S],Object.prototype.hasOwnProperty.call(t,S)&&m!==void 0){c[S]?m=c[S](m):S===h&&c.err&&(m=c.err(m));let E=o[S]||g;switch(typeof m){case"undefined":case"function":continue;case"number":Number.isFinite(m)===!1&&(m=null);case"boolean":E&&(m=E(m));break;case"string":m=(E||h$)(m);break;default:m=(E||i)(m,s)}if(m===void 0)continue;let b=h$(S);y+=","+b+":"+m}let w="";if(e!==void 0){m=c[d]?c[d](e):e;let S=o[d]||g;switch(typeof m){case"function":break;case"number":Number.isFinite(m)===!1&&(m=null);case"boolean":S&&(m=S(m)),w=',"'+d+'":'+m;break;case"string":m=(S||h$)(m),w=',"'+d+'":'+m;break;default:m=(S||i)(m,s),w=',"'+d+'":'+m}}return this[sYe]&&y?p+this[uYe]+y.slice(1)+"}"+w+a:p+y+w+a}function hYe(t,e){let r,n=t[Yne],i=t[tie],s=t[m$],o=t[eie],a=o[rie],u=t[Qne],c=t[nie].bindings;e=c(e);for(let f in e)if(r=e[f],((f.length<5||f!=="level"&&f!=="serializers"&&f!=="formatters"&&f!=="customLevels")&&e.hasOwnProperty(f)&&r!==void 0)===!0){if(r=u[f]?u[f](r):r,r=(o[f]||a||i)(r,s),r===void 0)continue;n+=',"'+f+'":'+r}return n}function pYe(t){return t.write!==t.constructor.prototype.write}function jC(t){let e=new p$(t);return e.on("error",r),!t.sync&&cYe&&(Kne.register(e,mYe),e.on("close",function(){Kne.unregister(e)})),e;function r(n){if(n.code==="EPIPE"){e.write=km,e.end=km,e.flushSync=km,e.destroy=km;return}e.removeListener("error",r),e.emit("error",n)}}function mYe(t,e){t.destroyed||(e==="beforeExit"?(t.flush(),t.on("drain",function(){t.end()})):t.flushSync())}function gYe(t){return function(r,n,i={},s){if(typeof i=="string")s=jC({dest:i}),i={};else if(typeof s=="string"){if(i&&i.transport)throw Error("only one of option.transport or stream can be specified");s=jC({dest:s})}else if(i instanceof p$||i.writable||i._writableState)s=i,i={};else if(i.transport){if(i.transport instanceof p$||i.transport.writable||i.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(i.transport.targets&&i.transport.targets.length&&i.formatters&&typeof i.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let u;i.customLevels&&(u=i.useOnlyCustomLevels?i.customLevels:Object.assign({},i.levels,i.customLevels)),s=lYe({caller:n,...i.transport,levels:u})}if(i=Object.assign({},t,i),i.serializers=Object.assign({},t.serializers,i.serializers),i.formatters=Object.assign({},t.formatters,i.formatters),i.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:a}=i;return o===!1&&(i.level="silent"),a||(i.onChild=km),s||(pYe(process.stdout)?s=process.stdout:s=jC({fd:process.stdout.fd||1})),{opts:i,stream:s}}}function yYe(t,e){try{return JSON.stringify(t)}catch{try{return(e||this[m$])(t)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function _Ye(t,e,r){return{level:t,bindings:e,log:r}}function vYe(t){let e=Number(t);return typeof t=="string"&&Number.isFinite(e)?e:t===void 0?1:t}iie.exports={noop:km,buildSafeSonicBoom:jC,asChindings:hYe,asJson:dYe,genLog:fYe,createArgsNormalizer:gYe,stringify:yYe,buildFormatters:_Ye,normalizeDestFileDescriptor:vYe}});var zC=v((cRr,sie)=>{var wYe={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},bYe={ASC:"ASC",DESC:"DESC"};sie.exports={DEFAULT_LEVELS:wYe,SORTING_ORDER:bYe}});var _$=v((lRr,cie)=>{"use strict";var{lsCacheSym:EYe,levelValSym:g$,useOnlyCustomLevelsSym:SYe,streamSym:TYe,formattersSym:CYe,hooksSym:xYe,levelCompSym:oie}=Im(),{noop:RYe,genLog:Nd}=HC(),{DEFAULT_LEVELS:$a,SORTING_ORDER:aie}=zC(),uie={fatal:t=>{let e=Nd($a.fatal,t);return function(...r){let n=this[TYe];if(e.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:t=>Nd($a.error,t),warn:t=>Nd($a.warn,t),info:t=>Nd($a.info,t),debug:t=>Nd($a.debug,t),trace:t=>Nd($a.trace,t)},y$=Object.keys($a).reduce((t,e)=>(t[$a[e]]=e,t),{}),AYe=Object.keys(y$).reduce((t,e)=>(t[e]='{"level":'+Number(e),t),{});function PYe(t){let e=t[CYe].level,{labels:r}=t.levels,n={};for(let i in r){let s=e(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return t[EYe]=n,t}function IYe(t,e){if(e)return!1;switch(t){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function OYe(t){let{labels:e,values:r}=this.levels;if(typeof t=="number"){if(e[t]===void 0)throw Error("unknown level value"+t);t=e[t]}if(r[t]===void 0)throw Error("unknown level "+t);let n=this[g$],i=this[g$]=r[t],s=this[SYe],o=this[oie],a=this[xYe].logMethod;for(let u in r){if(o(r[u],i)===!1){this[u]=RYe;continue}this[u]=IYe(u,s)?uie[u](a):Nd(r[u],a)}this.emit("level-change",t,i,e[n],n,this)}function kYe(t){let{levels:e,levelVal:r}=this;return e&&e.labels?e.labels[r]:""}function NYe(t){let{values:e}=this.levels,r=e[t];return r!==void 0&&this[oie](r,this[g$])}function DYe(t,e,r){return t===aie.DESC?e<=r:e>=r}function FYe(t){return typeof t=="string"?DYe.bind(null,t):t}function LYe(t=null,e=!1){let r=t?Object.keys(t).reduce((s,o)=>(s[t[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),e?null:y$,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),e?null:$a,t);return{labels:n,values:i}}function MYe(t,e,r){if(typeof t=="number"){if(![].concat(Object.keys(e||{}).map(s=>e[s]),r?[]:Object.keys(y$).map(s=>+s),1/0).includes(t))throw Error(`default level:${t} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:$a,e);if(!(t in n))throw Error(`default level:${t} must be included in custom levels`)}function qYe(t,e){let{labels:r,values:n}=t;for(let i in e){if(i in n)throw Error("levels cannot be overridden");if(e[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}function $Ye(t){if(typeof t!="function"&&!(typeof t=="string"&&Object.values(aie).includes(t)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}cie.exports={initialLsCache:AYe,genLsCache:PYe,levelMethods:uie,getLevel:kYe,setLevel:OYe,isLevelEnabled:NYe,mappings:LYe,assertNoLevelCollisions:qYe,assertDefaultLevelFound:MYe,genLevelComparison:FYe,assertLevelComparison:$Ye}});var v$=v((fRr,lie)=>{"use strict";lie.exports={version:"9.14.0"}});var _ie=v((hRr,yie)=>{"use strict";var{EventEmitter:UYe}=require("node:events"),{lsCacheSym:jYe,levelValSym:BYe,setLevelSym:WC,getLevelSym:fie,chindingsSym:GC,parsedChindingsSym:HYe,mixinSym:zYe,asJsonSym:hie,writeSym:VYe,mixinMergeStrategySym:WYe,timeSym:GYe,timeSliceIndexSym:KYe,streamSym:pie,serializersSym:Dd,formattersSym:iv,errorKeySym:XYe,messageKeySym:JYe,useOnlyCustomLevelsSym:ZYe,needsMetadataGsym:YYe,redactFmtSym:QYe,stringifySym:eQe,formatOptsSym:tQe,stringifiersSym:rQe,msgPrefixSym:b$,hooksSym:nQe}=Im(),{getLevel:iQe,setLevel:sQe,isLevelEnabled:oQe,mappings:aQe,initialLsCache:uQe,genLsCache:cQe,assertNoLevelCollisions:lQe}=_$(),{asChindings:E$,asJson:fQe,buildFormatters:w$,stringify:die,noop:mie}=HC(),{version:dQe}=v$(),hQe=Qq(),pQe=class{},gie={constructor:pQe,child:mQe,bindings:gQe,setBindings:yQe,flush:wQe,isLevelEnabled:oQe,version:dQe,get level(){return this[fie]()},set level(t){this[WC](t)},get levelVal(){return this[BYe]},set levelVal(t){throw Error("levelVal is read-only")},get msgPrefix(){return this[b$]},get[Symbol.toStringTag](){return"Pino"},[jYe]:uQe,[VYe]:vQe,[hie]:fQe,[fie]:iQe,[WC]:sQe};Object.setPrototypeOf(gie,UYe.prototype);yie.exports=function(){return Object.create(gie)};var VC=t=>t;function mQe(t,e){if(!t)throw Error("missing bindings for child Pino");let r=this[Dd],n=this[iv],i=Object.create(this);if(e==null)return i[iv].bindings!==VC&&(i[iv]=w$(n.level,VC,n.log)),i[GC]=E$(i,t),i[WC](this.level),this.onChild!==mie&&this.onChild(i),i;if(e.hasOwnProperty("serializers")===!0){i[Dd]=Object.create(null);for(let f in r)i[Dd][f]=r[f];let u=Object.getOwnPropertySymbols(r);for(var s=0;s<u.length;s++){let f=u[s];i[Dd][f]=r[f]}for(let f in e.serializers)i[Dd][f]=e.serializers[f];let c=Object.getOwnPropertySymbols(e.serializers);for(var o=0;o<c.length;o++){let f=c[o];i[Dd][f]=e.serializers[f]}}else i[Dd]=r;if(e.hasOwnProperty("formatters")){let{level:u,bindings:c,log:f}=e.formatters;i[iv]=w$(u||n.level,c||VC,f||n.log)}else i[iv]=w$(n.level,VC,n.log);if(e.hasOwnProperty("customLevels")===!0&&(lQe(this.levels,e.customLevels),i.levels=aQe(e.customLevels,i[ZYe]),cQe(i)),typeof e.redact=="object"&&e.redact!==null||Array.isArray(e.redact)){i.redact=e.redact;let u=hQe(i.redact,die),c={stringify:u[QYe]};i[eQe]=die,i[rQe]=u,i[tQe]=c}typeof e.msgPrefix=="string"&&(i[b$]=(this[b$]||"")+e.msgPrefix),i[GC]=E$(i,t);let a=e.level||this.level;return i[WC](a),this.onChild(i),i}function gQe(){let e=`{${this[GC].substr(1)}}`,r=JSON.parse(e);return delete r.pid,delete r.hostname,r}function yQe(t){let e=E$(this,t);this[GC]=e,delete this[HYe]}function _Qe(t,e){return Object.assign(e,t)}function vQe(t,e,r){let n=this[GYe](),i=this[zYe],s=this[XYe],o=this[JYe],a=this[WYe]||_Qe,u,c=this[nQe].streamWrite;t==null?u={}:t instanceof Error?(u={[s]:t},e===void 0&&(e=t.message)):(u=t,e===void 0&&t[o]===void 0&&t[s]&&(e=t[s].message)),i&&(u=a(u,i(u,r,this)));let f=this[hie](u,e,r,n),d=this[pie];d[YYe]===!0&&(d.lastLevel=r,d.lastObj=u,d.lastMsg=e,d.lastTime=n.slice(this[KYe]),d.lastLogger=this),d.write(c?c(f):f)}function wQe(t){if(t!=null&&typeof t!="function")throw Error("callback must be a function");let e=this[pie];typeof e.flush=="function"?e.flush(t||mie):t&&t()}});var Eie=v((x$,bie)=>{"use strict";var{hasOwnProperty:sv}=Object.prototype,Ld=C$();Ld.configure=C$;Ld.stringify=Ld;Ld.default=Ld;x$.stringify=Ld;x$.configure=C$;bie.exports=Ld;var bQe=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function ll(t){return t.length<5e3&&!bQe.test(t)?`"${t}"`:JSON.stringify(t)}function S$(t,e){if(t.length>200||e)return t.sort(e);for(let r=1;r<t.length;r++){let n=t[r],i=r;for(;i!==0&&t[i-1]>n;)t[i]=t[i-1],i--;t[i]=n}return t}var EQe=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function T$(t){return EQe.call(t)!==void 0&&t.length!==0}function vie(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let s=1;s<r;s++)i+=`${e}"${s}":${n}${t[s]}`;return i}function SQe(t){if(sv.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function TQe(t){let e;if(sv.call(t,"deterministic")&&(e=t.deterministic,typeof e!="boolean"&&typeof e!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return e===void 0?!0:e}function CQe(t,e){let r;if(sv.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function wie(t,e){let r;if(sv.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function Fd(t){return t===1?"1 item":`${t} items`}function xQe(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function RQe(t){if(sv.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function C$(t){t={...t};let e=RQe(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=SQe(t),n=CQe(t,"bigint"),i=TQe(t),s=typeof i=="function"?i:void 0,o=wie(t,"maximumDepth"),a=wie(t,"maximumBreadth");function u(p,m,g,y,w,S){let E=m[p];switch(typeof E=="object"&&E!==null&&typeof E.toJSON=="function"&&(E=E.toJSON(p)),E=y.call(m,p,E),typeof E){case"string":return ll(E);case"object":{if(E===null)return"null";if(g.indexOf(E)!==-1)return r;let b="",O=",",M=S;if(Array.isArray(E)){if(E.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(E),w!==""&&(S+=w,b+=`
${S}`,O=`,
${S}`);let D=Math.min(E.length,a),L=0;for(;L<D-1;L++){let ee=u(String(L),E,g,y,w,S);b+=ee!==void 0?ee:"null",b+=O}let z=u(String(L),E,g,y,w,S);if(b+=z!==void 0?z:"null",E.length-1>a){let ee=E.length-a-1;b+=`${O}"... ${Fd(ee)} not stringified"`}return w!==""&&(b+=`
${M}`),g.pop(),`[${b}]`}let x=Object.keys(E),I=x.length;if(I===0)return"{}";if(o<g.length+1)return'"[Object]"';let P="",F="";w!==""&&(S+=w,O=`,
${S}`,P=" ");let $=Math.min(I,a);i&&!T$(E)&&(x=S$(x,s)),g.push(E);for(let D=0;D<$;D++){let L=x[D],z=u(L,E,g,y,w,S);z!==void 0&&(b+=`${F}${ll(L)}:${P}${z}`,F=O)}if(I>a){let D=I-a;b+=`${F}"...":${P}"${Fd(D)} not stringified"`,F=O}return w!==""&&F.length>1&&(b=`
${S}${b}
${M}`),g.pop(),`{${b}}`}case"number":return isFinite(E)?String(E):e?e(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(E);default:return e?e(E):void 0}}function c(p,m,g,y,w,S){switch(typeof m=="object"&&m!==null&&typeof m.toJSON=="function"&&(m=m.toJSON(p)),typeof m){case"string":return ll(m);case"object":{if(m===null)return"null";if(g.indexOf(m)!==-1)return r;let E=S,b="",O=",";if(Array.isArray(m)){if(m.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(m),w!==""&&(S+=w,b+=`
${S}`,O=`,
${S}`);let I=Math.min(m.length,a),P=0;for(;P<I-1;P++){let $=c(String(P),m[P],g,y,w,S);b+=$!==void 0?$:"null",b+=O}let F=c(String(P),m[P],g,y,w,S);if(b+=F!==void 0?F:"null",m.length-1>a){let $=m.length-a-1;b+=`${O}"... ${Fd($)} not stringified"`}return w!==""&&(b+=`
${E}`),g.pop(),`[${b}]`}g.push(m);let M="";w!==""&&(S+=w,O=`,
${S}`,M=" ");let x="";for(let I of y){let P=c(I,m[I],g,y,w,S);P!==void 0&&(b+=`${x}${ll(I)}:${M}${P}`,x=O)}return w!==""&&x.length>1&&(b=`
${S}${b}
${E}`),g.pop(),`{${b}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function f(p,m,g,y,w){switch(typeof m){case"string":return ll(m);case"object":{if(m===null)return"null";if(typeof m.toJSON=="function"){if(m=m.toJSON(p),typeof m!="object")return f(p,m,g,y,w);if(m===null)return"null"}if(g.indexOf(m)!==-1)return r;let S=w;if(Array.isArray(m)){if(m.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(m),w+=y;let P=`
${w}`,F=`,
${w}`,$=Math.min(m.length,a),D=0;for(;D<$-1;D++){let z=f(String(D),m[D],g,y,w);P+=z!==void 0?z:"null",P+=F}let L=f(String(D),m[D],g,y,w);if(P+=L!==void 0?L:"null",m.length-1>a){let z=m.length-a-1;P+=`${F}"... ${Fd(z)} not stringified"`}return P+=`
${S}`,g.pop(),`[${P}]`}let E=Object.keys(m),b=E.length;if(b===0)return"{}";if(o<g.length+1)return'"[Object]"';w+=y;let O=`,
${w}`,M="",x="",I=Math.min(b,a);T$(m)&&(M+=vie(m,O,a),E=E.slice(m.length),I-=m.length,x=O),i&&(E=S$(E,s)),g.push(m);for(let P=0;P<I;P++){let F=E[P],$=f(F,m[F],g,y,w);$!==void 0&&(M+=`${x}${ll(F)}: ${$}`,x=O)}if(b>a){let P=b-a;M+=`${x}"...": "${Fd(P)} not stringified"`,x=O}return x!==""&&(M=`
${w}${M}
${S}`),g.pop(),`{${M}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function d(p,m,g){switch(typeof m){case"string":return ll(m);case"object":{if(m===null)return"null";if(typeof m.toJSON=="function"){if(m=m.toJSON(p),typeof m!="object")return d(p,m,g);if(m===null)return"null"}if(g.indexOf(m)!==-1)return r;let y="",w=m.length!==void 0;if(w&&Array.isArray(m)){if(m.length===0)return"[]";if(o<g.length+1)return'"[Array]"';g.push(m);let M=Math.min(m.length,a),x=0;for(;x<M-1;x++){let P=d(String(x),m[x],g);y+=P!==void 0?P:"null",y+=","}let I=d(String(x),m[x],g);if(y+=I!==void 0?I:"null",m.length-1>a){let P=m.length-a-1;y+=`,"... ${Fd(P)} not stringified"`}return g.pop(),`[${y}]`}let S=Object.keys(m),E=S.length;if(E===0)return"{}";if(o<g.length+1)return'"[Object]"';let b="",O=Math.min(E,a);w&&T$(m)&&(y+=vie(m,",",a),S=S.slice(m.length),O-=m.length,b=","),i&&(S=S$(S,s)),g.push(m);for(let M=0;M<O;M++){let x=S[M],I=d(x,m[x],g);I!==void 0&&(y+=`${b}${ll(x)}:${I}`,b=",")}if(E>a){let M=E-a;y+=`${b}"...":"${Fd(M)} not stringified"`}return g.pop(),`{${y}}`}case"number":return isFinite(m)?String(m):e?e(m):"null";case"boolean":return m===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(m);default:return e?e(m):void 0}}function h(p,m,g){if(arguments.length>1){let y="";if(typeof g=="number"?y=" ".repeat(Math.min(g,10)):typeof g=="string"&&(y=g.slice(0,10)),m!=null){if(typeof m=="function")return u("",{"":p},[],m,y,"");if(Array.isArray(m))return c("",p,[],xQe(m),y,"")}if(y.length!==0)return f("",p,[],y,"")}return d("",p,[])}return h}});var xie=v((pRr,Cie)=>{"use strict";var R$=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:Tie}=zC(),AQe=Tie.info;function PQe(t,e){t=t||[],e=e||{dedupe:!1};let r=Object.create(Tie);r.silent=1/0,e.levels&&typeof e.levels=="object"&&Object.keys(e.levels).forEach(d=>{r[d]=e.levels[d]});let n={write:i,add:a,remove:u,emit:s,flushSync:o,end:c,minLevel:0,lastId:0,streams:[],clone:f,[R$]:!0,streamLevels:r};return Array.isArray(t)?t.forEach(a,n):a.call(n,t),t=null,n;function i(d){let h,p=this.lastLevel,{streams:m}=this,g=0,y;for(let w=IQe(m.length,e.dedupe);kQe(w,m.length,e.dedupe);w=OQe(w,e.dedupe))if(h=m[w],h.level<=p){if(g!==0&&g!==h.level)break;if(y=h.stream,y[R$]){let{lastTime:S,lastMsg:E,lastObj:b,lastLogger:O}=this;y.lastLevel=p,y.lastTime=S,y.lastMsg=E,y.lastObj=b,y.lastLogger=O}y.write(d),e.dedupe&&(g=h.level)}else if(!e.dedupe)break}function s(...d){for(let{stream:h}of this.streams)typeof h.emit=="function"&&h.emit(...d)}function o(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync()}function a(d){if(!d)return n;let h=typeof d.write=="function"||d.stream,p=d.write?d:d.stream;if(!h)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:m,streamLevels:g}=this,y;typeof d.levelVal=="number"?y=d.levelVal:typeof d.level=="string"?y=g[d.level]:typeof d.level=="number"?y=d.level:y=AQe;let w={stream:p,level:y,levelVal:void 0,id:++n.lastId};return m.unshift(w),m.sort(Sie),this.minLevel=m[0].level,n}function u(d){let{streams:h}=this,p=h.findIndex(m=>m.id===d);return p>=0&&(h.splice(p,1),h.sort(Sie),this.minLevel=h.length>0?h[0].level:-1),n}function c(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync(),d.end()}function f(d){let h=new Array(this.streams.length);for(let p=0;p<h.length;p++)h[p]={level:d,stream:this.streams[p].stream};return{write:i,add:a,remove:u,minLevel:d,streams:h,clone:f,emit:s,flushSync:o,[R$]:!0}}}function Sie(t,e){return t.level-e.level}function IQe(t,e){return e?t-1:0}function OQe(t,e){return e?t-1:t+1}function kQe(t,e,r){return r?t>=0:t<e}Cie.exports=PQe});var Uie=v((mRr,uo)=>{"use strict";var NQe=require("node:os"),Die=Xq(),DQe=Jq(),FQe=Qq(),Fie=vne(),LQe=_ie(),Lie=Im(),{configure:MQe}=Eie(),{assertDefaultLevelFound:qQe,mappings:Mie,genLsCache:$Qe,genLevelComparison:UQe,assertLevelComparison:jQe}=_$(),{DEFAULT_LEVELS:qie,SORTING_ORDER:BQe}=zC(),{createArgsNormalizer:HQe,asChindings:zQe,buildSafeSonicBoom:Rie,buildFormatters:VQe,stringify:A$,normalizeDestFileDescriptor:Aie,noop:WQe}=HC(),{version:GQe}=v$(),{chindingsSym:Pie,redactFmtSym:KQe,serializersSym:Iie,timeSym:XQe,timeSliceIndexSym:JQe,streamSym:ZQe,stringifySym:Oie,stringifySafeSym:P$,stringifiersSym:kie,setLevelSym:YQe,endSym:QQe,formatOptsSym:eet,messageKeySym:tet,errorKeySym:net,nestedKeySym:iet,mixinSym:set,levelCompSym:oet,useOnlyCustomLevelsSym:aet,formattersSym:Nie,hooksSym:uet,nestedKeyStrSym:cet,mixinMergeStrategySym:fet,msgPrefixSym:det}=Lie,{epochTime:$ie,nullTime:het}=Fie,{pid:pet}=process,met=NQe.hostname(),get=Die.err,yet={level:"info",levelComparison:BQe.ASC,levels:qie,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:pet,hostname:met},serializers:Object.assign(Object.create(null),{err:get}),formatters:Object.assign(Object.create(null),{bindings(t){return t},level(t,e){return{level:e}}}),hooks:{logMethod:void 0,streamWrite:void 0},timestamp:$ie,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},_et=HQe(yet),vet=Object.assign(Object.create(null),Die);function I$(...t){let e={},{opts:r,stream:n}=_et(e,DQe(),...t);r.level&&typeof r.level=="string"&&qie[r.level.toLowerCase()]!==void 0&&(r.level=r.level.toLowerCase());let{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:u,errorKey:c,nestedKey:f,base:d,name:h,level:p,customLevels:m,levelComparison:g,mixin:y,mixinMergeStrategy:w,useOnlyCustomLevels:S,formatters:E,hooks:b,depthLimit:O,edgeLimit:M,onChild:x,msgPrefix:I}=r,P=MQe({maximumDepth:O,maximumBreadth:M}),F=VQe(E.level,E.bindings,E.log),$=A$.bind({[P$]:P}),D=i?FQe(i,$):{},L=i?{stringify:D[KQe]}:{stringify:$},z="}"+(s?`\r
`:`
`),ee=zQe.bind(null,{[Pie]:"",[Iie]:o,[kie]:D,[Oie]:A$,[P$]:P,[Nie]:F}),N="";d!==null&&(h===void 0?N=ee(d):N=ee(Object.assign({},d,{name:h})));let H=a instanceof Function?a:a?$ie:het,X=H().indexOf(":")+1;if(S&&!m)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(y&&typeof y!="function")throw Error(`Unknown mixin type "${typeof y}" - expected "function"`);if(I&&typeof I!="string")throw Error(`Unknown msgPrefix type "${typeof I}" - expected "string"`);qQe(p,m,S);let V=Mie(m,S);typeof n.emit=="function"&&n.emit("message",{code:"PINO_CONFIG",config:{levels:V,messageKey:u,errorKey:c}}),jQe(g);let ue=UQe(g);return Object.assign(e,{levels:V,[oet]:ue,[aet]:S,[ZQe]:n,[XQe]:H,[JQe]:X,[Oie]:A$,[P$]:P,[kie]:D,[QQe]:z,[eet]:L,[tet]:u,[net]:c,[iet]:f,[cet]:f?`,${JSON.stringify(f)}:{`:"",[Iie]:o,[set]:y,[fet]:w,[Pie]:N,[Nie]:F,[uet]:b,silent:WQe,onChild:x,[det]:I}),Object.setPrototypeOf(e,LQe()),$Qe(e),e[YQe](p),e}uo.exports=I$;uo.exports.destination=(t=process.stdout.fd)=>typeof t=="object"?(t.dest=Aie(t.dest||process.stdout.fd),Rie(t)):Rie({dest:Aie(t),minLength:0});uo.exports.transport=d$();uo.exports.multistream=xie();uo.exports.levels=Mie();uo.exports.stdSerializers=vet;uo.exports.stdTimeFunctions=Object.assign({},Fie);uo.exports.symbols=Lie;uo.exports.version=GQe;uo.exports.default=I$;uo.exports.pino=I$});var ov=v((gRr,Vie)=>{"use strict";var wet=$re(),KC=Uie(),{serializersSym:jie}=KC.symbols,{FST_ERR_LOG_INVALID_DESTINATION:bet,FST_ERR_LOG_INVALID_LOGGER:Eet}=vi();function Bie(t){if(t.stream&&t.file)throw new bet;t.file&&(t.stream=KC.destination(t.file),delete t.file);let e=t.logger,r=t.genReqId,n=null;return e?(t.logger=void 0,t.genReqId=void 0,e[jie]&&(t.serializers=Object.assign({},t.serializers,e[jie])),n=e.child({},t),t.logger=e,t.genReqId=r):n=KC(t,t.stream),n}var O$={req:function(e){return{method:e.method,url:e.url,version:e.headers&&e.headers["accept-version"],hostname:e.hostname,remoteAddress:e.ip,remotePort:e.socket?e.socket.remotePort:void 0}},err:KC.stdSerializers.err,res:function(e){return{statusCode:e.statusCode}}};function Tet(){let t=process.hrtime();return t[0]*1e3+t[1]/1e6}function Cet(t){if(!t.logger){let n=wet;return n.child=()=>n,{logger:n,hasLogger:!1}}if(Hie(t.logger))return{logger:Bie({logger:t.logger,serializers:Object.assign({},O$,t.logger.serializers)}),hasLogger:!0};let e={};return Object.prototype.toString.call(t.logger)==="[object Object]"&&Reflect.ownKeys(t.logger).forEach(n=>{Object.defineProperty(e,n,{value:t.logger[n],writable:!0,enumerable:!0,configurable:!0})}),e.level=e.level||"info",e.serializers=Object.assign({},O$,e.serializers),t.logger=e,{logger:Bie(t.logger),hasLogger:!0}}function Hie(t,e){let r=["info","error","debug","fatal","warn","trace","child"],n=t?r.filter(i=>!t[i]||typeof t[i]!="function"):r;if(n.length){if(n.length===r.length&&!e)return!1;throw Eet(n.join(","))}else return!0}function xet(t,e,r,n,i){let s={[t.requestIdLogLabel]:n},o=t.childLoggerFactory.call(t.server,e,s,i||{},r);return t.childLoggerFactory!==zie&&Hie(o,!0),o}function zie(t,e,r){return t.child(e,r)}Vie.exports={createLogger:Cet,createChildLogger:xet,defaultChildLoggerFactory:zie,serializers:O$,now:Tet}});var XC=v((yRr,Wie)=>{"use strict";Wie.exports=Ret;function Nm(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function Ret(t){if(t=t||{},t.circles)return Aet(t);let e=new Map;if(e.set(Date,o=>new Date(o)),e.set(Map,(o,a)=>new Map(n(Array.from(o),a))),e.set(Set,(o,a)=>new Set(n(Array.from(o),a))),t.constructorHandlers)for(let o of t.constructorHandlers)e.set(o[0],o[1]);let r=null;return t.proto?s:i;function n(o,a){let u=Object.keys(o),c=new Array(u.length);for(let f=0;f<u.length;f++){let d=u[f],h=o[d];typeof h!="object"||h===null?c[d]=h:h.constructor!==Object&&(r=e.get(h.constructor))?c[d]=r(h,a):ArrayBuffer.isView(h)?c[d]=Nm(h):c[d]=a(h)}return c}function i(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,i);if(o.constructor!==Object&&(r=e.get(o.constructor)))return r(o,i);let a={};for(let u in o){if(Object.hasOwnProperty.call(o,u)===!1)continue;let c=o[u];typeof c!="object"||c===null?a[u]=c:c.constructor!==Object&&(r=e.get(c.constructor))?a[u]=r(c,i):ArrayBuffer.isView(c)?a[u]=Nm(c):a[u]=i(c)}return a}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return n(o,s);if(o.constructor!==Object&&(r=e.get(o.constructor)))return r(o,s);let a={};for(let u in o){let c=o[u];typeof c!="object"||c===null?a[u]=c:c.constructor!==Object&&(r=e.get(c.constructor))?a[u]=r(c,s):ArrayBuffer.isView(c)?a[u]=Nm(c):a[u]=s(c)}return a}}function Aet(t){let e=[],r=[],n=new Map;if(n.set(Date,u=>new Date(u)),n.set(Map,(u,c)=>new Map(s(Array.from(u),c))),n.set(Set,(u,c)=>new Set(s(Array.from(u),c))),t.constructorHandlers)for(let u of t.constructorHandlers)n.set(u[0],u[1]);let i=null;return t.proto?a:o;function s(u,c){let f=Object.keys(u),d=new Array(f.length);for(let h=0;h<f.length;h++){let p=f[h],m=u[p];if(typeof m!="object"||m===null)d[p]=m;else if(m.constructor!==Object&&(i=n.get(m.constructor)))d[p]=i(m,c);else if(ArrayBuffer.isView(m))d[p]=Nm(m);else{let g=e.indexOf(m);g!==-1?d[p]=r[g]:d[p]=c(m)}}return d}function o(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return s(u,o);if(u.constructor!==Object&&(i=n.get(u.constructor)))return i(u,o);let c={};e.push(u),r.push(c);for(let f in u){if(Object.hasOwnProperty.call(u,f)===!1)continue;let d=u[f];if(typeof d!="object"||d===null)c[f]=d;else if(d.constructor!==Object&&(i=n.get(d.constructor)))c[f]=i(d,o);else if(ArrayBuffer.isView(d))c[f]=Nm(d);else{let h=e.indexOf(d);h!==-1?c[f]=r[h]:c[f]=o(d)}}return e.pop(),r.pop(),c}function a(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return s(u,a);if(u.constructor!==Object&&(i=n.get(u.constructor)))return i(u,a);let c={};e.push(u),r.push(c);for(let f in u){let d=u[f];if(typeof d!="object"||d===null)c[f]=d;else if(d.constructor!==Object&&(i=n.get(d.constructor)))c[f]=i(d,a);else if(ArrayBuffer.isView(d))c[f]=Nm(d);else{let h=e.indexOf(d);h!==-1?c[f]=r[h]:c[f]=a(d)}}return e.pop(),r.pop(),c}}});var av=v((_Rr,Zie)=>{"use strict";var Pet=XC()({circles:!1,proto:!0}),{kSchemaVisited:Gie,kSchemaResponse:Iet}=Hn(),k$=Symbol.for("fluent-schema-object"),{FSTDEP022:Oet}=La(),{FST_ERR_SCH_MISSING_ID:ket,FST_ERR_SCH_ALREADY_PRESENT:Net,FST_ERR_SCH_DUPLICATE:Det,FST_ERR_SCH_CONTENT_MISSING_SCHEMA:Kie}=vi(),Jie=["params","body","querystring","query","headers"];function ZC(t){this.store=t||{}}ZC.prototype.add=function(t){let e=Pet(t.isFluentSchema||t.isFluentJSONSchema||t[k$]?t.valueOf():t),r=e.$id;if(!r)throw new ket;if(this.store[r])throw new Net(r);this.store[r]=e};ZC.prototype.getSchemas=function(){return Object.assign({},this.store)};ZC.prototype.getSchema=function(t){return this.store[t]};function Xie(t){return typeof t=="object"&&Object.getPrototypeOf(t)!==Object.prototype}function Fet(t,e,r){if(e[Gie])return e;if(e.query){if(e.querystring)throw new Det("querystring");e.querystring=e.query}Let(e);for(let n of Jie){let i=e[n];if(i&&!Xie(i)){if(n==="body"&&i.content){let s=i.content,o=Object.keys(s);for(let a=0;a<o.length;a++){let u=o[a],c=s[u].schema;if(!c)throw new Kie(u);e.body.content[u].schema=JC(t.url,c,r.jsonShorthand)}continue}e[n]=JC(t.url,i,r.jsonShorthand)}}if(e.response){let n=Object.keys(e.response);for(let i of n){if(Xie(e.response[i]))continue;let s=e.response[i].content,o=!1;if(s){let a=Object.keys(s);for(let u=0;u<a.length;u++){let c=a[u];if(!s[c].schema){if(a.length===1)break;throw new Kie(c)}e.response[i].content[c].schema=JC(t.url,s[c].schema,r.jsonShorthand),u===a.length-1&&(o=!0)}}o||(e.response[i]=JC(t.url,e.response[i],r.jsonShorthand))}}return e[Gie]=!0,e}function Let(t){for(let e of Jie)t[e]&&(t[e].isFluentSchema||t[e][k$])&&(t[e]=t[e].valueOf());if(t.response){let e=Object.keys(t.response);for(let r of e)(t.response[r].isFluentSchema||t.response[r][k$])&&(t.response[r]=t.response[r].valueOf())}}function JC(t,e,r){return!r||e.$ref||e.oneOf||e.allOf||e.anyOf||e.$merge||e.$patch?e:!e.type&&!e.properties?(Oet(t),{type:"object",properties:e}):e}function Met(t,e,r){let n=t[Iet];if(!n)return!1;if(n[e]){if(n[e].constructor===Object&&r){let s=r.split(";",1)[0];return n[e][s]?n[e][s]:!1}return n[e]}let i=(e+"")[0]+"xx";if(n[i]){if(n[i].constructor===Object&&r){let s=r.split(";",1)[0];return n[i][s]?n[i][s]:!1}return n[i]}if(n.default){if(n.default.constructor===Object&&r){let s=r.split(";",1)[0];return n.default[s]?n.default[s]:!1}return n.default}return!1}Zie.exports={buildSchemas(t){return new ZC(t)},getSchemaSerializer:Met,normalizeSchema:Fet}});var YC=v((vRr,Qie)=>{"use strict";var qet=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;Qie.exports=class Yie{constructor(e){switch(e&&e.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;case"trunc":default:this.parseInteger=Math.trunc;break}this._options=e}asInteger(e){if(Number.isInteger(e))return""+e;if(typeof e=="bigint")return e.toString();let r=this.parseInteger(e);if(r===1/0||r===-1/0||r!==r)throw new Error(`The value "${e}" cannot be converted to an integer.`);return""+r}asNumber(e){let r=Number(e);if(r!==r)throw new Error(`The value "${e}" cannot be converted to a number.`);return r===1/0||r===-1/0?"null":""+r}asBoolean(e){return e&&"true"||"false"}asDateTime(e){if(e===null)return'""';if(e instanceof Date)return'"'+e.toISOString()+'"';if(typeof e=="string")return'"'+e+'"';throw new Error(`The value "${e}" cannot be converted to a date-time.`)}asDate(e){if(e===null)return'""';if(e instanceof Date)return'"'+new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof e=="string")return'"'+e+'"';throw new Error(`The value "${e}" cannot be converted to a date.`)}asTime(e){if(e===null)return'""';if(e instanceof Date)return'"'+new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof e=="string")return'"'+e+'"';throw new Error(`The value "${e}" cannot be converted to a time.`)}asString(e){let r=e.length;if(r<42){let i="",s=-1,o=255;for(var n=0;n<r;n++)if(o=e.charCodeAt(n),o===34||o===92)s===-1&&(s=0),i+=e.slice(s,n)+"\\",s=n;else if(o<32||o>=55296&&o<=57343)return JSON.stringify(e);return s===-1&&'"'+e+'"'||'"'+i+e.slice(s)+'"'}else return r<5e3&&qet.test(e)===!1?'"'+e+'"':JSON.stringify(e)}asUnsafeString(e){return'"'+e+'"'}getState(){return this._options}static restoreFromState(e){return new Yie(e)}}});var tse=v((wRr,ese)=>{"use strict";var $et=YC(),Uet={mode:"standalone"},jet=$et.restoreFromState(Uet),Bet=null;ese.exports=(function(e,r){let p="null";function m(y){let w=y&&typeof y.toJSON=="function"?y.toJSON():y;if(w===null)return"{}";let S,E="{",b=!1;return S=w.statusCode,S!==void 0&&(!b&&(b=!0)||(E+=","),E+='"statusCode":',E+=r.asNumber(S)),S=w.code,S!==void 0&&(!b&&(b=!0)||(E+=","),E+='"code":',typeof S!="string"?S===null?E+='""':S instanceof Date?E+='"'+S.toISOString()+'"':S instanceof RegExp?E+=r.asString(S.source):E+=r.asString(S.toString()):E+=r.asString(S)),S=w.error,S!==void 0&&(!b&&(b=!0)||(E+=","),E+='"error":',typeof S!="string"?S===null?E+='""':S instanceof Date?E+='"'+S.toISOString()+'"':S instanceof RegExp?E+=r.asString(S.source):E+=r.asString(S.toString()):E+=r.asString(S)),S=w.message,S!==void 0&&(!b&&(b=!0)||(E+=","),E+='"message":',typeof S!="string"?S===null?E+='""':S instanceof Date?E+='"'+S.toISOString()+'"':S instanceof RegExp?E+=r.asString(S.source):E+=r.asString(S.toString()):E+=r.asString(S)),E+"}"}return m})(Bet,jet)});var uv=v((bRr,sse)=>{"use strict";var rse=require("node:http").STATUS_CODES,Het=Fq(),{kReplyHeaders:Md,kReplyNextErrorHandler:QC,kReplyIsRunningOnErrorHook:zet,kReplyHasStatusCode:Vet,kRouteContext:ise,kDisableRequestLogging:ex}=Hn(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE:Wet,FST_ERR_FAILED_ERROR_SERIALIZATION:Get}=vi(),{getSchemaSerializer:Ket}=av(),N$=tse(),Xet={func:Zet,toJSON(){return this.func.name.toString()+"()"}};function Jet(t,e,r){t[zet]=!1;let n=t[ise];if(t[QC]===!1){nse(e,t,function(o,a){try{o.raw.writeHead(o.raw.statusCode,o[Md])}catch(u){o.log[ex]||o.log.warn({req:o.request,res:o,err:u},u&&u.message),o.raw.writeHead(o.raw.statusCode)}o.raw.end(a)});return}let i=t[QC]||n.errorHandler;t[QC]=Object.getPrototypeOf(i),delete t[Md]["content-type"],delete t[Md]["content-length"];let s=i.func;if(!s){t[QC]=!1,nse(e,t,r);return}try{let o=s(e,t.request,t);o!==void 0&&(o!==null&&typeof o.then=="function"?Het(o,t):t.send(o))}catch(o){t.send(o)}}function Zet(t,e,r){if(Qet(t,r),!r[Vet]||r.statusCode===200){let n=t.statusCode||t.status;r.code(n>=400?n:500)}r.statusCode<500?r.log[ex]||r.log.info({res:r,err:t},t&&t.message):r.log[ex]||r.log.error({req:e,res:r,err:t},t&&t.message),r.send(t)}function nse(t,e,r){let n=e.raw,i=e.statusCode;e[Md]["content-type"]=e[Md]["content-type"]??"application/json; charset=utf-8";let s;try{let o=Ket(e[ise],i,e[Md]["content-type"]);s=o===!1?N$({error:rse[i+""],code:t.code,message:t.message,statusCode:i}):o(Object.create(t,{error:{value:rse[i+""]},message:{value:t.message},statusCode:{value:i}}))}catch(o){e.log[ex]||e.log.error({err:o,statusCode:n.statusCode},"The serializer for the given status code failed"),e.code(500),s=N$(new Get(o.message,t.message))}typeof s!="string"&&!Buffer.isBuffer(s)&&(s=N$(new Wet(typeof s))),e[Md]["content-length"]=""+Buffer.byteLength(s),r(e,s)}function Yet(t=Xet,e){if(!e)return t;let r=Object.create(t);return r.func=e,r}function Qet(t,e){let r=e.raw,n=r.statusCode;n=n>=400?n:500,t!=null&&(t.headers!==void 0&&e.headers(t.headers),t.status>=400?n=t.status:t.statusCode>=400&&(n=t.statusCode)),r.statusCode=n}sse.exports={buildErrorHandler:Yet,handleError:Jet}});var ox=v((ERr,sx)=>{"use strict";var M$=require("node:stream").finished,ett=require("node:stream").Readable,{kFourOhFourContext:ose,kPublicRouteContext:ase,kReplyErrorHandlerCalled:pse,kReplyHijacked:cv,kReplyStartTime:lv,kReplyEndTime:$$,kReplySerializer:Wu,kReplySerializerDefault:rx,kReplyIsError:nx,kReplyHeaders:Fr,kReplyTrailers:Vn,kReplyHasStatusCode:U$,kReplyIsRunningOnErrorHook:j$,kReplyNextErrorHandler:ttt,kDisableRequestLogging:mse,kSchemaResponse:ix,kReplyCacheSerializeFns:fl,kSchemaController:D$,kOptions:rtt,kRouteContext:qt}=Hn(),{onSendHookRunner:gse,onResponseHookRunner:ntt,preHandlerHookRunner:itt,preSerializationHookRunner:stt}=ol(),use=$q()[Symbol.for("internals")],ott=ov(),q$=ott.now,{handleError:cse}=uv(),{getSchemaSerializer:att}=av(),F$={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:utt,FST_ERR_REP_RESPONSE_BODY_CONSUMED:ctt,FST_ERR_REP_ALREADY_SENT:yse,FST_ERR_REP_SENT_VALUE:ltt,FST_ERR_SEND_INSIDE_ONERR:ftt,FST_ERR_BAD_STATUS_CODE:dtt,FST_ERR_BAD_TRAILER_NAME:htt,FST_ERR_BAD_TRAILER_VALUE:ptt,FST_ERR_MISSING_SERIALIZATION_FN:mtt,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:gtt}=vi(),{FSTDEP010:ytt,FSTDEP013:_tt,FSTDEP019:vtt,FSTDEP020:wtt,FSTDEP021:btt}=La(),_se=Object.prototype.toString;function Ir(t,e,r){this.raw=t,this[Wu]=null,this[pse]=!1,this[nx]=!1,this[j$]=!1,this.request=e,this[Fr]={},this[Vn]=null,this[U$]=!1,this[lv]=void 0,this.log=r}Ir.props=[];Object.defineProperties(Ir.prototype,{[qt]:{get(){return this.request[qt]}},context:{get(){return vtt(),this.request[qt]}},elapsedTime:{get(){return this[lv]===void 0?0:(this[$$]||q$())-this[lv]}},server:{get(){return this.request[qt].server}},sent:{enumerable:!0,get(){return(this[cv]||this.raw.writableEnded)===!0},set(t){if(ytt(),t!==!0)throw new ltt;if(this.sent&&this[cv])throw new yse(this.request.url,this.request.method);this[cv]=!0}},statusCode:{get(){return this.raw.statusCode},set(t){this.code(t)}},[ase]:{get(){return this.request[ase]}}});Ir.prototype.hijack=function(){return this[cv]=!0,this};Ir.prototype.send=function(t){if(this[j$]===!0)throw new ftt;if(this.sent)return this.log.warn({err:new yse(this.request.url,this.request.method)}),this;if(t instanceof Error||this[nx]===!0)return this[nx]=!1,fv(this,t,qd),this;if(t===void 0)return qd(this,t),this;let e=this.getHeader("content-type"),r=e!==void 0;if(t!==null){if(typeof t.pipe=="function"||typeof t.getReader=="function"||_se.call(t)==="[object Response]")return qd(this,t),this;if(t?.buffer instanceof ArrayBuffer){r===!1&&(this[Fr]["content-type"]=F$.OCTET);let n=Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength);return qd(this,n),this}if(r===!1&&typeof t=="string")return this[Fr]["content-type"]=F$.PLAIN,qd(this,t),this}if(this[Wu]!==null){if(typeof t!="string")return lse(this,t),this;t=this[Wu](t)}else if(r===!1||e.indexOf("json")>-1){if(r===!1)this[Fr]["content-type"]=F$.JSON;else if(e.indexOf("charset")===-1){let n=e.trim();n.endsWith(";")?this[Fr]["content-type"]=`${n} charset=utf-8`:this[Fr]["content-type"]=`${n}; charset=utf-8`}if(typeof t!="string")return lse(this,t),this}return qd(this,t),this};Ir.prototype.getHeader=function(t){t=t.toLowerCase();let e=this.raw,r=this[Fr][t];return r===void 0&&e.hasHeader(t)&&(r=e.getHeader(t)),r};Ir.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[Fr]}};Ir.prototype.hasHeader=function(t){return t=t.toLowerCase(),this[Fr][t]!==void 0||this.raw.hasHeader(t)};Ir.prototype.removeHeader=function(t){return delete this[Fr][t.toLowerCase()],this};Ir.prototype.header=function(t,e=""){return t=t.toLowerCase(),this[Fr][t]&&t==="set-cookie"?(typeof this[Fr][t]=="string"&&(this[Fr][t]=[this[Fr][t]]),Array.isArray(e)?Array.prototype.push.apply(this[Fr][t],e):this[Fr][t].push(e)):this[Fr][t]=e,this};Ir.prototype.headers=function(t){let e=Object.keys(t);for(var r=0;r!==e.length;++r){let n=e[r];this.header(n,t[n])}return this};var Ett=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);Ir.prototype.trailer=function(t,e){if(t=t.toLowerCase(),Ett.has(t))throw new htt(t);if(typeof e!="function")throw new ptt(t,typeof e);return this[Vn]===null&&(this[Vn]={}),this[Vn][t]=e,this};Ir.prototype.hasTrailer=function(t){return this[Vn]?.[t.toLowerCase()]!==void 0};Ir.prototype.removeTrailer=function(t){return this[Vn]===null?this:(this[Vn][t.toLowerCase()]=void 0,this)};Ir.prototype.code=function(t){let e=Number(t);if(isNaN(e)||e<100||e>599)throw new dtt(t||String(t));return this.raw.statusCode=e,this[U$]=!0,this};Ir.prototype.status=Ir.prototype.code;Ir.prototype.getSerializationFunction=function(t,e){let r;return typeof t=="string"||typeof t=="number"?typeof e=="string"?r=this[qt][ix]?.[t]?.[e]:r=this[qt][ix]?.[t]:typeof t=="object"&&(r=this[qt][fl]?.get(t)),r};Ir.prototype.compileSerializationSchema=function(t,e=null,r=null){let{request:n}=this,{method:i,url:s}=n;if(this[qt][fl]?.has(t))return this[qt][fl].get(t);let a=(this[qt].serializerCompiler||this.server[D$].serializerCompiler||this.server[D$].setupSerializer(this.server[rtt])||this.server[D$].serializerCompiler)({schema:t,method:i,url:s,httpStatus:e,contentType:r});return this[qt][fl]==null&&(this[qt][fl]=new WeakMap),this[qt][fl].set(t,a),a};Ir.prototype.serializeInput=function(t,e,r,n){let i=r,s;if(r=typeof e=="string"||typeof e=="number"?e:r,n=r&&i!==r?i:n,r!=null){if(n!=null?s=this[qt][ix]?.[r]?.[n]:s=this[qt][ix]?.[r],s==null)throw n?new gtt(r,n):new mtt(r)}else this[qt][fl]?.has(e)?s=this[qt][fl].get(e):s=this.compileSerializationSchema(e,r,n);return s(t)};Ir.prototype.serialize=function(t){return this[Wu]!==null?this[Wu](t):this[qt]&&this[qt][rx]?this[qt][rx](t,this.raw.statusCode):bse(this[qt],t,this.raw.statusCode)};Ir.prototype.serializer=function(t){return this[Wu]=t,this};Ir.prototype.type=function(t){return this[Fr]["content-type"]=t,this};Ir.prototype.redirect=function(t,e){if(typeof t=="number"){btt();let r=e;e=t,t=r}return e||(e=this[U$]?this.raw.statusCode:302),this.header("location",t).code(e).send()};Ir.prototype.callNotFound=function(){return Ptt(this),this};Ir.prototype.getResponseTime=function(){return wtt(),this.elapsedTime};Ir.prototype.then=function(t,e){if(this.sent){t();return}M$(this.raw,r=>{r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"?e?e(r):this.log&&this.log.warn("unhandled rejection on reply.then"):t()})};function lse(t,e){t[qt].preSerialization!==null?stt(t[qt].preSerialization,t.request,t,e,fse):fse(null,t.request,t,e)}function fse(t,e,r,n){if(t!=null){fv(r,t);return}try{r[Wu]!==null?n=r[Wu](n):r[qt]&&r[qt][rx]?n=r[qt][rx](n,r.raw.statusCode):n=bse(r[qt],n,r.raw.statusCode,r[Fr]["content-type"])}catch(i){Stt(i,r),fv(r,i);return}qd(r,n)}function Stt(t,e){t.serialization=e[qt].config}function qd(t,e){t[qt].onSend!==null?gse(t[qt].onSend,t.request,t,e,Ttt):vse(t,e)}function Ttt(t,e,r,n){t!=null?fv(r,t):vse(r,n)}function L$(t,e){let r=t.raw;try{r.writeHead(e,t[Fr])}catch(n){throw n.code==="ERR_HTTP_HEADERS_SENT"&&t.log.warn(`Reply was already sent, did you forget to "return reply" in the "${t.request.raw.url}" (${t.request.raw.method}) route?`),n}}function vse(t,e){let r=t.raw,n=t.request;if(t[Vn]!==null){let s=Object.keys(t[Vn]),o="";for(let a of s)typeof t[Vn][a]=="function"&&(o+=" ",o+=a);t.header("Transfer-Encoding","chunked"),t.header("Trailer",o.trim())}if(_se.call(e)==="[object Response]"){if(typeof e.status=="number"&&t.code(e.status),typeof e.headers=="object"&&typeof e.headers.forEach=="function")for(let[s,o]of e.headers)t.header(s,o);if(e.body!==null&&e.bodyUsed)throw new ctt;e=e.body}let i=r.statusCode;if(e==null){i>=200&&i!==204&&i!==304&&n.method!=="HEAD"&&t[Vn]===null&&(t[Fr]["content-length"]="0"),L$(t,i),tx(e,r,t);return}if(i>=100&&i<200||i===204){t.removeHeader("content-type"),t.removeHeader("content-length"),L$(t,i),tx(void 0,r,t),typeof e.resume=="function"&&(e.on("error",Ese),e.resume());return}if(typeof e.pipe=="function"){wse(e,r,t);return}if(typeof e.getReader=="function"){Ctt(e,r,t);return}if(typeof e!="string"&&!Buffer.isBuffer(e))throw new utt(typeof e);if(t[Vn]===null){let s=t[Fr]["content-length"];(!s||n.raw.method!=="HEAD"&&Number(s)!==Buffer.byteLength(e))&&(t[Fr]["content-length"]=""+Buffer.byteLength(e))}L$(t,i),r.write(e),tx(e,r,t)}function dse(t,e,r){e.code==="ERR_STREAM_PREMATURE_CLOSE"?t[mse]||t.info({res:r},"stream closed prematurely"):t.warn({err:e},"response terminated with an error with headers already sent")}function Ctt(t,e,r){let n=ett.fromWeb(t);wse(n,e,r)}function wse(t,e,r){let n=!0,i=!1;if(xtt(t,e,r),M$(t,{readable:!0,writable:!1},function(s){n=!1,s!=null&&(e.headersSent||r.request.raw.aborted===!0?(i||(i=!0,dse(r.log,s,r)),e.destroy()):fv(r,s))}),M$(e,function(s){n&&(s!=null&&e.headersSent&&!i&&(i=!0,dse(r.log,s,e)),typeof t.destroy=="function"?t.destroy():typeof t.close=="function"?t.close(Ese):typeof t.abort=="function"?t.abort():r.log.warn("stream payload does not end properly"))}),e.headersSent)r.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let s in r[Fr])e.setHeader(s,r[Fr][s]);t.pipe(e)}function tx(t,e,r){if(r[Vn]===null){e.end(null,null,null);return}let n=Object.keys(r[Vn]),i={},s=0,o=!0;function a(){s===0&&(e.addTrailers(i),e.end(null,null,null))}for(let u of n){let c=function(d,h){s++,d?r.log.debug(d):i[u]=h,process.nextTick(a)};if(typeof r[Vn][u]!="function")continue;o=!1,s--;let f=r[Vn][u](r,t,c);typeof f=="object"&&typeof f.then=="function"?f.then(d=>c(null,d),c):f!=null&&(_tt(),c(null,f))}o&&e.end(null,null,null)}function xtt(t,e,r){r[Vn]!==null&&t.on("end",()=>tx(null,e,r))}function fv(t,e,r){t[qt].onError!==null&&!t[ttt]?(t[j$]=!0,gse(t[qt].onError,t.request,t,e,()=>cse(t,e,r))):cse(t,e,r)}function Rtt(t){t[lv]=q$();let e=r=>{t[$$]=q$(),t.raw.removeListener("finish",e),t.raw.removeListener("error",e);let n=t[qt];n&&n.onResponse!==null?ntt(n.onResponse,t.request,t,hse):hse(r,t.request,t)};t.raw.on("finish",e),t.raw.on("error",e)}function hse(t,e,r){if(r.log[mse])return;let n=r.elapsedTime;if(t!=null){r.log.error({res:r,err:t,responseTime:n},"request errored");return}r.log.info({res:r,responseTime:n},"request completed")}function Att(t){let e=t.props.slice();function r(n,i,s){this.raw=n,this[nx]=!1,this[pse]=!1,this[cv]=!1,this[Wu]=null,this.request=i,this[Fr]={},this[Vn]=null,this[lv]=void 0,this[$$]=void 0,this.log=s;for(var o,a=0;a<e.length;a++)o=e[a],this[o.key]=o.value}return Object.setPrototypeOf(r.prototype,t.prototype),Object.setPrototypeOf(r,t),r.parent=t,r.props=e,r}function Ptt(t){if(t[qt][ose]===null){t.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),t.code(404).send("404 Not Found");return}t.request[qt]=t[qt][ose],t[qt].preHandler!==null?itt(t[qt].preHandler,t.request,t,use.preHandlerCallback):use.preHandlerCallback(null,t.request,t)}function bse(t,e,r,n){let i=att(t,r,n);return i?i(e):JSON.stringify(e)}function Ese(){}sx.exports=Ir;sx.exports.buildReply=Att;sx.exports.setupResponseListeners=Rtt});var Tse=v((SRr,Sse)=>{"use strict";Sse.exports=Itt;function Itt(t){if(!t)throw new TypeError("argument req is required");var e=ktt(t.headers["x-forwarded-for"]||""),r=Ott(t),n=[r].concat(e);return n}function Ott(t){return t.socket?t.socket.remoteAddress:t.connection.remoteAddress}function ktt(t){for(var e=t.length,r=[],n=t.length,i=t.length-1;i>=0;i--)switch(t.charCodeAt(i)){case 32:n===e&&(n=e=i);break;case 44:n!==e&&r.push(t.substring(n,e)),n=e=i;break;default:n=i;break}return n!==e&&r.push(t.substring(n,e)),r}});var xse=v((Cse,dv)=>{(function(){var t,e,r,n,i,s,o,a,u;e={},a=this,typeof dv<"u"&&dv!==null&&dv.exports?dv.exports=e:a.ipaddr=e,o=function(c,f,d,h){var p,m;if(c.length!==f.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(p=0;h>0;){if(m=d-h,m<0&&(m=0),c[p]>>m!==f[p]>>m)return!1;h-=d,p+=1}return!0},e.subnetMatch=function(c,f,d){var h,p,m,g,y;d==null&&(d="unicast");for(m in f)for(g=f[m],g[0]&&!(g[0]instanceof Array)&&(g=[g]),h=0,p=g.length;h<p;h++)if(y=g[h],c.kind()===y[0].kind()&&c.match.apply(c,y))return m;return d},e.IPv4=(function(){function c(f){var d,h,p;if(f.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(d=0,h=f.length;d<h;d++)if(p=f[d],!(0<=p&&p<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=f}return c.prototype.kind=function(){return"ipv4"},c.prototype.toString=function(){return this.octets.join(".")},c.prototype.toNormalizedString=function(){return this.toString()},c.prototype.toByteArray=function(){return this.octets.slice(0)},c.prototype.match=function(f,d){var h;if(d===void 0&&(h=f,f=h[0],d=h[1]),f.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return o(this.octets,f.octets,8,d)},c.prototype.SpecialRanges={unspecified:[[new c([0,0,0,0]),8]],broadcast:[[new c([255,255,255,255]),32]],multicast:[[new c([224,0,0,0]),4]],linkLocal:[[new c([169,254,0,0]),16]],loopback:[[new c([127,0,0,0]),8]],carrierGradeNat:[[new c([100,64,0,0]),10]],private:[[new c([10,0,0,0]),8],[new c([172,16,0,0]),12],[new c([192,168,0,0]),16]],reserved:[[new c([192,0,0,0]),24],[new c([192,0,2,0]),24],[new c([192,88,99,0]),24],[new c([198,51,100,0]),24],[new c([203,0,113,0]),24],[new c([240,0,0,0]),4]]},c.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},c.prototype.toIPv4MappedAddress=function(){return e.IPv6.parse("::ffff:"+this.toString())},c.prototype.prefixLengthFromSubnetMask=function(){var f,d,h,p,m,g,y;for(y={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},f=0,m=!1,d=h=3;h>=0;d=h+=-1)if(p=this.octets[d],p in y){if(g=y[p],m&&g!==0)return null;g!==8&&(m=!0),f+=g}else return null;return 32-f},c})(),r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp("^"+r+"\\."+r+"\\."+r+"\\."+r+"$","i"),longValue:new RegExp("^"+r+"$","i")},e.IPv4.parser=function(c){var f,d,h,p,m;if(d=function(g){return g[0]==="0"&&g[1]!=="x"?parseInt(g,8):parseInt(g)},f=c.match(n.fourOctet))return(function(){var g,y,w,S;for(w=f.slice(1,6),S=[],g=0,y=w.length;g<y;g++)h=w[g],S.push(d(h));return S})();if(f=c.match(n.longValue)){if(m=d(f[1]),m>4294967295||m<0)throw new Error("ipaddr: address outside defined range");return(function(){var g,y;for(y=[],p=g=0;g<=24;p=g+=8)y.push(m>>p&255);return y})().reverse()}else return null},e.IPv6=(function(){function c(f,d){var h,p,m,g,y,w;if(f.length===16)for(this.parts=[],h=p=0;p<=14;h=p+=2)this.parts.push(f[h]<<8|f[h+1]);else if(f.length===8)this.parts=f;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(w=this.parts,m=0,g=w.length;m<g;m++)if(y=w[m],!(0<=y&&y<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");d&&(this.zoneId=d)}return c.prototype.kind=function(){return"ipv6"},c.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},c.prototype.toRFC5952String=function(){var f,d,h,p,m;for(p=/((^|:)(0(:|$)){2,})/g,m=this.toNormalizedString(),f=0,d=-1;h=p.exec(m);)h[0].length>d&&(f=h.index,d=h[0].length);return d<0?m:m.substring(0,f)+"::"+m.substring(f+d)},c.prototype.toByteArray=function(){var f,d,h,p,m;for(f=[],m=this.parts,d=0,h=m.length;d<h;d++)p=m[d],f.push(p>>8),f.push(p&255);return f},c.prototype.toNormalizedString=function(){var f,d,h;return f=(function(){var p,m,g,y;for(g=this.parts,y=[],p=0,m=g.length;p<m;p++)d=g[p],y.push(d.toString(16));return y}).call(this).join(":"),h="",this.zoneId&&(h="%"+this.zoneId),f+h},c.prototype.toFixedLengthString=function(){var f,d,h;return f=(function(){var p,m,g,y;for(g=this.parts,y=[],p=0,m=g.length;p<m;p++)d=g[p],y.push(d.toString(16).padStart(4,"0"));return y}).call(this).join(":"),h="",this.zoneId&&(h="%"+this.zoneId),f+h},c.prototype.match=function(f,d){var h;if(d===void 0&&(h=f,f=h[0],d=h[1]),f.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return o(this.parts,f.parts,16,d)},c.prototype.SpecialRanges={unspecified:[new c([0,0,0,0,0,0,0,0]),128],linkLocal:[new c([65152,0,0,0,0,0,0,0]),10],multicast:[new c([65280,0,0,0,0,0,0,0]),8],loopback:[new c([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new c([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new c([0,0,0,0,0,65535,0,0]),96],rfc6145:[new c([0,0,0,0,65535,0,0,0]),96],rfc6052:[new c([100,65435,0,0,0,0,0,0]),96],"6to4":[new c([8194,0,0,0,0,0,0,0]),16],teredo:[new c([8193,0,0,0,0,0,0,0]),32],reserved:[[new c([8193,3512,0,0,0,0,0,0]),32]]},c.prototype.range=function(){return e.subnetMatch(this,this.SpecialRanges)},c.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},c.prototype.toIPv4Address=function(){var f,d,h;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return h=this.parts.slice(-2),f=h[0],d=h[1],new e.IPv4([f>>8,f&255,d>>8,d&255])},c.prototype.prefixLengthFromSubnetMask=function(){var f,d,h,p,m,g,y;for(y={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},f=0,m=!1,d=h=7;h>=0;d=h+=-1)if(p=this.parts[d],p in y){if(g=y[p],m&&g!==0)return null;g!==16&&(m=!0),f+=g}else return null;return 128-f},c})(),i="(?:[0-9a-f]+::?)+",u="%[0-9a-z]{1,}",s={zoneIndex:new RegExp(u,"i"),native:new RegExp("^(::)?("+i+")?([0-9a-f]+)?(::)?("+u+")?$","i"),transitional:new RegExp("^((?:"+i+")|(?:::)(?:"+i+")?)"+(r+"\\."+r+"\\."+r+"\\."+r)+("("+u+")?$"),"i")},t=function(c,f){var d,h,p,m,g,y;if(c.indexOf("::")!==c.lastIndexOf("::"))return null;for(y=(c.match(s.zoneIndex)||[])[0],y&&(y=y.substring(1),c=c.replace(/%.+$/,"")),d=0,h=-1;(h=c.indexOf(":",h+1))>=0;)d++;if(c.substr(0,2)==="::"&&d--,c.substr(-2,2)==="::"&&d--,d>f)return null;for(g=f-d,m=":";g--;)m+="0:";return c=c.replace("::",m),c[0]===":"&&(c=c.slice(1)),c[c.length-1]===":"&&(c=c.slice(0,-1)),f=(function(){var w,S,E,b;for(E=c.split(":"),b=[],w=0,S=E.length;w<S;w++)p=E[w],b.push(parseInt(p,16));return b})(),{parts:f,zoneId:y}},e.IPv6.parser=function(c){var f,d,h,p,m,g,y;if(s.native.test(c))return t(c,8);if((p=c.match(s.transitional))&&(y=p[6]||"",f=t(p[1].slice(0,-1)+y,6),f.parts)){for(g=[parseInt(p[2]),parseInt(p[3]),parseInt(p[4]),parseInt(p[5])],d=0,h=g.length;d<h;d++)if(m=g[d],!(0<=m&&m<=255))return null;return f.parts.push(g[0]<<8|g[1]),f.parts.push(g[2]<<8|g[3]),{parts:f.parts,zoneId:f.zoneId}}return null},e.IPv4.isIPv4=e.IPv6.isIPv6=function(c){return this.parser(c)!==null},e.IPv4.isValid=function(c){var f;try{return new this(this.parser(c)),!0}catch(d){return f=d,!1}},e.IPv4.isValidFourPartDecimal=function(c){return!!(e.IPv4.isValid(c)&&c.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},e.IPv6.isValid=function(c){var f,d;if(typeof c=="string"&&c.indexOf(":")===-1)return!1;try{return f=this.parser(c),new this(f.parts,f.zoneId),!0}catch(h){return d=h,!1}},e.IPv4.parse=function(c){var f;if(f=this.parser(c),f===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(f)},e.IPv6.parse=function(c){var f;if(f=this.parser(c),f.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(f.parts,f.zoneId)},e.IPv4.parseCIDR=function(c){var f,d,h;if((d=c.match(/^(.+)\/(\d+)$/))&&(f=parseInt(d[2]),f>=0&&f<=32))return h=[this.parse(d[1]),f],Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},e.IPv4.subnetMaskFromPrefixLength=function(c){var f,d,h;if(c=parseInt(c),c<0||c>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(h=[0,0,0,0],d=0,f=Math.floor(c/8);d<f;)h[d]=255,d++;return f<4&&(h[f]=Math.pow(2,c%8)-1<<8-c%8),new this(h)},e.IPv4.broadcastAddressFromCIDR=function(c){var f,d,h,p,m,g;try{for(f=this.parseCIDR(c),p=f[0].toByteArray(),g=this.subnetMaskFromPrefixLength(f[1]).toByteArray(),m=[],h=0;h<4;)m.push(parseInt(p[h],10)|parseInt(g[h],10)^255),h++;return new this(m)}catch(y){throw d=y,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv4.networkAddressFromCIDR=function(c){var f,d,h,p,m,g;try{for(f=this.parseCIDR(c),p=f[0].toByteArray(),g=this.subnetMaskFromPrefixLength(f[1]).toByteArray(),m=[],h=0;h<4;)m.push(parseInt(p[h],10)&parseInt(g[h],10)),h++;return new this(m)}catch(y){throw d=y,new Error("ipaddr: the address does not have IPv4 CIDR format")}},e.IPv6.parseCIDR=function(c){var f,d,h;if((d=c.match(/^(.+)\/(\d+)$/))&&(f=parseInt(d[2]),f>=0&&f<=128))return h=[this.parse(d[1]),f],Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},e.isValid=function(c){return e.IPv6.isValid(c)||e.IPv4.isValid(c)},e.parse=function(c){if(e.IPv6.isValid(c))return e.IPv6.parse(c);if(e.IPv4.isValid(c))return e.IPv4.parse(c);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},e.parseCIDR=function(c){var f;try{return e.IPv6.parseCIDR(c)}catch(d){f=d;try{return e.IPv4.parseCIDR(c)}catch(h){throw f=h,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},e.fromByteArray=function(c){var f;if(f=c.length,f===4)return new e.IPv4(c);if(f===16)return new e.IPv6(c);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},e.process=function(c){var f;return f=this.parse(c),f.kind()==="ipv6"&&f.isIPv4MappedAddress()?f.toIPv4Address():f}}).call(Cse)});var Ose=v((TRr,cx)=>{"use strict";cx.exports=$tt;cx.exports.all=Pse;cx.exports.compile=Ise;var Ntt=Tse(),Ase=xse(),Dtt=/^[0-9]+$/,ax=Ase.isValid,ux=Ase.parse,Rse={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function Pse(t,e){var r=Ntt(t);if(!e)return r;typeof e!="function"&&(e=Ise(e));for(var n=0;n<r.length-1;n++)e(r[n],n)||(r.length=n+1);return r}function Ise(t){if(!t)throw new TypeError("argument is required");var e;if(typeof t=="string")e=[t];else if(Array.isArray(t))e=t.slice();else throw new TypeError("unsupported trust argument");for(var r=0;r<e.length;r++)t=e[r],Object.prototype.hasOwnProperty.call(Rse,t)&&(t=Rse[t],e.splice.apply(e,[r,1].concat(t)),r+=t.length-1);return Ltt(Ftt(e))}function Ftt(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=Mtt(t[r]);return e}function Ltt(t){var e=t.length;return e===0?Utt:e===1?Btt(t[0]):jtt(t)}function Mtt(t){var e=t.lastIndexOf("/"),r=e!==-1?t.substring(0,e):t;if(!ax(r))throw new TypeError("invalid IP address: "+r);var n=ux(r);e===-1&&n.kind()==="ipv6"&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var i=n.kind()==="ipv6"?128:32,s=e!==-1?t.substring(e+1,t.length):null;if(s===null?s=i:Dtt.test(s)?s=parseInt(s,10):n.kind()==="ipv4"&&ax(s)?s=qtt(s):s=null,s<=0||s>i)throw new TypeError("invalid range on address: "+t);return[n,s]}function qtt(t){var e=ux(t),r=e.kind();return r==="ipv4"?e.prefixLengthFromSubnetMask():null}function $tt(t,e){if(!t)throw new TypeError("req argument is required");if(!e)throw new TypeError("trust argument is required");var r=Pse(t,e),n=r[r.length-1];return n}function Utt(){return!1}function jtt(t){return function(r){if(!ax(r))return!1;for(var n=ux(r),i,s=n.kind(),o=0;o<t.length;o++){var a=t[o],u=a[0],c=u.kind(),f=a[1],d=n;if(s!==c){if(c==="ipv4"&&!n.isIPv4MappedAddress())continue;i||(i=c==="ipv4"?n.toIPv4Address():n.toIPv4MappedAddress()),d=i}if(d.match(u,f))return!0}return!1}}function Btt(t){var e=t[0],r=e.kind(),n=r==="ipv4",i=t[1];return function(o){if(!ax(o))return!1;var a=ux(o),u=a.kind();if(u!==r){if(n&&!a.isIPv4MappedAddress())return!1;a=n?a.toIPv4Address():a.toIPv4MappedAddress()}return a.match(e,i)}}});var hv=v((CRr,kse)=>{"use strict";var Htt="2.0.0",ztt=Number.MAX_SAFE_INTEGER||9007199254740991,Vtt=16,Wtt=250,Gtt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];kse.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Vtt,MAX_SAFE_BUILD_LENGTH:Wtt,MAX_SAFE_INTEGER:ztt,RELEASE_TYPES:Gtt,SEMVER_SPEC_VERSION:Htt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var pv=v((xRr,Nse)=>{"use strict";var Ktt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Nse.exports=Ktt});var Dm=v((Ua,Dse)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:B$,MAX_SAFE_BUILD_LENGTH:Xtt,MAX_LENGTH:Jtt}=hv(),Ztt=pv();Ua=Dse.exports={};var Ytt=Ua.re=[],Qtt=Ua.safeRe=[],Be=Ua.src=[],ert=Ua.safeSrc=[],He=Ua.t={},trt=0,H$="[a-zA-Z0-9-]",rrt=[["\\s",1],["\\d",Jtt],[H$,Xtt]],nrt=t=>{for(let[e,r]of rrt)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Ct=(t,e,r)=>{let n=nrt(e),i=trt++;Ztt(t,i,e),He[t]=i,Be[i]=e,ert[i]=n,Ytt[i]=new RegExp(e,r?"g":void 0),Qtt[i]=new RegExp(n,r?"g":void 0)};Ct("NUMERICIDENTIFIER","0|[1-9]\\d*");Ct("NUMERICIDENTIFIERLOOSE","\\d+");Ct("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${H$}*`);Ct("MAINVERSION",`(${Be[He.NUMERICIDENTIFIER]})\\.(${Be[He.NUMERICIDENTIFIER]})\\.(${Be[He.NUMERICIDENTIFIER]})`);Ct("MAINVERSIONLOOSE",`(${Be[He.NUMERICIDENTIFIERLOOSE]})\\.(${Be[He.NUMERICIDENTIFIERLOOSE]})\\.(${Be[He.NUMERICIDENTIFIERLOOSE]})`);Ct("PRERELEASEIDENTIFIER",`(?:${Be[He.NONNUMERICIDENTIFIER]}|${Be[He.NUMERICIDENTIFIER]})`);Ct("PRERELEASEIDENTIFIERLOOSE",`(?:${Be[He.NONNUMERICIDENTIFIER]}|${Be[He.NUMERICIDENTIFIERLOOSE]})`);Ct("PRERELEASE",`(?:-(${Be[He.PRERELEASEIDENTIFIER]}(?:\\.${Be[He.PRERELEASEIDENTIFIER]})*))`);Ct("PRERELEASELOOSE",`(?:-?(${Be[He.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Be[He.PRERELEASEIDENTIFIERLOOSE]})*))`);Ct("BUILDIDENTIFIER",`${H$}+`);Ct("BUILD",`(?:\\+(${Be[He.BUILDIDENTIFIER]}(?:\\.${Be[He.BUILDIDENTIFIER]})*))`);Ct("FULLPLAIN",`v?${Be[He.MAINVERSION]}${Be[He.PRERELEASE]}?${Be[He.BUILD]}?`);Ct("FULL",`^${Be[He.FULLPLAIN]}$`);Ct("LOOSEPLAIN",`[v=\\s]*${Be[He.MAINVERSIONLOOSE]}${Be[He.PRERELEASELOOSE]}?${Be[He.BUILD]}?`);Ct("LOOSE",`^${Be[He.LOOSEPLAIN]}$`);Ct("GTLT","((?:<|>)?=?)");Ct("XRANGEIDENTIFIERLOOSE",`${Be[He.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ct("XRANGEIDENTIFIER",`${Be[He.NUMERICIDENTIFIER]}|x|X|\\*`);Ct("XRANGEPLAIN",`[v=\\s]*(${Be[He.XRANGEIDENTIFIER]})(?:\\.(${Be[He.XRANGEIDENTIFIER]})(?:\\.(${Be[He.XRANGEIDENTIFIER]})(?:${Be[He.PRERELEASE]})?${Be[He.BUILD]}?)?)?`);Ct("XRANGEPLAINLOOSE",`[v=\\s]*(${Be[He.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Be[He.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Be[He.XRANGEIDENTIFIERLOOSE]})(?:${Be[He.PRERELEASELOOSE]})?${Be[He.BUILD]}?)?)?`);Ct("XRANGE",`^${Be[He.GTLT]}\\s*${Be[He.XRANGEPLAIN]}$`);Ct("XRANGELOOSE",`^${Be[He.GTLT]}\\s*${Be[He.XRANGEPLAINLOOSE]}$`);Ct("COERCEPLAIN",`(^|[^\\d])(\\d{1,${B$}})(?:\\.(\\d{1,${B$}}))?(?:\\.(\\d{1,${B$}}))?`);Ct("COERCE",`${Be[He.COERCEPLAIN]}(?:$|[^\\d])`);Ct("COERCEFULL",Be[He.COERCEPLAIN]+`(?:${Be[He.PRERELEASE]})?(?:${Be[He.BUILD]})?(?:$|[^\\d])`);Ct("COERCERTL",Be[He.COERCE],!0);Ct("COERCERTLFULL",Be[He.COERCEFULL],!0);Ct("LONETILDE","(?:~>?)");Ct("TILDETRIM",`(\\s*)${Be[He.LONETILDE]}\\s+`,!0);Ua.tildeTrimReplace="$1~";Ct("TILDE",`^${Be[He.LONETILDE]}${Be[He.XRANGEPLAIN]}$`);Ct("TILDELOOSE",`^${Be[He.LONETILDE]}${Be[He.XRANGEPLAINLOOSE]}$`);Ct("LONECARET","(?:\\^)");Ct("CARETTRIM",`(\\s*)${Be[He.LONECARET]}\\s+`,!0);Ua.caretTrimReplace="$1^";Ct("CARET",`^${Be[He.LONECARET]}${Be[He.XRANGEPLAIN]}$`);Ct("CARETLOOSE",`^${Be[He.LONECARET]}${Be[He.XRANGEPLAINLOOSE]}$`);Ct("COMPARATORLOOSE",`^${Be[He.GTLT]}\\s*(${Be[He.LOOSEPLAIN]})$|^$`);Ct("COMPARATOR",`^${Be[He.GTLT]}\\s*(${Be[He.FULLPLAIN]})$|^$`);Ct("COMPARATORTRIM",`(\\s*)${Be[He.GTLT]}\\s*(${Be[He.LOOSEPLAIN]}|${Be[He.XRANGEPLAIN]})`,!0);Ua.comparatorTrimReplace="$1$2$3";Ct("HYPHENRANGE",`^\\s*(${Be[He.XRANGEPLAIN]})\\s+-\\s+(${Be[He.XRANGEPLAIN]})\\s*$`);Ct("HYPHENRANGELOOSE",`^\\s*(${Be[He.XRANGEPLAINLOOSE]})\\s+-\\s+(${Be[He.XRANGEPLAINLOOSE]})\\s*$`);Ct("STAR","(<|>)?=?\\s*\\*");Ct("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ct("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var lx=v((RRr,Fse)=>{"use strict";var irt=Object.freeze({loose:!0}),srt=Object.freeze({}),ort=t=>t?typeof t!="object"?irt:t:srt;Fse.exports=ort});var z$=v((ARr,qse)=>{"use strict";var Lse=/^[0-9]+$/,Mse=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;let r=Lse.test(t),n=Lse.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},art=(t,e)=>Mse(e,t);qse.exports={compareIdentifiers:Mse,rcompareIdentifiers:art}});var bi=v((PRr,Use)=>{"use strict";var fx=pv(),{MAX_LENGTH:$se,MAX_SAFE_INTEGER:dx}=hv(),{safeRe:hx,t:px}=Dm(),urt=lx(),{compareIdentifiers:V$}=z$(),W$=class t{constructor(e,r){if(r=urt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>$se)throw new TypeError(`version is longer than ${$se} characters`);fx("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?hx[px.LOOSE]:hx[px.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>dx||this.major<0)throw new TypeError("Invalid major version");if(this.minor>dx||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>dx||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<dx)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(fx("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(fx("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return V$(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(fx("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return V$(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?hx[px.PRERELEASELOOSE]:hx[px.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),V$(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Use.exports=W$});var $d=v((IRr,Bse)=>{"use strict";var jse=bi(),crt=(t,e,r=!1)=>{if(t instanceof jse)return t;try{return new jse(t,e)}catch(n){if(!r)return null;throw n}};Bse.exports=crt});var zse=v((ORr,Hse)=>{"use strict";var lrt=$d(),frt=(t,e)=>{let r=lrt(t,e);return r?r.version:null};Hse.exports=frt});var Wse=v((kRr,Vse)=>{"use strict";var drt=$d(),hrt=(t,e)=>{let r=drt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Vse.exports=hrt});var Xse=v((NRr,Kse)=>{"use strict";var Gse=bi(),prt=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Gse(t instanceof Gse?t.version:t,r).inc(e,n,i).version}catch{return null}};Kse.exports=prt});var Yse=v((DRr,Zse)=>{"use strict";var Jse=$d(),mrt=(t,e)=>{let r=Jse(t,null,!0),n=Jse(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let f=u?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};Zse.exports=mrt});var eoe=v((FRr,Qse)=>{"use strict";var grt=bi(),yrt=(t,e)=>new grt(t,e).major;Qse.exports=yrt});var roe=v((LRr,toe)=>{"use strict";var _rt=bi(),vrt=(t,e)=>new _rt(t,e).minor;toe.exports=vrt});var ioe=v((MRr,noe)=>{"use strict";var wrt=bi(),brt=(t,e)=>new wrt(t,e).patch;noe.exports=brt});var ooe=v((qRr,soe)=>{"use strict";var Ert=$d(),Srt=(t,e)=>{let r=Ert(t,e);return r&&r.prerelease.length?r.prerelease:null};soe.exports=Srt});var co=v(($Rr,uoe)=>{"use strict";var aoe=bi(),Trt=(t,e,r)=>new aoe(t,r).compare(new aoe(e,r));uoe.exports=Trt});var loe=v((URr,coe)=>{"use strict";var Crt=co(),xrt=(t,e,r)=>Crt(e,t,r);coe.exports=xrt});var doe=v((jRr,foe)=>{"use strict";var Rrt=co(),Art=(t,e)=>Rrt(t,e,!0);foe.exports=Art});var mx=v((BRr,poe)=>{"use strict";var hoe=bi(),Prt=(t,e,r)=>{let n=new hoe(t,r),i=new hoe(e,r);return n.compare(i)||n.compareBuild(i)};poe.exports=Prt});var goe=v((HRr,moe)=>{"use strict";var Irt=mx(),Ort=(t,e)=>t.sort((r,n)=>Irt(r,n,e));moe.exports=Ort});var _oe=v((zRr,yoe)=>{"use strict";var krt=mx(),Nrt=(t,e)=>t.sort((r,n)=>krt(n,r,e));yoe.exports=Nrt});var mv=v((VRr,voe)=>{"use strict";var Drt=co(),Frt=(t,e,r)=>Drt(t,e,r)>0;voe.exports=Frt});var gx=v((WRr,woe)=>{"use strict";var Lrt=co(),Mrt=(t,e,r)=>Lrt(t,e,r)<0;woe.exports=Mrt});var G$=v((GRr,boe)=>{"use strict";var qrt=co(),$rt=(t,e,r)=>qrt(t,e,r)===0;boe.exports=$rt});var K$=v((KRr,Eoe)=>{"use strict";var Urt=co(),jrt=(t,e,r)=>Urt(t,e,r)!==0;Eoe.exports=jrt});var yx=v((XRr,Soe)=>{"use strict";var Brt=co(),Hrt=(t,e,r)=>Brt(t,e,r)>=0;Soe.exports=Hrt});var _x=v((JRr,Toe)=>{"use strict";var zrt=co(),Vrt=(t,e,r)=>zrt(t,e,r)<=0;Toe.exports=Vrt});var X$=v((ZRr,Coe)=>{"use strict";var Wrt=G$(),Grt=K$(),Krt=mv(),Xrt=yx(),Jrt=gx(),Zrt=_x(),Yrt=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Wrt(t,r,n);case"!=":return Grt(t,r,n);case">":return Krt(t,r,n);case">=":return Xrt(t,r,n);case"<":return Jrt(t,r,n);case"<=":return Zrt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Coe.exports=Yrt});var Roe=v((YRr,xoe)=>{"use strict";var Qrt=bi(),ent=$d(),{safeRe:vx,t:wx}=Dm(),tnt=(t,e)=>{if(t instanceof Qrt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?vx[wx.COERCEFULL]:vx[wx.COERCE]);else{let u=e.includePrerelease?vx[wx.COERCERTLFULL]:vx[wx.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return ent(`${n}.${i}.${s}${o}${a}`,e)};xoe.exports=tnt});var Poe=v((QRr,Aoe)=>{"use strict";var J$=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};Aoe.exports=J$});var lo=v((eAr,Noe)=>{"use strict";var rnt=/\s+/g,Z$=class t{constructor(e,r){if(r=int(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Y$)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(rnt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Ooe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&fnt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&cnt)|(this.options.loose&&lnt))+":"+e,i=Ioe.get(n);if(i)return i;let s=this.options.loose,o=s?es[Ei.HYPHENRANGELOOSE]:es[Ei.HYPHENRANGE];e=e.replace(o,bnt(this.options.includePrerelease)),zr("hyphen replace",e),e=e.replace(es[Ei.COMPARATORTRIM],ont),zr("comparator trim",e),e=e.replace(es[Ei.TILDETRIM],ant),zr("tilde trim",e),e=e.replace(es[Ei.CARETTRIM],unt),zr("caret trim",e);let a=e.split(" ").map(d=>dnt(d,this.options)).join(" ").split(/\s+/).map(d=>wnt(d,this.options));s&&(a=a.filter(d=>(zr("loose invalid filter",d,this.options),!!d.match(es[Ei.COMPARATORLOOSE])))),zr("range list",a);let u=new Map,c=a.map(d=>new Y$(d,this.options));for(let d of c){if(Ooe(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let f=[...u.values()];return Ioe.set(n,f),f}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>koe(n,r)&&e.set.some(i=>koe(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new snt(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Ent(this.set[r],e,this.options))return!0;return!1}};Noe.exports=Z$;var nnt=Poe(),Ioe=new nnt,int=lx(),Y$=gv(),zr=pv(),snt=bi(),{safeRe:es,t:Ei,comparatorTrimReplace:ont,tildeTrimReplace:ant,caretTrimReplace:unt}=Dm(),{FLAG_INCLUDE_PRERELEASE:cnt,FLAG_LOOSE:lnt}=hv(),Ooe=t=>t.value==="<0.0.0-0",fnt=t=>t.value==="",koe=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},dnt=(t,e)=>(t=t.replace(es[Ei.BUILD],""),zr("comp",t,e),t=mnt(t,e),zr("caret",t),t=hnt(t,e),zr("tildes",t),t=ynt(t,e),zr("xrange",t),t=vnt(t,e),zr("stars",t),t),ts=t=>!t||t.toLowerCase()==="x"||t==="*",hnt=(t,e)=>t.trim().split(/\s+/).map(r=>pnt(r,e)).join(" "),pnt=(t,e)=>{let r=e.loose?es[Ei.TILDELOOSE]:es[Ei.TILDE];return t.replace(r,(n,i,s,o,a)=>{zr("tilde",t,n,i,s,o,a);let u;return ts(i)?u="":ts(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:ts(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(zr("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,zr("tilde return",u),u})},mnt=(t,e)=>t.trim().split(/\s+/).map(r=>gnt(r,e)).join(" "),gnt=(t,e)=>{zr("caret",t,e);let r=e.loose?es[Ei.CARETLOOSE]:es[Ei.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{zr("caret",t,i,s,o,a,u);let c;return ts(s)?c="":ts(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:ts(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(zr("replaceCaret pr",u),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(zr("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),zr("caret return",c),c})},ynt=(t,e)=>(zr("replaceXRanges",t,e),t.split(/\s+/).map(r=>_nt(r,e)).join(" ")),_nt=(t,e)=>{t=t.trim();let r=e.loose?es[Ei.XRANGELOOSE]:es[Ei.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{zr("xRange",t,n,i,s,o,a,u);let c=ts(s),f=c||ts(o),d=f||ts(a),h=d;return i==="="&&h&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):f?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),zr("xRange return",n),n})},vnt=(t,e)=>(zr("replaceStars",t,e),t.trim().replace(es[Ei.STAR],"")),wnt=(t,e)=>(zr("replaceGTE0",t,e),t.trim().replace(es[e.includePrerelease?Ei.GTE0PRE:Ei.GTE0],"")),bnt=t=>(e,r,n,i,s,o,a,u,c,f,d,h)=>(ts(n)?r="":ts(i)?r=`>=${n}.0.0${t?"-0":""}`:ts(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,ts(c)?u="":ts(f)?u=`<${+c+1}.0.0-0`:ts(d)?u=`<${c}.${+f+1}.0-0`:h?u=`<=${c}.${f}.${d}-${h}`:t?u=`<${c}.${f}.${+d+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),Ent=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(zr(t[n].semver),t[n].semver!==Y$.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var gv=v((tAr,$oe)=>{"use strict";var yv=Symbol("SemVer ANY"),tU=class t{static get ANY(){return yv}constructor(e,r){if(r=Doe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),eU("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===yv?this.value="":this.value=this.operator+this.semver.version,eU("comp",this)}parse(e){let r=this.options.loose?Foe[Loe.COMPARATORLOOSE]:Foe[Loe.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Moe(n[2],this.options.loose):this.semver=yv}toString(){return this.value}test(e){if(eU("Comparator.test",e,this.options.loose),this.semver===yv||e===yv)return!0;if(typeof e=="string")try{e=new Moe(e,this.options)}catch{return!1}return Q$(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new qoe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new qoe(this.value,r).test(e.semver):(r=Doe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Q$(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Q$(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};$oe.exports=tU;var Doe=lx(),{safeRe:Foe,t:Loe}=Dm(),Q$=X$(),eU=pv(),Moe=bi(),qoe=lo()});var _v=v((rAr,Uoe)=>{"use strict";var Snt=lo(),Tnt=(t,e,r)=>{try{e=new Snt(e,r)}catch{return!1}return e.test(t)};Uoe.exports=Tnt});var Boe=v((nAr,joe)=>{"use strict";var Cnt=lo(),xnt=(t,e)=>new Cnt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));joe.exports=xnt});var zoe=v((iAr,Hoe)=>{"use strict";var Rnt=bi(),Ant=lo(),Pnt=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Ant(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Rnt(n,r))}),n};Hoe.exports=Pnt});var Woe=v((sAr,Voe)=>{"use strict";var Int=bi(),Ont=lo(),knt=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Ont(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Int(n,r))}),n};Voe.exports=knt});var Xoe=v((oAr,Koe)=>{"use strict";var rU=bi(),Nnt=lo(),Goe=mv(),Dnt=(t,e)=>{t=new Nnt(t,e);let r=new rU("0.0.0");if(t.test(r)||(r=new rU("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new rU(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Goe(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Goe(r,s))&&(r=s)}return r&&t.test(r)?r:null};Koe.exports=Dnt});var Zoe=v((aAr,Joe)=>{"use strict";var Fnt=lo(),Lnt=(t,e)=>{try{return new Fnt(t,e).range||"*"}catch{return null}};Joe.exports=Lnt});var bx=v((uAr,tae)=>{"use strict";var Mnt=bi(),eae=gv(),{ANY:qnt}=eae,$nt=lo(),Unt=_v(),Yoe=mv(),Qoe=gx(),jnt=_x(),Bnt=yx(),Hnt=(t,e,r,n)=>{t=new Mnt(t,n),e=new $nt(e,n);let i,s,o,a,u;switch(r){case">":i=Yoe,s=jnt,o=Qoe,a=">",u=">=";break;case"<":i=Qoe,s=Bnt,o=Yoe,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Unt(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let f=e.set[c],d=null,h=null;if(f.forEach(p=>{p.semver===qnt&&(p=new eae(">=0.0.0")),d=d||p,h=h||p,i(p.semver,d.semver,n)?d=p:o(p.semver,h.semver,n)&&(h=p)}),d.operator===a||d.operator===u||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===u&&o(t,h.semver))return!1}return!0};tae.exports=Hnt});var nae=v((cAr,rae)=>{"use strict";var znt=bx(),Vnt=(t,e,r)=>znt(t,e,">",r);rae.exports=Vnt});var sae=v((lAr,iae)=>{"use strict";var Wnt=bx(),Gnt=(t,e,r)=>Wnt(t,e,"<",r);iae.exports=Gnt});var uae=v((fAr,aae)=>{"use strict";var oae=lo(),Knt=(t,e,r)=>(t=new oae(t,r),e=new oae(e,r),t.intersects(e,r));aae.exports=Knt});var lae=v((dAr,cae)=>{"use strict";var Xnt=_v(),Jnt=co();cae.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((f,d)=>Jnt(f,d,r));for(let f of o)Xnt(f,e,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[f,d]of n)f===d?a.push(f):!d&&f===o[0]?a.push("*"):d?f===o[0]?a.push(`<=${d}`):a.push(`${f} - ${d}`):a.push(`>=${f}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var gae=v((hAr,mae)=>{"use strict";var fae=lo(),iU=gv(),{ANY:nU}=iU,vv=_v(),sU=co(),Znt=(t,e,r={})=>{if(t===e)return!0;t=new fae(t,r),e=new fae(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=Qnt(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Ynt=[new iU(">=0.0.0-0")],dae=[new iU(">=0.0.0")],Qnt=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===nU){if(e.length===1&&e[0].semver===nU)return!0;r.includePrerelease?t=Ynt:t=dae}if(e.length===1&&e[0].semver===nU){if(r.includePrerelease)return!0;e=dae}let n=new Set,i,s;for(let p of t)p.operator===">"||p.operator===">="?i=hae(i,p,r):p.operator==="<"||p.operator==="<="?s=pae(s,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&s){if(o=sU(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!vv(p,String(i),r)||s&&!vv(p,String(s),r))return null;for(let m of e)if(!vv(p,String(m),r))return!1;return!0}let a,u,c,f,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(f=f||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=hae(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!vv(i.semver,String(p),r))return!1}if(s){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(u=pae(s,p,r),u===p&&u!==s)return!1}else if(s.operator==="<="&&!vv(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&f&&!i&&o!==0||h||d)},hae=(t,e,r)=>{if(!t)return e;let n=sU(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},pae=(t,e,r)=>{if(!t)return e;let n=sU(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};mae.exports=Znt});var aU=v((pAr,vae)=>{"use strict";var oU=Dm(),yae=hv(),eit=bi(),_ae=z$(),tit=$d(),rit=zse(),nit=Wse(),iit=Xse(),sit=Yse(),oit=eoe(),ait=roe(),uit=ioe(),cit=ooe(),lit=co(),fit=loe(),dit=doe(),hit=mx(),pit=goe(),mit=_oe(),git=mv(),yit=gx(),_it=G$(),vit=K$(),wit=yx(),bit=_x(),Eit=X$(),Sit=Roe(),Tit=gv(),Cit=lo(),xit=_v(),Rit=Boe(),Ait=zoe(),Pit=Woe(),Iit=Xoe(),Oit=Zoe(),kit=bx(),Nit=nae(),Dit=sae(),Fit=uae(),Lit=lae(),Mit=gae();vae.exports={parse:tit,valid:rit,clean:nit,inc:iit,diff:sit,major:oit,minor:ait,patch:uit,prerelease:cit,compare:lit,rcompare:fit,compareLoose:dit,compareBuild:hit,sort:pit,rsort:mit,gt:git,lt:yit,eq:_it,neq:vit,gte:wit,lte:bit,cmp:Eit,coerce:Sit,Comparator:Tit,Range:Cit,satisfies:xit,toComparators:Rit,maxSatisfying:Ait,minSatisfying:Pit,minVersion:Iit,validRange:Oit,outside:kit,gtr:Nit,ltr:Dit,intersects:Fit,simplifyRange:Lit,subset:Mit,SemVer:eit,re:oU.re,src:oU.src,tokens:oU.t,SEMVER_SPEC_VERSION:yae.SEMVER_SPEC_VERSION,RELEASE_TYPES:yae.RELEASE_TYPES,compareIdentifiers:_ae.compareIdentifiers,rcompareIdentifiers:_ae.rcompareIdentifiers}});var Sx=v((mAr,fU)=>{"use strict";var Ex=Ose(),qit=aU(),{FSTDEP005:$it,FSTDEP012:Uit,FSTDEP015:jit,FSTDEP016:Bit,FSTDEP017:Hit,FSTDEP018:zit}=La(),{kHasBeenDecorated:Vit,kSchemaBody:Wit,kSchemaHeaders:Git,kSchemaParams:Kit,kSchemaQuerystring:wae,kSchemaController:uU,kOptions:Xit,kRequestCacheValidateFns:dl,kRouteContext:En,kPublicRouteContext:bae,kRequestOriginalUrl:cU}=Hn(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:Jit}=vi(),Eae={body:Wit,headers:Git,params:Kit,querystring:wae,query:wae};function lU(t,e,r,n,i,s){this.id=t,this[En]=s,this.params=e,this.raw=r,this.query=n,this.log=i,this.body=void 0}lU.props=[];function Zit(t){if(typeof t=="function")return t;if(t===!0)return function(){return!0};if(typeof t=="number")return function(e,r){return r<t};if(typeof t=="string"){let e=t.split(",").map(r=>r.trim());return Ex.compile(e)}return Ex.compile(t)}function Yit(t,e){return e?Qit(t,e):Tae(t)}function Tae(t){let e=t.props.slice();function r(n,i,s,o,a,u){this.id=n,this[En]=u,this.params=i,this.raw=s,this.query=o,this.log=a,this.body=void 0;for(var c,f=0;f<e.length;f++)c=e[f],this[c.key]=c.value}return Object.setPrototypeOf(r.prototype,t.prototype),Object.setPrototypeOf(r,t),r.props=e,r.parent=t,r}function Sae(t){let e=t.lastIndexOf(",");return e===-1?t.trim():t.slice(e+1).trim()}function Qit(t,e){let r=Tae(t),n=Zit(e);return r[Vit]=!0,Object.defineProperties(r.prototype,{ip:{get(){return Ex(this.raw,n)}},ips:{get(){return Ex.all(this.raw,n)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?Sae(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return Sae(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),r}Object.defineProperties(lU.prototype,{server:{get(){return this[En].server}},url:{get(){return this.raw.url}},originalUrl:{get(){return this[cU]||(this[cU]=this.raw.originalUrl||this.raw.url),this[cU]}},method:{get(){return this.raw.method}},context:{get(){return Uit(),this[En]}},routerPath:{get(){return Hit(),this[En].config?.url}},routeOptions:{get(){let t=this[En],e=t._parserOptions.limit,r=t.server.initialConfig.bodyLimit,n=t.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0,i={method:t.config?.method,url:t.config?.url,bodyLimit:e||r,attachValidation:t.attachValidation,logLevel:t.logLevel,exposeHeadRoute:t.exposeHeadRoute,prefixTrailingSlash:t.prefixTrailingSlash,handler:t.handler,version:n};return Object.defineProperties(i,{config:{get:()=>t.config},schema:{get:()=>t.schema}}),Object.freeze(i)}},routerMethod:{get(){return zit(),this[En].config?.method}},routeConfig:{get(){return Bit(),this[En][bae]?.config}},routeSchema:{get(){return jit(),this[En][bae].schema}},is404:{get(){return this[En].config?.url===void 0}},connection:{get(){return qit.gte(process.versions.node,"13.0.0")&&$it(),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(t){this.additionalHeaders=t}},getValidationFunction:{value:function(t){if(typeof t=="string"){let e=Eae[t];return this[En][e]}else if(typeof t=="object")return this[En][dl]?.get(t)}},compileValidationSchema:{value:function(t,e=null){let{method:r,url:n}=this;if(this[En][dl]?.has(t))return this[En][dl].get(t);let s=(this[En].validatorCompiler||this.server[uU].validatorCompiler||this.server[uU].setupValidator(this.server[Xit])||this.server[uU].validatorCompiler)({schema:t,method:r,url:n,httpPart:e});return this[En][dl]==null&&(this[En][dl]=new WeakMap),this[En][dl].set(t,s),s}},validateInput:{value:function(t,e,r){r=typeof e=="string"?e:r;let n=r!=null&&typeof r=="string"&&Eae[r],i;if(n&&(i=this[En][n]),i==null&&(e==null||typeof e!="object"||Array.isArray(e)))throw new Jit(r);return i==null&&(this[En][dl]?.has(e)?i=this[En][dl].get(e):i=this.compileValidationSchema(e,r)),i(t)}}});fU.exports=lU;fU.exports.buildRequest=Yit});var Tx=v((gAr,Cae)=>{"use strict";var{kFourOhFourContext:est,kReplySerializerDefault:tst,kSchemaErrorFormatter:rst,kErrorHandler:nst,kChildLoggerFactory:ist,kOptions:sst,kReply:ost,kRequest:ast,kBodyLimit:ust,kLogLevel:cst,kContentTypeParser:lst,kRouteByFastify:fst,kRequestCacheValidateFns:dst,kReplyCacheSerializeFns:hst,kPublicRouteContext:pst}=Hn();function mst({schema:t,handler:e,config:r,requestIdLogLabel:n,childLoggerFactory:i,errorHandler:s,bodyLimit:o,logLevel:a,logSerializers:u,attachValidation:c,validatorCompiler:f,serializerCompiler:d,replySerializer:h,schemaErrorFormatter:p,exposeHeadRoute:m,prefixTrailingSlash:g,server:y,isFastify:w}){this.schema=t,this.handler=e,this.Reply=y[ost],this.Request=y[ast],this.contentTypeParser=y[lst],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.onRequestAbort=null,this.config=r,this.errorHandler=s||y[nst],this.requestIdLogLabel=n||y[sst].requestIdLogLabel,this.childLoggerFactory=i||y[ist],this._middie=null,this._parserOptions={limit:o||y[ust]},this.exposeHeadRoute=m,this.prefixTrailingSlash=g,this.logLevel=a||y[cst],this.logSerializers=u,this[est]=null,this.attachValidation=c,this[tst]=h,this.schemaErrorFormatter=p||y[rst]||yst,this[fst]=w,this[dst]=null,this[hst]=null,this.validatorCompiler=f||null,this.serializerCompiler=d||null,this[pst]=gst(this),this.server=y}function gst(t){return Object.create(null,{schema:{enumerable:!0,get(){return t.schema}},config:{enumerable:!0,get(){return t.config}}})}function yst(t,e){let r="";for(var i=0;i!==t.length;++i){let s=t[i];r+=e+(s.instancePath||"")+" "+s.message+", "}return new Error(r.slice(0,-2))}Cae.exports=mst});var dU=v((yAr,xae)=>{"use strict";xae.exports={supportedMethods:["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS","PROPFIND","PROPPATCH","MKCOL","COPY","MOVE","LOCK","UNLOCK","TRACE","SEARCH","REPORT","MKCALENDAR"]}});var yU=v((_Ar,Iae)=>{"use strict";var{kReply:hU,kRequest:pU,kState:_st,kHasBeenDecorated:vst}=Hn(),{FST_ERR_DEC_ALREADY_PRESENT:Rae,FST_ERR_DEC_MISSING_DEPENDENCY:wst,FST_ERR_DEC_AFTER_START:bst,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:Est}=vi(),{FSTDEP006:Sst}=La();function Tst(t,e,r,n){if(Object.prototype.hasOwnProperty.call(t,e))throw new Rae(e);mU(t,e,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(t,e,{get:r.getter,set:r.setter}):t[e]=r}function Aae(t,e,r,n){let i=t.prototype;if(Object.prototype.hasOwnProperty.call(i,e)||xx(t,e))throw new Rae(e);t[vst]=!0,mU(t,e,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(i,e,{get:r.getter,set:r.setter}):typeof r=="function"?i[e]=r:t.props.push({key:e,value:r})}function Pae(t,e){typeof e=="object"&&e&&!(typeof e.getter=="function"||typeof e.setter=="function")&&Sst(t)}function Cst(t,e,r){return gU(this,t),Tst(this,t,e,r),this}function Cx(t,e){return e?e in t||t.prototype&&e in t.prototype||xx(t,e):t in this}function xx(t,e){return t.props?t.props.find(({key:r})=>r===e):!1}function xst(t){return t&&xx(this[pU],t)?!0:Cx(this[pU].prototype,t)}function Rst(t){return t&&xx(this[hU],t)?!0:Cx(this[hU].prototype,t)}function mU(t,e,r){if(r!=null){if(!Array.isArray(r))throw new Est(e);for(var n=0;n!==r.length;++n)if(!Cx(t,r[n]))throw new wst(r[n])}}function Ast(t,e,r){return gU(this,t),Pae(t,e),Aae(this[hU],t,e,r),this}function Pst(t,e,r){return gU(this,t),Pae(t,e),Aae(this[pU],t,e,r),this}function gU(t,e){if(t[_st].started)throw new bst(e)}Iae.exports={add:Cst,exist:Cx,existRequest:xst,existReply:Rst,dependencies:mU,decorateReply:Ast,decorateRequest:Pst}});var bU=v(ja=>{"use strict";var _U=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=e,this.ttl=r}get size(){return this.items.size}clear(){this.items=new Map,this.first=null,this.last=null}delete(e){if(this.items.has(e)){let r=this.items.get(e);this.items.delete(e),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;this.items.delete(e.key),this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(this.items.has(e))return this.items.get(e).expiry}get(e){if(this.items.has(e)){let r=this.items.get(e);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return r.value}}getMany(e){let r=[];for(var n=0;n<e.length;n++)r.push(this.get(e[n]));return r}keys(){return this.items.keys()}set(e,r){if(this.items.has(e)){let i=this.items.get(e);i.value=r,i.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items.set(e,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},vU=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=e,this.ttl=r}get size(){return this.items.size}bumpLru(e){if(this.last===e)return;let r=this.last,n=e.next,i=e.prev;this.first===e&&(this.first=n),e.next=null,e.prev=r,r.next=e,i!==null&&(i.next=n),n!==null&&(n.prev=i),this.last=e}clear(){this.items=new Map,this.first=null,this.last=null}delete(e){if(this.items.has(e)){let r=this.items.get(e);this.items.delete(e),r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;this.items.delete(e.key),this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(this.items.has(e))return this.items.get(e).expiry}get(e){if(this.items.has(e)){let r=this.items.get(e);if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return this.bumpLru(r),r.value}}getMany(e){let r=[];for(var n=0;n<e.length;n++)r.push(this.get(e[n]));return r}keys(){return this.items.keys()}set(e,r){if(this.items.has(e)){let i=this.items.get(e);i.value=r,i.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==i&&this.bumpLru(i);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items.set(e,n),this.size===1?this.first=n:this.last.next=n,this.last=n}},wv=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=e,this.ttl=r}bumpLru(e){if(this.last===e)return;let r=this.last,n=e.next,i=e.prev;this.first===e&&(this.first=n),e.next=null,e.prev=r,r.next=e,i!==null&&(i.next=n),n!==null&&(n.prev=i),this.last=e}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];delete this.items[e],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;delete this.items[e.key],--this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(Object.prototype.hasOwnProperty.call(this.items,e))return this.items[e].expiry}get(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return this.bumpLru(r),r.value}}getMany(e){let r=[];for(var n=0;n<e.length;n++)r.push(this.get(e[n]));return r}keys(){return Object.keys(this.items)}set(e,r){if(Object.prototype.hasOwnProperty.call(this.items,e)){let i=this.items[e];i.value=r,i.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==i&&this.bumpLru(i);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items[e]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}},Rx=class{constructor(){this.records={}}initForCache(e,r){this.records[e]={[r]:{cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}}resetForCache(e){for(let r of Object.keys(this.records[e]))this.records[e][r]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}getStatistics(){return this.records}};function Oae(t){return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}var wU=class{constructor(e,r,n){this.cacheId=e,this.statisticTtlInHours=r,this.collectionStart=new Date,this.currentTimeStamp=Oae(this.collectionStart),this.records=n||new Rx,this.records.initForCache(this.cacheId,this.currentTimeStamp)}get currentRecord(){return this.records.records[this.cacheId][this.currentTimeStamp]||(this.records.records[this.cacheId][this.currentTimeStamp]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,sets:0,invalidateOne:0,invalidateAll:0}),this.records.records[this.cacheId][this.currentTimeStamp]}hoursPassed(){return(Date.now()-this.collectionStart)/1e3/60/60}addHit(){this.archiveIfNeeded(),this.currentRecord.hits++}addFalsyHit(){this.archiveIfNeeded(),this.currentRecord.falsyHits++}addEmptyHit(){this.archiveIfNeeded(),this.currentRecord.emptyHits++}addMiss(){this.archiveIfNeeded(),this.currentRecord.misses++}addEviction(){this.archiveIfNeeded(),this.currentRecord.evictions++}setCacheSize(e){this.archiveIfNeeded(),this.currentRecord.cacheSize=e}addExpiration(){this.archiveIfNeeded(),this.currentRecord.expirations++}addSet(){this.archiveIfNeeded(),this.currentRecord.sets++}addInvalidateOne(){this.archiveIfNeeded(),this.currentRecord.invalidateOne++}addInvalidateAll(){this.archiveIfNeeded(),this.currentRecord.invalidateAll++}getStatistics(){return this.records.getStatistics()}archiveIfNeeded(){this.hoursPassed()>=this.statisticTtlInHours&&(this.collectionStart=new Date,this.currentTimeStamp=Oae(this.collectionStart),this.records.initForCache(this.cacheId,this.currentTimeStamp))}},Ax=class extends wv{constructor(e,r,n,i,s){if(super(e||1e3,r||0),!n)throw new Error("Cache id is mandatory");this.hitStatistics=new wU(n,s!==void 0?s:24,i)}getStatistics(){return this.hitStatistics.getStatistics()}set(e,r){super.set(e,r),this.hitStatistics.addSet(),this.hitStatistics.setCacheSize(this.size)}evict(){super.evict(),this.hitStatistics.addEviction(),this.hitStatistics.setCacheSize(this.size)}delete(e,r=!1){super.delete(e),r||this.hitStatistics.addInvalidateOne(),this.hitStatistics.setCacheSize(this.size)}clear(){super.clear(),this.hitStatistics.addInvalidateAll(),this.hitStatistics.setCacheSize(this.size)}get(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e,!0),this.hitStatistics.addExpiration();return}return this.bumpLru(r),r.value||this.hitStatistics.addFalsyHit(),(r.value===void 0||r.value===null||r.value==="")&&this.hitStatistics.addEmptyHit(),this.hitStatistics.addHit(),r.value}this.hitStatistics.addMiss()}},Px=class{constructor(e=1e3,r=0){if(isNaN(e)||e<0)throw new Error("Invalid max value");if(isNaN(r)||r<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=e,this.ttl=r}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];delete this.items[e],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}}deleteMany(e){for(var r=0;r<e.length;r++)this.delete(e[r])}evict(){if(this.size>0){let e=this.first;delete this.items[e.key],--this.size===0?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(Object.prototype.hasOwnProperty.call(this.items,e))return this.items[e].expiry}get(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let r=this.items[e];if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return r.value}}getMany(e){let r=[];for(var n=0;n<e.length;n++)r.push(this.get(e[n]));return r}keys(){return Object.keys(this.items)}set(e,r){if(Object.prototype.hasOwnProperty.call(this.items,e)){let i=this.items[e];i.value=r,i.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};this.items[e]=n,++this.size===1?this.first=n:this.last.next=n,this.last=n}};ja.Fifo=Px;ja.FifoMap=_U;ja.FifoObject=Px;ja.HitStatisticsRecord=Rx;ja.Lru=wv;ja.LruHitStatistics=Ax;ja.LruMap=vU;ja.LruObject=wv;ja.LruObjectHitStatistics=Ax});var Fae=v((wAr,bv)=>{"use strict";var kx=function(){};kx.prototype=Object.create(null);var Ix=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,Ox=/\\([\v\u0020-\u00ff])/gu,kae=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,Ud={type:"",parameters:new kx};Object.freeze(Ud.parameters);Object.freeze(Ud);function Nae(t){if(typeof t!="string")throw new TypeError("argument header is required and must be a string");let e=t.indexOf(";"),r=e!==-1?t.slice(0,e).trim():t.trim();if(kae.test(r)===!1)throw new TypeError("invalid media type");let n={type:r.toLowerCase(),parameters:new kx};if(e===-1)return n;let i,s,o;for(Ix.lastIndex=e;s=Ix.exec(t);){if(s.index!==e)throw new TypeError("invalid parameter format");e+=s[0].length,i=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),Ox.test(o)&&(o=o.replace(Ox,"$1"))),n.parameters[i]=o}if(e!==t.length)throw new TypeError("invalid parameter format");return n}function Dae(t){if(typeof t!="string")return Ud;let e=t.indexOf(";"),r=e!==-1?t.slice(0,e).trim():t.trim();if(kae.test(r)===!1)return Ud;let n={type:r.toLowerCase(),parameters:new kx};if(e===-1)return n;let i,s,o;for(Ix.lastIndex=e;s=Ix.exec(t);){if(s.index!==e)return Ud;e+=s[0].length,i=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),Ox.test(o)&&(o=o.replace(Ox,"$1"))),n.parameters[i]=o}return e!==t.length?Ud:n}bv.exports.default={parse:Nae,safeParse:Dae};bv.exports.parse=Nae;bv.exports.safeParse=Dae;bv.exports.defaultContentType=Ud});var SU=v((bAr,Fm)=>{"use strict";var Ist=typeof Buffer<"u",Lae=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Mae=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function qae(t,e,r){r==null&&e!==null&&typeof e=="object"&&(r=e,e=void 0),Ist&&Buffer.isBuffer(t)&&(t=t.toString()),t&&t.charCodeAt(0)===65279&&(t=t.slice(1));let n=JSON.parse(t,e);if(n===null||typeof n!="object")return n;let i=r&&r.protoAction||"error",s=r&&r.constructorAction||"error";if(i==="ignore"&&s==="ignore")return n;if(i!=="ignore"&&s!=="ignore"){if(Lae.test(t)===!1&&Mae.test(t)===!1)return n}else if(i!=="ignore"&&s==="ignore"){if(Lae.test(t)===!1)return n}else if(Mae.test(t)===!1)return n;return $ae(n,{protoAction:i,constructorAction:s,safe:r&&r.safe})}function $ae(t,{protoAction:e="error",constructorAction:r="error",safe:n}={}){let i=[t];for(;i.length;){let s=i;i=[];for(let o of s){if(e!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(n===!0)return null;if(e==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let a in o){let u=o[a];u&&typeof u=="object"&&i.push(u)}}}return t}function EU(t,e,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return qae(t,e,r)}finally{Error.stackTraceLimit=n}}function Ost(t,e){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return qae(t,e,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}Fm.exports=EU;Fm.exports.default=EU;Fm.exports.parse=EU;Fm.exports.safeParse=Ost;Fm.exports.scan=$ae});var AU=v((EAr,Sv)=>{"use strict";var{AsyncResource:kst}=require("node:async_hooks"),{FifoMap:jae}=bU(),{safeParse:Bae,defaultContentType:Nst}=Fae(),Dst=SU(),{kDefaultJsonParse:Ev,kContentTypeParser:Lm,kBodyLimit:Fst,kRequestPayloadStream:Hae,kState:CU,kTestInternals:Lst,kReplyIsError:zae,kRouteContext:Mst}=Hn(),{FST_ERR_CTP_INVALID_TYPE:Vae,FST_ERR_CTP_EMPTY_TYPE:qst,FST_ERR_CTP_ALREADY_PRESENT:$st,FST_ERR_CTP_INVALID_HANDLER:Ust,FST_ERR_CTP_INVALID_PARSE_TYPE:jst,FST_ERR_CTP_BODY_TOO_LARGE:Uae,FST_ERR_CTP_INVALID_MEDIA_TYPE:Bst,FST_ERR_CTP_INVALID_CONTENT_LENGTH:Hst,FST_ERR_CTP_EMPTY_JSON_BODY:zst,FST_ERR_CTP_INSTANCE_ALREADY_STARTED:xU}=vi();function Gu(t,e,r){this[Ev]=Gae(e,r),this.customParsers=new Map,this.customParsers.set("application/json",new TU(!0,!1,t,this[Ev])),this.customParsers.set("text/plain",new TU(!0,!1,t,RU)),this.parserList=[new Nx("application/json"),new Nx("text/plain")],this.parserRegExpList=[],this.cache=new jae(100)}Gu.prototype.add=function(t,e,r){let n=typeof t=="string";if(!n&&!(t instanceof RegExp))throw new Vae;if(n&&t.length===0)throw new qst;if(typeof r!="function")throw new Ust;if(this.existingParser(t))throw new $st(t);if(e.parseAs!==void 0&&e.parseAs!=="string"&&e.parseAs!=="buffer")throw new jst(e.parseAs);let i=new TU(e.parseAs==="string",e.parseAs==="buffer",e.bodyLimit,r);n&&t==="*"?this.customParsers.set("",i):(n?this.parserList.unshift(new Nx(t)):(t.isEssence=t.source.indexOf(";")===-1,this.parserRegExpList.unshift(t)),this.customParsers.set(t.toString(),i))};Gu.prototype.hasParser=function(t){return this.customParsers.has(typeof t=="string"?t:t.toString())};Gu.prototype.existingParser=function(t){return t==="application/json"&&this.customParsers.has(t)?this.customParsers.get(t).fn!==this[Ev]:t==="text/plain"&&this.customParsers.has(t)?this.customParsers.get(t).fn!==RU:this.hasParser(t)};Gu.prototype.getParser=function(t){if(this.hasParser(t))return this.customParsers.get(t);let e=this.cache.get(t);if(e!==void 0)return e;let r=Bae(t);if(r===Nst)return this.customParsers.get("");for(var n=0;n!==this.parserList.length;++n){let s=this.parserList[n];if(Jst(r,s)){let o=this.customParsers.get(s.name);return this.cache.set(t,o),o}}for(var i=0;i!==this.parserRegExpList.length;++i){let s=this.parserRegExpList[i];if(Zst(t,r.type,s)){let o=this.customParsers.get(s.toString());return this.cache.set(t,o),o}}return this.customParsers.get("")};Gu.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=new jae(100)};Gu.prototype.remove=function(t){if(!(typeof t=="string"||t instanceof RegExp))throw new Vae;let e=this.customParsers.delete(t.toString()),r=typeof t=="string"?this.parserList:this.parserRegExpList,n=r.findIndex(i=>i.toString()===t.toString());return n>-1&&r.splice(n,1),e||n>-1};Gu.prototype.run=function(t,e,r,n){let i=this.getParser(t);if(i===void 0){r.is404?e(r,n):n.send(new Bst(t||void 0));return}let s=new kst("content-type-parser:run",r);if(i.asString===!0||i.asBuffer===!0)Wae(r,n,n[Mst]._parserOptions,i,o);else{let a=i.fn(r,r[Hae],o);a&&typeof a.then=="function"&&a.then(u=>o(null,u),o)}function o(a,u){s.runInAsyncScope(()=>{s.emitDestroy(),a?(n[zae]=!0,n.send(a)):(r.body=u,e(r,n))})}};function Wae(t,e,r,n,i){let s=n.asString,o=r.limit===null?n.bodyLimit:r.limit,a=t.headers["content-length"]===void 0?NaN:Number(t.headers["content-length"]);if(a>o){e.header("connection","close"),e.send(new Uae);return}let u=0,c=s===!0?"":[],f=t[Hae]||t.raw;s===!0&&f.setEncoding("utf8"),f.on("data",d),f.on("end",h),f.on("error",h),f.resume();function d(p){u+=p.length;let{receivedEncodedLength:m=0}=f;if(u>o||m>o){f.removeListener("data",d),f.removeListener("end",h),f.removeListener("error",h),e.send(new Uae);return}s===!0?c+=p:c.push(p)}function h(p){if(f.removeListener("data",d),f.removeListener("end",h),f.removeListener("error",h),p!==void 0){typeof p.statusCode=="number"&&p.statusCode>=400||(p.statusCode=400),e[zae]=!0,e.code(p.statusCode).send(p);return}if(s===!0&&(u=Buffer.byteLength(c)),!Number.isNaN(a)&&(f.receivedEncodedLength||u)!==a){e.header("connection","close"),e.send(new Hst);return}s===!1&&(c=Buffer.concat(c));let m=n.fn(t,c,i);m&&typeof m.then=="function"&&m.then(g=>i(null,g),i)}}function Gae(t,e){return r;function r(n,i,s){if(i===""||i==null||Buffer.isBuffer(i)&&i.length===0)return s(new zst,void 0);let o;try{o=Dst.parse(i,{protoAction:t,constructorAction:e})}catch(a){return a.statusCode=400,s(a,void 0)}s(null,o)}}function RU(t,e,r){r(null,e)}function TU(t,e,r,n){this.asString=t,this.asBuffer=e,this.bodyLimit=r,this.fn=n}function Vst(t){let e=new Gu;return e[Ev]=t[Ev],e.customParsers=new Map(t.customParsers.entries()),e.parserList=t.parserList.slice(),e.parserRegExpList=t.parserRegExpList.slice(),e}function Wst(t,e,r){if(this[CU].started)throw new xU("addContentTypeParser");return typeof e=="function"&&(r=e,e={}),e||(e={}),e.bodyLimit||(e.bodyLimit=this[Fst]),Array.isArray(t)?t.forEach(n=>this[Lm].add(n,e,r)):this[Lm].add(t,e,r),this}function Gst(t){return this[Lm].hasParser(t)}function Kst(t){if(this[CU].started)throw new xU("removeContentTypeParser");if(Array.isArray(t))for(let e of t)this[Lm].remove(e);else this[Lm].remove(t)}function Xst(){if(this[CU].started)throw new xU("removeAllContentTypeParsers");this[Lm].removeAll()}function Jst(t,e){if(e.isEssence)return t.type.indexOf(e)!==-1;if(t.type.indexOf(e.type)===-1)return!1;for(let r of e.parameterKeys)if(!(r in t.parameters)||t.parameters[r]!==e.parameters[r])return!1;return!0}function Zst(t,e,r){return r.isEssence?r.test(e):r.test(t)}function Nx(t){this.name=t;let e=Bae(t);if(this.isEssence=t.indexOf(";")===-1,this.isEssence===!1&&e.type===""){let r=t.split(";",1)[0];this.type=r===""?t:r}else this.type=e.type;this.parameters=e.parameters,this.parameterKeys=Object.keys(e.parameters)}Nx.prototype.toString=function(){return this.name};Sv.exports=Gu;Sv.exports.helpers={buildContentTypeParser:Vst,addContentTypeParser:Wst,hasContentTypeParser:Gst,removeContentTypeParser:Kst,removeAllContentTypeParsers:Xst};Sv.exports.defaultParsers={getDefaultJsonParser:Gae,defaultTextParser:RU};Sv.exports[Lst]={rawBody:Wae}});var hl=v((SAr,Kae)=>{"use strict";Kae.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var Yae=v((TAr,Zae)=>{"use strict";var Xae=hl(),Yst=Symbol.for("json-schema-ref"),PU=class{#e;#t;#n;#i;#s;constructor(e={}){this.#e={},this.#t={},this.#n=e.insertRefSymbol??!1,this.#i=e.allowEqualDuplicates??!0,this.#s=e.cloneSchemaWithoutRefs??!1}addSchema(e,r){e.$id!==void 0&&e.$id.charAt(0)!=="#"?r=e.$id:this.#c(e,r),this.#a(e,r)}getSchema(e,r="#"){let n=this.#e[e];if(n===void 0)throw new Error(`Cannot resolve ref "${e}${r}". Schema with id "${e}" is not found.`);return n.anchors[r]!==void 0?n.anchors[r]:Jae(n.schema,r)}hasSchema(e){return this.#e[e]!==void 0}getSchemaRefs(e){let r=this.#e[e];if(r===void 0)throw new Error(`Schema with id "${e}" is not found.`);return r.refs}getSchemaDependencies(e,r={}){let n=this.#e[e];for(let i of n.refs){let s=i.schemaId;r[s]===void 0&&(r[s]=this.getSchema(s),this.getSchemaDependencies(s,r))}return r}derefSchema(e){if(this.#t[e]!==void 0)return;let r=this.#e[e];if(r===void 0)throw new Error(`Schema with id "${e}" is not found.`);!this.#s&&r.refs.length===0&&(this.#t[e]={schema:r.schema,anchors:r.anchors});let n=[];this.#r(r.schema,e,n);let i=this.getSchemaDependencies(e);for(let s in i){let o=i[s];this.#r(o,s,n)}for(let s of n){let{refSchemaId:o,refJsonPointer:a}=this.#o(s.ref,s.sourceSchemaId),u=this.getDerefSchema(o,a);if(u===null)throw new Error(`Cannot resolve ref "${s.ref}". Ref "${a}" is not found in schema "${o}".`);s.targetSchema=u,s.targetSchemaId=o}for(let s of n)this.#u(s,n)}getDerefSchema(e,r="#"){let n=this.#t[e];return n===void 0&&(this.derefSchema(e),n=this.#t[e]),n.anchors[r]!==void 0?n.anchors[r]:Jae(n.schema,r)}#o(e,r){let n=e.indexOf("#");return n===-1?{refSchemaId:e,refJsonPointer:"#"}:n===0?{refSchemaId:r,refJsonPointer:e}:{refSchemaId:e.slice(0,n),refJsonPointer:e.slice(n)}}#a(e,r){let n=e.$id;n!==void 0&&typeof n=="string"&&(n.charAt(0)==="#"?this.#l(e,r,n):(this.#c(e,n),r=n));let i=e.$ref;if(i!==void 0&&typeof i=="string"){let{refSchemaId:s,refJsonPointer:o}=this.#o(i,r);this.#e[r].refs.push({schemaId:s,jsonPointer:o})}for(let s in e)typeof e[s]=="object"&&e[s]!==null&&this.#a(e[s],r)}#r(e,r,n=[]){let i=Array.isArray(e)?[...e]:{...e},s=i.$id;s!==void 0&&typeof s=="string"&&(s.charAt(0)==="#"?this.#d(i,r,s):(this.#f(i,s),r=s)),i.$ref!==void 0&&n.push({ref:i.$ref,sourceSchemaId:r,sourceSchema:i});for(let o in i){let a=i[o];typeof a=="object"&&a!==null&&(i[o]=this.#r(a,r,n))}return i}#u(e,r){let{sourceSchema:n,targetSchema:i}=e;if(n.$ref){if(this.#n&&(n[Yst]=n.$ref),delete n.$ref,i.$ref){let s=r.find(o=>o.sourceSchema===i);this.#u(s,r)}for(let s in i)if(s!=="$id"){if(n[s]!==void 0){if(Xae(n[s],i[s]))continue;throw new Error(`Cannot resolve ref "${e.ref}". Property "${s}" is already exist in schema "${e.sourceSchemaId}".`)}n[s]=i[s]}e.isResolved=!0}}#c(e,r){let n=this.#e[r];if(n!==void 0){if(this.#i&&Xae(e,n.schema))return;throw new Error(`There is already another schema with id "${r}".`)}this.#e[r]={schema:e,anchors:{},refs:[]}}#l(e,r,n){let{anchors:i}=this.#e[r];if(i[n]!==void 0)throw new Error(`There is already another anchor "${n}" in a schema "${r}".`);i[n]=e}#f(e,r){this.#t[r]===void 0&&(this.#t[r]={schema:e,anchors:{}})}#d(e,r,n){let{anchors:i}=this.#t[r];i[n]=e}};function Jae(t,e){let r=e.split("/"),n=t;for(let i of r)if(!(i===""||i==="#")){if(typeof n!="object"||n===null)return null;n=n[i]}return n??null}Zae.exports={RefResolver:PU}});var Mm=v(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.regexpCode=er.getEsmExportName=er.getProperty=er.safeStringify=er.stringify=er.strConcat=er.addCodeArg=er.str=er._=er.nil=er._Code=er.Name=er.IDENTIFIER=er._CodeOrName=void 0;var Tv=class{};er._CodeOrName=Tv;er.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var jd=class extends Tv{constructor(e){if(super(),!er.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};er.Name=jd;var fo=class extends Tv{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof jd&&(r[n.str]=(r[n.str]||0)+1),r),{})}};er._Code=fo;er.nil=new fo("");function Qae(t,...e){let r=[t[0]],n=0;for(;n<e.length;)OU(r,e[n]),r.push(t[++n]);return new fo(r)}er._=Qae;var IU=new fo("+");function eue(t,...e){let r=[Cv(t[0])],n=0;for(;n<e.length;)r.push(IU),OU(r,e[n]),r.push(IU,Cv(t[++n]));return Qst(r),new fo(r)}er.str=eue;function OU(t,e){e instanceof fo?t.push(...e._items):e instanceof jd?t.push(e):t.push(rot(e))}er.addCodeArg=OU;function Qst(t){let e=1;for(;e<t.length-1;){if(t[e]===IU){let r=eot(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function eot(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof jd||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof jd))return`"${t}${e.slice(1)}`}function tot(t,e){return e.emptyStr()?t:t.emptyStr()?e:eue`${t}${e}`}er.strConcat=tot;function rot(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Cv(Array.isArray(t)?t.join(","):t)}function not(t){return new fo(Cv(t))}er.stringify=not;function Cv(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}er.safeStringify=Cv;function iot(t){return typeof t=="string"&&er.IDENTIFIER.test(t)?new fo(`.${t}`):Qae`[${t}]`}er.getProperty=iot;function sot(t){if(typeof t=="string"&&er.IDENTIFIER.test(t))return new fo(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}er.getEsmExportName=sot;function oot(t){return new fo(t.toString())}er.regexpCode=oot});var Mx=v(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.ValueScope=ws.ValueScopeName=ws.Scope=ws.varKinds=ws.UsedValueState=void 0;var vs=Mm(),kU=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Dx;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Dx||(ws.UsedValueState=Dx={}));ws.varKinds={const:new vs.Name("const"),let:new vs.Name("let"),var:new vs.Name("var")};var Fx=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof vs.Name?e:this.name(e)}name(e){return new vs.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ws.Scope=Fx;var Lx=class extends vs.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,vs._)`.${new vs.Name(r)}[${n}]`}};ws.ValueScopeName=Lx;var aot=(0,vs._)`\n`,NU=class extends Fx{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?aot:vs.nil}}get(){return this._scope}name(e){return new Lx(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:s}=i,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let f=a.get(o);if(f)return f}else a=this._values[s]=new Map;a.set(o,i);let u=this._scope[s]||(this._scope[s]=[]),c=u.length;return u[c]=r.ref,i.setValue(r,{property:s,itemIndex:c}),i}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,vs._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(e,r,n={},i){let s=vs.nil;for(let o in e){let a=e[o];if(!a)continue;let u=n[o]=n[o]||new Map;a.forEach(c=>{if(u.has(c))return;u.set(c,Dx.Started);let f=r(c);if(f){let d=this.opts.es5?ws.varKinds.var:ws.varKinds.const;s=(0,vs._)`${s}${d} ${c} = ${f};${this.opts._n}`}else if(f=i?.(c))s=(0,vs._)`${s}${f}${this.opts._n}`;else throw new kU(c);u.set(c,Dx.Completed)})}return s}};ws.ValueScope=NU});var ct=v(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.or=Lt.and=Lt.not=Lt.CodeGen=Lt.operators=Lt.varKinds=Lt.ValueScopeName=Lt.ValueScope=Lt.Scope=Lt.Name=Lt.regexpCode=Lt.stringify=Lt.getProperty=Lt.nil=Lt.strConcat=Lt.str=Lt._=void 0;var Xt=Mm(),Yo=Mx(),pl=Mm();Object.defineProperty(Lt,"_",{enumerable:!0,get:function(){return pl._}});Object.defineProperty(Lt,"str",{enumerable:!0,get:function(){return pl.str}});Object.defineProperty(Lt,"strConcat",{enumerable:!0,get:function(){return pl.strConcat}});Object.defineProperty(Lt,"nil",{enumerable:!0,get:function(){return pl.nil}});Object.defineProperty(Lt,"getProperty",{enumerable:!0,get:function(){return pl.getProperty}});Object.defineProperty(Lt,"stringify",{enumerable:!0,get:function(){return pl.stringify}});Object.defineProperty(Lt,"regexpCode",{enumerable:!0,get:function(){return pl.regexpCode}});Object.defineProperty(Lt,"Name",{enumerable:!0,get:function(){return pl.Name}});var jx=Mx();Object.defineProperty(Lt,"Scope",{enumerable:!0,get:function(){return jx.Scope}});Object.defineProperty(Lt,"ValueScope",{enumerable:!0,get:function(){return jx.ValueScope}});Object.defineProperty(Lt,"ValueScopeName",{enumerable:!0,get:function(){return jx.ValueScopeName}});Object.defineProperty(Lt,"varKinds",{enumerable:!0,get:function(){return jx.varKinds}});Lt.operators={GT:new Xt._Code(">"),GTE:new Xt._Code(">="),LT:new Xt._Code("<"),LTE:new Xt._Code("<="),EQ:new Xt._Code("==="),NEQ:new Xt._Code("!=="),NOT:new Xt._Code("!"),OR:new Xt._Code("||"),AND:new Xt._Code("&&"),ADD:new Xt._Code("+")};var Ku=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},DU=class extends Ku{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?Yo.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=$m(this.rhs,e,r)),this}get names(){return this.rhs instanceof Xt._CodeOrName?this.rhs.names:{}}},qx=class extends Ku{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof Xt.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=$m(this.rhs,e,r),this}get names(){let e=this.lhs instanceof Xt.Name?{}:{...this.lhs.names};return Ux(e,this.rhs)}},FU=class extends qx{constructor(e,r,n,i){super(e,n,i),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},LU=class extends Ku{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},MU=class extends Ku{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},qU=class extends Ku{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},$U=class extends Ku{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=$m(this.code,e,r),this}get names(){return this.code instanceof Xt._CodeOrName?this.code.names:{}}},xv=class extends Ku{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,i=n.length;for(;i--;){let s=n[i];s.optimizeNames(e,r)||(uot(e,s.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>zd(e,r.names),{})}},Xu=class extends xv{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},UU=class extends xv{},qm=class extends Xu{};qm.kind="else";var Bd=class t extends Xu{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new qm(n):n}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(tue(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=$m(this.condition,e,r),this}get names(){let e=super.names;return Ux(e,this.condition),this.else&&zd(e,this.else.names),e}};Bd.kind="if";var Hd=class extends Xu{};Hd.kind="for";var jU=class extends Hd{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=$m(this.iteration,e,r),this}get names(){return zd(super.names,this.iteration.names)}},BU=class extends Hd{constructor(e,r,n,i){super(),this.varKind=e,this.name=r,this.from=n,this.to=i}render(e){let r=e.es5?Yo.varKinds.var:this.varKind,{name:n,from:i,to:s}=this;return`for(${r} ${n}=${i}; ${n}<${s}; ${n}++)`+super.render(e)}get names(){let e=Ux(super.names,this.from);return Ux(e,this.to)}},$x=class extends Hd{constructor(e,r,n,i){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=$m(this.iterable,e,r),this}get names(){return zd(super.names,this.iterable.names)}},Rv=class extends Xu{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Rv.kind="func";var Av=class extends xv{render(e){return"return "+super.render(e)}};Av.kind="return";var HU=class extends Xu{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,i;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(i=this.finally)===null||i===void 0||i.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&zd(e,this.catch.names),this.finally&&zd(e,this.finally.names),e}},Pv=class extends Xu{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Pv.kind="catch";var Iv=class extends Xu{render(e){return"finally"+super.render(e)}};Iv.kind="finally";var zU=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new Yo.Scope({parent:e}),this._nodes=[new UU]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,i){let s=this._scope.toName(r);return n!==void 0&&i&&(this._constants[s.str]=n),this._leafNode(new DU(e,s,n)),s}const(e,r,n){return this._def(Yo.varKinds.const,e,r,n)}let(e,r,n){return this._def(Yo.varKinds.let,e,r,n)}var(e,r,n){return this._def(Yo.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new qx(e,r,n))}add(e,r){return this._leafNode(new FU(e,Lt.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==Xt.nil&&this._leafNode(new $U(e)),this}object(...e){let r=["{"];for(let[n,i]of e)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,Xt.addCodeArg)(r,i));return r.push("}"),new Xt._Code(r)}if(e,r,n){if(this._blockNode(new Bd(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Bd(e))}else(){return this._elseNode(new qm)}endIf(){return this._endBlockNode(Bd,qm)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new jU(e),r)}forRange(e,r,n,i,s=this.opts.es5?Yo.varKinds.var:Yo.varKinds.let){let o=this._scope.toName(e);return this._for(new BU(s,o,r,n),()=>i(o))}forOf(e,r,n,i=Yo.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let o=r instanceof Xt.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Xt._)`${o}.length`,a=>{this.var(s,(0,Xt._)`${o}[${a}]`),n(s)})}return this._for(new $x("of",i,s,r),()=>n(s))}forIn(e,r,n,i=this.opts.es5?Yo.varKinds.var:Yo.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,Xt._)`Object.keys(${r})`,n);let s=this._scope.toName(e);return this._for(new $x("in",i,s,r),()=>n(s))}endFor(){return this._endBlockNode(Hd)}label(e){return this._leafNode(new LU(e))}break(e){return this._leafNode(new MU(e))}return(e){let r=new Av;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Av)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new HU;if(this._blockNode(i),this.code(e),r){let s=this.name("e");this._currNode=i.catch=new Pv(s),r(s)}return n&&(this._currNode=i.finally=new Iv,this.code(n)),this._endBlockNode(Pv,Iv)}throw(e){return this._leafNode(new qU(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=Xt.nil,n,i){return this._blockNode(new Rv(e,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(Rv)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Bd))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};Lt.CodeGen=zU;function zd(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Ux(t,e){return e instanceof Xt._CodeOrName?zd(t,e.names):t}function $m(t,e,r){if(t instanceof Xt.Name)return n(t);if(!i(t))return t;return new Xt._Code(t._items.reduce((s,o)=>(o instanceof Xt.Name&&(o=n(o)),o instanceof Xt._Code?s.push(...o._items):s.push(o),s),[]));function n(s){let o=r[s.str];return o===void 0||e[s.str]!==1?s:(delete e[s.str],o)}function i(s){return s instanceof Xt._Code&&s._items.some(o=>o instanceof Xt.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function uot(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function tue(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,Xt._)`!${VU(t)}`}Lt.not=tue;var cot=rue(Lt.operators.AND);function lot(...t){return t.reduce(cot)}Lt.and=lot;var fot=rue(Lt.operators.OR);function dot(...t){return t.reduce(fot)}Lt.or=dot;function rue(t){return(e,r)=>e===Xt.nil?r:r===Xt.nil?e:(0,Xt._)`${VU(e)} ${t} ${VU(r)}`}function VU(t){return t instanceof Xt.Name?t:(0,Xt._)`(${t})`}});var Nt=v($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.checkStrictMode=$t.getErrorPath=$t.Type=$t.useFunc=$t.setEvaluated=$t.evaluatedPropsToName=$t.mergeEvaluated=$t.eachItem=$t.unescapeJsonPointer=$t.escapeJsonPointer=$t.escapeFragment=$t.unescapeFragment=$t.schemaRefOrVal=$t.schemaHasRulesButRef=$t.schemaHasRules=$t.checkUnknownRules=$t.alwaysValidSchema=$t.toHash=void 0;var Or=ct(),hot=Mm();function pot(t){let e={};for(let r of t)e[r]=!0;return e}$t.toHash=pot;function mot(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(sue(t,e),!oue(e,t.self.RULES.all))}$t.alwaysValidSchema=mot;function sue(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let i=n.RULES.keywords;for(let s in e)i[s]||cue(t,`unknown keyword: "${s}"`)}$t.checkUnknownRules=sue;function oue(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}$t.schemaHasRules=oue;function got(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}$t.schemaHasRulesButRef=got;function yot({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Or._)`${r}`}return(0,Or._)`${t}${e}${(0,Or.getProperty)(n)}`}$t.schemaRefOrVal=yot;function _ot(t){return aue(decodeURIComponent(t))}$t.unescapeFragment=_ot;function vot(t){return encodeURIComponent(GU(t))}$t.escapeFragment=vot;function GU(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}$t.escapeJsonPointer=GU;function aue(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}$t.unescapeJsonPointer=aue;function wot(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}$t.eachItem=wot;function nue({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,s,o,a)=>{let u=o===void 0?s:o instanceof Or.Name?(s instanceof Or.Name?t(i,s,o):e(i,s,o),o):s instanceof Or.Name?(e(i,o,s),s):r(s,o);return a===Or.Name&&!(u instanceof Or.Name)?n(i,u):u}}$t.mergeEvaluated={props:nue({mergeNames:(t,e,r)=>t.if((0,Or._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Or._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Or._)`${r} || {}`).code((0,Or._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Or._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Or._)`${r} || {}`),KU(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:uue}),items:nue({mergeNames:(t,e,r)=>t.if((0,Or._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Or._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Or._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Or._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function uue(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Or._)`{}`);return e!==void 0&&KU(t,r,e),r}$t.evaluatedPropsToName=uue;function KU(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Or._)`${e}${(0,Or.getProperty)(n)}`,!0))}$t.setEvaluated=KU;var iue={};function bot(t,e){return t.scopeValue("func",{ref:e,code:iue[e.code]||(iue[e.code]=new hot._Code(e.code))})}$t.useFunc=bot;var WU;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(WU||($t.Type=WU={}));function Eot(t,e,r){if(t instanceof Or.Name){let n=e===WU.Num;return r?n?(0,Or._)`"[" + ${t} + "]"`:(0,Or._)`"['" + ${t} + "']"`:n?(0,Or._)`"/" + ${t}`:(0,Or._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Or.getProperty)(t).toString():"/"+GU(t)}$t.getErrorPath=Eot;function cue(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}$t.checkStrictMode=cue});var ho=v(XU=>{"use strict";Object.defineProperty(XU,"__esModule",{value:!0});var Si=ct(),Sot={data:new Si.Name("data"),valCxt:new Si.Name("valCxt"),instancePath:new Si.Name("instancePath"),parentData:new Si.Name("parentData"),parentDataProperty:new Si.Name("parentDataProperty"),rootData:new Si.Name("rootData"),dynamicAnchors:new Si.Name("dynamicAnchors"),vErrors:new Si.Name("vErrors"),errors:new Si.Name("errors"),this:new Si.Name("this"),self:new Si.Name("self"),scope:new Si.Name("scope"),json:new Si.Name("json"),jsonPos:new Si.Name("jsonPos"),jsonLen:new Si.Name("jsonLen"),jsonPart:new Si.Name("jsonPart")};XU.default=Sot});var Ov=v(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.extendErrors=Ti.resetErrorsCount=Ti.reportExtraError=Ti.reportError=Ti.keyword$DataError=Ti.keywordError=void 0;var Qt=ct(),Bx=Nt(),rs=ho();Ti.keywordError={message:({keyword:t})=>(0,Qt.str)`must pass "${t}" keyword validation`};Ti.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,Qt.str)`"${t}" keyword must be ${e} ($data)`:(0,Qt.str)`"${t}" keyword is invalid ($data)`};function Tot(t,e=Ti.keywordError,r,n){let{it:i}=t,{gen:s,compositeRule:o,allErrors:a}=i,u=due(t,e,r);n??(o||a)?lue(s,u):fue(i,(0,Qt._)`[${u}]`)}Ti.reportError=Tot;function Cot(t,e=Ti.keywordError,r){let{it:n}=t,{gen:i,compositeRule:s,allErrors:o}=n,a=due(t,e,r);lue(i,a),s||o||fue(n,rs.default.vErrors)}Ti.reportExtraError=Cot;function xot(t,e){t.assign(rs.default.errors,e),t.if((0,Qt._)`${rs.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,Qt._)`${rs.default.vErrors}.length`,e),()=>t.assign(rs.default.vErrors,null)))}Ti.resetErrorsCount=xot;function Rot({gen:t,keyword:e,schemaValue:r,data:n,errsCount:i,it:s}){if(i===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",i,rs.default.errors,a=>{t.const(o,(0,Qt._)`${rs.default.vErrors}[${a}]`),t.if((0,Qt._)`${o}.instancePath === undefined`,()=>t.assign((0,Qt._)`${o}.instancePath`,(0,Qt.strConcat)(rs.default.instancePath,s.errorPath))),t.assign((0,Qt._)`${o}.schemaPath`,(0,Qt.str)`${s.errSchemaPath}/${e}`),s.opts.verbose&&(t.assign((0,Qt._)`${o}.schema`,r),t.assign((0,Qt._)`${o}.data`,n))})}Ti.extendErrors=Rot;function lue(t,e){let r=t.const("err",e);t.if((0,Qt._)`${rs.default.vErrors} === null`,()=>t.assign(rs.default.vErrors,(0,Qt._)`[${r}]`),(0,Qt._)`${rs.default.vErrors}.push(${r})`),t.code((0,Qt._)`${rs.default.errors}++`)}function fue(t,e){let{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw((0,Qt._)`new ${t.ValidationError}(${e})`):(r.assign((0,Qt._)`${n}.errors`,e),r.return(!1))}var Vd={keyword:new Qt.Name("keyword"),schemaPath:new Qt.Name("schemaPath"),params:new Qt.Name("params"),propertyName:new Qt.Name("propertyName"),message:new Qt.Name("message"),schema:new Qt.Name("schema"),parentSchema:new Qt.Name("parentSchema")};function due(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,Qt._)`{}`:Aot(t,e,r)}function Aot(t,e,r={}){let{gen:n,it:i}=t,s=[Pot(i,r),Iot(t,r)];return Oot(t,e,s),n.object(...s)}function Pot({errorPath:t},{instancePath:e}){let r=e?(0,Qt.str)`${t}${(0,Bx.getErrorPath)(e,Bx.Type.Str)}`:t;return[rs.default.instancePath,(0,Qt.strConcat)(rs.default.instancePath,r)]}function Iot({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let i=n?e:(0,Qt.str)`${e}/${t}`;return r&&(i=(0,Qt.str)`${i}${(0,Bx.getErrorPath)(r,Bx.Type.Str)}`),[Vd.schemaPath,i]}function Oot(t,{params:e,message:r},n){let{keyword:i,data:s,schemaValue:o,it:a}=t,{opts:u,propertyName:c,topSchemaRef:f,schemaPath:d}=a;n.push([Vd.keyword,i],[Vd.params,typeof e=="function"?e(t):e||(0,Qt._)`{}`]),u.messages&&n.push([Vd.message,typeof r=="function"?r(t):r]),u.verbose&&n.push([Vd.schema,o],[Vd.parentSchema,(0,Qt._)`${f}${d}`],[rs.default.data,s]),c&&n.push([Vd.propertyName,c])}});var pue=v(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.boolOrEmptySchema=Um.topBoolOrEmptySchema=void 0;var kot=Ov(),Not=ct(),Dot=ho(),Fot={message:"boolean schema is false"};function Lot(t){let{gen:e,schema:r,validateName:n}=t;r===!1?hue(t,!1):typeof r=="object"&&r.$async===!0?e.return(Dot.default.data):(e.assign((0,Not._)`${n}.errors`,null),e.return(!0))}Um.topBoolOrEmptySchema=Lot;function Mot(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),hue(t)):r.var(e,!0)}Um.boolOrEmptySchema=Mot;function hue(t,e){let{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,kot.reportError)(i,Fot,void 0,e)}});var JU=v(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});jm.getRules=jm.isJSONType=void 0;var qot=["string","number","integer","boolean","null","object","array"],$ot=new Set(qot);function Uot(t){return typeof t=="string"&&$ot.has(t)}jm.isJSONType=Uot;function jot(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}jm.getRules=jot});var ZU=v(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.shouldUseRule=ml.shouldUseGroup=ml.schemaHasRulesForType=void 0;function Bot({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&mue(t,n)}ml.schemaHasRulesForType=Bot;function mue(t,e){return e.rules.some(r=>gue(t,r))}ml.shouldUseGroup=mue;function gue(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}ml.shouldUseRule=gue});var kv=v(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.reportTypeError=Ci.checkDataTypes=Ci.checkDataType=Ci.coerceAndCheckDataType=Ci.getJSONTypes=Ci.getSchemaTypes=Ci.DataType=void 0;var Hot=JU(),zot=ZU(),Vot=Ov(),It=ct(),yue=Nt(),Bm;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Bm||(Ci.DataType=Bm={}));function Wot(t){let e=_ue(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Ci.getSchemaTypes=Wot;function _ue(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Hot.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Ci.getJSONTypes=_ue;function Got(t,e){let{gen:r,data:n,opts:i}=t,s=Kot(e,i.coerceTypes),o=e.length>0&&!(s.length===0&&e.length===1&&(0,zot.schemaHasRulesForType)(t,e[0]));if(o){let a=QU(e,n,i.strictNumbers,Bm.Wrong);r.if(a,()=>{s.length?Xot(t,e,s):e2(t)})}return o}Ci.coerceAndCheckDataType=Got;var vue=new Set(["string","number","integer","boolean","null"]);function Kot(t,e){return e?t.filter(r=>vue.has(r)||e==="array"&&r==="array"):[]}function Xot(t,e,r){let{gen:n,data:i,opts:s}=t,o=n.let("dataType",(0,It._)`typeof ${i}`),a=n.let("coerced",(0,It._)`undefined`);s.coerceTypes==="array"&&n.if((0,It._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,It._)`${i}[0]`).assign(o,(0,It._)`typeof ${i}`).if(QU(e,i,s.strictNumbers),()=>n.assign(a,i))),n.if((0,It._)`${a} !== undefined`);for(let c of r)(vue.has(c)||c==="array"&&s.coerceTypes==="array")&&u(c);n.else(),e2(t),n.endIf(),n.if((0,It._)`${a} !== undefined`,()=>{n.assign(i,a),Jot(t,a)});function u(c){switch(c){case"string":n.elseIf((0,It._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,It._)`"" + ${i}`).elseIf((0,It._)`${i} === null`).assign(a,(0,It._)`""`);return;case"number":n.elseIf((0,It._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,It._)`+${i}`);return;case"integer":n.elseIf((0,It._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,It._)`+${i}`);return;case"boolean":n.elseIf((0,It._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,It._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,It._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,It._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,It._)`[${i}]`)}}}function Jot({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,It._)`${e} !== undefined`,()=>t.assign((0,It._)`${e}[${r}]`,n))}function YU(t,e,r,n=Bm.Correct){let i=n===Bm.Correct?It.operators.EQ:It.operators.NEQ,s;switch(t){case"null":return(0,It._)`${e} ${i} null`;case"array":s=(0,It._)`Array.isArray(${e})`;break;case"object":s=(0,It._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=o((0,It._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=o();break;default:return(0,It._)`typeof ${e} ${i} ${t}`}return n===Bm.Correct?s:(0,It.not)(s);function o(a=It.nil){return(0,It.and)((0,It._)`typeof ${e} == "number"`,a,r?(0,It._)`isFinite(${e})`:It.nil)}}Ci.checkDataType=YU;function QU(t,e,r,n){if(t.length===1)return YU(t[0],e,r,n);let i,s=(0,yue.toHash)(t);if(s.array&&s.object){let o=(0,It._)`typeof ${e} != "object"`;i=s.null?o:(0,It._)`!${e} || ${o}`,delete s.null,delete s.array,delete s.object}else i=It.nil;s.number&&delete s.integer;for(let o in s)i=(0,It.and)(i,YU(o,e,r,n));return i}Ci.checkDataTypes=QU;var Zot={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,It._)`{type: ${t}}`:(0,It._)`{type: ${e}}`};function e2(t){let e=Yot(t);(0,Vot.reportError)(e,Zot)}Ci.reportTypeError=e2;function Yot(t){let{gen:e,data:r,schema:n}=t,i=(0,yue.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:t}}});var bue=v(Hx=>{"use strict";Object.defineProperty(Hx,"__esModule",{value:!0});Hx.assignDefaults=void 0;var Hm=ct(),Qot=Nt();function eat(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let i in r)wue(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,s)=>wue(t,s,i.default))}Hx.assignDefaults=eat;function wue(t,e,r){let{gen:n,compositeRule:i,data:s,opts:o}=t;if(r===void 0)return;let a=(0,Hm._)`${s}${(0,Hm.getProperty)(e)}`;if(i){(0,Qot.checkStrictMode)(t,`default is ignored for: ${a}`);return}let u=(0,Hm._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,Hm._)`${u} || ${a} === null || ${a} === ""`),n.if(u,(0,Hm._)`${a} = ${(0,Hm.stringify)(r)}`)}});var ri=v(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.validateUnion=Cr.validateArray=Cr.usePattern=Cr.callValidateCode=Cr.schemaProperties=Cr.allSchemaProperties=Cr.noPropertyInData=Cr.propertyInData=Cr.isOwnProperty=Cr.hasPropFunc=Cr.reportMissingProp=Cr.checkMissingProp=Cr.checkReportMissingProp=void 0;var Vr=ct(),t2=Nt(),gl=ho(),tat=Nt();function rat(t,e){let{gen:r,data:n,it:i}=t;r.if(n2(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Vr._)`${e}`},!0),t.error()})}Cr.checkReportMissingProp=rat;function nat({gen:t,data:e,it:{opts:r}},n,i){return(0,Vr.or)(...n.map(s=>(0,Vr.and)(n2(t,e,s,r.ownProperties),(0,Vr._)`${i} = ${s}`)))}Cr.checkMissingProp=nat;function iat(t,e){t.setParams({missingProperty:e},!0),t.error()}Cr.reportMissingProp=iat;function Eue(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Vr._)`Object.prototype.hasOwnProperty`})}Cr.hasPropFunc=Eue;function r2(t,e,r){return(0,Vr._)`${Eue(t)}.call(${e}, ${r})`}Cr.isOwnProperty=r2;function sat(t,e,r,n){let i=(0,Vr._)`${e}${(0,Vr.getProperty)(r)} !== undefined`;return n?(0,Vr._)`${i} && ${r2(t,e,r)}`:i}Cr.propertyInData=sat;function n2(t,e,r,n){let i=(0,Vr._)`${e}${(0,Vr.getProperty)(r)} === undefined`;return n?(0,Vr.or)(i,(0,Vr.not)(r2(t,e,r))):i}Cr.noPropertyInData=n2;function Sue(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Cr.allSchemaProperties=Sue;function oat(t,e){return Sue(e).filter(r=>!(0,t2.alwaysValidSchema)(t,e[r]))}Cr.schemaProperties=oat;function aat({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,u,c){let f=c?(0,Vr._)`${t}, ${e}, ${n}${i}`:e,d=[[gl.default.instancePath,(0,Vr.strConcat)(gl.default.instancePath,s)],[gl.default.parentData,o.parentData],[gl.default.parentDataProperty,o.parentDataProperty],[gl.default.rootData,gl.default.rootData]];o.opts.dynamicRef&&d.push([gl.default.dynamicAnchors,gl.default.dynamicAnchors]);let h=(0,Vr._)`${f}, ${r.object(...d)}`;return u!==Vr.nil?(0,Vr._)`${a}.call(${u}, ${h})`:(0,Vr._)`${a}(${h})`}Cr.callValidateCode=aat;var uat=(0,Vr._)`new RegExp`;function cat({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,s=i(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Vr._)`${i.code==="new RegExp"?uat:(0,tat.useFunc)(t,i)}(${r}, ${n})`})}Cr.usePattern=cat;function lat(t){let{gen:e,data:r,keyword:n,it:i}=t,s=e.name("valid");if(i.allErrors){let a=e.let("valid",!0);return o(()=>e.assign(a,!1)),a}return e.var(s,!0),o(()=>e.break()),s;function o(a){let u=e.const("len",(0,Vr._)`${r}.length`);e.forRange("i",0,u,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:t2.Type.Num},s),e.if((0,Vr.not)(s),a)})}}Cr.validateArray=lat;function fat(t){let{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,t2.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;let o=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((u,c)=>{let f=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);e.assign(o,(0,Vr._)`${o} || ${a}`),t.mergeValidEvaluated(f,a)||e.if((0,Vr.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}Cr.validateUnion=fat});var xue=v(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.validateKeywordUsage=Ba.validSchemaType=Ba.funcKeywordCode=Ba.macroKeywordCode=void 0;var ns=ct(),Wd=ho(),dat=ri(),hat=Ov();function pat(t,e){let{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=t,a=e.macro.call(o.self,i,s,o),u=Cue(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let c=r.name("valid");t.subschema({schema:a,schemaPath:ns.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Ba.macroKeywordCode=pat;function mat(t,e){var r;let{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=t;yat(u,e);let c=!a&&e.compile?e.compile.call(u.self,s,o,u):e.validate,f=Cue(n,i,c),d=n.let("valid");t.block$data(d,h),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function h(){if(e.errors===!1)g(),e.modifying&&Tue(t),y(()=>t.error());else{let w=e.async?p():m();e.modifying&&Tue(t),y(()=>gat(t,w))}}function p(){let w=n.let("ruleErrs",null);return n.try(()=>g((0,ns._)`await `),S=>n.assign(d,!1).if((0,ns._)`${S} instanceof ${u.ValidationError}`,()=>n.assign(w,(0,ns._)`${S}.errors`),()=>n.throw(S))),w}function m(){let w=(0,ns._)`${f}.errors`;return n.assign(w,null),g(ns.nil),w}function g(w=e.async?(0,ns._)`await `:ns.nil){let S=u.opts.passContext?Wd.default.this:Wd.default.self,E=!("compile"in e&&!a||e.schema===!1);n.assign(d,(0,ns._)`${w}${(0,dat.callValidateCode)(t,f,S,E)}`,e.modifying)}function y(w){var S;n.if((0,ns.not)((S=e.valid)!==null&&S!==void 0?S:d),w)}}Ba.funcKeywordCode=mat;function Tue(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,ns._)`${n.parentData}[${n.parentDataProperty}]`))}function gat(t,e){let{gen:r}=t;r.if((0,ns._)`Array.isArray(${e})`,()=>{r.assign(Wd.default.vErrors,(0,ns._)`${Wd.default.vErrors} === null ? ${e} : ${Wd.default.vErrors}.concat(${e})`).assign(Wd.default.errors,(0,ns._)`${Wd.default.vErrors}.length`),(0,hat.extendErrors)(t)},()=>t.error())}function yat({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Cue(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ns.stringify)(r)})}function _at(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Ba.validSchemaType=_at;function vat({schema:t,opts:e,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");let o=i.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[s])){let u=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}Ba.validateKeywordUsage=vat});var Aue=v(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.extendSubschemaMode=yl.extendSubschemaData=yl.getSubschema=void 0;var Ha=ct(),Rue=Nt();function wat(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,Ha._)`${t.schemaPath}${(0,Ha.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,Ha._)`${t.schemaPath}${(0,Ha.getProperty)(e)}${(0,Ha.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Rue.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}yl.getSubschema=wat;function bat(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:c,dataPathArr:f,opts:d}=e,h=a.let("data",(0,Ha._)`${e.data}${(0,Ha.getProperty)(r)}`,!0);u(h),t.errorPath=(0,Ha.str)`${c}${(0,Rue.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Ha._)`${r}`,t.dataPathArr=[...f,t.parentDataProperty]}if(i!==void 0){let c=i instanceof Ha.Name?i:a.let("data",i,!0);u(c),o!==void 0&&(t.propertyName=o)}s&&(t.dataTypes=s);function u(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}yl.extendSubschemaData=bat;function Eat(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}yl.extendSubschemaMode=Eat});var Iue=v(($Ar,Pue)=>{"use strict";var _l=Pue.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};zx(e,n,i,t,"",t)};_l.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};_l.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};_l.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};_l.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function zx(t,e,r,n,i,s,o,a,u,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,s,o,a,u,c);for(var f in n){var d=n[f];if(Array.isArray(d)){if(f in _l.arrayKeywords)for(var h=0;h<d.length;h++)zx(t,e,r,d[h],i+"/"+f+"/"+h,s,i,f,n,h)}else if(f in _l.propsKeywords){if(d&&typeof d=="object")for(var p in d)zx(t,e,r,d[p],i+"/"+f+"/"+Sat(p),s,i,f,n,p)}else(f in _l.keywords||t.allKeys&&!(f in _l.skipKeywords))&&zx(t,e,r,d,i+"/"+f,s,i,f,n)}r(n,i,s,o,a,u,c)}}function Sat(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Nv=v(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.getSchemaRefs=bs.resolveUrl=bs.normalizeId=bs._getFullPath=bs.getFullPath=bs.inlineRef=void 0;var Tat=Nt(),Cat=hl(),xat=Iue(),Rat=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Aat(t,e=!0){return typeof t=="boolean"?!0:e===!0?!i2(t):e?Oue(t)<=e:!1}bs.inlineRef=Aat;var Pat=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function i2(t){for(let e in t){if(Pat.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(i2)||typeof r=="object"&&i2(r))return!0}return!1}function Oue(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Rat.has(r)&&(typeof t[r]=="object"&&(0,Tat.eachItem)(t[r],n=>e+=Oue(n)),e===1/0))return 1/0}return e}function kue(t,e="",r){r!==!1&&(e=zm(e));let n=t.parse(e);return Nue(t,n)}bs.getFullPath=kue;function Nue(t,e){return t.serialize(e).split("#")[0]+"#"}bs._getFullPath=Nue;var Iat=/#\/?$/;function zm(t){return t?t.replace(Iat,""):""}bs.normalizeId=zm;function Oat(t,e,r){return r=zm(r),t.resolve(e,r)}bs.resolveUrl=Oat;var kat=/^[a-z_][-a-z0-9._]*$/i;function Nat(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=zm(t[r]||e),s={"":i},o=kue(n,i,!1),a={},u=new Set;return xat(t,{allKeys:!0},(d,h,p,m)=>{if(m===void 0)return;let g=o+h,y=s[m];typeof d[r]=="string"&&(y=w.call(this,d[r])),S.call(this,d.$anchor),S.call(this,d.$dynamicAnchor),s[h]=y;function w(E){let b=this.opts.uriResolver.resolve;if(E=zm(y?b(y,E):E),u.has(E))throw f(E);u.add(E);let O=this.refs[E];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?c(d,O.schema,E):E!==zm(g)&&(E[0]==="#"?(c(d,a[E],E),a[E]=d):this.refs[E]=g),E}function S(E){if(typeof E=="string"){if(!kat.test(E))throw new Error(`invalid anchor "${E}"`);w.call(this,`#${E}`)}}}),a;function c(d,h,p){if(h!==void 0&&!Cat(d,h))throw f(p)}function f(d){return new Error(`reference "${d}" resolves to more than one schema`)}}bs.getSchemaRefs=Nat});var Vm=v(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.getData=vl.KeywordCxt=vl.validateFunctionCode=void 0;var que=pue(),Due=kv(),o2=ZU(),Vx=kv(),Dat=bue(),Fv=xue(),s2=Aue(),Ye=ct(),Et=ho(),Fat=Nv(),Ju=Nt(),Dv=Ov();function Lat(t){if(jue(t)&&(Bue(t),Uue(t))){$at(t);return}$ue(t,()=>(0,que.topBoolOrEmptySchema)(t))}vl.validateFunctionCode=Lat;function $ue({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},s){i.code.es5?t.func(e,(0,Ye._)`${Et.default.data}, ${Et.default.valCxt}`,n.$async,()=>{t.code((0,Ye._)`"use strict"; ${Fue(r,i)}`),qat(t,i),t.code(s)}):t.func(e,(0,Ye._)`${Et.default.data}, ${Mat(i)}`,n.$async,()=>t.code(Fue(r,i)).code(s))}function Mat(t){return(0,Ye._)`{${Et.default.instancePath}="", ${Et.default.parentData}, ${Et.default.parentDataProperty}, ${Et.default.rootData}=${Et.default.data}${t.dynamicRef?(0,Ye._)`, ${Et.default.dynamicAnchors}={}`:Ye.nil}}={}`}function qat(t,e){t.if(Et.default.valCxt,()=>{t.var(Et.default.instancePath,(0,Ye._)`${Et.default.valCxt}.${Et.default.instancePath}`),t.var(Et.default.parentData,(0,Ye._)`${Et.default.valCxt}.${Et.default.parentData}`),t.var(Et.default.parentDataProperty,(0,Ye._)`${Et.default.valCxt}.${Et.default.parentDataProperty}`),t.var(Et.default.rootData,(0,Ye._)`${Et.default.valCxt}.${Et.default.rootData}`),e.dynamicRef&&t.var(Et.default.dynamicAnchors,(0,Ye._)`${Et.default.valCxt}.${Et.default.dynamicAnchors}`)},()=>{t.var(Et.default.instancePath,(0,Ye._)`""`),t.var(Et.default.parentData,(0,Ye._)`undefined`),t.var(Et.default.parentDataProperty,(0,Ye._)`undefined`),t.var(Et.default.rootData,Et.default.data),e.dynamicRef&&t.var(Et.default.dynamicAnchors,(0,Ye._)`{}`)})}function $at(t){let{schema:e,opts:r,gen:n}=t;$ue(t,()=>{r.$comment&&e.$comment&&zue(t),zat(t),n.let(Et.default.vErrors,null),n.let(Et.default.errors,0),r.unevaluated&&Uat(t),Hue(t),Gat(t)})}function Uat(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Ye._)`${r}.evaluated`),e.if((0,Ye._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Ye._)`${t.evaluated}.props`,(0,Ye._)`undefined`)),e.if((0,Ye._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Ye._)`${t.evaluated}.items`,(0,Ye._)`undefined`))}function Fue(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Ye._)`/*# sourceURL=${r} */`:Ye.nil}function jat(t,e){if(jue(t)&&(Bue(t),Uue(t))){Bat(t,e);return}(0,que.boolOrEmptySchema)(t,e)}function Uue({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function jue(t){return typeof t.schema!="boolean"}function Bat(t,e){let{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&zue(t),Vat(t),Wat(t);let s=n.const("_errs",Et.default.errors);Hue(t,s),n.var(e,(0,Ye._)`${s} === ${Et.default.errors}`)}function Bue(t){(0,Ju.checkUnknownRules)(t),Hat(t)}function Hue(t,e){if(t.opts.jtd)return Lue(t,[],!1,e);let r=(0,Due.getSchemaTypes)(t.schema),n=(0,Due.coerceAndCheckDataType)(t,r);Lue(t,r,!n,e)}function Hat(t){let{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Ju.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function zat(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ju.checkStrictMode)(t,"default is ignored in the schema root")}function Vat(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Fat.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Wat(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function zue({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){let s=r.$comment;if(i.$comment===!0)t.code((0,Ye._)`${Et.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){let o=(0,Ye.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,Ye._)`${Et.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function Gat(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=t;r.$async?e.if((0,Ye._)`${Et.default.errors} === 0`,()=>e.return(Et.default.data),()=>e.throw((0,Ye._)`new ${i}(${Et.default.vErrors})`)):(e.assign((0,Ye._)`${n}.errors`,Et.default.vErrors),s.unevaluated&&Kat(t),e.return((0,Ye._)`${Et.default.errors} === 0`))}function Kat({gen:t,evaluated:e,props:r,items:n}){r instanceof Ye.Name&&t.assign((0,Ye._)`${e}.props`,r),n instanceof Ye.Name&&t.assign((0,Ye._)`${e}.items`,n)}function Lue(t,e,r,n){let{gen:i,schema:s,data:o,allErrors:a,opts:u,self:c}=t,{RULES:f}=c;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Ju.schemaHasRulesButRef)(s,f))){i.block(()=>Wue(t,"$ref",f.all.$ref.definition));return}u.jtd||Xat(t,e),i.block(()=>{for(let h of f.rules)d(h);d(f.post)});function d(h){(0,o2.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Vx.checkDataType)(h.type,o,u.strictNumbers)),Mue(t,h),e.length===1&&e[0]===h.type&&r&&(i.else(),(0,Vx.reportTypeError)(t)),i.endIf()):Mue(t,h),a||i.if((0,Ye._)`${Et.default.errors} === ${n||0}`))}}function Mue(t,e){let{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,Dat.assignDefaults)(t,e.type),r.block(()=>{for(let s of e.rules)(0,o2.shouldUseRule)(n,s)&&Wue(t,s.keyword,s.definition,e.type)})}function Xat(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Jat(t,e),t.opts.allowUnionTypes||Zat(t,e),Yat(t,t.dataTypes))}function Jat(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Vue(t.dataTypes,r)||a2(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),eut(t,e)}}function Zat(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&a2(t,"use allowUnionTypes to allow union type keyword")}function Yat(t,e){let r=t.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,o2.shouldUseRule)(t.schema,i)){let{type:s}=i.definition;s.length&&!s.some(o=>Qat(e,o))&&a2(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Qat(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Vue(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function eut(t,e){let r=[];for(let n of t.dataTypes)Vue(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function a2(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Ju.checkStrictMode)(t,e,t.opts.strictTypes)}var Wx=class{constructor(e,r,n){if((0,Fv.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ju.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Gue(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Fv.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Et.default.errors))}result(e,r,n){this.failResult((0,Ye.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Ye.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,Ye._)`${r} !== undefined && (${(0,Ye.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Dv.reportExtraError:Dv.reportError)(this,this.def.error,r)}$dataError(){(0,Dv.reportError)(this,this.def.$dataError||Dv.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Dv.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Ye.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Ye.nil,r=Ye.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,Ye.or)((0,Ye._)`${i} === undefined`,r)),e!==Ye.nil&&n.assign(e,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Ye.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,Ye.or)(o(),a());function o(){if(n.length){if(!(r instanceof Ye.Name))throw new Error("ajv implementation error");let u=Array.isArray(n)?n:[n];return(0,Ye._)`${(0,Vx.checkDataTypes)(u,r,s.opts.strictNumbers,Vx.DataType.Wrong)}`}return Ye.nil}function a(){if(i.validateSchema){let u=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ye._)`!${u}(${r})`}return Ye.nil}}subschema(e,r){let n=(0,s2.getSubschema)(this.it,e);(0,s2.extendSubschemaData)(n,this.it,e),(0,s2.extendSubschemaMode)(n,e);let i={...this.it,...n,items:void 0,props:void 0};return jat(i,r),i}mergeEvaluated(e,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Ju.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Ju.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,Ye.Name)),!0}};vl.KeywordCxt=Wx;function Wue(t,e,r,n){let i=new Wx(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Fv.funcKeywordCode)(i,r):"macro"in r?(0,Fv.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Fv.funcKeywordCode)(i,r)}var tut=/^\/(?:[^~]|~0|~1)*$/,rut=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Gue(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,s;if(t==="")return Et.default.rootData;if(t[0]==="/"){if(!tut.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,s=Et.default.rootData}else{let c=rut.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let f=+c[1];if(i=c[2],i==="#"){if(f>=e)throw new Error(u("property/index",f));return n[e-f]}if(f>e)throw new Error(u("data",f));if(s=r[e-f],!i)return s}let o=s,a=i.split("/");for(let c of a)c&&(s=(0,Ye._)`${s}${(0,Ye.getProperty)((0,Ju.unescapeJsonPointer)(c))}`,o=(0,Ye._)`${o} && ${s}`);return o;function u(c,f){return`Cannot access ${c} ${f} levels up, current level is ${e}`}}vl.getData=Gue});var Lv=v(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});var u2=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};c2.default=u2});var Zu=v(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});var l2=Nv(),f2=class extends Error{constructor(e,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,l2.resolveUrl)(e,r,n),this.missingSchema=(0,l2.normalizeId)((0,l2.getFullPath)(e,this.missingRef))}};d2.default=f2});var Kd=v(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.resolveSchema=po.getCompilingSchema=po.resolveRef=po.compileSchema=po.SchemaEnv=void 0;var Qo=ct(),nut=Lv(),Gd=ho(),ea=Nv(),Kue=Nt(),iut=Vm(),Wm=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,ea.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}};po.SchemaEnv=Wm;function p2(t){let e=Xue.call(this,t);if(e)return e;let r=(0,ea.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Qo.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a;t.$async&&(a=o.scopeValue("Error",{ref:nut.default,code:(0,Qo._)`require("ajv/dist/runtime/validation_error").default`}));let u=o.scopeName("validate");t.validateName=u;let c={gen:o,allErrors:this.opts.allErrors,data:Gd.default.data,parentData:Gd.default.parentData,parentDataProperty:Gd.default.parentDataProperty,dataNames:[Gd.default.data],dataPathArr:[Qo.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Qo.stringify)(t.schema)}:{ref:t.schema}),validateName:u,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Qo.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Qo._)`""`,opts:this.opts,self:this},f;try{this._compilations.add(t),(0,iut.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);let d=o.toString();f=`${o.scopeRefs(Gd.default.scope)}return ${d}`,this.opts.code.process&&(f=this.opts.code.process(f,t));let p=new Function(`${Gd.default.self}`,`${Gd.default.scope}`,f)(this,this.scope.get());if(this.scope.value(u,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:u,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){let{props:m,items:g}=c;p.evaluated={props:m instanceof Qo.Name?void 0:m,items:g instanceof Qo.Name?void 0:g,dynamicProps:m instanceof Qo.Name,dynamicItems:g instanceof Qo.Name},p.source&&(p.source.evaluated=(0,Qo.stringify)(p.evaluated))}return t.validate=p,t}catch(d){throw delete t.validate,delete t.validateName,f&&this.logger.error("Error compiling schema, function code:",f),d}finally{this._compilations.delete(t)}}po.compileSchema=p2;function sut(t,e,r){var n;r=(0,ea.resolveUrl)(this.opts.uriResolver,e,r);let i=t.refs[r];if(i)return i;let s=uut.call(this,t,r);if(s===void 0){let o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new Wm({schema:o,schemaId:a,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=out.call(this,s)}po.resolveRef=sut;function out(t){return(0,ea.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:p2.call(this,t)}function Xue(t){for(let e of this._compilations)if(aut(e,t))return e}po.getCompilingSchema=Xue;function aut(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function uut(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Gx.call(this,t,e)}function Gx(t,e){let r=this.opts.uriResolver.parse(e),n=(0,ea._getFullPath)(this.opts.uriResolver,r),i=(0,ea.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===i)return h2.call(this,r,t);let s=(0,ea.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=Gx.call(this,t,o);return typeof a?.schema!="object"?void 0:h2.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||p2.call(this,o),s===(0,ea.normalizeId)(e)){let{schema:a}=o,{schemaId:u}=this.opts,c=a[u];return c&&(i=(0,ea.resolveUrl)(this.opts.uriResolver,i,c)),new Wm({schema:a,schemaId:u,root:t,baseId:i})}return h2.call(this,r,o)}}po.resolveSchema=Gx;var cut=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function h2(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,Kue.unescapeFragment)(a)];if(u===void 0)return;r=u;let c=typeof r=="object"&&r[this.opts.schemaId];!cut.has(a)&&c&&(e=(0,ea.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Kue.schemaHasRulesButRef)(r,this.RULES)){let a=(0,ea.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=Gx.call(this,n,a)}let{schemaId:o}=this.opts;if(s=s||new Wm({schema:r,schemaId:o,root:n,baseId:e}),s.schema!==s.root.schema)return s}});var Jue=v((VAr,lut)=>{lut.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var g2=v((WAr,ece)=>{"use strict";var fut=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Yue=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function m2(t){let e="",r=0,n=0;for(n=0;n<t.length;n++)if(r=t[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n];break}for(n+=1;n<t.length;n++){if(r=t[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n]}return e}var dut=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Zue(t){return t.length=0,!0}function hut(t,e,r){if(t.length){let n=m2(t);if(n!=="")e.push(n);else return r.error=!0,!1;t.length=0}return!0}function put(t){let e=0,r={error:!1,address:"",zone:""},n=[],i=[],s=!1,o=!1,a=hut;for(let u=0;u<t.length;u++){let c=t[u];if(!(c==="["||c==="]"))if(c===":"){if(s===!0&&(o=!0),!a(i,n,r))break;if(++e>7){r.error=!0;break}u>0&&t[u-1]===":"&&(s=!0),n.push(":");continue}else if(c==="%"){if(!a(i,n,r))break;a=Zue}else{i.push(c);continue}}return i.length&&(a===Zue?r.zone=i.join(""):o?n.push(i.join("")):n.push(m2(i))),r.address=n.join(""),r}function Que(t){if(mut(t,":")<2)return{host:t,isIPV6:!1};let e=put(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,n=e.address;return e.zone&&(r+="%"+e.zone,n+="%25"+e.zone),{host:r,isIPV6:!0,escapedHost:n}}}function mut(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}function gut(t){let e=t,r=[],n=-1,i=0;for(;i=e.length;){if(i===1){if(e===".")break;if(e==="/"){r.push("/");break}else{r.push(e);break}}else if(i===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){r.push("/");break}}else if(i===3&&e==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),r.length!==0&&r.pop();continue}}if((n=e.indexOf("/",1))===-1){r.push(e);break}else r.push(e.slice(0,n)),e=e.slice(n)}return r.join("")}function yut(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function _ut(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host);if(!Yue(r)){let n=Que(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}ece.exports={nonSimpleDomain:dut,recomposeAuthority:_ut,normalizeComponentEncoding:yut,removeDotSegments:gut,isIPv4:Yue,isUUID:fut,normalizeIPv6:Que,stringArrayToHexStripped:m2}});var sce=v((GAr,ice)=>{"use strict";var{isUUID:vut}=g2(),wut=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,but=["http","https","ws","wss","urn","urn:uuid"];function Eut(t){return but.indexOf(t)!==-1}function y2(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function tce(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function rce(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Sut(t){return t.secure=y2(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Tut(t){if((t.port===(y2(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function Cut(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(wut);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let i=`${n}:${e.nid||t.nid}`,s=_2(i);t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function xut(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),i=`${r}:${e.nid||n}`,s=_2(i);s&&(t=s.serialize(t,e));let o=t,a=t.nss;return o.path=`${n||e.nid}:${a}`,e.skipEscape=!0,o}function Rut(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!vut(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Aut(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var nce={scheme:"http",domainHost:!0,parse:tce,serialize:rce},Put={scheme:"https",domainHost:nce.domainHost,parse:tce,serialize:rce},Kx={scheme:"ws",domainHost:!0,parse:Sut,serialize:Tut},Iut={scheme:"wss",domainHost:Kx.domainHost,parse:Kx.parse,serialize:Kx.serialize},Out={scheme:"urn",parse:Cut,serialize:xut,skipNormalize:!0},kut={scheme:"urn:uuid",parse:Rut,serialize:Aut,skipNormalize:!0},Xx={http:nce,https:Put,ws:Kx,wss:Iut,urn:Out,"urn:uuid":kut};Object.setPrototypeOf(Xx,null);function _2(t){return t&&(Xx[t]||Xx[t.toLowerCase()])||void 0}ice.exports={wsIsSecure:y2,SCHEMES:Xx,isValidSchemeName:Eut,getSchemeHandler:_2}});var uce=v((KAr,Zx)=>{"use strict";var{normalizeIPv6:Nut,removeDotSegments:Mv,recomposeAuthority:Dut,normalizeComponentEncoding:Jx,isIPv4:Fut,nonSimpleDomain:Lut}=g2(),{SCHEMES:Mut,getSchemeHandler:oce}=sce();function qut(t,e){return typeof t=="string"?t=za(Yu(t,e),e):typeof t=="object"&&(t=Yu(za(t,e),e)),t}function $ut(t,e,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},i=ace(Yu(t,n),Yu(e,n),n,!0);return n.skipEscape=!0,za(i,n)}function ace(t,e,r,n){let i={};return n||(t=Yu(za(t,r),r),e=Yu(za(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Mv(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Mv(e.path||""),i.query=e.query):(e.path?(e.path[0]==="/"?i.path=Mv(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?i.path="/"+e.path:t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=Mv(i.path)),i.query=e.query):(i.path=t.path,e.query!==void 0?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function Uut(t,e,r){return typeof t=="string"?(t=unescape(t),t=za(Jx(Yu(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=za(Jx(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=za(Jx(Yu(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=za(Jx(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function za(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),i=[],s=oce(n.scheme||r.scheme);s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");let o=Dut(r);if(o!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(o),r.path&&r.path[0]!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=Mv(a)),o===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),i.push(a)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}var jut=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Yu(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=!1;r.reference==="suffix"&&(r.scheme?t=r.scheme+":"+t:t="//"+t);let s=t.match(jut);if(s){if(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5]),n.host)if(Fut(n.host)===!1){let u=Nut(n.host);n.host=u.host.toLowerCase(),i=u.isIPV6}else i=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=oce(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&i===!1&&Lut(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(t.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var v2={SCHEMES:Mut,normalize:qut,resolve:$ut,resolveComponent:ace,equal:Uut,serialize:za,parse:Yu};Zx.exports=v2;Zx.exports.default=v2;Zx.exports.fastUri=v2});var lce=v(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});var cce=uce();cce.code='require("ajv/dist/runtime/uri").default';w2.default=cce});var S2=v(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.CodeGen=ni.Name=ni.nil=ni.stringify=ni.str=ni._=ni.KeywordCxt=void 0;var But=Vm();Object.defineProperty(ni,"KeywordCxt",{enumerable:!0,get:function(){return But.KeywordCxt}});var Gm=ct();Object.defineProperty(ni,"_",{enumerable:!0,get:function(){return Gm._}});Object.defineProperty(ni,"str",{enumerable:!0,get:function(){return Gm.str}});Object.defineProperty(ni,"stringify",{enumerable:!0,get:function(){return Gm.stringify}});Object.defineProperty(ni,"nil",{enumerable:!0,get:function(){return Gm.nil}});Object.defineProperty(ni,"Name",{enumerable:!0,get:function(){return Gm.Name}});Object.defineProperty(ni,"CodeGen",{enumerable:!0,get:function(){return Gm.CodeGen}});var Hut=Lv(),mce=Zu(),zut=JU(),qv=Kd(),Vut=ct(),$v=Nv(),Yx=kv(),E2=Nt(),fce=Jue(),Wut=lce(),gce=(t,e)=>new RegExp(t,e);gce.code="new RegExp";var Gut=["removeAdditional","useDefaults","coerceTypes"],Kut=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Xut={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Jut={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},dce=200;function Zut(t){var e,r,n,i,s,o,a,u,c,f,d,h,p,m,g,y,w,S,E,b,O,M,x,I,P;let F=t.strict,$=(e=t.code)===null||e===void 0?void 0:e.optimize,D=$===!0||$===void 0?1:$||0,L=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:gce,z=(i=t.uriResolver)!==null&&i!==void 0?i:Wut.default;return{strictSchema:(o=(s=t.strictSchema)!==null&&s!==void 0?s:F)!==null&&o!==void 0?o:!0,strictNumbers:(u=(a=t.strictNumbers)!==null&&a!==void 0?a:F)!==null&&u!==void 0?u:!0,strictTypes:(f=(c=t.strictTypes)!==null&&c!==void 0?c:F)!==null&&f!==void 0?f:"log",strictTuples:(h=(d=t.strictTuples)!==null&&d!==void 0?d:F)!==null&&h!==void 0?h:"log",strictRequired:(m=(p=t.strictRequired)!==null&&p!==void 0?p:F)!==null&&m!==void 0?m:!1,code:t.code?{...t.code,optimize:D,regExp:L}:{optimize:D,regExp:L},loopRequired:(g=t.loopRequired)!==null&&g!==void 0?g:dce,loopEnum:(y=t.loopEnum)!==null&&y!==void 0?y:dce,meta:(w=t.meta)!==null&&w!==void 0?w:!0,messages:(S=t.messages)!==null&&S!==void 0?S:!0,inlineRefs:(E=t.inlineRefs)!==null&&E!==void 0?E:!0,schemaId:(b=t.schemaId)!==null&&b!==void 0?b:"$id",addUsedSchema:(O=t.addUsedSchema)!==null&&O!==void 0?O:!0,validateSchema:(M=t.validateSchema)!==null&&M!==void 0?M:!0,validateFormats:(x=t.validateFormats)!==null&&x!==void 0?x:!0,unicodeRegExp:(I=t.unicodeRegExp)!==null&&I!==void 0?I:!0,int32range:(P=t.int32range)!==null&&P!==void 0?P:!0,uriResolver:z}}var Uv=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...Zut(e)};let{es5:r,lines:n}=this.opts.code;this.scope=new Vut.ValueScope({scope:{},prefixes:Kut,es5:r,lines:n}),this.logger=nct(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,zut.getRules)(),hce.call(this,Xut,e,"NOT SUPPORTED"),hce.call(this,Jut,e,"DEPRECATED","warn"),this._metaOpts=tct.call(this),e.formats&&Qut.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&ect.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Yut.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,i=fce;n==="id"&&(i={...fce},i.id=i.$id,delete i.$id),r&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,e,r);async function i(f,d){await s.call(this,f.$schema);let h=this._addSchema(f,d);return h.validate||o.call(this,h)}async function s(f){f&&!this.getSchema(f)&&await i.call(this,{$ref:f},!0)}async function o(f){try{return this._compileSchemaEnv(f)}catch(d){if(!(d instanceof mce.default))throw d;return a.call(this,d),await u.call(this,d.missingSchema),o.call(this,f)}}function a({missingSchema:f,missingRef:d}){if(this.refs[f])throw new Error(`AnySchema ${f} is loaded but ${d} cannot be resolved`)}async function u(f){let d=await c.call(this,f);this.refs[f]||await s.call(this,d.$schema),this.refs[f]||this.addSchema(d,f,r)}async function c(f){let d=this._loading[f];if(d)return d;try{return await(this._loading[f]=n(f))}finally{delete this._loading[f]}}}addSchema(e,r,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,n,i);return this}let s;if(typeof e=="object"){let{schemaId:o}=this.opts;if(s=e[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,$v.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,i,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,e);if(!i&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return i}getSchema(e){let r;for(;typeof(r=pce.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,i=new qv.SchemaEnv({schema:{},schemaId:n});if(r=qv.resolveSchema.call(this,i,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=pce.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,$v.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(sct.call(this,n,r),!r)return(0,E2.eachItem)(n,s=>b2.call(this,s)),this;act.call(this,r);let i={...r,type:(0,Yx.getJSONTypes)(r.type),schemaType:(0,Yx.getJSONTypes)(r.schemaType)};return(0,E2.eachItem)(n,i.type.length===0?s=>b2.call(this,s,i):s=>i.type.forEach(o=>b2.call(this,s,i,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let i=n.rules.findIndex(s=>s.keyword===e);i>=0&&n.rules.splice(i,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,s)=>i+r+s)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of r){let s=i.split("/").slice(1),o=e;for(let a of s)o=o[a];for(let a in n){let u=n[a];if(typeof u!="object")continue;let{$data:c}=u.definition,f=o[a];c&&f&&(o[a]=yce(f))}}return e}_removeAllSchemas(e,r){for(let n in e){let i=e[n];(!r||r.test(n))&&(typeof i=="string"?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,r,n,i=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof e=="object")o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(u!==void 0)return u;n=(0,$v.normalizeId)(o||n);let c=$v.getSchemaRefs.call(this,e,n);return u=new qv.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:n,localRefs:c}),this._cache.set(u.schema,u),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),i&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):qv.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{qv.compileSchema.call(this,e)}finally{this.opts=r}}};Uv.ValidationError=Hut.default;Uv.MissingRefError=mce.default;ni.default=Uv;function hce(t,e,r,n="error"){for(let i in t){let s=i;s in e&&this.logger[n](`${r}: option ${i}. ${t[s]}`)}}function pce(t){return t=(0,$v.normalizeId)(t),this.schemas[t]||this.refs[t]}function Yut(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Qut(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function ect(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function tct(){let t={...this.opts};for(let e of Gut)delete t[e];return t}var rct={log(){},warn(){},error(){}};function nct(t){if(t===!1)return rct;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var ict=/^[a-z_$][a-z0-9_$:-]*$/i;function sct(t,e){let{RULES:r}=this;if((0,E2.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!ict.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function b2(t,e,r){var n;let i=e?.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=i?s.post:s.rules.find(({type:u})=>u===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,Yx.getJSONTypes)(e.type),schemaType:(0,Yx.getJSONTypes)(e.schemaType)}};e.before?oct.call(this,o,a,e.before):o.rules.push(a),s.all[t]=a,(n=e.implements)===null||n===void 0||n.forEach(u=>this.addKeyword(u))}function oct(t,e,r){let n=t.rules.findIndex(i=>i.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function act(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=yce(e)),t.validateSchema=this.compile(e,!0))}var uct={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function yce(t){return{anyOf:[t,uct]}}});var _ce=v(T2=>{"use strict";Object.defineProperty(T2,"__esModule",{value:!0});var cct={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};T2.default=cct});var C2=v(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.callRef=Xd.getValidate=void 0;var lct=Zu(),vce=ri(),Es=ct(),Km=ho(),wce=Kd(),Qx=Nt(),fct={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=n,{root:c}=s;if((r==="#"||r==="#/")&&i===c.baseId)return d();let f=wce.resolveRef.call(u,c,i,r);if(f===void 0)throw new lct.default(n.opts.uriResolver,i,r);if(f instanceof wce.SchemaEnv)return h(f);return p(f);function d(){if(s===c)return eR(t,o,s,s.$async);let m=e.scopeValue("root",{ref:c});return eR(t,(0,Es._)`${m}.validate`,c,c.$async)}function h(m){let g=bce(t,m);eR(t,g,m,m.$async)}function p(m){let g=e.scopeValue("schema",a.code.source===!0?{ref:m,code:(0,Es.stringify)(m)}:{ref:m}),y=e.name("valid"),w=t.subschema({schema:m,dataTypes:[],schemaPath:Es.nil,topSchemaRef:g,errSchemaPath:r},y);t.mergeEvaluated(w),t.ok(y)}}};function bce(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Es._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Xd.getValidate=bce;function eR(t,e,r,n){let{gen:i,it:s}=t,{allErrors:o,schemaEnv:a,opts:u}=s,c=u.passContext?Km.default.this:Es.nil;n?f():d();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");let m=i.let("valid");i.try(()=>{i.code((0,Es._)`await ${(0,vce.callValidateCode)(t,e,c)}`),p(e),o||i.assign(m,!0)},g=>{i.if((0,Es._)`!(${g} instanceof ${s.ValidationError})`,()=>i.throw(g)),h(g),o||i.assign(m,!1)}),t.ok(m)}function d(){t.result((0,vce.callValidateCode)(t,e,c),()=>p(e),()=>h(e))}function h(m){let g=(0,Es._)`${m}.errors`;i.assign(Km.default.vErrors,(0,Es._)`${Km.default.vErrors} === null ? ${g} : ${Km.default.vErrors}.concat(${g})`),i.assign(Km.default.errors,(0,Es._)`${Km.default.vErrors}.length`)}function p(m){var g;if(!s.opts.unevaluated)return;let y=(g=r?.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Qx.mergeEvaluated.props(i,y.props,s.props));else{let w=i.var("props",(0,Es._)`${m}.evaluated.props`);s.props=Qx.mergeEvaluated.props(i,w,s.props,Es.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Qx.mergeEvaluated.items(i,y.items,s.items));else{let w=i.var("items",(0,Es._)`${m}.evaluated.items`);s.items=Qx.mergeEvaluated.items(i,w,s.items,Es.Name)}}}Xd.callRef=eR;Xd.default=fct});var Ece=v(x2=>{"use strict";Object.defineProperty(x2,"__esModule",{value:!0});var dct=_ce(),hct=C2(),pct=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",dct.default,hct.default];x2.default=pct});var Sce=v(R2=>{"use strict";Object.defineProperty(R2,"__esModule",{value:!0});var tR=ct(),wl=tR.operators,rR={maximum:{okStr:"<=",ok:wl.LTE,fail:wl.GT},minimum:{okStr:">=",ok:wl.GTE,fail:wl.LT},exclusiveMaximum:{okStr:"<",ok:wl.LT,fail:wl.GTE},exclusiveMinimum:{okStr:">",ok:wl.GT,fail:wl.LTE}},mct={message:({keyword:t,schemaCode:e})=>(0,tR.str)`must be ${rR[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,tR._)`{comparison: ${rR[t].okStr}, limit: ${e}}`},gct={keyword:Object.keys(rR),type:"number",schemaType:"number",$data:!0,error:mct,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,tR._)`${r} ${rR[e].fail} ${n} || isNaN(${r})`)}};R2.default=gct});var Tce=v(A2=>{"use strict";Object.defineProperty(A2,"__esModule",{value:!0});var jv=ct(),yct={message:({schemaCode:t})=>(0,jv.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,jv._)`{multipleOf: ${t}}`},_ct={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:yct,code(t){let{gen:e,data:r,schemaCode:n,it:i}=t,s=i.opts.multipleOfPrecision,o=e.let("res"),a=s?(0,jv._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,jv._)`${o} !== parseInt(${o})`;t.fail$data((0,jv._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};A2.default=_ct});var xce=v(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});function Cce(t){let e=t.length,r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)===56320&&n++);return r}P2.default=Cce;Cce.code='require("ajv/dist/runtime/ucs2length").default'});var Rce=v(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});var Jd=ct(),vct=Nt(),wct=xce(),bct={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Jd.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Jd._)`{limit: ${t}}`},Ect={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:bct,code(t){let{keyword:e,data:r,schemaCode:n,it:i}=t,s=e==="maxLength"?Jd.operators.GT:Jd.operators.LT,o=i.opts.unicode===!1?(0,Jd._)`${r}.length`:(0,Jd._)`${(0,vct.useFunc)(t.gen,wct.default)}(${r})`;t.fail$data((0,Jd._)`${o} ${s} ${n}`)}};I2.default=Ect});var Ace=v(O2=>{"use strict";Object.defineProperty(O2,"__esModule",{value:!0});var Sct=ri(),nR=ct(),Tct={message:({schemaCode:t})=>(0,nR.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,nR._)`{pattern: ${t}}`},Cct={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Tct,code(t){let{data:e,$data:r,schema:n,schemaCode:i,it:s}=t,o=s.opts.unicodeRegExp?"u":"",a=r?(0,nR._)`(new RegExp(${i}, ${o}))`:(0,Sct.usePattern)(t,n);t.fail$data((0,nR._)`!${a}.test(${e})`)}};O2.default=Cct});var Pce=v(k2=>{"use strict";Object.defineProperty(k2,"__esModule",{value:!0});var Bv=ct(),xct={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Bv.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Bv._)`{limit: ${t}}`},Rct={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:xct,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?Bv.operators.GT:Bv.operators.LT;t.fail$data((0,Bv._)`Object.keys(${r}).length ${i} ${n}`)}};k2.default=Rct});var Ice=v(N2=>{"use strict";Object.defineProperty(N2,"__esModule",{value:!0});var Hv=ri(),zv=ct(),Act=Nt(),Pct={message:({params:{missingProperty:t}})=>(0,zv.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,zv._)`{missingProperty: ${t}}`},Ict={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Pct,code(t){let{gen:e,schema:r,schemaCode:n,data:i,$data:s,it:o}=t,{opts:a}=o;if(!s&&r.length===0)return;let u=r.length>=a.loopRequired;if(o.allErrors?c():f(),a.strictRequired){let p=t.parentSchema.properties,{definedProperties:m}=t.it;for(let g of r)if(p?.[g]===void 0&&!m.has(g)){let y=o.schemaEnv.baseId+o.errSchemaPath,w=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,Act.checkStrictMode)(o,w,o.opts.strictRequired)}}function c(){if(u||s)t.block$data(zv.nil,d);else for(let p of r)(0,Hv.checkReportMissingProp)(t,p)}function f(){let p=e.let("missing");if(u||s){let m=e.let("valid",!0);t.block$data(m,()=>h(p,m)),t.ok(m)}else e.if((0,Hv.checkMissingProp)(t,r,p)),(0,Hv.reportMissingProp)(t,p),e.else()}function d(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Hv.noPropertyInData)(e,i,p,a.ownProperties),()=>t.error())})}function h(p,m){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(m,(0,Hv.propertyInData)(e,i,p,a.ownProperties)),e.if((0,zv.not)(m),()=>{t.error(),e.break()})},zv.nil)}}};N2.default=Ict});var Oce=v(D2=>{"use strict";Object.defineProperty(D2,"__esModule",{value:!0});var Vv=ct(),Oct={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Vv.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Vv._)`{limit: ${t}}`},kct={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Oct,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?Vv.operators.GT:Vv.operators.LT;t.fail$data((0,Vv._)`${r}.length ${i} ${n}`)}};D2.default=kct});var Wv=v(F2=>{"use strict";Object.defineProperty(F2,"__esModule",{value:!0});var kce=hl();kce.code='require("ajv/dist/runtime/equal").default';F2.default=kce});var Nce=v(M2=>{"use strict";Object.defineProperty(M2,"__esModule",{value:!0});var L2=kv(),ii=ct(),Nct=Nt(),Dct=Wv(),Fct={message:({params:{i:t,j:e}})=>(0,ii.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ii._)`{i: ${t}, j: ${e}}`},Lct={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Fct,code(t){let{gen:e,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=t;if(!n&&!i)return;let u=e.let("valid"),c=s.items?(0,L2.getSchemaTypes)(s.items):[];t.block$data(u,f,(0,ii._)`${o} === false`),t.ok(u);function f(){let m=e.let("i",(0,ii._)`${r}.length`),g=e.let("j");t.setParams({i:m,j:g}),e.assign(u,!0),e.if((0,ii._)`${m} > 1`,()=>(d()?h:p)(m,g))}function d(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function h(m,g){let y=e.name("item"),w=(0,L2.checkDataTypes)(c,y,a.opts.strictNumbers,L2.DataType.Wrong),S=e.const("indices",(0,ii._)`{}`);e.for((0,ii._)`;${m}--;`,()=>{e.let(y,(0,ii._)`${r}[${m}]`),e.if(w,(0,ii._)`continue`),c.length>1&&e.if((0,ii._)`typeof ${y} == "string"`,(0,ii._)`${y} += "_"`),e.if((0,ii._)`typeof ${S}[${y}] == "number"`,()=>{e.assign(g,(0,ii._)`${S}[${y}]`),t.error(),e.assign(u,!1).break()}).code((0,ii._)`${S}[${y}] = ${m}`)})}function p(m,g){let y=(0,Nct.useFunc)(e,Dct.default),w=e.name("outer");e.label(w).for((0,ii._)`;${m}--;`,()=>e.for((0,ii._)`${g} = ${m}; ${g}--;`,()=>e.if((0,ii._)`${y}(${r}[${m}], ${r}[${g}])`,()=>{t.error(),e.assign(u,!1).break(w)})))}}};M2.default=Lct});var Dce=v($2=>{"use strict";Object.defineProperty($2,"__esModule",{value:!0});var q2=ct(),Mct=Nt(),qct=Wv(),$ct={message:"must be equal to constant",params:({schemaCode:t})=>(0,q2._)`{allowedValue: ${t}}`},Uct={keyword:"const",$data:!0,error:$ct,code(t){let{gen:e,data:r,$data:n,schemaCode:i,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,q2._)`!${(0,Mct.useFunc)(e,qct.default)}(${r}, ${i})`):t.fail((0,q2._)`${s} !== ${r}`)}};$2.default=Uct});var Fce=v(U2=>{"use strict";Object.defineProperty(U2,"__esModule",{value:!0});var Gv=ct(),jct=Nt(),Bct=Wv(),Hct={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Gv._)`{allowedValues: ${t}}`},zct={keyword:"enum",schemaType:"array",$data:!0,error:Hct,code(t){let{gen:e,data:r,$data:n,schema:i,schemaCode:s,it:o}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=o.opts.loopEnum,u,c=()=>u??(u=(0,jct.useFunc)(e,Bct.default)),f;if(a||n)f=e.let("valid"),t.block$data(f,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let p=e.const("vSchema",s);f=(0,Gv.or)(...i.map((m,g)=>h(p,g)))}t.pass(f);function d(){e.assign(f,!1),e.forOf("v",s,p=>e.if((0,Gv._)`${c()}(${r}, ${p})`,()=>e.assign(f,!0).break()))}function h(p,m){let g=i[m];return typeof g=="object"&&g!==null?(0,Gv._)`${c()}(${r}, ${p}[${m}])`:(0,Gv._)`${r} === ${g}`}}};U2.default=zct});var Lce=v(j2=>{"use strict";Object.defineProperty(j2,"__esModule",{value:!0});var Vct=Sce(),Wct=Tce(),Gct=Rce(),Kct=Ace(),Xct=Pce(),Jct=Ice(),Zct=Oce(),Yct=Nce(),Qct=Dce(),elt=Fce(),tlt=[Vct.default,Wct.default,Gct.default,Kct.default,Xct.default,Jct.default,Zct.default,Yct.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Qct.default,elt.default];j2.default=tlt});var H2=v(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.validateAdditionalItems=void 0;var Zd=ct(),B2=Nt(),rlt={message:({params:{len:t}})=>(0,Zd.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Zd._)`{limit: ${t}}`},nlt={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:rlt,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,B2.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Mce(t,n)}};function Mce(t,e){let{gen:r,schema:n,data:i,keyword:s,it:o}=t;o.items=!0;let a=r.const("len",(0,Zd._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Zd._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,B2.alwaysValidSchema)(o,n)){let c=r.var("valid",(0,Zd._)`${a} <= ${e.length}`);r.if((0,Zd.not)(c),()=>u(c)),t.ok(c)}function u(c){r.forRange("i",e.length,a,f=>{t.subschema({keyword:s,dataProp:f,dataPropType:B2.Type.Num},c),o.allErrors||r.if((0,Zd.not)(c),()=>r.break())})}}Kv.validateAdditionalItems=Mce;Kv.default=nlt});var z2=v(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.validateTuple=void 0;var qce=ct(),iR=Nt(),ilt=ri(),slt={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return $ce(t,"additionalItems",e);r.items=!0,!(0,iR.alwaysValidSchema)(r,e)&&t.ok((0,ilt.validateArray)(t))}};function $ce(t,e,r=t.schema){let{gen:n,parentSchema:i,data:s,keyword:o,it:a}=t;f(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=iR.mergeEvaluated.items(n,r.length,a.items));let u=n.name("valid"),c=n.const("len",(0,qce._)`${s}.length`);r.forEach((d,h)=>{(0,iR.alwaysValidSchema)(a,d)||(n.if((0,qce._)`${c} > ${h}`,()=>t.subschema({keyword:o,schemaProp:h,dataProp:h},u)),t.ok(u))});function f(d){let{opts:h,errSchemaPath:p}=a,m=r.length,g=m===d.minItems&&(m===d.maxItems||d[e]===!1);if(h.strictTuples&&!g){let y=`"${o}" is ${m}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,iR.checkStrictMode)(a,y,h.strictTuples)}}}Xv.validateTuple=$ce;Xv.default=slt});var Uce=v(V2=>{"use strict";Object.defineProperty(V2,"__esModule",{value:!0});var olt=z2(),alt={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,olt.validateTuple)(t,"items")};V2.default=alt});var Bce=v(W2=>{"use strict";Object.defineProperty(W2,"__esModule",{value:!0});var jce=ct(),ult=Nt(),clt=ri(),llt=H2(),flt={message:({params:{len:t}})=>(0,jce.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,jce._)`{limit: ${t}}`},dlt={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:flt,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,ult.alwaysValidSchema)(n,e)&&(i?(0,llt.validateAdditionalItems)(t,i):t.ok((0,clt.validateArray)(t)))}};W2.default=dlt});var Hce=v(G2=>{"use strict";Object.defineProperty(G2,"__esModule",{value:!0});var mo=ct(),sR=Nt(),hlt={message:({params:{min:t,max:e}})=>e===void 0?(0,mo.str)`must contain at least ${t} valid item(s)`:(0,mo.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,mo._)`{minContains: ${t}}`:(0,mo._)`{minContains: ${t}, maxContains: ${e}}`},plt={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:hlt,code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:s}=t,o,a,{minContains:u,maxContains:c}=n;s.opts.next?(o=u===void 0?1:u,a=c):o=1;let f=e.const("len",(0,mo._)`${i}.length`);if(t.setParams({min:o,max:a}),a===void 0&&o===0){(0,sR.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,sR.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,sR.alwaysValidSchema)(s,r)){let g=(0,mo._)`${f} >= ${o}`;a!==void 0&&(g=(0,mo._)`${g} && ${f} <= ${a}`),t.pass(g);return}s.items=!0;let d=e.name("valid");a===void 0&&o===1?p(d,()=>e.if(d,()=>e.break())):o===0?(e.let(d,!0),a!==void 0&&e.if((0,mo._)`${i}.length > 0`,h)):(e.let(d,!1),h()),t.result(d,()=>t.reset());function h(){let g=e.name("_valid"),y=e.let("count",0);p(g,()=>e.if(g,()=>m(y)))}function p(g,y){e.forRange("i",0,f,w=>{t.subschema({keyword:"contains",dataProp:w,dataPropType:sR.Type.Num,compositeRule:!0},g),y()})}function m(g){e.code((0,mo._)`${g}++`),a===void 0?e.if((0,mo._)`${g} >= ${o}`,()=>e.assign(d,!0).break()):(e.if((0,mo._)`${g} > ${a}`,()=>e.assign(d,!1).break()),o===1?e.assign(d,!0):e.if((0,mo._)`${g} >= ${o}`,()=>e.assign(d,!0)))}}};G2.default=plt});var Wce=v(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.validateSchemaDeps=Va.validatePropertyDeps=Va.error=void 0;var K2=ct(),mlt=Nt(),Jv=ri();Va.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,K2.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,K2._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var glt={keyword:"dependencies",type:"object",schemaType:"object",error:Va.error,code(t){let[e,r]=ylt(t);zce(t,e),Vce(t,r)}};function ylt({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let i=Array.isArray(t[n])?e:r;i[n]=t[n]}return[e,r]}function zce(t,e=t.schema){let{gen:r,data:n,it:i}=t;if(Object.keys(e).length===0)return;let s=r.let("missing");for(let o in e){let a=e[o];if(a.length===0)continue;let u=(0,Jv.propertyInData)(r,n,o,i.opts.ownProperties);t.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),i.allErrors?r.if(u,()=>{for(let c of a)(0,Jv.checkReportMissingProp)(t,c)}):(r.if((0,K2._)`${u} && (${(0,Jv.checkMissingProp)(t,a,s)})`),(0,Jv.reportMissingProp)(t,s),r.else())}}Va.validatePropertyDeps=zce;function Vce(t,e=t.schema){let{gen:r,data:n,keyword:i,it:s}=t,o=r.name("valid");for(let a in e)(0,mlt.alwaysValidSchema)(s,e[a])||(r.if((0,Jv.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let u=t.subschema({keyword:i,schemaProp:a},o);t.mergeValidEvaluated(u,o)},()=>r.var(o,!0)),t.ok(o))}Va.validateSchemaDeps=Vce;Va.default=glt});var Kce=v(X2=>{"use strict";Object.defineProperty(X2,"__esModule",{value:!0});var Gce=ct(),_lt=Nt(),vlt={message:"property name must be valid",params:({params:t})=>(0,Gce._)`{propertyName: ${t.propertyName}}`},wlt={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:vlt,code(t){let{gen:e,schema:r,data:n,it:i}=t;if((0,_lt.alwaysValidSchema)(i,r))return;let s=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),e.if((0,Gce.not)(s),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(s)}};X2.default=wlt});var Z2=v(J2=>{"use strict";Object.defineProperty(J2,"__esModule",{value:!0});var oR=ri(),ta=ct(),blt=ho(),aR=Nt(),Elt={message:"must NOT have additional properties",params:({params:t})=>(0,ta._)`{additionalProperty: ${t.additionalProperty}}`},Slt={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Elt,code(t){let{gen:e,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=t;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,aR.alwaysValidSchema)(o,r))return;let c=(0,oR.allSchemaProperties)(n.properties),f=(0,oR.allSchemaProperties)(n.patternProperties);d(),t.ok((0,ta._)`${s} === ${blt.default.errors}`);function d(){e.forIn("key",i,y=>{!c.length&&!f.length?m(y):e.if(h(y),()=>m(y))})}function h(y){let w;if(c.length>8){let S=(0,aR.schemaRefOrVal)(o,n.properties,"properties");w=(0,oR.isOwnProperty)(e,S,y)}else c.length?w=(0,ta.or)(...c.map(S=>(0,ta._)`${y} === ${S}`)):w=ta.nil;return f.length&&(w=(0,ta.or)(w,...f.map(S=>(0,ta._)`${(0,oR.usePattern)(t,S)}.test(${y})`))),(0,ta.not)(w)}function p(y){e.code((0,ta._)`delete ${i}[${y}]`)}function m(y){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){p(y);return}if(r===!1){t.setParams({additionalProperty:y}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,aR.alwaysValidSchema)(o,r)){let w=e.name("valid");u.removeAdditional==="failing"?(g(y,w,!1),e.if((0,ta.not)(w),()=>{t.reset(),p(y)})):(g(y,w),a||e.if((0,ta.not)(w),()=>e.break()))}}function g(y,w,S){let E={keyword:"additionalProperties",dataProp:y,dataPropType:aR.Type.Str};S===!1&&Object.assign(E,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(E,w)}}};J2.default=Slt});var Zce=v(Q2=>{"use strict";Object.defineProperty(Q2,"__esModule",{value:!0});var Tlt=Vm(),Xce=ri(),Y2=Nt(),Jce=Z2(),Clt={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Jce.default.code(new Tlt.KeywordCxt(s,Jce.default,"additionalProperties"));let o=(0,Xce.allSchemaProperties)(r);for(let d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Y2.mergeEvaluated.props(e,(0,Y2.toHash)(o),s.props));let a=o.filter(d=>!(0,Y2.alwaysValidSchema)(s,r[d]));if(a.length===0)return;let u=e.name("valid");for(let d of a)c(d)?f(d):(e.if((0,Xce.propertyInData)(e,i,d,s.opts.ownProperties)),f(d),s.allErrors||e.else().var(u,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(u);function c(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function f(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},u)}}};Q2.default=Clt});var tle=v(ej=>{"use strict";Object.defineProperty(ej,"__esModule",{value:!0});var Yce=ri(),uR=ct(),Qce=Nt(),ele=Nt(),xlt={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:i,it:s}=t,{opts:o}=s,a=(0,Yce.allSchemaProperties)(r),u=a.filter(g=>(0,Qce.alwaysValidSchema)(s,r[g]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let c=o.strictSchema&&!o.allowMatchingProperties&&i.properties,f=e.name("valid");s.props!==!0&&!(s.props instanceof uR.Name)&&(s.props=(0,ele.evaluatedPropsToName)(e,s.props));let{props:d}=s;h();function h(){for(let g of a)c&&p(g),s.allErrors?m(g):(e.var(f,!0),m(g),e.if(f))}function p(g){for(let y in c)new RegExp(g).test(y)&&(0,Qce.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function m(g){e.forIn("key",n,y=>{e.if((0,uR._)`${(0,Yce.usePattern)(t,g)}.test(${y})`,()=>{let w=u.includes(g);w||t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:ele.Type.Str},f),s.opts.unevaluated&&d!==!0?e.assign((0,uR._)`${d}[${y}]`,!0):!w&&!s.allErrors&&e.if((0,uR.not)(f),()=>e.break())})})}}};ej.default=xlt});var rle=v(tj=>{"use strict";Object.defineProperty(tj,"__esModule",{value:!0});var Rlt=Nt(),Alt={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,Rlt.alwaysValidSchema)(n,r)){t.fail();return}let i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};tj.default=Alt});var nle=v(rj=>{"use strict";Object.defineProperty(rj,"__esModule",{value:!0});var Plt=ri(),Ilt={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Plt.validateUnion,error:{message:"must match a schema in anyOf"}};rj.default=Ilt});var ile=v(nj=>{"use strict";Object.defineProperty(nj,"__esModule",{value:!0});var cR=ct(),Olt=Nt(),klt={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,cR._)`{passingSchemas: ${t.passing}}`},Nlt={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:klt,code(t){let{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let s=r,o=e.let("valid",!1),a=e.let("passing",null),u=e.name("_valid");t.setParams({passing:a}),e.block(c),t.result(o,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((f,d)=>{let h;(0,Olt.alwaysValidSchema)(i,f)?e.var(u,!0):h=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},u),d>0&&e.if((0,cR._)`${u} && ${o}`).assign(o,!1).assign(a,(0,cR._)`[${a}, ${d}]`).else(),e.if(u,()=>{e.assign(o,!0),e.assign(a,d),h&&t.mergeEvaluated(h,cR.Name)})})}}};nj.default=Nlt});var sle=v(ij=>{"use strict";Object.defineProperty(ij,"__esModule",{value:!0});var Dlt=Nt(),Flt={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=e.name("valid");r.forEach((s,o)=>{if((0,Dlt.alwaysValidSchema)(n,s))return;let a=t.subschema({keyword:"allOf",schemaProp:o},i);t.ok(i),t.mergeEvaluated(a)})}};ij.default=Flt});var ule=v(sj=>{"use strict";Object.defineProperty(sj,"__esModule",{value:!0});var lR=ct(),ale=Nt(),Llt={message:({params:t})=>(0,lR.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,lR._)`{failingKeyword: ${t.ifClause}}`},Mlt={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Llt,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,ale.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=ole(n,"then"),s=ole(n,"else");if(!i&&!s)return;let o=e.let("valid",!0),a=e.name("_valid");if(u(),t.reset(),i&&s){let f=e.let("ifClause");t.setParams({ifClause:f}),e.if(a,c("then",f),c("else",f))}else i?e.if(a,c("then")):e.if((0,lR.not)(a),c("else"));t.pass(o,()=>t.error(!0));function u(){let f=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(f)}function c(f,d){return()=>{let h=t.subschema({keyword:f},a);e.assign(o,a),t.mergeValidEvaluated(h,o),d?e.assign(d,(0,lR._)`${f}`):t.setParams({ifClause:f})}}}};function ole(t,e){let r=t.schema[e];return r!==void 0&&!(0,ale.alwaysValidSchema)(t,r)}sj.default=Mlt});var cle=v(oj=>{"use strict";Object.defineProperty(oj,"__esModule",{value:!0});var qlt=Nt(),$lt={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,qlt.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};oj.default=$lt});var lle=v(aj=>{"use strict";Object.defineProperty(aj,"__esModule",{value:!0});var Ult=H2(),jlt=Uce(),Blt=z2(),Hlt=Bce(),zlt=Hce(),Vlt=Wce(),Wlt=Kce(),Glt=Z2(),Klt=Zce(),Xlt=tle(),Jlt=rle(),Zlt=nle(),Ylt=ile(),Qlt=sle(),eft=ule(),tft=cle();function rft(t=!1){let e=[Jlt.default,Zlt.default,Ylt.default,Qlt.default,eft.default,tft.default,Wlt.default,Glt.default,Vlt.default,Klt.default,Xlt.default];return t?e.push(jlt.default,Hlt.default):e.push(Ult.default,Blt.default),e.push(zlt.default),e}aj.default=rft});var fle=v(uj=>{"use strict";Object.defineProperty(uj,"__esModule",{value:!0});var Sn=ct(),nft={message:({schemaCode:t})=>(0,Sn.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Sn._)`{format: ${t}}`},ift={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:nft,code(t,e){let{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=t,{opts:u,errSchemaPath:c,schemaEnv:f,self:d}=a;if(!u.validateFormats)return;i?h():p();function h(){let m=r.scopeValue("formats",{ref:d.formats,code:u.code.formats}),g=r.const("fDef",(0,Sn._)`${m}[${o}]`),y=r.let("fType"),w=r.let("format");r.if((0,Sn._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(y,(0,Sn._)`${g}.type || "string"`).assign(w,(0,Sn._)`${g}.validate`),()=>r.assign(y,(0,Sn._)`"string"`).assign(w,g)),t.fail$data((0,Sn.or)(S(),E()));function S(){return u.strictSchema===!1?Sn.nil:(0,Sn._)`${o} && !${w}`}function E(){let b=f.$async?(0,Sn._)`(${g}.async ? await ${w}(${n}) : ${w}(${n}))`:(0,Sn._)`${w}(${n})`,O=(0,Sn._)`(typeof ${w} == "function" ? ${b} : ${w}.test(${n}))`;return(0,Sn._)`${w} && ${w} !== true && ${y} === ${e} && !${O}`}}function p(){let m=d.formats[s];if(!m){S();return}if(m===!0)return;let[g,y,w]=E(m);g===e&&t.pass(b());function S(){if(u.strictSchema===!1){d.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function E(O){let M=O instanceof RegExp?(0,Sn.regexpCode)(O):u.code.formats?(0,Sn._)`${u.code.formats}${(0,Sn.getProperty)(s)}`:void 0,x=r.scopeValue("formats",{key:s,ref:O,code:M});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,Sn._)`${x}.validate`]:["string",O,x]}function b(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Sn._)`await ${w}(${n})`}return typeof y=="function"?(0,Sn._)`${w}(${n})`:(0,Sn._)`${w}.test(${n})`}}}};uj.default=ift});var dle=v(cj=>{"use strict";Object.defineProperty(cj,"__esModule",{value:!0});var sft=fle(),oft=[sft.default];cj.default=oft});var hle=v(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.contentVocabulary=Xm.metadataVocabulary=void 0;Xm.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Xm.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var mle=v(lj=>{"use strict";Object.defineProperty(lj,"__esModule",{value:!0});var aft=Ece(),uft=Lce(),cft=lle(),lft=dle(),ple=hle(),fft=[aft.default,uft.default,(0,cft.default)(),lft.default,ple.metadataVocabulary,ple.contentVocabulary];lj.default=fft});var fj=v(fR=>{"use strict";Object.defineProperty(fR,"__esModule",{value:!0});fR.DiscrError=void 0;var gle;(function(t){t.Tag="tag",t.Mapping="mapping"})(gle||(fR.DiscrError=gle={}))});var _le=v(hj=>{"use strict";Object.defineProperty(hj,"__esModule",{value:!0});var Jm=ct(),dj=fj(),yle=Kd(),dft=Zu(),hft=Nt(),pft={message:({params:{discrError:t,tagName:e}})=>t===dj.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Jm._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},mft={keyword:"discriminator",type:"object",schemaType:"object",error:pft,code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:s}=t,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let u=e.let("valid",!1),c=e.const("tag",(0,Jm._)`${r}${(0,Jm.getProperty)(a)}`);e.if((0,Jm._)`typeof ${c} == "string"`,()=>f(),()=>t.error(!1,{discrError:dj.DiscrError.Tag,tag:c,tagName:a})),t.ok(u);function f(){let p=h();e.if(!1);for(let m in p)e.elseIf((0,Jm._)`${c} === ${m}`),e.assign(u,d(p[m]));e.else(),t.error(!1,{discrError:dj.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function d(p){let m=e.name("valid"),g=t.subschema({keyword:"oneOf",schemaProp:p},m);return t.mergeEvaluated(g,Jm.Name),m}function h(){var p;let m={},g=w(i),y=!0;for(let b=0;b<o.length;b++){let O=o[b];if(O?.$ref&&!(0,hft.schemaHasRulesButRef)(O,s.self.RULES)){let x=O.$ref;if(O=yle.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x),O instanceof yle.SchemaEnv&&(O=O.schema),O===void 0)throw new dft.default(s.opts.uriResolver,s.baseId,x)}let M=(p=O?.properties)===null||p===void 0?void 0:p[a];if(typeof M!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||w(O)),S(M,b)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return m;function w({required:b}){return Array.isArray(b)&&b.includes(a)}function S(b,O){if(b.const)E(b.const,O);else if(b.enum)for(let M of b.enum)E(M,O);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function E(b,O){if(typeof b!="string"||b in m)throw new Error(`discriminator: "${a}" values must be unique strings`);m[b]=O}}}};hj.default=mft});var vle=v((LPr,gft)=>{gft.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Zv=v((Wr,pj)=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.MissingRefError=Wr.ValidationError=Wr.CodeGen=Wr.Name=Wr.nil=Wr.stringify=Wr.str=Wr._=Wr.KeywordCxt=Wr.Ajv=void 0;var yft=S2(),_ft=mle(),vft=_le(),wle=vle(),wft=["/properties"],dR="http://json-schema.org/draft-07/schema",Zm=class extends yft.default{_addVocabularies(){super._addVocabularies(),_ft.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(vft.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(wle,wft):wle;this.addMetaSchema(e,dR,!1),this.refs["http://json-schema.org/schema"]=dR}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(dR)?dR:void 0)}};Wr.Ajv=Zm;pj.exports=Wr=Zm;pj.exports.Ajv=Zm;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.default=Zm;var bft=Vm();Object.defineProperty(Wr,"KeywordCxt",{enumerable:!0,get:function(){return bft.KeywordCxt}});var Ym=ct();Object.defineProperty(Wr,"_",{enumerable:!0,get:function(){return Ym._}});Object.defineProperty(Wr,"str",{enumerable:!0,get:function(){return Ym.str}});Object.defineProperty(Wr,"stringify",{enumerable:!0,get:function(){return Ym.stringify}});Object.defineProperty(Wr,"nil",{enumerable:!0,get:function(){return Ym.nil}});Object.defineProperty(Wr,"Name",{enumerable:!0,get:function(){return Ym.Name}});Object.defineProperty(Wr,"CodeGen",{enumerable:!0,get:function(){return Ym.CodeGen}});var Eft=Lv();Object.defineProperty(Wr,"ValidationError",{enumerable:!0,get:function(){return Eft.default}});var Sft=Zu();Object.defineProperty(Wr,"MissingRefError",{enumerable:!0,get:function(){return Sft.default}})});var Ele=v((MPr,ble)=>{"use strict";var Tft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ble.exports={HEX:Tft}});var Ile=v((qPr,Ple)=>{"use strict";var{HEX:Cft}=Ele();function xle(t){if(Ale(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(/^(\b[01]?\d{1,2}|\b2[0-4]\d|\b25[0-5])(\.([01]?\d{1,2}|2[0-4]\d|25[0-5])){3}$/u)||[],[r]=e;return r?{host:Rft(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function mj(t){let e="",r=!0;for(let n of t){if(n!=="0"&&r===!0&&(r=!1),Cft[n]===void 0)return;r||(e+=n)}return e}function xft(t){let e=0,r={error:!1,address:"",zone:""},n=[],i=[],s=!1,o=!1,a=!1;function u(){if(i.length){if(s===!1){let c=mj(i.join(""));if(c!==void 0)n.push(c);else return r.error=!0,!1}i.length=0}return!0}for(let c=0;c<t.length;c++){let f=t[c];if(!(f==="["||f==="]"))if(f===":"){if(o===!0&&(a=!0),!u())break;if(e++,n.push(":"),e>7){r.error=!0;break}c-1>=0&&t[c-1]===":"&&(o=!0);continue}else if(f==="%"){if(!u())break;s=!0}else{i.push(f);continue}}return i.length&&(s?r.zone=i.join(""):a?n.push(i.join("")):n.push(mj(i.join("")))),r.address=n.join(""),r}function Rle(t,e={}){if(Ale(t,":")<2)return{host:t,isIPV6:!1};let r=xft(t);if(r.error)return{host:t,isIPV6:!1};{let n=r.address,i=r.address;return r.zone&&(n+="%"+r.zone,i+="%25"+r.zone),{host:n,escapedHost:i,isIPV6:!0}}}function Rft(t,e){let r="",n=!0,i=t.length;for(let s=0;s<i;s++){let o=t[s];o==="0"&&n?(s+1<=i&&t[s+1]===e||s+1===i)&&(r+=o,n=!1):(o===e?n=!0:n=!1,r+=o)}return r}function Ale(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}var Sle=/^\.\.?\//u,Tle=/^\/\.(?:\/|$)/u,Cle=/^\/\.\.(?:\/|$)/u,Aft=/^\/?(?:.|\n)*?(?=\/|$)/u;function Pft(t){let e=[];for(;t.length;)if(t.match(Sle))t=t.replace(Sle,"");else if(t.match(Tle))t=t.replace(Tle,"/");else if(t.match(Cle))t=t.replace(Cle,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(Aft);if(r){let n=r[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function Ift(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function Oft(t,e){let r=[];if(t.userinfo!==void 0&&(r.push(t.userinfo),r.push("@")),t.host!==void 0){let n=unescape(t.host),i=xle(n);if(i.isIPV4)n=i.host;else{let s=Rle(i.host,{isIPV4:!1});s.isIPV6===!0?n=`[${s.escapedHost}]`:n=t.host}r.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}Ple.exports={recomposeAuthority:Oft,normalizeComponentEncoding:Ift,removeDotSegments:Pft,normalizeIPv4:xle,normalizeIPv6:Rle,stringToHexStripped:mj}});var Lle=v(($Pr,Fle)=>{"use strict";var kft=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Nft=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Ole(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function kle(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function Nle(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Dft(t){return t.secure=Ole(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Fft(t){if((t.port===(Ole(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function Lft(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(Nft);if(r){let n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let i=`${n}:${e.nid||t.nid}`,s=gj[i];t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function Mft(t,e){let r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),i=`${r}:${e.nid||n}`,s=gj[i];s&&(t=s.serialize(t,e));let o=t,a=t.nss;return o.path=`${n||e.nid}:${a}`,e.skipEscape=!0,o}function qft(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!kft.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function $ft(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var Dle={scheme:"http",domainHost:!0,parse:kle,serialize:Nle},Uft={scheme:"https",domainHost:Dle.domainHost,parse:kle,serialize:Nle},hR={scheme:"ws",domainHost:!0,parse:Dft,serialize:Fft},jft={scheme:"wss",domainHost:hR.domainHost,parse:hR.parse,serialize:hR.serialize},Bft={scheme:"urn",parse:Lft,serialize:Mft,skipNormalize:!0},Hft={scheme:"urn:uuid",parse:qft,serialize:$ft,skipNormalize:!0},gj={http:Dle,https:Uft,ws:hR,wss:jft,urn:Bft,"urn:uuid":Hft};Fle.exports=gj});var _j=v((UPr,mR)=>{"use strict";var{normalizeIPv6:zft,normalizeIPv4:Vft,removeDotSegments:Yv,recomposeAuthority:Wft,normalizeComponentEncoding:pR}=Ile(),Mle=Lle();function Gft(t,e){return typeof t=="string"?t=Wa(Qu(t,e),e):typeof t=="object"&&(t=Qu(Wa(t,e),e)),t}function Kft(t,e,r){let n=Object.assign({scheme:"null"},r),i=qle(Qu(t,n),Qu(e,n),n,!0);return Wa(i,{...n,skipEscape:!0})}function qle(t,e,r,n){let i={};return n||(t=Qu(Wa(t,r),r),e=Qu(Wa(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Yv(e.path||""),i.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=Yv(e.path||""),i.query=e.query):(e.path?(e.path.charAt(0)==="/"?i.path=Yv(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?i.path="/"+e.path:t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path,i.path=Yv(i.path)),i.query=e.query):(i.path=t.path,e.query!==void 0?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function Xft(t,e,r){return typeof t=="string"?(t=unescape(t),t=Wa(pR(Qu(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Wa(pR(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Wa(pR(Qu(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Wa(pR(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Wa(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),i=[],s=Mle[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(i.push(r.scheme),i.push(":"));let o=Wft(r,n);if(o!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(o),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=Yv(a)),o===void 0&&(a=a.replace(/^\/\//u,"/%2F")),i.push(a)}return r.query!==void 0&&(i.push("?"),i.push(r.query)),r.fragment!==void 0&&(i.push("#"),i.push(r.fragment)),i.join("")}var Jft=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function Zft(t){let e=0;for(let r=0,n=t.length;r<n;++r)if(e=t.charCodeAt(r),e>126||Jft[e])return!0;return!1}var Yft=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Qu(t,e){let r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=t.indexOf("%")!==-1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let s=t.match(Yft);if(s){if(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5]),n.host){let a=Vft(n.host);a.isIPV4===!1?n.host=zft(a.host,{isIPV4:!1}).host.toLowerCase():n.host=a.host}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=Mle[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&Zft(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURI(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var yj={normalize:Gft,resolve:Kft,resolveComponents:qle,equal:Xft,serialize:Wa,parse:Qu};mR.exports=yj;mR.exports.default=yj;mR.exports.fastUri=yj});var gR=v(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.formatNames=Ka.fastFormats=Ka.fullFormats=void 0;function Ga(t,e){return{validate:t,compare:e}}Ka.fullFormats={date:Ga(Ble,Ej),time:Ga(wj(!0),Sj),"date-time":Ga($le(!0),zle),"iso-time":Ga(wj(),Hle),"iso-date-time":Ga($le(),Vle),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:idt,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:fdt,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:sdt,int32:{type:"number",validate:udt},int64:{type:"number",validate:cdt},float:{type:"number",validate:jle},double:{type:"number",validate:jle},password:!0,binary:!0};Ka.fastFormats={...Ka.fullFormats,date:Ga(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Ej),time:Ga(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Sj),"date-time":Ga(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,zle),"iso-time":Ga(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Hle),"iso-date-time":Ga(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Vle),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Ka.formatNames=Object.keys(Ka.fullFormats);function Qft(t){return t%4===0&&(t%100!==0||t%400===0)}var edt=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,tdt=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Ble(t){let e=edt.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&Qft(r)?29:tdt[n])}function Ej(t,e){if(t&&e)return t>e?1:t<e?-1:0}var vj=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function wj(t){return function(r){let n=vj.exec(r);if(!n)return!1;let i=+n[1],s=+n[2],o=+n[3],a=n[4],u=n[5]==="-"?-1:1,c=+(n[6]||0),f=+(n[7]||0);if(c>23||f>59||t&&!a)return!1;if(i<=23&&s<=59&&o<60)return!0;let d=s-f*u,h=i-c*u-(d<0?1:0);return(h===23||h===-1)&&(d===59||d===-1)&&o<61}}function Sj(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),n=new Date("2020-01-01T"+e).valueOf();if(r&&n)return r-n}function Hle(t,e){if(!(t&&e))return;let r=vj.exec(t),n=vj.exec(e);if(r&&n)return t=r[1]+r[2]+r[3],e=n[1]+n[2]+n[3],t>e?1:t<e?-1:0}var bj=/t|\s/i;function $le(t){let e=wj(t);return function(n){let i=n.split(bj);return i.length===2&&Ble(i[0])&&e(i[1])}}function zle(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),n=new Date(e).valueOf();if(r&&n)return r-n}function Vle(t,e){if(!(t&&e))return;let[r,n]=t.split(bj),[i,s]=e.split(bj),o=Ej(r,i);if(o!==void 0)return o||Sj(n,s)}var rdt=/\/|:/,ndt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function idt(t){return rdt.test(t)&&ndt.test(t)}var Ule=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function sdt(t){return Ule.lastIndex=0,Ule.test(t)}var odt=-(2**31),adt=2**31-1;function udt(t){return Number.isInteger(t)&&t<=adt&&t>=odt}function cdt(t){return Number.isInteger(t)}function jle(){return!0}var ldt=/[^\\]\\Z/;function fdt(t){if(ldt.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Wle=v(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.formatLimitDefinition=void 0;var ddt=Zv(),ra=ct(),bl=ra.operators,yR={formatMaximum:{okStr:"<=",ok:bl.LTE,fail:bl.GT},formatMinimum:{okStr:">=",ok:bl.GTE,fail:bl.LT},formatExclusiveMaximum:{okStr:"<",ok:bl.LT,fail:bl.GTE},formatExclusiveMinimum:{okStr:">",ok:bl.GT,fail:bl.LTE}},hdt={message:({keyword:t,schemaCode:e})=>(0,ra.str)`should be ${yR[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,ra._)`{comparison: ${yR[t].okStr}, limit: ${e}}`};Qm.formatLimitDefinition={keyword:Object.keys(yR),type:"string",schemaType:"string",$data:!0,error:hdt,code(t){let{gen:e,data:r,schemaCode:n,keyword:i,it:s}=t,{opts:o,self:a}=s;if(!o.validateFormats)return;let u=new ddt.KeywordCxt(s,a.RULES.all.format.definition,"format");u.$data?c():f();function c(){let h=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),p=e.const("fmt",(0,ra._)`${h}[${u.schemaCode}]`);t.fail$data((0,ra.or)((0,ra._)`typeof ${p} != "object"`,(0,ra._)`${p} instanceof RegExp`,(0,ra._)`typeof ${p}.compare != "function"`,d(p)))}function f(){let h=u.schema,p=a.formats[h];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${i}": format "${h}" does not define "compare" function`);let m=e.scopeValue("formats",{key:h,ref:p,code:o.code.formats?(0,ra._)`${o.code.formats}${(0,ra.getProperty)(h)}`:void 0});t.fail$data(d(m))}function d(h){return(0,ra._)`${h}.compare(${r}, ${n}) ${yR[i].fail} 0`}},dependencies:["format"]};var pdt=t=>(t.addKeyword(Qm.formatLimitDefinition),t);Qm.default=pdt});var Jle=v((Qv,Xle)=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});var eg=gR(),mdt=Wle(),Tj=ct(),Gle=new Tj.Name("fullFormats"),gdt=new Tj.Name("fastFormats"),Cj=(t,e={keywords:!0})=>{if(Array.isArray(e))return Kle(t,e,eg.fullFormats,Gle),t;let[r,n]=e.mode==="fast"?[eg.fastFormats,gdt]:[eg.fullFormats,Gle],i=e.formats||eg.formatNames;return Kle(t,i,r,n),e.keywords&&(0,mdt.default)(t),t};Cj.get=(t,e="full")=>{let n=(e==="fast"?eg.fastFormats:eg.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function Kle(t,e,r,n){var i,s;(i=(s=t.opts.code).formats)!==null&&i!==void 0||(s.formats=(0,Tj._)`require("ajv-formats/dist/formats").${n}`);for(let o of e)t.addFormat(o,r[o])}Xle.exports=Qv=Cj;Object.defineProperty(Qv,"__esModule",{value:!0});Qv.default=Cj});var Rj=v((HPr,Zle)=>{"use strict";var ydt=Zv(),_dt=_j(),vdt=Jle(),wdt=XC()({proto:!0}),xj=class t{constructor(e){this.ajv=new ydt({...e,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:_dt}),vdt(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(r,n)=>n instanceof Date}),this._ajvSchemas={},this._ajvOptions=e||{}}addSchema(e,r){let n=e.$id||r;if(e.$id!==void 0&&e.$id[0]==="#"&&(n=r+e.$id),this.ajv.refs[n]===void 0&&this.ajv.schemas[n]===void 0){let i=wdt(e);this.convertSchemaToAjvFormat(i),this.ajv.addSchema(i,n),this._ajvSchemas[n]=e}}validate(e,r){return this.ajv.validate(e,r)}convertSchemaToAjvFormat(e){if(e!==null){e.type==="string"?(e.fjs_type="string",e.type=["string","object"]):Array.isArray(e.type)&&e.type.includes("string")&&!e.type.includes("object")&&(e.fjs_type="string",e.type.push("object"));for(let r in e)typeof e[r]=="object"&&this.convertSchemaToAjvFormat(e[r])}}getState(){return{ajvOptions:this._ajvOptions,ajvSchemas:this._ajvSchemas}}static restoreFromState(e){let r=new t(e.ajvOptions);for(let[n,i]of Object.entries(e.ajvSchemas))r.ajv.addSchema(i,n);return r}};Zle.exports=xj});var Qle=v((zPr,Yle)=>{"use strict";var Aj=class t{constructor(e,r,n="#"){this.schema=e,this.schemaId=r,this.jsonPointer=n}getPropertyLocation(e){return new t(this.schema[e],this.schemaId,this.jsonPointer+"/"+e)}getSchemaRef(){return this.schemaId+this.jsonPointer}};Yle.exports=Aj});var ife=v((VPr,Ij)=>{"use strict";Ij.exports=Oe;Ij.exports.default=Oe;var bdt={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},efe={enum:["array","boolean","integer","null","number","object","string"]},tfe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Edt=gR().fullFormats.uri,rfe=gR().fullFormats.regex;function go(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:i=t}={}){let s=null,o=0,a=o;return typeof t=="number"&&!(t%1)&&!isNaN(t)&&isFinite(t)?o===a&&typeof t=="number"&&isFinite(t)&&(t<0||isNaN(t))?(go.errors=[{instancePath:e,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(go.errors=s,o===0):(go.errors=[{instancePath:e,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var Pj={validate:Oe};function is(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:i=t}={}){let s=null,o=0;if(o===0)if(Array.isArray(t)){if(t.length<1)return is.errors=[{instancePath:e,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let u=t.length;for(let c=0;c<u;c++){let f=o;Pj.validate(t[c],{instancePath:e+"/"+c,parentData:t,parentDataProperty:c,rootData:i})||(s=s===null?Pj.validate.errors:s.concat(Pj.validate.errors),o=s.length);var a=f===o;if(!a)break}}}else return is.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return is.errors=s,o===0}var nfe=Wv().default;function Oe(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:i=t}={}){let s=null,o=0;if(!(t&&typeof t=="object"&&!Array.isArray(t))&&typeof t!="boolean")return Oe.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:bdt.type},message:"must be object,boolean"}],!1;if(o===0&&t&&typeof t=="object"&&!Array.isArray(t)){if(t.$id!==void 0){let E=t.$id,b=o;if(o===b&&o===b)if(typeof E=="string"){if(!tfe.test(E))return Oe.errors=[{instancePath:e+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Oe.errors=[{instancePath:e+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.$schema!==void 0){let E=t.$schema,b=o;if(o===b&&o===b)if(typeof E=="string"){if(!Edt(E))return Oe.errors=[{instancePath:e+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return Oe.errors=[{instancePath:e+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.$ref!==void 0){let E=t.$ref,b=o;if(o===b&&o===b)if(typeof E=="string"){if(!tfe.test(E))return Oe.errors=[{instancePath:e+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Oe.errors=[{instancePath:e+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.$comment!==void 0){let E=o;if(typeof t.$comment!="string")return Oe.errors=[{instancePath:e+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=E===o}else var a=!0;if(a){if(t.title!==void 0){let E=o;if(typeof t.title!="string")return Oe.errors=[{instancePath:e+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=E===o}else var a=!0;if(a){if(t.description!==void 0){let E=o;if(typeof t.description!="string")return Oe.errors=[{instancePath:e+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=E===o}else var a=!0;if(a){if(t.readOnly!==void 0){let E=o;if(typeof t.readOnly!="boolean")return Oe.errors=[{instancePath:e+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=E===o}else var a=!0;if(a){if(t.examples!==void 0){let E=o;if(o===E&&!Array.isArray(t.examples))return Oe.errors=[{instancePath:e+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=E===o}else var a=!0;if(a){if(t.multipleOf!==void 0){let E=t.multipleOf,b=o;if(o===b)if(typeof E=="number"&&isFinite(E)){if(E<=0||isNaN(E))return Oe.errors=[{instancePath:e+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return Oe.errors=[{instancePath:e+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.maximum!==void 0){let E=t.maximum,b=o;if(!(typeof E=="number"&&isFinite(E)))return Oe.errors=[{instancePath:e+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.exclusiveMaximum!==void 0){let E=t.exclusiveMaximum,b=o;if(!(typeof E=="number"&&isFinite(E)))return Oe.errors=[{instancePath:e+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.minimum!==void 0){let E=t.minimum,b=o;if(!(typeof E=="number"&&isFinite(E)))return Oe.errors=[{instancePath:e+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.exclusiveMinimum!==void 0){let E=t.exclusiveMinimum,b=o;if(!(typeof E=="number"&&isFinite(E)))return Oe.errors=[{instancePath:e+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=b===o}else var a=!0;if(a){if(t.maxLength!==void 0){let E=t.maxLength,b=o,O=o;if(!(typeof E=="number"&&!(E%1)&&!isNaN(E)&&isFinite(E)))return Oe.errors=[{instancePath:e+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===O&&typeof E=="number"&&isFinite(E)&&(E<0||isNaN(E)))return Oe.errors=[{instancePath:e+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=b===o}else var a=!0;if(a){if(t.minLength!==void 0){let E=o;go(t.minLength,{instancePath:e+"/minLength",parentData:t,parentDataProperty:"minLength",rootData:i})||(s=s===null?go.errors:s.concat(go.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.pattern!==void 0){let E=t.pattern,b=o;if(o===b&&o===b)if(typeof E=="string"){if(!rfe(E))return Oe.errors=[{instancePath:e+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return Oe.errors=[{instancePath:e+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(t.additionalItems!==void 0){let E=o;Oe(t.additionalItems,{instancePath:e+"/additionalItems",parentData:t,parentDataProperty:"additionalItems",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.items!==void 0){let E=t.items,b=o,O=o,M=!1,x=o;Oe(E,{instancePath:e+"/items",parentData:t,parentDataProperty:"items",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var u=x===o;if(M=M||u,!M){let P=o;is(E,{instancePath:e+"/items",parentData:t,parentDataProperty:"items",rootData:i})||(s=s===null?is.errors:s.concat(is.errors),o=s.length);var u=P===o;M=M||u}if(M)o=O,s!==null&&(O?s.length=O:s=null);else{let P={instancePath:e+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[P]:s.push(P),o++,Oe.errors=s,!1}var a=b===o}else var a=!0;if(a){if(t.maxItems!==void 0){let E=t.maxItems,b=o,O=o;if(!(typeof E=="number"&&!(E%1)&&!isNaN(E)&&isFinite(E)))return Oe.errors=[{instancePath:e+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===O&&typeof E=="number"&&isFinite(E)&&(E<0||isNaN(E)))return Oe.errors=[{instancePath:e+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=b===o}else var a=!0;if(a){if(t.minItems!==void 0){let E=o;go(t.minItems,{instancePath:e+"/minItems",parentData:t,parentDataProperty:"minItems",rootData:i})||(s=s===null?go.errors:s.concat(go.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.uniqueItems!==void 0){let E=o;if(typeof t.uniqueItems!="boolean")return Oe.errors=[{instancePath:e+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=E===o}else var a=!0;if(a){if(t.contains!==void 0){let E=o;Oe(t.contains,{instancePath:e+"/contains",parentData:t,parentDataProperty:"contains",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.maxProperties!==void 0){let E=t.maxProperties,b=o,O=o;if(!(typeof E=="number"&&!(E%1)&&!isNaN(E)&&isFinite(E)))return Oe.errors=[{instancePath:e+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===O&&typeof E=="number"&&isFinite(E)&&(E<0||isNaN(E)))return Oe.errors=[{instancePath:e+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=b===o}else var a=!0;if(a){if(t.minProperties!==void 0){let E=o;go(t.minProperties,{instancePath:e+"/minProperties",parentData:t,parentDataProperty:"minProperties",rootData:i})||(s=s===null?go.errors:s.concat(go.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.required!==void 0){let E=t.required,b=o;if(o===o)if(Array.isArray(E)){var c=!0;let x=E.length;for(let I=0;I<x;I++){let P=o;if(typeof E[I]!="string")return Oe.errors=[{instancePath:e+"/required/"+I,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=P===o;if(!c)break}if(c){let I=E.length,P;if(I>1){let F={};for(;I--;){let $=E[I];if(typeof $=="string"){if(typeof F[$]=="number"){return P=F[$],Oe.errors=[{instancePath:e+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:I,j:P},message:"must NOT have duplicate items (items ## "+P+" and "+I+" are identical)"}],!1;break}F[$]=I}}}}}else return Oe.errors=[{instancePath:e+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=b===o}else var a=!0;if(a){if(t.additionalProperties!==void 0){let E=o;Oe(t.additionalProperties,{instancePath:e+"/additionalProperties",parentData:t,parentDataProperty:"additionalProperties",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.definitions!==void 0){let E=t.definitions,b=o;if(o===b)if(E&&typeof E=="object"&&!Array.isArray(E))for(let M in E){let x=o;Oe(E[M],{instancePath:e+"/definitions/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:E,parentDataProperty:M,rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var f=x===o;if(!f)break}else return Oe.errors=[{instancePath:e+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.properties!==void 0){let E=t.properties,b=o;if(o===b)if(E&&typeof E=="object"&&!Array.isArray(E))for(let M in E){let x=o;Oe(E[M],{instancePath:e+"/properties/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:E,parentDataProperty:M,rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var d=x===o;if(!d)break}else return Oe.errors=[{instancePath:e+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.patternProperties!==void 0){let E=t.patternProperties,b=o;if(o===b)if(E&&typeof E=="object"&&!Array.isArray(E)){for(let M in E){let x=o;if(o===x&&typeof M=="string"&&!rfe(M)){let I={instancePath:e+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:M};s===null?s=[I]:s.push(I),o++}var h=x===o;if(!h){let I={instancePath:e+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:M},message:"property name must be valid"};return s===null?s=[I]:s.push(I),o++,Oe.errors=s,!1;break}}if(h)for(let M in E){let x=o;Oe(E[M],{instancePath:e+"/patternProperties/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:E,parentDataProperty:M,rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var p=x===o;if(!p)break}}else return Oe.errors=[{instancePath:e+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.dependencies!==void 0){let E=t.dependencies,b=o;if(o===b)if(E&&typeof E=="object"&&!Array.isArray(E))for(let M in E){let x=E[M],I=o,P=o,F=!1,$=o;Oe(x,{instancePath:e+"/dependencies/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:E,parentDataProperty:M,rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var m=$===o;if(F=F||m,!F){let D=o;if(o===o)if(Array.isArray(x)){var g=!0;let ee=x.length;for(let N=0;N<ee;N++){let H=o;if(typeof x[N]!="string"){let V={instancePath:e+"/dependencies/"+M.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+N,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[V]:s.push(V),o++}var g=H===o;if(!g)break}if(g){let N=x.length,H;if(N>1){let X={};for(;N--;){let V=x[N];if(typeof V=="string"){if(typeof X[V]=="number"){H=X[V];let ue={instancePath:e+"/dependencies/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:N,j:H},message:"must NOT have duplicate items (items ## "+H+" and "+N+" are identical)"};s===null?s=[ue]:s.push(ue),o++;break}X[V]=N}}}}}else{let ee={instancePath:e+"/dependencies/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[ee]:s.push(ee),o++}var m=D===o;F=F||m}if(F)o=P,s!==null&&(P?s.length=P:s=null);else{let D={instancePath:e+"/dependencies/"+M.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[D]:s.push(D),o++,Oe.errors=s,!1}var y=I===o;if(!y)break}else return Oe.errors=[{instancePath:e+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=b===o}else var a=!0;if(a){if(t.propertyNames!==void 0){let E=o;Oe(t.propertyNames,{instancePath:e+"/propertyNames",parentData:t,parentDataProperty:"propertyNames",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.enum!==void 0){let E=t.enum,b=o;if(o===b)if(Array.isArray(E)){if(E.length<1)return Oe.errors=[{instancePath:e+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let M=E.length,x;if(M>1){e:for(;M--;)for(x=M;x--;)if(nfe(E[M],E[x])){return Oe.errors=[{instancePath:e+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:M,j:x},message:"must NOT have duplicate items (items ## "+x+" and "+M+" are identical)"}],!1;break e}}}}else return Oe.errors=[{instancePath:e+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=b===o}else var a=!0;if(a){if(t.type!==void 0){let E=t.type,b=o,O=o,M=!1,x=o;if(!(E==="array"||E==="boolean"||E==="integer"||E==="null"||E==="number"||E==="object"||E==="string")){let P={instancePath:e+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:efe.enum},message:"must be equal to one of the allowed values"};s===null?s=[P]:s.push(P),o++}var w=x===o;if(M=M||w,!M){let P=o;if(o===P)if(Array.isArray(E))if(E.length<1){let $={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};s===null?s=[$]:s.push($),o++}else{var S=!0;let $=E.length;for(let D=0;D<$;D++){let L=E[D],z=o;if(!(L==="array"||L==="boolean"||L==="integer"||L==="null"||L==="number"||L==="object"||L==="string")){let N={instancePath:e+"/type/"+D,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:efe.enum},message:"must be equal to one of the allowed values"};s===null?s=[N]:s.push(N),o++}var S=z===o;if(!S)break}if(S){let D=E.length,L;if(D>1){e:for(;D--;)for(L=D;L--;)if(nfe(E[D],E[L])){let z={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:D,j:L},message:"must NOT have duplicate items (items ## "+L+" and "+D+" are identical)"};s===null?s=[z]:s.push(z),o++;break e}}}}else{let $={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[$]:s.push($),o++}var w=P===o;M=M||w}if(M)o=O,s!==null&&(O?s.length=O:s=null);else{let P={instancePath:e+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[P]:s.push(P),o++,Oe.errors=s,!1}var a=b===o}else var a=!0;if(a){if(t.format!==void 0){let E=o;if(typeof t.format!="string")return Oe.errors=[{instancePath:e+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=E===o}else var a=!0;if(a){if(t.contentMediaType!==void 0){let E=o;if(typeof t.contentMediaType!="string")return Oe.errors=[{instancePath:e+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=E===o}else var a=!0;if(a){if(t.contentEncoding!==void 0){let E=o;if(typeof t.contentEncoding!="string")return Oe.errors=[{instancePath:e+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=E===o}else var a=!0;if(a){if(t.if!==void 0){let E=o;Oe(t.if,{instancePath:e+"/if",parentData:t,parentDataProperty:"if",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.then!==void 0){let E=o;Oe(t.then,{instancePath:e+"/then",parentData:t,parentDataProperty:"then",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.else!==void 0){let E=o;Oe(t.else,{instancePath:e+"/else",parentData:t,parentDataProperty:"else",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.allOf!==void 0){let E=o;is(t.allOf,{instancePath:e+"/allOf",parentData:t,parentDataProperty:"allOf",rootData:i})||(s=s===null?is.errors:s.concat(is.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.anyOf!==void 0){let E=o;is(t.anyOf,{instancePath:e+"/anyOf",parentData:t,parentDataProperty:"anyOf",rootData:i})||(s=s===null?is.errors:s.concat(is.errors),o=s.length);var a=E===o}else var a=!0;if(a){if(t.oneOf!==void 0){let E=o;is(t.oneOf,{instancePath:e+"/oneOf",parentData:t,parentDataProperty:"oneOf",rootData:i})||(s=s===null?is.errors:s.concat(is.errors),o=s.length);var a=E===o}else var a=!0;if(a)if(t.not!==void 0){let E=o;Oe(t.not,{instancePath:e+"/not",parentData:t,parentDataProperty:"not",rootData:i})||(s=s===null?Oe.errors:s.concat(Oe.errors),o=s.length);var a=E===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return Oe.errors=s,o===0}});var Dj=v((WPr,sfe)=>{"use strict";var Oj=class extends Error{constructor(e,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Failed to merge "${e}" keyword schemas.`,this.schemas=r}},kj=class extends Error{constructor(e,r){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Resolver for "${e}" keyword not found.`,this.schemas=r}},Nj=class extends Error{constructor(e){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Invalid "onConflict" option: "${e}".`}};sfe.exports={MergeError:Oj,ResolverNotFoundError:kj,InvalidOnConflictOptionError:Nj}});var ufe=v((GPr,afe)=>{"use strict";var Sdt=hl(),{MergeError:Fj}=Dj();function ofe(t){let e=t[0];for(let r=1;r<t.length;r++)e=e.filter(n=>t[r].includes(n));return e}function Tdt(t,e,r){let n=ofe(e);if(n.length===0)throw new Fj(t,e);r[t]=n}function Cdt(t,e,r){for(let i=0;i<e.length;i++)Array.isArray(e[i])||(e[i]=[e[i]]);let n=ofe(e);if(n.length===0)throw new Fj(t,e);n.length===1?r[t]=n[0]:r[t]=n}function xdt(t,e,r){let n=[];for(let i of e)for(let s of i)n.includes(s)||n.push(s);r[t]=n}function Rdt(t,e,r){r[t]=Math.min(...e)}function Adt(t,e,r){r[t]=Math.max(...e)}function Pdt(t,e,r){let n=(a,u)=>u?n(u,a%u):a,i=(a,u)=>a*u/n(a,u),s=1;for(let a of e)for(;a*s%1!==0;)s*=10;let o=e[0]*s;for(let a of e)o=i(o,a*s);r[t]=o/s}function Idt(t,e,r){let n=e[0];for(let i=1;i<e.length;i++)if(!Sdt(e[i],n))throw new Fj(t,e);r[t]=n}function Odt(){}function kdt(t,e,r){for(let n of e)if(n===!1){r[t]=!1;return}r[t]=!0}function Ndt(t,e,r){for(let n of e)if(n===!0){r[t]=!0;return}r[t]=!1}afe.exports={arraysIntersection:Tdt,hybridArraysIntersection:Cdt,arraysUnion:xdt,minNumber:Rdt,maxNumber:Adt,commonMultiple:Pdt,allEqual:Idt,booleanAnd:kdt,booleanOr:Ndt,skip:Odt}});var pfe=v((KPr,hfe)=>{"use strict";var Ddt=hl(),on=ufe(),wR=Dj(),ffe={$id:on.skip,type:on.hybridArraysIntersection,enum:on.arraysIntersection,minLength:on.maxNumber,maxLength:on.minNumber,minimum:on.maxNumber,maximum:on.minNumber,multipleOf:on.commonMultiple,exclusiveMinimum:on.maxNumber,exclusiveMaximum:on.minNumber,minItems:on.maxNumber,maxItems:on.minNumber,maxProperties:on.minNumber,minProperties:on.maxNumber,const:on.allEqual,default:on.allEqual,format:on.allEqual,required:on.arraysUnion,properties:Udt,patternProperties:vR,additionalProperties:_R,items:Mdt,additionalItems:qdt,definitions:vR,$defs:vR,nullable:on.booleanAnd,oneOf:cfe,anyOf:cfe,allOf:on.arraysUnion,not:_R,if:jdt,then:on.skip,else:on.skip,dependencies:lfe,dependentRequired:lfe,dependentSchemas:vR,propertyNames:_R,uniqueItems:on.booleanOr,contains:_R};function _R(t,e,r,n,i){r[t]=na(e,i)}function Fdt(t){let e=[[]];for(let r of t){let n=[];for(let i of e)for(let s of r)n.push([...i,s]);e=n}return e}function cfe(t,e,r,n,i){if(e.length===1){r[t]=e[0];return}let s=Fdt(e),o=[];for(let a of s)try{let u=na(a,i);u!==void 0&&o.push(u)}catch(u){if(u instanceof wR.MergeError)continue;throw u}r[t]=o}function Ldt(t,e){let{items:r,additionalItems:n}=t;return Array.isArray(r)?e<r.length?r[e]:n:r!==void 0?r:n}function Mdt(t,e,r,n,i){let s=0;for(let a of e)Array.isArray(a)&&(s=Math.max(s,a.length));if(s===0){r[t]=na(e,i);return}let o=[];for(let a=0;a<s;a++){let u=[];for(let c of n){let f=Ldt(c,a);f!==void 0&&u.push(f)}o[a]=na(u,i)}r[t]=o}function qdt(t,e,r,n,i){let s=!1;for(let a of n)if(Array.isArray(a.items)){s=!0;break}if(!s){r[t]=na(e,i);return}let o=[];for(let a of n){let u=a.additionalItems;u===void 0&&!Array.isArray(a.items)&&(u=a.items),u!==void 0&&o.push(u)}r[t]=na(o,i)}function $dt(t,e){let{properties:r,patternProperties:n,additionalProperties:i}=t;if(r?.[e]!==void 0)return r[e];for(let s of Object.keys(n??{}))if(new RegExp(s).test(e))return n[s];return i}function Udt(t,e,r,n,i){let s={};for(let a of n){let u=a.properties??{};for(let c of Object.keys(u)){if(s[c]!==void 0)continue;let f=u[c];s[c]=[f];for(let d of n){if(a===d)continue;let h=$dt(d,c);h!==void 0&&s[c].push(h)}}}let o={};for(let a of Object.keys(s)){let u=s[a];o[a]=na(u,i)}r[t]=o}function vR(t,e,r,n,i){let s={};for(let a of e)for(let u of Object.keys(a))s[u]===void 0&&(s[u]=[]),s[u].push(a[u]);let o={};for(let a of Object.keys(s)){let u=s[a],c=na(u,i);o[a]=c}r[t]=o}function jdt(t,e,r,n,i){for(let s=0;s<n.length;s++){let o={if:n[s].if,then:n[s].then,else:n[s].else};if(o.if!==void 0){if(r.if===void 0){r.if=o.if,o.then!==void 0&&(r.then=o.then),o.else!==void 0&&(r.else=o.else);continue}r.then!==void 0&&(r.then=na([r.then,o],i)),r.else!==void 0&&(r.else=na([r.else,o],i))}}}function lfe(t,e,r){let n={};for(let i of e)for(let s of Object.keys(i)){n[s]===void 0&&(n[s]=[]);let o=n[s];for(let a of i[s])o.includes(a)||o.push(a)}r[t]=n}function na(t,e){if(t.length===0)return{};if(t.length===1)return t[0];let r={},n={},i=!0;for(let s of t){if(s===!1)return!1;if(s!==!0){i=!1;for(let o of Object.keys(s))n[o]===void 0&&(n[o]=[]),n[o].push(s[o])}}if(i)return!0;for(let s of Object.keys(n)){let o=n[s];(e.resolvers[s]??e.defaultResolver)(s,o,r,t,e)}return r}function dfe(t,e,r,n,i){let s=i.onConflict??"throw";if(e.length===1||s==="first"){r[t]=e[0];return}let o=!0;for(let a=1;a<e.length;a++)if(!Ddt(e[a],e[0])){o=!1;break}if(o){r[t]=e[0];return}if(s==="throw")throw new wR.ResolverNotFoundError(t,e);if(s!=="skip")throw new wR.InvalidOnConflictOptionError(s)}function Bdt(t,e={}){return e.defaultResolver===void 0&&(e.defaultResolver=dfe),e.resolvers={...ffe,...e.resolvers},na(t,e)}hfe.exports={mergeSchemas:Bdt,keywordsResolvers:ffe,defaultResolver:dfe,...wR}});var gfe=v((XPr,mfe)=>{"use strict";var{mergeSchemas:Hdt}=pfe();function zdt(t){return Hdt(t,{onConflict:"skip"})}mfe.exports=zdt});var yfe=v((JPr,Lj)=>{"use strict";function Vdt(t,e,r,n){let i="";e.validatorSchemasIds.size>0?(i+=`const Validator = require('fast-json-stringify/lib/validator')
`,i+=`const validatorState = ${JSON.stringify(n.getState())}
`,i+=`const validator = Validator.restoreFromState(validatorState)
`):i+=`const validator = null
`;let{schema:s,...o}=r.getState();return`
  'use strict'

  const Serializer = require('fast-json-stringify/lib/serializer')
  const serializerState = ${JSON.stringify(o)}
  const serializer = Serializer.restoreFromState(serializerState)

  ${i}

  module.exports = ${t.toString()}(validator, serializer)`}Lj.exports=Vdt;Lj.exports.dependencies={Serializer:YC(),Validator:Rj()}});var xfe=v((ZPr,tg)=>{"use strict";var{RefResolver:Wdt}=Yae(),Gdt=YC(),Kdt=Rj(),Yd=Qle(),_fe=ife(),Xdt=gfe(),Jdt=/'/g,bR=2e4,wfe="default",Zdt=["floor","ceil","round","trunc"],bfe=["default","json-stringify"],ew=0;function Mj(t,e){if(!_fe(t)){e?e=`"${e}" `:e="";let r=_fe.errors[0],n=new Error(`${e}schema is invalid: data${r.instancePath} ${r.message}`);throw n.errors=Mj.errors,n}}function tw(t,e){let r=e.schema.$ref,n=r.indexOf("#");n===-1&&(n=r.length);let i=r.slice(0,n)||e.schemaId,s=r.slice(n)||"#",o=t.refResolver.getSchema(i,s);if(o===null)throw new Error(`Cannot find reference "${r}"`);let a=new Yd(o,i,s);return o.$ref!==void 0?tw(t,a):a}function ER(t,e){let r=t.refResolver.getSchema(e,"#");return new Yd(r,e,"#")}function vfe(t,e){return t.$id&&t.$id.charAt(0)!=="#"?t.$id:e}function qj(t,e){Mj(t),e=e||{};let r={functions:[],functionsCounter:0,functionsNamesBySchema:new Map,options:e,refResolver:new Wdt,rootSchemaId:t.$id||`__fjs_root_${ew++}`,validatorSchemasIds:new Set,mergedSchemasIds:new Map},n=vfe(t,r.rootSchemaId);if(r.refResolver.hasSchema(n)||r.refResolver.addSchema(t,r.rootSchemaId),e.schema)for(let f in e.schema){let d=e.schema[f],h=vfe(d,f);r.refResolver.hasSchema(h)||(Mj(d,f),r.refResolver.addSchema(d,f))}if(e.rounding&&!Zdt.includes(e.rounding))throw new Error(`Unsupported integer rounding method ${e.rounding}`);if(e.largeArrayMechanism)if(bfe.includes(e.largeArrayMechanism))wfe=e.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${e.largeArrayMechanism}`);if(e.largeArraySize)if(typeof e.largeArraySize=="string"&&Number.isFinite(Number.parseInt(e.largeArraySize,10)))bR=Number.parseInt(e.largeArraySize,10);else if(typeof e.largeArraySize=="number"&&Number.isInteger(e.largeArraySize))bR=e.largeArraySize;else if(typeof e.largeArraySize=="bigint")bR=Number(e.largeArraySize);else throw new Error(`Unsupported large array size. Expected integer-like, got ${typeof e.largeArraySize} with value ${e.largeArraySize}`);let i=new Yd(t,r.rootSchemaId),s=$s(r,i,"input"),o=`
    const JSON_STR_BEGIN_OBJECT = '{'
    const JSON_STR_END_OBJECT = '}'
    const JSON_STR_BEGIN_ARRAY = '['
    const JSON_STR_END_ARRAY = ']'
    const JSON_STR_COMMA = ','
    const JSON_STR_COLONS = ':'
    const JSON_STR_QUOTE = '"'
    const JSON_STR_EMPTY_OBJECT = JSON_STR_BEGIN_OBJECT + JSON_STR_END_OBJECT
    const JSON_STR_EMPTY_ARRAY = JSON_STR_BEGIN_ARRAY + JSON_STR_END_ARRAY
    const JSON_STR_EMPTY_STRING = JSON_STR_QUOTE + JSON_STR_QUOTE
    const JSON_STR_NULL = 'null'
  `;s==="json += anonymous0(input)"?o+=`
    ${r.functions.join(`
`)}
    const main = anonymous0
    return main
    `:o+=`
    function main (input) {
      let json = ''
      ${s}
      return json
    }
    ${r.functions.join(`
`)}
    return main
    `;let a=new Gdt(e),u=new Kdt(e.ajv);for(let f of r.validatorSchemasIds){let d=r.refResolver.getSchema(f);u.addSchema(d,f);let h=r.refResolver.getSchemaDependencies(f);for(let[p,m]of Object.entries(h))u.addSchema(m,p)}if(e.debugMode&&(e.mode="debug"),e.mode==="debug")return{validator:u,serializer:a,code:`validator
serializer
${o}`,ajv:u.ajv};let c=new Function("validator","serializer",o);return e.mode==="standalone"?yfe()(c,r,a,u):c(u,a)}var Ydt=["properties","required","additionalProperties","patternProperties","maxProperties","minProperties","dependencies"],Qdt=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],eht=["maxLength","minLength","pattern"],tht=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function rht(t){for(var e of Ydt)if(e in t)return"object";for(var e of Qdt)if(e in t)return"array";for(var e of eht)if(e in t)return"string";for(var e of tht)if(e in t)return"number";return t.type}function nht(t,e,r){let n=e.schema,i=Object.keys(n.properties||{}),s=`
    const propertiesKeys = ${JSON.stringify(i)}
    for (const [key, value] of Object.entries(obj)) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,o=e.getPropertyLocation("patternProperties"),a=o.schema;if(a!==void 0)for(let f in a){let d=o.getPropertyLocation(f);s+=`
        if (/${f.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${r}
          json += serializer.asString(key) + JSON_STR_COLONS
          ${$s(t,d,"value")}
          continue
        }
      `}let c=e.getPropertyLocation("additionalProperties").schema;if(c!==void 0)if(c===!0)s+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS + JSON.stringify(value)
      `;else{let f=e.getPropertyLocation("additionalProperties");s+=`
        ${r}
        json += serializer.asString(key) + JSON_STR_COLONS
        ${$s(t,f,"value")}
      `}return s+=`
    }
  `,s}function iht(t,e){let r=e.schema,n=e.getPropertyLocation("properties"),i=r.required||[],s=Object.keys(r.properties||{}).sort((c,f)=>{let d=i.includes(c),h=i.includes(f);return d===h?0:d?-1:1}),o=i.includes(s[0]),a=`let value
`;for(let c of i)if(!s.includes(c)){let f=JSON.stringify(c);a+=`if (obj[${f}] === undefined) throw new Error('${f.replace(/'/g,"\\'")} is required!')
`}a+=`let json = JSON_STR_BEGIN_OBJECT
`;let u="";o||(a+=`let addComma = false
`,u="!addComma && (addComma = true) || (json += JSON_STR_COMMA)");for(let c of s){let f=n.getPropertyLocation(c);f.schema.$ref&&(f=tw(t,f));let d=JSON.stringify(c),h=f.schema.default,p=i.includes(c);a+=`
      value = obj[${d}]
      if (value !== undefined) {
        ${u}
        json += ${JSON.stringify(d+":")}
        ${$s(t,f,"value")}
      }`,h!==void 0?a+=` else {
        ${u}
        json += ${JSON.stringify(d+":"+JSON.stringify(h))}
      }
      `:p?a+=` else {
        throw new Error('${d.replace(/'/g,"\\'")} is required!')
      }
      `:a+=`
`,o&&(u="json += ','")}return(r.patternProperties||r.additionalProperties)&&(a+=nht(t,e,u)),a+=`
    return json + JSON_STR_END_OBJECT
  `,a}function SR(t,e,r){for(let o=0;o<r.length;o++){let a=r[o];a.schema.$ref&&(r[o]=tw(t,a))}let n=[];for(let o of r){let a=Efe(t,o.schema,o.schemaId);delete a.$id,n.push(a)}let i=Xdt(n),s=new Yd(i,e);return t.refResolver.addSchema(i,e),s}function Efe(t,e,r){let n=Array.isArray(e)?[]:{};e.$id!==void 0&&e.$id.charAt(0)!=="#"&&(r=e.$id);let i=t.mergedSchemasIds.get(e);i&&t.mergedSchemasIds.set(n,i);for(let s in e){let o=e[s];s==="$ref"&&typeof o=="string"&&o.charAt(0)==="#"&&(o=r+o),typeof o=="object"&&o!==null&&(o=Efe(t,o,r)),n[s]=o}return n}function sht(t){return`(${t} && typeof ${t}.toJSON === 'function')
    ? ${t}.toJSON()
    : ${t}
  `}function oht(t,e){let r=e.schema;if(t.functionsNamesBySchema.has(r))return t.functionsNamesBySchema.get(r);let n=Tfe(t);t.functionsNamesBySchema.set(r,n);let i=e.getSchemaRef();i.startsWith(t.rootSchemaId)&&(i=i.replace(t.rootSchemaId,""));let s=`
  `,o=r.nullable===!0;return s+=`
    // ${i}
    function ${n} (input) {
      const obj = ${sht("input")}
      ${o?"":"if (obj === null) return JSON_STR_EMPTY_OBJECT"}

      ${iht(t,e)}
    }
  `,t.functions.push(s),n}function aht(t,e){let r=e.schema,n=e.getPropertyLocation("items");n.schema=n.schema||{},n.schema.$ref&&(n=tw(t,n));let i=n.schema;if(t.functionsNamesBySchema.has(r))return t.functionsNamesBySchema.get(r);let s=Tfe(t);t.functionsNamesBySchema.set(r,s);let o=e.getSchemaRef();o.startsWith(t.rootSchemaId)&&(o=o.replace(t.rootSchemaId,""));let a=`
    function ${s} (obj) {
      // ${o}
  `,u=r.nullable===!0;if(a+=`
    ${u?"":"if (obj === null) return JSON_STR_EMPTY_ARRAY"}
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,!r.additionalItems&&Array.isArray(i)&&(a+=`
      if (arrayLength > ${i.length}) {
        throw new Error(\`Item at ${i.length} does not match schema definition.\`)
      }
    `),wfe==="json-stringify"&&(a+=`if (arrayLength >= ${bR}) return JSON.stringify(obj)
`),a+=`
    const arrayEnd = arrayLength - 1
    let value
    let json = ''
  `,Array.isArray(i)){for(let c=0;c<i.length;c++){let f=i[c];a+=`value = obj[${c}]`;let d=$s(t,n.getPropertyLocation(c),"value");a+=`
        if (${c} < arrayLength) {
          if (${Sfe(f.type,`[${c}]`)}) {
            ${d}
            if (${c} < arrayEnd) {
              json += JSON_STR_COMMA
            }
          } else {
            throw new Error(\`Item at ${c} does not match schema definition.\`)
          }
        }
        `}r.additionalItems&&(a+=`
        for (let i = ${i.length}; i < arrayLength; i++) {
          json += JSON.stringify(obj[i])
          if (i < arrayEnd) {
            json += JSON_STR_COMMA
          }
        }`)}else{let c=$s(t,n,"obj[i]");a+=`
      for (let i = 0; i < arrayLength; i++) {
        ${c}
        if (i < arrayEnd) {
          json += JSON_STR_COMMA
        }
      }`}return a+=`
    return JSON_STR_BEGIN_ARRAY + json + JSON_STR_END_ARRAY
  }`,t.functions.push(a),s}function Sfe(t,e){let r;switch(t){case"null":r="value === null";break;case"string":r=`typeof value === 'string' ||
      value === null ||
      value instanceof Date ||
      value instanceof RegExp ||
      (
        typeof value === "object" &&
        typeof value.toString === "function" &&
        value.toString !== Object.prototype.toString
      )`;break;case"integer":r="Number.isInteger(value)";break;case"number":r="Number.isFinite(value)";break;case"boolean":r="typeof value === 'boolean'";break;case"object":r="value && typeof value === 'object' && value.constructor === Object";break;case"array":r="Array.isArray(value)";break;default:Array.isArray(t)&&(r=`(${t.map(i=>Sfe(i,e)).join(" || ")})`)}return r}function Tfe(t){return"anonymous"+t.functionsCounter++}function uht(t,e,r){let i=e.schema.type.sort(a=>a==="null"?-1:1),s="";i.forEach((a,u)=>{e.schema={...e.schema,type:a};let c=Cfe(t,e,r),f=u===0?"if":"else if";switch(a){case"null":s+=`
          ${f} (${r} === null)
            ${c}
          `;break;case"string":{s+=`
          ${f}(
            typeof ${r} === "string" ||
            ${r} === null ||
            ${r} instanceof Date ||
            ${r} instanceof RegExp ||
            (
              typeof ${r} === "object" &&
              typeof ${r}.toString === "function" &&
              ${r}.toString !== Object.prototype.toString
            )
          )
            ${c}
        `;break}case"array":{s+=`
          ${f}(Array.isArray(${r}))
            ${c}
        `;break}case"integer":{s+=`
          ${f}(Number.isInteger(${r}) || ${r} === null)
            ${c}
        `;break}default:{s+=`
          ${f}(typeof ${r} === "${a}" || ${r} === null)
            ${c}
        `;break}}});let o=e.getSchemaRef();return o.startsWith(t.rootSchemaId)&&(o=o.replace(t.rootSchemaId,"")),s+=`
    else throw new TypeError(\`The value of '${o}' does not match schema definition.\`)
  `,s}function Cfe(t,e,r){let n=e.schema;switch(n.type){case"null":return"json += JSON_STR_NULL";case"string":return n.format==="date-time"?`json += serializer.asDateTime(${r})`:n.format==="date"?`json += serializer.asDate(${r})`:n.format==="time"?`json += serializer.asTime(${r})`:n.format==="unsafe"?`json += serializer.asUnsafeString(${r})`:`
        if (typeof ${r} !== 'string') {
          if (${r} === null) {
            json += JSON_STR_EMPTY_STRING
          } else if (${r} instanceof Date) {
            json += JSON_STR_QUOTE + ${r}.toISOString() + JSON_STR_QUOTE
          } else if (${r} instanceof RegExp) {
            json += serializer.asString(${r}.source)
          } else {
            json += serializer.asString(${r}.toString())
          }
        } else {
          json += serializer.asString(${r})
        }
        `;case"integer":return`json += serializer.asInteger(${r})`;case"number":return`json += serializer.asNumber(${r})`;case"boolean":return`json += serializer.asBoolean(${r})`;case"object":return`json += ${oht(t,e)}(${r})`;case"array":return`json += ${aht(t,e)}(${r})`;case void 0:return`json += JSON.stringify(${r})`;default:throw new Error(`${n.type} unsupported`)}}function cht(t,e){let r=t.schema,n=r.type,i=Array.isArray(n)&&n.includes("null"),s="";return i&&(s+=`
      if (${e} === null) {
        json += JSON_STR_NULL
      } else {
    `),s+=`json += '${JSON.stringify(r.const).replace(Jdt,"\\'")}'`,i&&(s+=`
      }
    `),s}function lht(t,e,r){let n=e.schema,i=t.mergedSchemasIds.get(n);if(i){let f=ER(t,i);return $s(t,f,r)}i=`__fjs_merged_${ew++}`,t.mergedSchemasIds.set(n,i);let{allOf:s,...o}=e.schema,a=[new Yd(o,e.schemaId,e.jsonPointer)],u=e.getPropertyLocation("allOf");for(let f=0;f<s.length;f++)a.push(u.getPropertyLocation(f));let c=SR(t,i,a);return $s(t,c,r)}function fht(t,e,r){t.validatorSchemasIds.add(e.schemaId);let i=e.schema.anyOf?"anyOf":"oneOf",{[i]:s,...o}=e.schema,a=new Yd(o,e.schemaId,e.jsonPointer),u=e.getPropertyLocation(i),c="";for(let d=0;d<s.length;d++){let h=u.getPropertyLocation(d),p=h.schema,m=t.mergedSchemasIds.get(p),g=null;m?g=ER(t,m):(m=`__fjs_merged_${ew++}`,t.mergedSchemasIds.set(p,m),g=SR(t,m,[a,h]));let y=$s(t,g,r),w=h.getSchemaRef();c+=`
      ${d===0?"if":"else if"}(validator.validate("${w}", ${r}))
        ${y}
    `}let f=e.getSchemaRef();return f.startsWith(t.rootSchemaId)&&(f=f.replace(t.rootSchemaId,"")),c+=`
    else throw new TypeError(\`The value of '${f}' does not match schema definition.\`)
  `,c}function dht(t,e,r){t.validatorSchemasIds.add(e.schemaId);let{if:n,then:i,else:s,...o}=e.schema,a=new Yd(o,e.schemaId,e.jsonPointer),c=e.getPropertyLocation("if").getSchemaRef(),f=e.getPropertyLocation("then"),d=t.mergedSchemasIds.get(i),h=null;if(d?h=ER(t,d):(d=`__fjs_merged_${ew++}`,t.mergedSchemasIds.set(i,d),h=SR(t,d,[a,f])),!s)return`
      if (validator.validate("${c}", ${r})) {
        ${$s(t,h,r)}
      } else {
        ${$s(t,a,r)}
      }
    `;let p=e.getPropertyLocation("else"),m=t.mergedSchemasIds.get(s),g=null;return m?g=ER(t,m):(m=`__fjs_merged_${ew++}`,t.mergedSchemasIds.set(s,m),g=SR(t,m,[a,p])),`
    if (validator.validate("${c}", ${r})) {
      ${$s(t,h,r)}
    } else {
      ${$s(t,g,r)}
    }
  `}function $s(t,e,r){let n=e.schema;if(typeof n=="boolean")return`json += JSON.stringify(${r})`;if(n.$ref&&(e=tw(t,e),n=e.schema),n.allOf)return lht(t,e,r);if(n.anyOf||n.oneOf)return fht(t,e,r);if(n.if&&n.then)return dht(t,e,r);if(n.type===void 0){let a=rht(n);a&&(n.type=a)}let i="",s=n.type,o=n.nullable===!0;return o&&(i+=`
      if (${r} === null) {
        json += JSON_STR_NULL
      } else {
    `),n.const!==void 0?i+=cht(e,r):Array.isArray(s)?i+=uht(t,e,r):i+=Cfe(t,e,r),o&&(i+=`
      }
    `),i}tg.exports=qj;tg.exports.default=qj;tg.exports.build=qj;tg.exports.validLargeArrayMechanisms=bfe;tg.exports.restore=function({code:t,validator:e,serializer:r}){return Function.apply(null,["validator","serializer",t]).apply(null,[e,r])}});var Afe=v((YPr,$j)=>{"use strict";var hht=Uj();function Rfe(t={readMode:!0}){if(t.readMode===!0&&typeof t.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(t.readMode!==!0&&typeof t.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(t.readMode===!0)return function(){return function(n){return t.restoreFunction(n)}};let e=hht();return function(n,i={}){i.mode="standalone";let s=e(n,i);return function(o){let a=s(o);return t.storeFunction(o,a),new Function(a)}}}$j.exports=Rfe;$j.exports.default=Rfe});var Uj=v((QPr,rw)=>{"use strict";var pht=xfe();function jj(){return function(e,r){let n=Object.assign({},r,{schema:e});return mht.bind(null,n)}}function mht(t,{schema:e}){return t.schema&&e.$id&&t.schema[e.$id]&&(t.schema={...t.schema},delete t.schema[e.$id]),pht(e,t)}rw.exports=jj;rw.exports.default=jj;rw.exports.SerializerSelector=jj;rw.exports.StandaloneSerializer=Afe()});var ec=v(nw=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});nw.checkMetadata=void 0;var ght=Nt(),yht={keyword:"metadata",schemaType:"object",code(t){Pfe(t);let{gen:e,schema:r,it:n}=t;if((0,ght.alwaysValidSchema)(n,r))return;let i=e.name("valid");t.subschema({keyword:"metadata",jtdMetadata:!0},i),t.ok(i)}};function Pfe({it:t,keyword:e},r){if(t.jtdMetadata!==r)throw new Error(`JTD: "${e}" cannot be used in this schema location`)}nw.checkMetadata=Pfe;nw.default=yht});var TR=v(sw=>{"use strict";Object.defineProperty(sw,"__esModule",{value:!0});sw.hasRef=void 0;var Ife=Kd(),iw=ct(),_ht=Zu(),Ofe=ho(),kfe=C2(),vht=ec(),wht={keyword:"ref",schemaType:"string",code(t){(0,vht.checkMetadata)(t);let{gen:e,data:r,schema:n,parentSchema:i,it:s}=t,{schemaEnv:{root:o}}=s,a=e.name("valid");i.nullable?(e.var(a,(0,iw._)`${r} === null`),e.if((0,iw.not)(a),u)):(e.var(a,!1),u()),t.ok(a);function u(){var d;let h=(d=o.schema.definitions)===null||d===void 0?void 0:d[n];if(!h)throw new _ht.default(s.opts.uriResolver,"",n,`No definition ${n}`);Bj(h)||!s.opts.inlineRefs?c(h):f(h)}function c(d){let h=Ife.compileSchema.call(s.self,new Ife.SchemaEnv({schema:d,root:o,schemaPath:`/definitions/${n}`})),p=(0,kfe.getValidate)(t,h),m=e.const("_errs",Ofe.default.errors);(0,kfe.callRef)(t,p,h,h.$async),e.assign(a,(0,iw._)`${m} === ${Ofe.default.errors}`)}function f(d){let h=e.scopeValue("schema",s.opts.code.source===!0?{ref:d,code:(0,iw.stringify)(d)}:{ref:d});t.subschema({schema:d,dataTypes:[],schemaPath:iw.nil,topSchemaRef:h,errSchemaPath:`/definitions/${n}`},a)}}};function Bj(t){for(let e in t){let r;if(e==="ref"||typeof(r=t[e])=="object"&&Bj(r))return!0}return!1}sw.hasRef=Bj;sw.default=wht});var zj=v(Hj=>{"use strict";Object.defineProperty(Hj,"__esModule",{value:!0});var bht=/t|\s/i,Eht=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Sht=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,Tht=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Dfe(t,e){let r=t.split(bht);return r.length===2&&Nfe(r[0])&&Cht(r[1])||e&&r.length===1&&Nfe(r[0])}Hj.default=Dfe;function Nfe(t){let e=Eht.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&(i<=Tht[n]||n===2&&i===29&&(r%100===0?r%400===0:r%4===0))}function Cht(t){let e=Sht.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3],s=+(e[4]||0),o=+(e[5]||0);return r<=23&&n<=59&&i<=59||r-s===23&&n-o===59&&i===60}Dfe.code='require("ajv/dist/runtime/timestamp").default'});var rg=v(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.typeErrorParams=El.typeErrorMessage=El.typeError=void 0;var xht=ct();function Rht(t){return{message:e=>Ffe(e,t),params:e=>Lfe(e,t)}}El.typeError=Rht;function Ffe({parentSchema:t},e){return t?.nullable?`must be ${e} or null`:`must be ${e}`}El.typeErrorMessage=Ffe;function Lfe({parentSchema:t},e){return(0,xht._)`{type: ${e}, nullable: ${!!t?.nullable}}`}El.typeErrorParams=Lfe});var Vj=v(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.intRange=void 0;var Us=ct(),Aht=zj(),Pht=Nt(),Iht=ec(),Mfe=rg();ng.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var Oht={message:t=>(0,Mfe.typeErrorMessage)(t,t.schema),params:t=>(0,Mfe.typeErrorParams)(t,t.schema)};function kht(t){let{gen:e,data:r,it:n}=t,{timestamp:i,allowDate:s}=n.opts;if(i==="date")return(0,Us._)`${r} instanceof Date `;let o=(0,Pht.useFunc)(e,Aht.default),a=s?(0,Us._)`, true`:Us.nil,u=(0,Us._)`typeof ${r} == "string" && ${o}(${r}${a})`;return i==="string"?u:(0,Us.or)((0,Us._)`${r} instanceof Date`,u)}var Nht={keyword:"type",schemaType:"string",error:Oht,code(t){(0,Iht.checkMetadata)(t);let{data:e,schema:r,parentSchema:n,it:i}=t,s;switch(r){case"boolean":case"string":s=(0,Us._)`typeof ${e} == ${r}`;break;case"timestamp":{s=kht(t);break}case"float32":case"float64":s=(0,Us._)`typeof ${e} == "number"`;break;default:{let o=r;if(s=(0,Us._)`typeof ${e} == "number" && isFinite(${e}) && !(${e} % 1)`,!i.opts.int32range&&(o==="int32"||o==="uint32"))o==="uint32"&&(s=(0,Us._)`${s} && ${e} >= 0`);else{let[a,u]=ng.intRange[o];s=(0,Us._)`${s} && ${e} >= ${a} && ${e} <= ${u}`}}}t.pass(n.nullable?(0,Us.or)((0,Us._)`${e} === null`,s):s)}};ng.default=Nht});var sg=v(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.checkNullableObject=ig.checkNullable=void 0;var CR=ct();function qfe({gen:t,data:e,parentSchema:r},n=CR.nil){let i=t.name("valid");return r.nullable?(t.let(i,(0,CR._)`${e} === null`),n=(0,CR.not)(i)):t.let(i,!1),[i,n]}ig.checkNullable=qfe;function Dht(t,e){let[r,n]=qfe(t,e);return[r,(0,CR._)`${n} && typeof ${t.data} == "object" && !Array.isArray(${t.data})`]}ig.checkNullableObject=Dht});var $fe=v(Wj=>{"use strict";Object.defineProperty(Wj,"__esModule",{value:!0});var Sl=ct(),Fht=ec(),Lht=sg(),Mht={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Sl._)`{allowedValues: ${t}}`},qht={keyword:"enum",schemaType:"array",error:Mht,code(t){(0,Fht.checkMetadata)(t);let{gen:e,data:r,schema:n,schemaValue:i,parentSchema:s,it:o}=t;if(n.length===0)throw new Error("enum must have non-empty array");if(n.length!==new Set(n).size)throw new Error("enum items must be unique");let a,u=(0,Sl._)`typeof ${r} == "string"`;if(n.length>=o.opts.loopEnum){let f;[a,f]=(0,Lht.checkNullable)(t,u),e.if(f,c)}else{if(!Array.isArray(n))throw new Error("ajv implementation error");a=(0,Sl.and)(u,(0,Sl.or)(...n.map(f=>(0,Sl._)`${r} === ${f}`))),s.nullable&&(a=(0,Sl.or)((0,Sl._)`${r} === null`,a))}t.pass(a);function c(){e.forOf("v",i,f=>e.if((0,Sl._)`${a} = ${r} === ${f}`,()=>e.break()))}}};Wj.default=qht});var jfe=v(Gj=>{"use strict";Object.defineProperty(Gj,"__esModule",{value:!0});var $ht=Nt(),Uht=ri(),Ufe=ct(),jht=ec(),Bht=sg(),Hht=rg(),zht={keyword:"elements",schemaType:"object",error:(0,Hht.typeError)("array"),code(t){(0,jht.checkMetadata)(t);let{gen:e,data:r,schema:n,it:i}=t;if((0,$ht.alwaysValidSchema)(i,n))return;let[s]=(0,Bht.checkNullable)(t);e.if((0,Ufe.not)(s),()=>e.if((0,Ufe._)`Array.isArray(${r})`,()=>e.assign(s,(0,Uht.validateArray)(t)),()=>t.error())),t.ok(s)}};Gj.default=zht});var Xj=v(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.validateProperties=Tl.error=void 0;var Kj=ri(),Bfe=Nt(),tc=ct(),Vht=ec(),Wht=sg(),Hfe=rg(),og;(function(t){t.Additional="additional",t.Missing="missing"})(og||(og={}));Tl.error={message:t=>{let{params:e}=t;return e.propError?e.propError===og.Additional?"must NOT have additional properties":`must have property '${e.missingProperty}'`:(0,Hfe.typeErrorMessage)(t,"object")},params:t=>{let{params:e}=t;return e.propError?e.propError===og.Additional?(0,tc._)`{error: ${e.propError}, additionalProperty: ${e.additionalProperty}}`:(0,tc._)`{error: ${e.propError}, missingProperty: ${e.missingProperty}}`:(0,Hfe.typeErrorParams)(t,"object")}};var Ght={keyword:"properties",schemaType:"object",error:Tl.error,code:zfe};function zfe(t){(0,Vht.checkMetadata)(t);let{gen:e,data:r,parentSchema:n,it:i}=t,{additionalProperties:s,nullable:o}=n;if(i.jtdDiscriminator&&o)throw new Error("JTD: nullable inside discriminator mapping");if(p())throw new Error("JTD: properties and optionalProperties have common members");let[a,u]=m("properties"),[c,f]=m("optionalProperties");if(u.length===0&&f.length===0&&s)return;let[d,h]=i.jtdDiscriminator===void 0?(0,Wht.checkNullableObject)(t,r):[e.let("valid",!1),!0];e.if(h,()=>e.assign(d,!0).block(()=>{g(u,"properties",!0),g(f,"optionalProperties"),s||w()})),t.pass(d);function p(){let E=n.properties,b=n.optionalProperties;if(!(E&&b))return!1;for(let O in E)if(Object.prototype.hasOwnProperty.call(b,O))return!0;return!1}function m(E){let b=n[E],O=b?(0,Kj.allSchemaProperties)(b):[];if(i.jtdDiscriminator&&O.some(x=>x===i.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${E}`);let M=O.filter(x=>!(0,Bfe.alwaysValidSchema)(i,b[x]));return[O,M]}function g(E,b,O){let M=e.var("valid");for(let I of E)e.if((0,Kj.propertyInData)(e,r,I,i.opts.ownProperties),()=>y(I,b,M),()=>x(I)),t.ok(M);function x(I){O?(e.assign(M,!1),t.error(!1,{propError:og.Missing,missingProperty:I},{schemaPath:I})):e.assign(M,!0)}}function y(E,b,O){t.subschema({keyword:b,schemaProp:E,dataProp:E},O)}function w(){e.forIn("key",r,E=>{let b=S(E,a,"properties",i.jtdDiscriminator),O=S(E,c,"optionalProperties"),M=b===!0?O:O===!0?b:(0,tc.and)(b,O);e.if(M,()=>{i.opts.removeAdditional?e.code((0,tc._)`delete ${r}[${E}]`):(t.error(!1,{propError:og.Additional,additionalProperty:E},{instancePath:E,parentSchema:!0}),i.opts.allErrors||e.break())})})}function S(E,b,O,M){let x;if(b.length>8){let I=(0,Bfe.schemaRefOrVal)(i,n[O],O);x=(0,tc.not)((0,Kj.isOwnProperty)(e,I,E)),M!==void 0&&(x=(0,tc.and)(x,(0,tc._)`${E} !== ${M}`))}else if(b.length||M!==void 0){let I=M===void 0?b:[M].concat(b);x=(0,tc.and)(...I.map(P=>(0,tc._)`${E} !== ${P}`))}else x=!0;return x}}Tl.validateProperties=zfe;Tl.default=Ght});var Wfe=v(Jj=>{"use strict";Object.defineProperty(Jj,"__esModule",{value:!0});var Vfe=Xj(),Kht={keyword:"optionalProperties",schemaType:"object",error:Vfe.error,code(t){t.parentSchema.properties||(0,Vfe.validateProperties)(t)}};Jj.default=Kht});var Kfe=v(Zj=>{"use strict";Object.defineProperty(Zj,"__esModule",{value:!0});var Qd=ct(),Xht=ec(),Jht=sg(),Gfe=rg(),xR=fj(),Zht={message:t=>{let{schema:e,params:r}=t;return r.discrError?r.discrError===xR.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in mapping`:(0,Gfe.typeErrorMessage)(t,"object")},params:t=>{let{schema:e,params:r}=t;return r.discrError?(0,Qd._)`{error: ${r.discrError}, tag: ${e}, tagValue: ${r.tag}}`:(0,Gfe.typeErrorParams)(t,"object")}},Yht={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:Zht,code(t){(0,Xht.checkMetadata)(t);let{gen:e,data:r,schema:n,parentSchema:i}=t,[s,o]=(0,Jht.checkNullableObject)(t,r);e.if(o),a(),e.elseIf((0,Qd.not)(s)),t.error(),e.endIf(),t.ok(s);function a(){let f=e.const("tag",(0,Qd._)`${r}${(0,Qd.getProperty)(n)}`);e.if((0,Qd._)`${f} === undefined`),t.error(!1,{discrError:xR.DiscrError.Tag,tag:f}),e.elseIf((0,Qd._)`typeof ${f} == "string"`),u(f),e.else(),t.error(!1,{discrError:xR.DiscrError.Tag,tag:f},{instancePath:n}),e.endIf()}function u(f){e.if(!1);for(let d in i.mapping)e.elseIf((0,Qd._)`${f} === ${d}`),e.assign(s,c(d));e.else(),t.error(!1,{discrError:xR.DiscrError.Mapping,tag:f},{instancePath:n,schemaPath:"mapping",parentSchema:!0}),e.endIf()}function c(f){let d=e.name("valid");return t.subschema({keyword:"mapping",schemaProp:f,jtdDiscriminator:n},d),d}}};Zj.default=Yht});var Jfe=v(Yj=>{"use strict";Object.defineProperty(Yj,"__esModule",{value:!0});var Xfe=Nt(),RR=ct(),Qht=ec(),ept=sg(),tpt=rg(),rpt={keyword:"values",schemaType:"object",error:(0,tpt.typeError)("object"),code(t){(0,Qht.checkMetadata)(t);let{gen:e,data:r,schema:n,it:i}=t,[s,o]=(0,ept.checkNullableObject)(t,r);(0,Xfe.alwaysValidSchema)(i,n)?e.if((0,RR.not)((0,RR.or)(o,s)),()=>t.error()):(e.if(o),e.assign(s,a()),e.elseIf((0,RR.not)(s)),t.error(),e.endIf()),t.ok(s);function a(){let u=e.name("valid");if(i.allErrors){let f=e.let("valid",!0);return c(()=>e.assign(f,!1)),f}return e.var(u,!0),c(()=>e.break()),u;function c(f){e.forIn("key",r,d=>{t.subschema({keyword:"values",dataProp:d,dataPropType:Xfe.Type.Str},u),e.if((0,RR.not)(u),f)})}}}};Yj.default=rpt});var Zfe=v(Qj=>{"use strict";Object.defineProperty(Qj,"__esModule",{value:!0});var npt=ri(),ipt={keyword:"union",schemaType:"array",trackErrors:!0,code:npt.validateUnion,error:{message:"must match a schema in union"}};Qj.default=ipt});var Yfe=v(eB=>{"use strict";Object.defineProperty(eB,"__esModule",{value:!0});var spt=TR(),opt=Vj(),apt=$fe(),upt=jfe(),cpt=Xj(),lpt=Wfe(),fpt=Kfe(),dpt=Jfe(),hpt=Zfe(),ppt=ec(),mpt=["definitions",spt.default,opt.default,apt.default,upt.default,cpt.default,lpt.default,fpt.default,dpt.default,hpt.default,ppt.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];eB.default=mpt});var rde=v(tB=>{"use strict";Object.defineProperty(tB,"__esModule",{value:!0});var rc=t=>{let e={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return t&&(e.definitions={values:{ref:"schema"}}),e},gpt=t=>({optionalProperties:rc(t)}),ypt=t=>({properties:{ref:{type:"string"}},optionalProperties:rc(t)}),_pt=t=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:rc(t)}),vpt=t=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:rc(t)}),wpt=t=>({properties:{elements:{ref:"schema"}},optionalProperties:rc(t)}),ede=t=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...rc(t)}}),tde=t=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...rc(t)}}),bpt=t=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[ede(!1),tde(!1)]}}}},optionalProperties:rc(t)}),Ept=t=>({properties:{values:{ref:"schema"}},optionalProperties:rc(t)}),Qfe=t=>({metadata:{union:[gpt,ypt,_pt,vpt,wpt,ede,tde,bpt,Ept].map(e=>e(t))}}),Spt={definitions:{schema:Qfe(!1)},...Qfe(!0)};tB.default=Spt});var rB=v(AR=>{"use strict";Object.defineProperty(AR,"__esModule",{value:!0});AR.jtdForms=void 0;AR.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]});var ide=v(iB=>{"use strict";Object.defineProperty(iB,"__esModule",{value:!0});var nB=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Tpt={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function nde(t){return nB.lastIndex=0,'"'+(nB.test(t)?t.replace(nB,e=>{let r=Tpt[e];return typeof r=="string"?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}):t)+'"'}iB.default=nde;nde.code='require("ajv/dist/runtime/quote").default'});var lde=v(oB=>{"use strict";Object.defineProperty(oB,"__esModule",{value:!0});var Cpt=rB(),ode=Kd(),Gt=ct(),xpt=Zu(),Lr=ho(),Rpt=ri(),Apt=TR(),Ppt=Nt(),Ipt=ide(),Opt={elements:Npt,values:Dpt,discriminator:Fpt,properties:sde,optionalProperties:sde,enum:ow,type:Lpt,ref:qpt};function ade(t,e){let r=ode.getCompilingSchema.call(this,t);if(r)return r;let{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Gt.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a=o.scopeName("serialize"),u={self:this,gen:o,schema:t.schema,schemaEnv:t,definitions:e,data:Lr.default.data},c;try{this._compilations.add(t),t.serializeName=a,o.func(a,Lr.default.data,!1,()=>{o.let(Lr.default.json,(0,Gt.str)``),aw(u),o.return(Lr.default.json)}),o.optimize(this.opts.code.optimize);let f=o.toString();c=`${o.scopeRefs(Lr.default.scope)}return ${f}`;let h=new Function(`${Lr.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:h}),t.serialize=h}catch(f){throw c&&this.logger.error("Error compiling serializer, function code:",c),delete t.serialize,delete t.serializeName,f}finally{this._compilations.delete(t)}return t}oB.default=ade;function aw(t){let e;for(let r of Cpt.jtdForms)if(r in t.schema){e=r;break}kpt(t,e?Opt[e]:Upt)}function kpt(t,e){let{gen:r,schema:n,data:i}=t;if(!n.nullable)return e(t);r.if((0,Gt._)`${i} === undefined || ${i} === null`,()=>r.add(Lr.default.json,(0,Gt._)`"null"`),()=>e(t))}function Npt(t){let{gen:e,schema:r,data:n}=t;e.add(Lr.default.json,(0,Gt.str)`[`);let i=e.let("first",!0);e.forOf("el",n,s=>{sB(t,i),aw({...t,schema:r.elements,data:s})}),e.add(Lr.default.json,(0,Gt.str)`]`)}function Dpt(t){let{gen:e,schema:r,data:n}=t;e.add(Lr.default.json,(0,Gt.str)`{`);let i=e.let("first",!0);e.forIn("key",n,s=>ude(t,s,r.values,i)),e.add(Lr.default.json,(0,Gt.str)`}`)}function ude(t,e,r,n){let{gen:i,data:s}=t;sB(t,n),ow({...t,data:e}),i.add(Lr.default.json,(0,Gt.str)`:`);let o=i.const("value",(0,Gt._)`${s}${(0,Gt.getProperty)(e)}`);aw({...t,schema:r,data:o})}function Fpt(t){let{gen:e,schema:r,data:n}=t,{discriminator:i}=r;e.add(Lr.default.json,(0,Gt.str)`{${JSON.stringify(i)}:`);let s=e.const("tag",(0,Gt._)`${n}${(0,Gt.getProperty)(i)}`);ow({...t,data:s}),e.if(!1);for(let o in r.mapping){e.elseIf((0,Gt._)`${s} === ${o}`);let a=r.mapping[o];cde({...t,schema:a},i)}e.endIf(),e.add(Lr.default.json,(0,Gt.str)`}`)}function sde(t){let{gen:e}=t;e.add(Lr.default.json,(0,Gt.str)`{`),cde(t),e.add(Lr.default.json,(0,Gt.str)`}`)}function cde(t,e){let{gen:r,schema:n,data:i}=t,{properties:s,optionalProperties:o}=n,a=h(s),u=h(o),c=p(a.concat(u)),f=!e,d;for(let w of a)f?f=!1:r.add(Lr.default.json,(0,Gt.str)`,`),g(w,s[w],m(w));f&&(d=r.let("first",!0));for(let w of u){let S=m(w);r.if((0,Gt.and)((0,Gt._)`${S} !== undefined`,(0,Rpt.isOwnProperty)(r,i,w)),()=>{sB(t,d),g(w,o[w],S)})}n.additionalProperties&&r.forIn("key",i,w=>r.if(y(w,c),()=>ude(t,w,{},d)));function h(w){return w?Object.keys(w):[]}function p(w){if(e&&w.push(e),new Set(w).size!==w.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return w}function m(w){return r.const("value",(0,Gt._)`${i}${(0,Gt.getProperty)(w)}`)}function g(w,S,E){r.add(Lr.default.json,(0,Gt.str)`${JSON.stringify(w)}:`),aw({...t,schema:S,data:E})}function y(w,S){return S.length?(0,Gt.and)(...S.map(E=>(0,Gt._)`${w} !== ${E}`)):!0}}function Lpt(t){let{gen:e,schema:r,data:n}=t;switch(r.type){case"boolean":e.add(Lr.default.json,(0,Gt._)`${n} ? "true" : "false"`);break;case"string":ow(t);break;case"timestamp":e.if((0,Gt._)`${n} instanceof Date`,()=>e.add(Lr.default.json,(0,Gt._)`'"' + ${n}.toISOString() + '"'`),()=>ow(t));break;default:Mpt(t)}}function ow({gen:t,data:e}){t.add(Lr.default.json,(0,Gt._)`${(0,Ppt.useFunc)(t,Ipt.default)}(${e})`)}function Mpt({gen:t,data:e}){t.add(Lr.default.json,(0,Gt._)`"" + ${e}`)}function qpt(t){let{gen:e,self:r,data:n,definitions:i,schema:s,schemaEnv:o}=t,{ref:a}=s,u=i[a];if(!u)throw new xpt.default(r.opts.uriResolver,"",a,`No definition ${a}`);if(!(0,Apt.hasRef)(u))return aw({...t,schema:u});let{root:c}=o,f=ade.call(r,new ode.SchemaEnv({schema:u,root:c}),i);e.add(Lr.default.json,(0,Gt._)`${$pt(e,f)}(${n})`)}function $pt(t,e){return e.serialize?t.scopeValue("serialize",{ref:e.serialize}):(0,Gt._)`${t.scopeValue("wrapper",{ref:e})}.serialize`}function Upt({gen:t,data:e}){t.add(Lr.default.json,(0,Gt._)`JSON.stringify(${e})`)}function sB({gen:t},e){e?t.if(e,()=>t.assign(e,!1),()=>t.add(Lr.default.json,(0,Gt.str)`,`)):t.add(Lr.default.json,(0,Gt.str)`,`)}});var dde=v(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.parseJsonString=xl.parseJsonNumber=xl.parseJson=void 0;var jpt=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function nc(t,e){let r;nc.message=void 0;let n;e&&(t=t.slice(e));try{return nc.position=e+t.length,JSON.parse(t)}catch(i){if(n=jpt.exec(i.message),!n){nc.message="unexpected end";return}r=+n[1];let s=t[r];t=t.slice(0,r),nc.position=e+r;try{return JSON.parse(t)}catch{nc.message=`unexpected token ${s}`;return}}}xl.parseJson=nc;nc.message=void 0;nc.position=0;nc.code='require("ajv/dist/runtime/parseJson").parseJson';function ic(t,e,r){let n="",i;if(ic.message=void 0,t[e]==="-"&&(n+="-",e++),t[e]==="0")n+="0",e++;else if(!s(r)){o();return}if(r)return ic.position=e,+n;if(t[e]==="."&&(n+=".",e++,!s())){o();return}if(i=t[e],(i==="e"||i==="E")&&(n+="e",e++,i=t[e],(i==="+"||i==="-")&&(n+=i,e++),!s())){o();return}return ic.position=e,+n;function s(a){let u=!1;for(;i=t[e],i>="0"&&i<="9"&&(a===void 0||a-- >0);)u=!0,n+=i,e++;return u}function o(){ic.position=e,ic.message=e<t.length?`unexpected token ${t[e]}`:"unexpected end"}}xl.parseJsonNumber=ic;ic.message=void 0;ic.position=0;ic.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var fde={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},Bpt=97,Hpt=48;function Cl(t,e){let r="",n;for(Cl.message=void 0;n=t[e++],n!=='"';)if(n==="\\")if(n=t[e],n in fde)r+=fde[n],e++;else if(n==="u"){e++;let s=4,o=0;for(;s--;){if(o<<=4,n=t[e],n===void 0){i("unexpected end");return}if(n=n.toLowerCase(),n>="a"&&n<="f")o+=n.charCodeAt(0)-Bpt+10;else if(n>="0"&&n<="9")o+=n.charCodeAt(0)-Hpt;else{i(`unexpected token ${n}`);return}e++}r+=String.fromCharCode(o)}else{i(`unexpected token ${n}`);return}else if(n===void 0){i("unexpected end");return}else if(n.charCodeAt(0)>=32)r+=n;else{i(`unexpected token ${n}`);return}return Cl.position=e,r;function i(s){Cl.position=e,Cl.message=s}}xl.parseJsonString=Cl;Cl.message=void 0;Cl.position=0;Cl.code='require("ajv/dist/runtime/parseJson").parseJsonString'});var Sde=v(pB=>{"use strict";Object.defineProperty(pB,"__esModule",{value:!0});var zpt=rB(),gde=Kd(),et=ct(),Vpt=Zu(),Vt=ho(),Wpt=ri(),Gpt=TR(),Kpt=Vj(),cB=dde(),yde=Nt(),Xpt=zj(),Jpt={elements:emt,values:tmt,discriminator:nmt,properties:hde,optionalProperties:hde,enum:smt,type:imt,ref:omt};function _de(t,e){let r=gde.getCompilingSchema.call(this,t);if(r)return r;let{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new et.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a=o.scopeName("parse"),u={self:this,gen:o,schema:t.schema,schemaEnv:t,definitions:e,data:Vt.default.data,parseName:a,char:o.name("c")},c;try{this._compilations.add(t),t.parseName=a,Zpt(u),o.optimize(this.opts.code.optimize);let f=o.toString();c=`${o.scopeRefs(Vt.default.scope)}return ${f}`;let h=new Function(`${Vt.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:h}),t.parse=h}catch(f){throw c&&this.logger.error("Error compiling parser, function code:",c),delete t.parse,delete t.parseName,f}finally{this._compilations.delete(t)}return t}pB.default=_de;var uB=(0,et._)`undefined`;function Zpt(t){let{gen:e,parseName:r,char:n}=t;e.func(r,(0,et._)`${Vt.default.json}, ${Vt.default.jsonPos}, ${Vt.default.jsonPart}`,!1,()=>{e.let(Vt.default.data),e.let(n),e.assign((0,et._)`${r}.message`,uB),e.assign((0,et._)`${r}.position`,uB),e.assign(Vt.default.jsonPos,(0,et._)`${Vt.default.jsonPos} || 0`),e.const(Vt.default.jsonLen,(0,et._)`${Vt.default.json}.length`),PR(t),hB(t),e.if(Vt.default.jsonPart,()=>{e.assign((0,et._)`${r}.position`,Vt.default.jsonPos),e.return(Vt.default.data)}),e.if((0,et._)`${Vt.default.jsonPos} === ${Vt.default.jsonLen}`,()=>e.return(Vt.default.data)),ag(t)})}function PR(t){let e;for(let r of zpt.jtdForms)if(r in t.schema){e=r;break}e?Qpt(t,Jpt[e]):fB(t)}var Ypt=mde(!0,mde(!1,ag));function Qpt(t,e){let{gen:r,schema:n,data:i}=t;if(!n.nullable)return e(t);uw(t,"null",e,()=>r.assign(i,null))}function emt(t){let{gen:e,schema:r,data:n}=t;Xa(t,"[");let i=e.let("i",0);e.assign(n,(0,et._)`[]`),lB(t,"]",()=>{let s=e.let("el");PR({...t,schema:r.elements,data:s}),e.assign((0,et._)`${n}[${i}++]`,s)})}function tmt(t){let{gen:e,schema:r,data:n}=t;Xa(t,"{"),e.assign(n,(0,et._)`{}`),lB(t,"}",()=>rmt(t,r.values))}function lB(t,e,r){vde(t,e,r),Xa(t,e)}function vde(t,e,r){let{gen:n}=t;n.for((0,et._)`;${Vt.default.jsonPos}<${Vt.default.jsonLen} && ${IR(1)}!==${e};`,()=>{r(),uw(t,",",()=>n.break(),i)});function i(){uw(t,e,()=>{},ag)}}function rmt(t,e){let{gen:r}=t,n=r.let("key");eh({...t,data:n}),Xa(t,":"),bde(t,n,e)}function nmt(t){let{gen:e,data:r,schema:n}=t,{discriminator:i,mapping:s}=n;Xa(t,"{"),e.assign(r,(0,et._)`{}`);let o=e.const("pos",Vt.default.jsonPos),a=e.let("value"),u=e.let("tag");vde(t,"}",()=>{let c=e.let("key");eh({...t,data:c}),Xa(t,":"),e.if((0,et._)`${c} === ${i}`,()=>{eh({...t,data:u}),e.assign((0,et._)`${r}[${c}]`,u),e.break()},()=>fB({...t,data:a}))}),e.assign(Vt.default.jsonPos,o),e.if((0,et._)`${u} === undefined`),sc(t,(0,et.str)`discriminator tag not found`);for(let c in s)e.elseIf((0,et._)`${u} === ${c}`),wde({...t,schema:s[c]},i);e.else(),sc(t,(0,et.str)`discriminator value not in schema`),e.endIf()}function hde(t){let{gen:e,data:r}=t;Xa(t,"{"),e.assign(r,(0,et._)`{}`),wde(t)}function wde(t,e){let{gen:r,schema:n,data:i}=t,{properties:s,optionalProperties:o,additionalProperties:a}=n;if(lB(t,"}",()=>{let u=r.let("key");if(eh({...t,data:u}),Xa(t,":"),r.if(!1),pde(t,u,s),pde(t,u,o),e){r.elseIf((0,et._)`${u} === ${e}`);let c=r.let("tag");eh({...t,data:c})}r.else(),a?fB({...t,data:(0,et._)`${i}[${u}]`}):sc(t,(0,et.str)`property ${u} not allowed`),r.endIf()}),s){let u=(0,Wpt.hasPropFunc)(r),c=(0,et.and)(...Object.keys(s).map(f=>(0,et._)`${u}.call(${i}, ${f})`));r.if((0,et.not)(c),()=>sc(t,(0,et.str)`missing required properties`))}}function pde(t,e,r={}){let{gen:n}=t;for(let i in r)n.elseIf((0,et._)`${e} === ${i}`),bde(t,e,r[i])}function bde(t,e,r){PR({...t,schema:r,data:(0,et._)`${t.data}[${e}]`})}function imt(t){let{gen:e,schema:r,data:n,self:i}=t;switch(r.type){case"boolean":Ypt(t);break;case"string":eh(t);break;case"timestamp":{eh(t);let s=(0,yde.useFunc)(e,Xpt.default),{allowDate:o,parseDate:a}=i.opts,u=o?(0,et._)`!${s}(${n}, true)`:(0,et._)`!${s}(${n})`,c=a?(0,et.or)(u,(0,et._)`(${n} = new Date(${n}), false)`,(0,et._)`isNaN(${n}.valueOf())`):u;e.if(c,()=>sc(t,(0,et.str)`invalid timestamp`));break}case"float32":case"float64":aB(t);break;default:{let s=r.type;if(!i.opts.int32range&&(s==="int32"||s==="uint32"))aB(t,16),s==="uint32"&&e.if((0,et._)`${n} < 0`,()=>sc(t,(0,et.str)`integer out of range`));else{let[o,a,u]=Kpt.intRange[s];aB(t,u),e.if((0,et._)`${n} < ${o} || ${n} > ${a}`,()=>sc(t,(0,et.str)`integer out of range`))}}}}function eh(t){Xa(t,'"'),dB(t,cB.parseJsonString)}function smt(t){let{gen:e,data:r,schema:n}=t,i=n.enum;Xa(t,'"'),e.if(!1);for(let s of i){let o=JSON.stringify(s).slice(1);e.elseIf((0,et._)`${IR(o.length)} === ${o}`),e.assign(r,(0,et.str)`${s}`),e.add(Vt.default.jsonPos,o.length)}e.else(),ag(t),e.endIf()}function aB(t,e){let{gen:r}=t;hB(t),r.if((0,et._)`"-0123456789".indexOf(${IR(1)}) < 0`,()=>ag(t),()=>dB(t,cB.parseJsonNumber,e))}function mde(t,e){return r=>{let{gen:n,data:i}=r;uw(r,`${t}`,()=>e(r),()=>n.assign(i,t))}}function omt(t){let{gen:e,self:r,definitions:n,schema:i,schemaEnv:s}=t,{ref:o}=i,a=n[o];if(!a)throw new Vpt.default(r.opts.uriResolver,"",o,`No definition ${o}`);if(!(0,Gpt.hasRef)(a))return PR({...t,schema:a});let{root:u}=s,c=_de.call(r,new gde.SchemaEnv({schema:a,root:u}),n);Ede(t,amt(e,c),!0)}function amt(t,e){return e.parse?t.scopeValue("parse",{ref:e.parse}):(0,et._)`${t.scopeValue("wrapper",{ref:e})}.parse`}function fB(t){dB(t,cB.parseJson)}function dB(t,e,r){Ede(t,(0,yde.useFunc)(t.gen,e),r)}function Ede(t,e,r){let{gen:n,data:i}=t;n.assign(i,(0,et._)`${e}(${Vt.default.json}, ${Vt.default.jsonPos}${r?(0,et._)`, ${r}`:et.nil})`),n.assign(Vt.default.jsonPos,(0,et._)`${e}.position`),n.if((0,et._)`${i} === undefined`,()=>sc(t,(0,et._)`${e}.message`))}function Xa(t,e){uw(t,e,ag)}function uw(t,e,r,n){let{gen:i}=t,s=e.length;hB(t),i.if((0,et._)`${IR(s)} === ${e}`,()=>{i.add(Vt.default.jsonPos,s),n?.(t)},()=>r(t))}function hB({gen:t,char:e}){t.code((0,et._)`while((${e}=${Vt.default.json}[${Vt.default.jsonPos}],${e}===" "||${e}==="\\n"||${e}==="\\r"||${e}==="\\t"))${Vt.default.jsonPos}++;`)}function IR(t){return t===1?(0,et._)`${Vt.default.json}[${Vt.default.jsonPos}]`:(0,et._)`${Vt.default.json}.slice(${Vt.default.jsonPos}, ${Vt.default.jsonPos}+${t})`}function ag(t){sc(t,(0,et._)`"unexpected token " + ${Vt.default.json}[${Vt.default.jsonPos}]`)}function sc({gen:t,parseName:e},r){t.assign((0,et._)`${e}.message`,r),t.assign((0,et._)`${e}.position`,Vt.default.jsonPos),t.return(uB)}});var yB=v((Gr,gB)=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.MissingRefError=Gr.ValidationError=Gr.CodeGen=Gr.Name=Gr.nil=Gr.stringify=Gr.str=Gr._=Gr.KeywordCxt=Gr.Ajv=void 0;var umt=S2(),cmt=Yfe(),lmt=rde(),fmt=lde(),dmt=Sde(),mB="JTD-meta-schema",ug=class extends umt.default{constructor(e={}){super({...e,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(cmt.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(lmt.default,mB,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(mB)?mB:void 0)}compileSerializer(e){let r=this._addSchema(e);return r.serialize||this._compileSerializer(r)}compileParser(e){let r=this._addSchema(e);return r.parse||this._compileParser(r)}_compileSerializer(e){if(fmt.default.call(this,e,e.schema.definitions||{}),!e.serialize)throw new Error("ajv implementation error");return e.serialize}_compileParser(e){if(dmt.default.call(this,e,e.schema.definitions||{}),!e.parse)throw new Error("ajv implementation error");return e.parse}};Gr.Ajv=ug;gB.exports=Gr=ug;gB.exports.Ajv=ug;Object.defineProperty(Gr,"__esModule",{value:!0});Gr.default=ug;var hmt=Vm();Object.defineProperty(Gr,"KeywordCxt",{enumerable:!0,get:function(){return hmt.KeywordCxt}});var cg=ct();Object.defineProperty(Gr,"_",{enumerable:!0,get:function(){return cg._}});Object.defineProperty(Gr,"str",{enumerable:!0,get:function(){return cg.str}});Object.defineProperty(Gr,"stringify",{enumerable:!0,get:function(){return cg.stringify}});Object.defineProperty(Gr,"nil",{enumerable:!0,get:function(){return cg.nil}});Object.defineProperty(Gr,"Name",{enumerable:!0,get:function(){return cg.Name}});Object.defineProperty(Gr,"CodeGen",{enumerable:!0,get:function(){return cg.CodeGen}});var pmt=Lv();Object.defineProperty(Gr,"ValidationError",{enumerable:!0,get:function(){return pmt.default}});var mmt=Zu();Object.defineProperty(Gr,"MissingRefError",{enumerable:!0,get:function(){return mmt.default}})});var _B=v((w1r,Tde)=>{"use strict";var gmt=_j();Tde.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:gmt,addUsedSchema:!1,allErrors:!1})});var Ide=v(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.formatNames=Ja.fastFormats=Ja.fullFormats=void 0;function lg(t,e){return{validate:t,compare:e}}Ja.fullFormats={date:lg(Rde,bB),time:lg(Ade,EB),"date-time":lg(wmt,Pde),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Smt,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Imt,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Tmt,int32:{type:"number",validate:Rmt},int64:{type:"number",validate:Amt},float:{type:"number",validate:xde},double:{type:"number",validate:xde},password:!0,binary:!0};Ja.fastFormats={...Ja.fullFormats,date:lg(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,bB),time:lg(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,EB),"date-time":lg(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Pde),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};Ja.formatNames=Object.keys(Ja.fullFormats);function ymt(t){return t%4===0&&(t%100!==0||t%400===0)}var _mt=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,vmt=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Rde(t){let e=_mt.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&ymt(r)?29:vmt[n])}function bB(t,e){if(t&&e)return t>e?1:t<e?-1:0}var vB=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function Ade(t,e){let r=vB.exec(t);if(!r)return!1;let n=+r[1],i=+r[2],s=+r[3],o=r[5];return(n<=23&&i<=59&&s<=59||n===23&&i===59&&s===60)&&(!e||o!=="")}function EB(t,e){if(!(t&&e))return;let r=vB.exec(t),n=vB.exec(e);if(r&&n)return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var wB=/t|\s/i;function wmt(t){let e=t.split(wB);return e.length===2&&Rde(e[0])&&Ade(e[1],!0)}function Pde(t,e){if(!(t&&e))return;let[r,n]=t.split(wB),[i,s]=e.split(wB),o=bB(r,i);if(o!==void 0)return o||EB(n,s)}var bmt=/\/|:/,Emt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Smt(t){return bmt.test(t)&&Emt.test(t)}var Cde=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Tmt(t){return Cde.lastIndex=0,Cde.test(t)}var Cmt=-(2**31),xmt=2**31-1;function Rmt(t){return Number.isInteger(t)&&t<=xmt&&t>=Cmt}function Amt(t){return Number.isInteger(t)}function xde(){return!0}var Pmt=/[^\\]\\Z/;function Imt(t){if(Pmt.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Ode=v(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});fg.formatLimitDefinition=void 0;var Omt=Zv(),ia=ct(),Rl=ia.operators,OR={formatMaximum:{okStr:"<=",ok:Rl.LTE,fail:Rl.GT},formatMinimum:{okStr:">=",ok:Rl.GTE,fail:Rl.LT},formatExclusiveMaximum:{okStr:"<",ok:Rl.LT,fail:Rl.GTE},formatExclusiveMinimum:{okStr:">",ok:Rl.GT,fail:Rl.LTE}},kmt={message:({keyword:t,schemaCode:e})=>ia.str`should be ${OR[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>ia._`{comparison: ${OR[t].okStr}, limit: ${e}}`};fg.formatLimitDefinition={keyword:Object.keys(OR),type:"string",schemaType:"string",$data:!0,error:kmt,code(t){let{gen:e,data:r,schemaCode:n,keyword:i,it:s}=t,{opts:o,self:a}=s;if(!o.validateFormats)return;let u=new Omt.KeywordCxt(s,a.RULES.all.format.definition,"format");u.$data?c():f();function c(){let h=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),p=e.const("fmt",ia._`${h}[${u.schemaCode}]`);t.fail$data(ia.or(ia._`typeof ${p} != "object"`,ia._`${p} instanceof RegExp`,ia._`typeof ${p}.compare != "function"`,d(p)))}function f(){let h=u.schema,p=a.formats[h];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${i}": format "${h}" does not define "compare" function`);let m=e.scopeValue("formats",{key:h,ref:p,code:o.code.formats?ia._`${o.code.formats}${ia.getProperty(h)}`:void 0});t.fail$data(d(m))}function d(h){return ia._`${h}.compare(${r}, ${n}) ${OR[i].fail} 0`}},dependencies:["format"]};var Nmt=t=>(t.addKeyword(fg.formatLimitDefinition),t);fg.default=Nmt});var Fde=v((cw,Dde)=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0});var dg=Ide(),Dmt=Ode(),SB=ct(),kde=new SB.Name("fullFormats"),Fmt=new SB.Name("fastFormats"),TB=(t,e={keywords:!0})=>{if(Array.isArray(e))return Nde(t,e,dg.fullFormats,kde),t;let[r,n]=e.mode==="fast"?[dg.fastFormats,Fmt]:[dg.fullFormats,kde],i=e.formats||dg.formatNames;return Nde(t,i,r,n),e.keywords&&Dmt.default(t),t};TB.get=(t,e="full")=>{let n=(e==="fast"?dg.fastFormats:dg.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function Nde(t,e,r,n){var i,s;(i=(s=t.opts.code).formats)!==null&&i!==void 0||(s.formats=SB._`require("ajv-formats/dist/formats").${n}`);for(let o of e)t.addFormat(o,r[o])}Dde.exports=cw=TB;Object.defineProperty(cw,"__esModule",{value:!0});cw.default=TB});var qde=v((S1r,Mde)=>{"use strict";var Lmt=Zv().default,Mmt=yB(),Lde=_B(),CB=class{constructor(e,r){r.mode==="JTD"?this.ajv=new Mmt(Object.assign({},Lde,r.customOptions)):this.ajv=new Lmt(Object.assign({},Lde,r.customOptions));let n=!0;if(r.plugins&&r.plugins.length>0)for(let s of r.plugins)Array.isArray(s)?(n=n&&s[0].name!=="formatsPlugin",s[0](this.ajv,s[1])):(n=n&&s.name!=="formatsPlugin",s(this.ajv));n&&Fde()(this.ajv),r.onCreate?.(this.ajv);let i=Object.values(e);for(let s of i)this.ajv.addSchema(s)}buildValidatorFunction({schema:e}){if(e.$id){let r=this.ajv.getSchema(e.$id);if(r)return r}return this.ajv.compile(e)}};Mde.exports=CB});var Ude=v((T1r,$de)=>{"use strict";var qmt=yB(),$mt=_B(),xB=class{constructor(e,r){this.ajv=new qmt(Object.assign({},$mt,r))}buildSerializerFunction({schema:e}){return this.ajv.compileSerializer(e)}};$de.exports=xB});var Hde=v((fw,Bde)=>{"use strict";Object.defineProperty(fw,"__esModule",{value:!0});var lw=Mx(),sa=Mm();function jde(t,e){if(!t.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n:r}=t.scope.opts;return typeof e=="function"?i(e.source):e!==void 0?s(e,n):s(t.schemas,a=>a.meta?void 0:t.compile(a.schema));function n(a){let u=t.getSchema(a);if(!u)throw new Error(`moduleCode: no schema with id ${a}`);return u}function i(a){let u={},c=a?.validateName,f=o(u,a);return t.opts.code.esm?`"use strict";${r}export const validate = ${c};${r}export default ${c};${r}${f}`:`"use strict";${r}module.exports = ${c};${r}module.exports.default = ${c};${r}${f}`}function s(a,u){var c;let f={},d=(0,sa._)`"use strict";`;for(let h in a){let p=u(a[h]);if(p){let m=o(f,p.source),g=t.opts.code.esm?(0,sa._)`export const ${(0,sa.getEsmExportName)(h)}`:(0,sa._)`exports${(0,sa.getProperty)(h)}`;d=(0,sa._)`${d}${r}${g} = ${(c=p.source)===null||c===void 0?void 0:c.validateName};${r}${m}`}}return`${d}`}function o(a,u){if(!u)throw new Error('moduleCode: function does not have "source" property');if(h(u.validateName)===lw.UsedValueState.Completed)return sa.nil;p(u.validateName,lw.UsedValueState.Started);let c=t.scope.scopeCode(u.scopeValues,a,d),f=new sa._Code(`${c}${r}${u.validateCode}`);return u.evaluated?(0,sa._)`${f}${u.validateName}.evaluated = ${u.evaluated};${r}`:f;function d(m){var g;let y=(g=m.value)===null||g===void 0?void 0:g.ref;if(m.prefix==="validate"&&typeof y=="function")return o(a,y.source);if((m.prefix==="root"||m.prefix==="wrapper")&&typeof y=="object"){let{validate:w,validateName:S}=y;if(!S)throw new Error("ajv internal error");let E=t.opts.code.es5?lw.varKinds.var:lw.varKinds.const,b=(0,sa._)`${E} ${m} = {validate: ${S}};`;if(h(S)===lw.UsedValueState.Started)return b;let O=o(a,w?.source);return(0,sa._)`${b}${r}${O}`}}function h(m){var g;return(g=a[m.prefix])===null||g===void 0?void 0:g.get(m)}function p(m,g){let{prefix:y}=m;(a[y]=a[y]||new Map).set(m,g)}}}Bde.exports=fw=jde;Object.defineProperty(fw,"__esModule",{value:!0});fw.default=jde});var Wde=v((C1r,Vde)=>{"use strict";var zde=RB(),Umt=Hde().default;function jmt(t={readMode:!0}){if(t.readMode===!0&&!t.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(t.readMode!==!0&&!t.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(t.readMode===!0)return function(){return function(n){return t.restoreFunction(n)}};let e=zde();return function(n,i={}){(!i.customOptions||!i.customOptions.code)&&(i.customOptions=Object.assign({},i.customOptions,{code:{source:!0}}));let s=e(n,i);return function(o){let a=s(o),u=Umt(s[zde.AjvReference].ajv,a);return t.storeFunction(o,u),a}}}Vde.exports=jmt});var RB=v((x1r,hg)=>{"use strict";var Kde=Symbol.for("fastify.ajv-compiler.reference"),Bmt=qde(),Hmt=Ude();function AB(t){let e=new Map,r=new Map;return t&&t.jtdSerializer===!0?function(i,s){let o=Gde({},s);if(r.has(o))return r.get(o);let a=new Hmt(i,s),u=a.buildSerializerFunction.bind(a);return r.set(o,u),u}:function(i,s){let o=Gde(i,s.customOptions);if(e.has(o))return e.get(o);let a=new Bmt(i,s),u=a.buildValidatorFunction.bind(a);return e.set(o,u),s.customOptions.code!==void 0&&(u[Kde]=a),u}}function Gde(t,e){let r=JSON.stringify(t),n=JSON.stringify(e);return`${r}${n}`}hg.exports=AB;hg.exports.default=AB;hg.exports.AjvCompiler=AB;hg.exports.AjvReference=Kde;hg.exports.StandaloneValidator=Wde()});var PB=v((R1r,Xde)=>{"use strict";var{buildSchemas:zmt}=av(),Vmt=Uj(),Wmt=RB();function Gmt(t,e){if(t)return new pg(t,e);let r=Object.assign({buildValidator:null,buildSerializer:null},e?.compilersFactory);r.buildValidator||(r.buildValidator=Wmt()),r.buildSerializer||(r.buildSerializer=Vmt());let n={bucket:e&&e.bucket||zmt,compilersFactory:r,isCustomValidatorCompiler:typeof e?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof e?.compilersFactory?.buildValidator=="function"};return new pg(void 0,n)}var pg=class{constructor(e,r){this.opts=r||e?.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,e?(this.schemaBucket=this.opts.bucket(e.getSchemas()),this.validatorCompiler=e.getValidatorCompiler(),this.serializerCompiler=e.getSerializerCompiler(),this.isCustomValidatorCompiler=e.isCustomValidatorCompiler,this.isCustomSerializerCompiler=e.isCustomSerializerCompiler,this.parent=e):(this.schemaBucket=this.opts.bucket(),this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1)}add(e){return this.addedSchemas=!0,this.schemaBucket.add(e)}getSchema(e){return this.schemaBucket.getSchema(e)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(e){this.compilersFactory=Object.assign({},this.compilersFactory,{buildValidator:()=>e}),this.validatorCompiler=e,this.isCustomValidatorCompiler=!0}setSerializerCompiler(e){this.compilersFactory=Object.assign({},this.compilersFactory,{buildSerializer:()=>e}),this.serializerCompiler=e,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(e){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),e.ajv))}setupSerializer(e){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),e.serializerOpts))}};pg.buildSchemaController=Gmt;Xde.exports=pg});var FB=v((A1r,DB)=>{"use strict";var IB=aU(),kB=require("node:assert"),NB=Symbol.for("registered-plugin"),{kTestInternals:Kmt}=Hn(),{exist:Xmt,existReply:Jmt,existRequest:Zmt}=yU(),{FST_ERR_PLUGIN_VERSION_MISMATCH:Ymt,FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:Qmt}=vi(),{FSTWRN002:egt}=La();function dw(t){return t[Symbol.for("plugin-meta")]}function Jde(t){let e=Zde(t);if(e)return e;let r=require.cache;if(r){let n=Object.keys(r);for(let i=0;i<n.length;i++){let s=n[i];if(r[s].exports===t)return s}}return t.name?t.name:null}function tgt(t){return t.toString().split(`
`).slice(0,2).map(e=>e.trim()).join(" -- ")}function Zde(t){return t[Symbol.for("fastify.display-name")]}function Yde(t){return!!t[Symbol.for("skip-override")]}function Qde(t){let e=dw(t);if(!e)return;let r=e.dependencies;r&&(kB(Array.isArray(r),"The dependencies should be an array of strings"),r.forEach(n=>{kB(this[NB].indexOf(n)>-1,`The dependency '${n}' of plugin '${e.name}' is not registered`)}))}function ehe(t){let e=dw(t);if(!e)return;let{decorators:r,name:n}=e;r&&(r.fastify&&OB(this,"Fastify",r.fastify,n),r.reply&&OB(this,"Reply",r.reply,n),r.request&&OB(this,"Request",r.request,n))}var rgt={Fastify:Xmt,Request:Zmt,Reply:Jmt};function OB(t,e,r,n){kB(Array.isArray(r),"The decorators should be an array of strings"),r.forEach(i=>{let s=typeof n=="string"?` required by '${n}'`:"";if(!rgt[e].call(t,i))throw new Qmt(i,s,e)})}function ngt(t){let e=dw(t);if(!e)return;let r=e.fastify,n=/-rc.+$/.test(this.version);if(!(n===!0&&IB.gt(this.version,IB.coerce(r))===!0)&&r&&IB.satisfies(this.version,r,{includePrerelease:n})===!1)throw new Ymt(e.name,r,this.version)}function igt(t){let e=dw(t);if(!e)return;let r=e.name;if(r)return this[NB].push(r),r}function sgt(t,e){t.constructor.name==="AsyncFunction"&&t.length===3&&egt(e||"anonymous")}function ogt(t){let e=igt.call(this,t)||Jde(t);return sgt.call(this,t,e),ngt.call(this,t),ehe.call(this,t),Qde.call(this,t),Yde(t)}DB.exports={getPluginName:Jde,getFuncPreview:tgt,kRegisteredPlugins:NB,getDisplayName:Zde,registerPlugin:ogt};DB.exports[Kmt]={shouldSkipOverride:Yde,getMeta:dw,checkDecorators:ehe,checkDependencies:Qde}});var kR=v((P1r,the)=>{"use strict";function agt(t,e){let r=e||cgt();return t?lgt(t,r):r}function ugt(t,e){return t.genReqId(e)}function cgt(){let e=0;return function(){return e=e+1&2147483647,`req-${e.toString(36)}`}}function lgt(t,e){return function(r){return r.headers[t]||e(r)}}the.exports={getGenReqId:ugt,reqIdGenFactory:agt}});var she=v((I1r,ihe)=>{"use strict";var rhe=12,fgt=0,LB=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function dgt(t){var e=t.indexOf("%");if(e===-1)return t;for(var r=t.length,n="",i=0,s=0,o=e,a=rhe;e>-1&&e<r;){var u=nhe(t[e+1],4),c=nhe(t[e+2],0),f=u|c,d=LB[f];if(a=LB[256+a+d],s=s<<6|f&LB[364+d],a===rhe)n+=t.slice(i,o),n+=s<=65535?String.fromCharCode(s):String.fromCharCode(55232+(s>>10),56320+(s&1023)),s=0,i=e+3,e=o=t.indexOf("%",i);else{if(a===fgt)return null;if(e+=3,e<r&&t.charCodeAt(e)===37)continue;return null}}return n+t.slice(i)}var hgt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function nhe(t,e){var r=hgt[t];return r===void 0?255:r<<e}ihe.exports=dgt});var lhe=v((O1r,che)=>{"use strict";var ohe=she(),ahe=/\+/g,uhe=function(){};uhe.prototype=Object.create(null);function pgt(t){let e=new uhe;if(typeof t!="string")return e;let r=t.length,n="",i="",s=-1,o=-1,a=!1,u=!1,c=!1,f=!1,d=!1,h=0;for(let p=0;p<r+1;p++)if(h=p!==r?t.charCodeAt(p):38,h===38){if(d=o>s,d||(o=p),n=t.slice(s+1,o),d||n.length>0){c&&(n=n.replace(ahe," ")),a&&(n=ohe(n)||n),d&&(i=t.slice(o+1,p),f&&(i=i.replace(ahe," ")),u&&(i=ohe(i)||i));let m=e[n];m===void 0?e[n]=i:m.pop?m.push(i):e[n]=[m,i]}i="",s=p,o=p,a=!1,u=!1,c=!1,f=!1}else h===61?o<=s?o=p:u=!0:h===43?o>s?f=!0:c=!0:h===37&&(o>s?u=!0:a=!0);return e}che.exports=pgt});var dhe=v((k1r,fhe)=>{var Za=Array.from({length:256},(t,e)=>"%"+((e<16?"0":"")+e.toString(16)).toUpperCase()),mgt=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function ggt(t){let e=t.length;if(e===0)return"";let r="",n=0,i=0;e:for(;i<e;i++){let s=t.charCodeAt(i);for(;s<128;){if(mgt[s]!==1&&(n<i&&(r+=t.slice(n,i)),n=i+1,r+=Za[s]),++i===e)break e;s=t.charCodeAt(i)}if(n<i&&(r+=t.slice(n,i)),s<2048){n=i+1,r+=Za[192|s>>6]+Za[128|s&63];continue}if(s<55296||s>=57344){n=i+1,r+=Za[224|s>>12]+Za[128|s>>6&63]+Za[128|s&63];continue}if(++i,i>=e)throw new Error("URI malformed");let o=t.charCodeAt(i)&1023;n=i+1,s=65536+((s&1023)<<10|o),r+=Za[240|s>>18]+Za[128|s>>12&63]+Za[128|s>>6&63]+Za[128|s&63]}return n===0?t:n<e?r+t.slice(n):r}fhe.exports={encodeString:ggt}});var mhe=v((N1r,phe)=>{"use strict";var{encodeString:MB}=dhe();function hhe(t){let e=typeof t;return e==="string"?MB(t):e==="bigint"?t.toString():e==="boolean"?t?"true":"false":e==="number"&&Number.isFinite(t)?t<1e21?""+t:MB(""+t):""}function ygt(t){let e="";if(t===null||typeof t!="object")return e;let r="&",n=Object.keys(t),i=n.length,s=0;for(let o=0;o<i;o++){let a=n[o],u=t[a],c=MB(a)+"=";if(o&&(e+=r),Array.isArray(u)){s=u.length;for(let f=0;f<s;f++)f&&(e+=r),e+=c,e+=hhe(u[f])}else e+=c,e+=hhe(u)}return e}phe.exports=ygt});var vhe=v((D1r,hw)=>{"use strict";var ghe=lhe(),yhe=mhe(),_he={parse:ghe,stringify:yhe};hw.exports=_he;hw.exports.default=_he;hw.exports.parse=ghe;hw.exports.stringify=yhe});var bhe=v(whe=>{"use strict";Object.defineProperty(whe,"__esModule",{value:!0})});var Ehe=v(pw=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0});pw.types=void 0;var _gt;(function(t){t[t.ROOT=0]="ROOT",t[t.GROUP=1]="GROUP",t[t.POSITION=2]="POSITION",t[t.SET=3]="SET",t[t.RANGE=4]="RANGE",t[t.REPETITION=5]="REPETITION",t[t.REFERENCE=6]="REFERENCE",t[t.CHAR=7]="CHAR"})(_gt=pw.types||(pw.types={}))});var The=v(She=>{"use strict";Object.defineProperty(She,"__esModule",{value:!0})});var ac=v(oc=>{"use strict";var vgt=oc&&oc.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),qB=oc&&oc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vgt(e,t,r)};Object.defineProperty(oc,"__esModule",{value:!0});qB(bhe(),oc);qB(Ehe(),oc);qB(The(),oc)});var NR=v(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.anyChar=xi.notWhitespace=xi.whitespace=xi.notInts=xi.ints=xi.notWords=xi.words=void 0;var hr=ac(),Che=()=>[{type:hr.types.RANGE,from:48,to:57}],xhe=()=>[{type:hr.types.CHAR,value:95},{type:hr.types.RANGE,from:97,to:122},{type:hr.types.RANGE,from:65,to:90},{type:hr.types.RANGE,from:48,to:57}],Rhe=()=>[{type:hr.types.CHAR,value:9},{type:hr.types.CHAR,value:10},{type:hr.types.CHAR,value:11},{type:hr.types.CHAR,value:12},{type:hr.types.CHAR,value:13},{type:hr.types.CHAR,value:32},{type:hr.types.CHAR,value:160},{type:hr.types.CHAR,value:5760},{type:hr.types.RANGE,from:8192,to:8202},{type:hr.types.CHAR,value:8232},{type:hr.types.CHAR,value:8233},{type:hr.types.CHAR,value:8239},{type:hr.types.CHAR,value:8287},{type:hr.types.CHAR,value:12288},{type:hr.types.CHAR,value:65279}],wgt=()=>[{type:hr.types.CHAR,value:10},{type:hr.types.CHAR,value:13},{type:hr.types.CHAR,value:8232},{type:hr.types.CHAR,value:8233}];xi.words=()=>({type:hr.types.SET,set:xhe(),not:!1});xi.notWords=()=>({type:hr.types.SET,set:xhe(),not:!0});xi.ints=()=>({type:hr.types.SET,set:Che(),not:!1});xi.notInts=()=>({type:hr.types.SET,set:Che(),not:!0});xi.whitespace=()=>({type:hr.types.SET,set:Rhe(),not:!1});xi.notWhitespace=()=>({type:hr.types.SET,set:Rhe(),not:!0});xi.anyChar=()=>({type:hr.types.SET,set:wgt(),not:!0})});var Phe=v(yo=>{"use strict";var bgt=yo&&yo.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Egt=yo&&yo.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),Sgt=yo&&yo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bgt(e,t,r);return Egt(e,t),e};Object.defineProperty(yo,"__esModule",{value:!0});yo.tokenizeClass=yo.strToChars=void 0;var Ahe=ac(),mg=Sgt(NR()),Tgt="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";yo.strToChars=t=>{let e=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return t.replace(e,(r,n,i,s,o,a,u)=>{if(i)return r;let c=n?8:s?parseInt(s,16):o?parseInt(o,16):a?Tgt.indexOf(a):{0:0,t:9,n:10,v:11,f:12,r:13}[u],f=String.fromCharCode(c);return/[[\]{}^$.|?*+()]/.test(f)?`\\${f}`:f})};yo.tokenizeClass=(t,e)=>{var r,n,i,s,o,a,u;let c=[],f,d,h=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;for(;(f=h.exec(t))!==null;){let p=(u=(a=(o=(s=(i=(n=(r=f[1]&&mg.words())!==null&&r!==void 0?r:f[2]&&mg.ints())!==null&&n!==void 0?n:f[3]&&mg.whitespace())!==null&&i!==void 0?i:f[4]&&mg.notWords())!==null&&s!==void 0?s:f[5]&&mg.notInts())!==null&&o!==void 0?o:f[6]&&mg.notWhitespace())!==null&&a!==void 0?a:f[7]&&{type:Ahe.types.RANGE,from:(f[8]||f[9]).charCodeAt(0),to:(d=f[10]).charCodeAt(d.length-1)})!==null&&u!==void 0?u:(d=f[16])&&{type:Ahe.types.CHAR,value:d.charCodeAt(0)};if(p)c.push(p);else return[c,h.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${e}/: Unterminated character class`)}});var $B=v(Ya=>{"use strict";var Cgt=Ya&&Ya.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),xgt=Ya&&Ya.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),Ohe=Ya&&Ya.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cgt(e,t,r);return xgt(e,t),e};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.tokenizer=void 0;var Ihe=Ohe(Phe()),si=ac(),th=Ohe(NR());Ya.tokenizer=t=>{let e=0,r,n={type:si.types.ROOT,stack:[]},i=n,s=n.stack,o=[],a=[],u=0,c=d=>{throw new SyntaxError(`Invalid regular expression: /${t}/: Nothing to repeat at column ${d-1}`)},f=Ihe.strToChars(t);for(;e<f.length;)switch(r=f[e++]){case"\\":if(e===f.length)throw new SyntaxError(`Invalid regular expression: /${t}/: \\ at end of pattern`);switch(r=f[e++]){case"b":s.push({type:si.types.POSITION,value:"b"});break;case"B":s.push({type:si.types.POSITION,value:"B"});break;case"w":s.push(th.words());break;case"W":s.push(th.notWords());break;case"d":s.push(th.ints());break;case"D":s.push(th.notInts());break;case"s":s.push(th.whitespace());break;case"S":s.push(th.notWhitespace());break;default:if(/\d/.test(r)){let d=r;for(;e<f.length&&/\d/.test(f[e]);)d+=f[e++];let h=parseInt(d,10),p={type:si.types.REFERENCE,value:h};s.push(p),a.push({reference:p,stack:s,index:s.length-1})}else s.push({type:si.types.CHAR,value:r.charCodeAt(0)})}break;case"^":s.push({type:si.types.POSITION,value:"^"});break;case"$":s.push({type:si.types.POSITION,value:"$"});break;case"[":{let d;f[e]==="^"?(d=!0,e++):d=!1;let h=Ihe.tokenizeClass(f.slice(e),t);e+=h[1],s.push({type:si.types.SET,set:h[0],not:d});break}case".":s.push(th.anyChar());break;case"(":{let d={type:si.types.GROUP,stack:[],remember:!0};if(f[e]==="?"){if(r=f[e+1],e+=2,r==="=")d.followedBy=!0;else if(r==="!")d.notFollowedBy=!0;else if(r!==":")throw new SyntaxError(`Invalid regular expression: /${t}/: Invalid group, character '${r}' after '?' at column ${e-1}`);d.remember=!1}else u+=1;s.push(d),o.push(i),i=d,s=d.stack;break}case")":if(o.length===0)throw new SyntaxError(`Invalid regular expression: /${t}/: Unmatched ) at column ${e-1}`);i=o.pop(),s=i.options?i.options[i.options.length-1]:i.stack;break;case"|":{i.options||(i.options=[i.stack],delete i.stack);let d=[];i.options.push(d),s=d;break}case"{":{let d=/^(\d+)(,(\d+)?)?\}/.exec(f.slice(e)),h,p;d!==null?(s.length===0&&c(e),h=parseInt(d[1],10),p=d[2]?d[3]?parseInt(d[3],10):1/0:h,e+=d[0].length,s.push({type:si.types.REPETITION,min:h,max:p,value:s.pop()})):s.push({type:si.types.CHAR,value:123});break}case"?":s.length===0&&c(e),s.push({type:si.types.REPETITION,min:0,max:1,value:s.pop()});break;case"+":s.length===0&&c(e),s.push({type:si.types.REPETITION,min:1,max:1/0,value:s.pop()});break;case"*":s.length===0&&c(e),s.push({type:si.types.REPETITION,min:0,max:1/0,value:s.pop()});break;default:s.push({type:si.types.CHAR,value:r.charCodeAt(0)})}if(o.length!==0)throw new SyntaxError(`Invalid regular expression: /${t}/: Unterminated group`);return Rgt(a,u),n};function Rgt(t,e){for(let r of t.reverse())if(e<r.reference.value){r.reference.type=si.types.CHAR;let n=r.reference.value.toString();if(r.reference.value=parseInt(n,8),!/^[0-7]+$/.test(n)){let i=0;for(;n[i]!=="8"&&n[i]!=="9";)i+=1;if(i===0?(r.reference.value=n.charCodeAt(0),i+=1):r.reference.value=parseInt(n.slice(0,i),8),n.length>i){let s=r.stack.splice(r.index+1);for(let o of n.slice(i))r.stack.push({type:si.types.CHAR,value:o.charCodeAt(0)});r.stack.push(...s)}}}}});var Nhe=v(Ri=>{"use strict";var Agt=Ri&&Ri.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Pgt=Ri&&Ri.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),Igt=Ri&&Ri.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Agt(e,t,r);return Pgt(e,t),e};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.NOTANYCHAR=Ri.WHITESPACE=Ri.WORDS=Ri.INTS=void 0;var DR=Igt(NR()),khe=ac();function FR(t){let e={},r=0;for(let n of t)n.type===khe.types.CHAR&&(e[n.value]=!0),n.type===khe.types.RANGE&&(e[`${n.from}-${n.to}`]=!0),r+=1;return{lookup:()=>Object.assign({},e),len:r}}Ri.INTS=FR(DR.ints().set);Ri.WORDS=FR(DR.words().set);Ri.WHITESPACE=FR(DR.whitespace().set);Ri.NOTANYCHAR=FR(DR.anyChar().set)});var Fhe=v(_o=>{"use strict";var Ogt=_o&&_o.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),kgt=_o&&_o.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),Ngt=_o&&_o.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ogt(e,t,r);return kgt(e,t),e};Object.defineProperty(_o,"__esModule",{value:!0});_o.writeSetTokens=_o.setChar=void 0;var $R=ac(),LR=Ngt(Nhe());function qR(t){return t===94?"\\^":t===92?"\\\\":t===93?"\\]":t===45?"\\-":String.fromCharCode(t)}_o.setChar=qR;function MR(t,{lookup:e,len:r}){if(r!==t.length)return!1;let n=e();for(let i of t){if(i.type===$R.types.SET)return!1;let s=i.type===$R.types.CHAR?i.value:`${i.from}-${i.to}`;if(n[s])n[s]=!1;else return!1}return!0}function Dhe(t,e=!1){if(MR(t.set,LR.INTS))return t.not?"\\D":"\\d";if(MR(t.set,LR.WORDS))return t.not?"\\W":"\\w";if(t.not&&MR(t.set,LR.NOTANYCHAR))return".";if(MR(t.set,LR.WHITESPACE))return t.not?"\\S":"\\s";let r="";for(let i=0;i<t.set.length;i++){let s=t.set[i];r+=Dgt(s)}let n=`${t.not?"^":""}${r}`;return e?n:`[${n}]`}_o.writeSetTokens=Dhe;function Dgt(t){return t.type===$R.types.CHAR?qR(t.value):t.type===$R.types.RANGE?`${qR(t.from)}-${qR(t.to)}`:Dhe(t,!0)}});var jB=v(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.reconstruct=void 0;var Al=ac(),UB=Fhe(),Lhe=t=>t.map(gg.reconstruct).join(""),Mhe=t=>{if("options"in t)return t.options.map(Lhe).join("|");if("stack"in t)return Lhe(t.stack);throw new Error("options or stack must be Root or Group token")};gg.reconstruct=t=>{switch(t.type){case Al.types.ROOT:return Mhe(t);case Al.types.CHAR:{let e=String.fromCharCode(t.value);return(/[[\\{}$^.|?*+()]/.test(e)?"\\":"")+e}case Al.types.POSITION:return t.value==="^"||t.value==="$"?t.value:`\\${t.value}`;case Al.types.REFERENCE:return`\\${t.value}`;case Al.types.SET:return UB.writeSetTokens(t);case Al.types.GROUP:return`(${t.remember?"":t.followedBy?"?=":t.notFollowedBy?"?!":"?:"}${Mhe(t)})`;case Al.types.REPETITION:{let{min:e,max:r}=t,n;return e===0&&r===1?n="?":e===1&&r===1/0?n="+":e===0&&r===1/0?n="*":r===1/0?n=`{${e},}`:e===r?n=`{${e}}`:n=`{${e},${r}}`,`${gg.reconstruct(t.value)}${n}`}case Al.types.RANGE:return`${UB.setChar(t.from)}-${UB.setChar(t.to)}`;default:throw new Error(`Invalid token type ${t}`)}}});var Uhe=v((vo,UR)=>{"use strict";var Fgt=vo&&vo.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),BB=vo&&vo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fgt(e,t,r)};Object.defineProperty(vo,"__esModule",{value:!0});vo.types=void 0;var qhe=ac();Object.defineProperty(vo,"types",{enumerable:!0,get:function(){return qhe.types}});BB($B(),vo);BB(jB(),vo);var $he=$B(),Lgt=jB();BB(ac(),vo);vo.default=$he.tokenizer;UR.exports=$he.tokenizer;UR.exports.types=qhe.types;UR.exports.reconstruct=Lgt.reconstruct});var Bhe=v((V1r,jR)=>{"use strict";var jhe=Uhe(),Mgt=jhe.types;function HB(t,e){e||(e={});let r=e.limit===void 0?25:e.limit;qgt(t)?t=t.source:typeof t!="string"&&(t=String(t));try{t=jhe(t)}catch{return!1}let n=0;return(function i(s,o){let a,u,c;if(s.type===Mgt.REPETITION&&(o++,n++,o>1||n>r))return!1;if(s.options){for(a=0,c=s.options.length;a<c;a++)if(u=i({stack:s.options[a]},o),!u)return!1}let f=s.stack||s.value&&s.value.stack;if(!f)return!0;for(a=0;a<f.length;a++)if(u=i(f[a],o),!u)return!1;return!0})(t,0)}function qgt(t){return{}.toString.call(t)==="[object RegExp]"}jR.exports=HB;jR.exports.default=HB;jR.exports.safeRegex=HB});var BR=v((W1r,Hhe)=>{"use strict";Hhe.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let t={};return{get:e=>t[e]||null,set:(e,r)=>{t[e]=r}}},deriveConstraint:t=>t.method,mustMatchWhenDerived:!0}});var Jhe=v((G1r,Xhe)=>{"use strict";var zhe=hl(),Vhe=BR(),Whe=Symbol("treeData");function Ghe(t,e=""){let r="",n=Object.keys(t);for(let i=0;i<n.length;i++){let s=n[i],o=t[s],a=i===n.length-1,u=a?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ",c=a?"    ":"\u2502   ",d=(o[Whe]||"").split(`
`).join(`
`+e+c);r+=e+u+s+d+`
`,r+=Ghe(o,e+c)}return r}function $gt(t){let e=t.name||"";return e=e.replace("bound","").trim(),e=(e||"anonymous")+"()",e}function Khe(t){return Array.isArray(t)?t.map(e=>Khe(e)):typeof t=="symbol"?t.toString():typeof t=="function"?$gt(t):t}function Ugt(t,e){if(!e.includeMeta)return{};let r=e.buildPrettyMeta(t),n={},i=e.includeMeta;Array.isArray(i)||(i=Reflect.ownKeys(r));for(let s of i){if(!Object.prototype.hasOwnProperty.call(r,s))continue;let o=s.toString(),a=r[s];if(a!=null){let u=JSON.stringify(Khe(a));n[o]=u}}return n}function jgt(t){let e="";for(let[r,n]of Object.entries(t))e+=`
\u2022 (${r}) ${n}`;return e}function Bgt(t){let e={...t.opts.constraints},r=e[Vhe.name];return delete e[Vhe.name],{...t,method:r,opts:{constraints:e}}}function Hgt(t){let e=` (${t.method})`,r=t.opts.constraints||{};return Object.keys(r).length!==0&&(e+=" "+JSON.stringify(r)),e+=jgt(t.metaData),e}function zgt(t){return t.reduce((e,r)=>{for(let n of e)if(zhe(r.opts.constraints,n.opts.constraints)&&zhe(r.metaData,n.metaData))return n.method+=", "+r.method,e;return e.push(r),e},[])}function Vgt(t,e,r){let n=t.routes;return r.method===void 0&&(n=n.map(Bgt)),n=n.map(i=>(i.metaData=Ugt(i,r),i)),r.method===void 0&&(n=zgt(n)),n.map(Hgt).join(`
${e}`)}function HR(t,e,r,n){if((t.isLeafNode||n.commonPrefix!==!1)&&(r=r||"(empty root node)",e=e[r]={},t.isLeafNode&&(e[Whe]=Vgt(t,r,n)),r=""),t.staticChildren)for(let i of Object.values(t.staticChildren))HR(i,e,r+i.prefix,n);if(t.parametricChildren)for(let i of Object.values(t.parametricChildren)){let s=Array.from(i.nodePaths).join("|");HR(i,e,r+s,n)}t.wildcardChild&&HR(t.wildcardChild,e,"*",n)}function Wgt(t,e){let r={};return HR(t,r,t.prefix,e),Ghe(r)}Xhe.exports={prettyPrintTree:Wgt}});var Yhe=v((K1r,Zhe)=>{"use strict";var Ggt=BR(),zB=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(e){return e===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(e)}addHandler(e,r){let n=r.params,i=r.opts.constraints||{},s={params:n,constraints:i,handler:r.handler,store:r.store||null,_createParamsObject:this._compileCreateParamsObject(n)},o=Object.keys(i);o.length===0&&(this.unconstrainedHandler=s);for(let u of o)this.constraints.includes(u)||(u==="version"?this.constraints.unshift(u):this.constraints.push(u));let a=o.includes(Ggt.name);if(!a&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");this.handlers.push(s),this.handlers.sort((u,c)=>Object.keys(u.constraints).length-Object.keys(c.constraints).length),a||this._compileGetHandlerMatchingConstraints(e,i)}_compileCreateParamsObject(e){let r=[];for(let n=0;n<e.length;n++)r.push(`'${e[n]}': paramsArray[${n}]`);return new Function("paramsArray",`return {${r.join(",")}}`)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(e,r){for(let n=0;n<this.handlers.length;n++){let s=this.handlers[n].constraints[r];if(s!==void 0){let o=e.get(s)||0;o|=1<<n,e.set(s,o)}}}_constrainedIndexBitmask(e){let r=0;for(let n=0;n<this.handlers.length;n++)this.handlers[n].constraints[e]!==void 0&&(r|=1<<n);return~r}_compileGetHandlerMatchingConstraints(e){this.constrainedHandlerStores={};for(let n of this.constraints){let i=e.newStoreForConstraint(n);this.constrainedHandlerStores[n]=i,this._buildConstraintStore(i,n)}let r=[];r.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let n of this.constraints){r.push(`
      mask = ${this._constrainedIndexBitmask(n)}
      value = derivedConstraints.${n}
      `);let s=e.strategies[n].mustMatchWhenDerived?"matches":"(matches | mask)";r.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${n}.get(value) || 0
        candidates &= ${s}
      }
      if (candidates === 0) return null;
      `)}for(let n in e.strategies)e.strategies[n].mustMatchWhenDerived&&!this.constraints.includes(n)&&r.push(`if (derivedConstraints.${n} !== undefined) return null`);r.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",r.join(`
`))}};Zhe.exports=zB});var epe=v((X1r,Qhe)=>{"use strict";var Kgt=Yhe(),XR={STATIC:0,PARAMETRIC:1,WILDCARD:2},zR=class{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(e,r){this.routes===null&&(this.routes=[]),this.handlerStorage===null&&(this.handlerStorage=new Kgt),this.isLeafNode=!0,this.routes.push(e),this.handlerStorage.addHandler(r,e)}},VR=class extends zR{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(e,r){let n=this.staticChildren[e.charAt(r)];return n===void 0||!n.matchPrefix(e,r)?null:n}getStaticChild(e,r=0){if(e.length===r)return this;let n=this.findStaticMatchingChild(e,r);return n?n.getStaticChild(e,r+n.prefix.length):null}createStaticChild(e){if(e.length===0)return this;let r=this.staticChildren[e.charAt(0)];if(r){let i=1;for(;i<r.prefix.length;i++)if(e.charCodeAt(i)!==r.prefix.charCodeAt(i)){r=r.split(this,i);break}return r.createStaticChild(e.slice(i))}let n=e.charAt(0);return this.staticChildren[n]=new WR(e),this.staticChildren[n]}},WR=class t extends VR{constructor(e){super(),this.prefix=e,this.wildcardChild=null,this.parametricChildren=[],this.kind=XR.STATIC,this._compilePrefixMatch()}getParametricChild(e){let r=e&&e.source,n=this.parametricChildren.find(i=>(i.regex&&i.regex.source)===r);return n||null}createParametricChild(e,r,n){let i=this.getParametricChild(e);return i?(i.nodePaths.add(n),i):(i=new GR(e,r,n),this.parametricChildren.push(i),this.parametricChildren.sort((s,o)=>s.isRegex?o.isRegex?s.staticSuffix===null?1:o.staticSuffix===null?-1:o.staticSuffix.endsWith(s.staticSuffix)?1:s.staticSuffix.endsWith(o.staticSuffix)?-1:0:-1:1),i)}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new KR,this.wildcardChild}split(e,r){let n=this.prefix.slice(0,r),i=this.prefix.slice(r);this.prefix=i,this._compilePrefixMatch();let s=new t(n);return s.staticChildren[i.charAt(0)]=this,e.staticChildren[n.charAt(0)]=s,s}getNextNode(e,r,n,i){let s=this.findStaticMatchingChild(e,r),o=0;if(s===null){if(this.parametricChildren.length===0)return this.wildcardChild;s=this.parametricChildren[0],o=1}this.wildcardChild!==null&&n.push({paramsCount:i,brotherPathIndex:r,brotherNode:this.wildcardChild});for(let a=this.parametricChildren.length-1;a>=o;a--)n.push({paramsCount:i,brotherPathIndex:r,brotherNode:this.parametricChildren[a]});return s}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let e=[];for(let r=1;r<this.prefix.length;r++){let n=this.prefix.charCodeAt(r);e.push(`path.charCodeAt(i + ${r}) === ${n}`)}this.matchPrefix=new Function("path","i",`return ${e.join(" && ")}`)}},GR=class extends VR{constructor(e,r,n){super(),this.isRegex=!!e,this.regex=e||null,this.staticSuffix=r||null,this.kind=XR.PARAMETRIC,this.nodePaths=new Set([n])}getNextNode(e,r){return this.findStaticMatchingChild(e,r)}},KR=class extends zR{constructor(){super(),this.kind=XR.WILDCARD}getNextNode(){return null}};Qhe.exports={StaticNode:WR,ParametricNode:GR,WildcardNode:KR,NODE_TYPES:XR}});var rpe=v((J1r,tpe)=>{"use strict";var Xgt=require("node:assert");function mw(){if(!(this instanceof mw))return new mw;this.store={},this.maxMajor=0,this.maxMinors={},this.maxPatches={}}mw.prototype.set=function(t,e){if(typeof t!="string")throw new TypeError("Version should be a string");let[r,n,i]=t.split(".");if(isNaN(r))throw new TypeError("Major version must be a numeric value");return r=Number(r),n=Number(n)||0,i=Number(i)||0,r>=this.maxMajor&&(this.maxMajor=r,this.store.x=e,this.store["*"]=e,this.store["x.x"]=e,this.store["x.x.x"]=e),n>=(this.maxMinors[r]||0)&&(this.maxMinors[r]=n,this.store[`${r}.x`]=e,this.store[`${r}.x.x`]=e),i>=(this.maxPatches[`${r}.${n}`]||0)&&(this.maxPatches[`${r}.${n}`]=i,this.store[`${r}.${n}.x`]=e),this.store[`${r}.${n}.${i}`]=e,this};mw.prototype.get=function(t){return this.store[t]};tpe.exports={name:"version",mustMatchWhenDerived:!0,storage:mw,validate(t){Xgt(typeof t=="string","Version should be a string")}}});var ipe=v((Z1r,npe)=>{"use strict";var Jgt=require("node:assert");function Zgt(){let t={},e=[];return{get:r=>{let n=t[r];if(n)return n;for(let i of e)if(i.host.test(r))return i.value},set:(r,n)=>{r instanceof RegExp?e.push({host:r,value:n}):t[r]=n}}}npe.exports={name:"host",mustMatchWhenDerived:!1,storage:Zgt,validate(t){Jgt(typeof t=="string"||Object.prototype.toString.call(t)==="[object RegExp]","Host should be a string or a RegExp")}}});var ope=v((Y1r,spe)=>{"use strict";var Ygt=rpe(),Qgt=ipe(),VB=require("node:assert"),WB=class{constructor(e){if(this.strategies={version:Ygt,host:Qgt},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,e)for(let r of Object.values(e))this.addConstraintStrategy(r)}isStrategyUsed(e){return this.strategiesInUse.has(e)||this.asyncStrategiesInUse.has(e)}hasConstraintStrategy(e){let r=this.strategies[e];return r!==void 0?r.isCustom||this.isStrategyUsed(e):!1}addConstraintStrategy(e){if(VB(typeof e.name=="string"&&e.name!=="","strategy.name is required."),VB(e.storage&&typeof e.storage=="function","strategy.storage function is required."),VB(e.deriveConstraint&&typeof e.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[e.name]&&this.strategies[e.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${e.name}.`);if(this.isStrategyUsed(e.name))throw new Error(`There already exists a route with ${e.name} constraint.`);e.isCustom=!0,e.isAsync=e.deriveConstraint.length===3,this.strategies[e.name]=e,e.mustMatchWhenDerived&&this.noteUsage({[e.name]:e})}deriveConstraints(e,r,n){let i=this.deriveSyncConstraints(e,r);if(n===void 0)return i;this.deriveAsyncConstraints(i,e,r,n)}deriveSyncConstraints(e,r){}noteUsage(e){if(e){let r=this.strategiesInUse.size;for(let n in e)this.strategies[n].isAsync?this.asyncStrategiesInUse.add(n):this.strategiesInUse.add(n);r!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(e){if(!this.strategies[e])throw new Error(`No strategy registered for constraint key ${e}`);return this.strategies[e].storage()}validateConstraints(e){for(let r in e){let n=e[r];if(typeof n>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let i=this.strategies[r];if(!i)throw new Error(`No strategy registered for constraint key ${r}`);i.validate&&i.validate(n)}}deriveAsyncConstraints(e,r,n,i){let s=this.asyncStrategiesInUse.size;if(s===0){i(null,e);return}e=e||{};for(let o of this.asyncStrategiesInUse)this.strategies[o].deriveConstraint(r,n,(u,c)=>{if(u!==null){i(u);return}e[o]=c,--s===0&&i(null,e)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let e=["return {"];for(let r of this.strategiesInUse){let n=this.strategies[r];n.isCustom?e.push(`  ${n.name}: this.strategies.${r}.deriveConstraint(req, ctx),`):r==="version"?e.push("   version: req.headers['accept-version'],"):e.push("   host: req.headers.host || req.headers[':authority'],")}e.push("}"),this.deriveSyncConstraints=new Function("req","ctx",e.join(`
`)).bind(this)}};spe.exports=WB});var upe=v((Q1r,ape)=>{"use strict";var eyt=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];ape.exports=eyt});var fpe=v((eIr,lpe)=>{"use strict";function cpe(t,e){return t===50?e===53?"%":e===51?"#":e===52?"$":e===54?"&":e===66||e===98?"+":e===67||e===99?",":e===70||e===102?"/":null:t===51?e===65||e===97?":":e===66||e===98?";":e===68||e===100?"=":e===70||e===102?"?":null:t===52&&e===48?"@":null}function tyt(t,e){let r=!1,n=!1,i="";for(let o=1;o<t.length;o++){let a=t.charCodeAt(o);if(a===37){let u=t.charCodeAt(o+1),c=t.charCodeAt(o+2);cpe(u,c)===null?r=!0:(n=!0,u===50&&c===53&&(r=!0,t=t.slice(0,o+1)+"25"+t.slice(o+1),o+=2),o+=2)}else if(a===63||a===35||a===59&&e){i=t.slice(o+1),t=t.slice(0,o);break}}return{path:r?decodeURI(t):t,querystring:i,shouldDecodeParam:n}}function ryt(t){let e=t.indexOf("%");if(e===-1)return t;let r="",n=e;for(let i=e;i<t.length;i++)if(t.charCodeAt(i)===37){let s=t.charCodeAt(i+1),o=t.charCodeAt(i+2),a=cpe(s,o);r+=t.slice(n,i)+a,n=i+3}return t.slice(0,e)+r+t.slice(n)}lpe.exports={safeDecodeURI:tyt,safeDecodeURIComponent:ryt}});var ZB=v((tIr,vpe)=>{"use strict";var Tn=require("node:assert"),nyt=vhe(),JR=Bhe(),KB=hl(),{prettyPrintTree:iyt}=Jhe(),{StaticNode:dpe,NODE_TYPES:hpe}=epe(),syt=ope(),yg=upe(),GB=BR(),{safeDecodeURI:oyt,safeDecodeURIComponent:ppe}=fpe(),mpe=/^https?:\/\/.*?\//,rh=/(\/:[^/()]*?)\?(\/?)/;if(!JR(mpe))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!JR(rh))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function dn(t){if(!(this instanceof dn))return new dn(t);t=t||{},this._opts=t,t.defaultRoute?(Tn(typeof t.defaultRoute=="function","The default route must be a function"),this.defaultRoute=t.defaultRoute):this.defaultRoute=null,t.onBadUrl?(Tn(typeof t.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=t.onBadUrl):this.onBadUrl=null,t.buildPrettyMeta?(Tn(typeof t.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=t.buildPrettyMeta):this.buildPrettyMeta=ayt,t.querystringParser?(Tn(typeof t.querystringParser=="function","querystringParser must be a function"),this.querystringParser=t.querystringParser):this.querystringParser=e=>e===""?{}:nyt.parse(e),this.caseSensitive=t.caseSensitive===void 0?!0:t.caseSensitive,this.ignoreTrailingSlash=t.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=t.ignoreDuplicateSlashes||!1,this.maxParamLength=t.maxParamLength||100,this.allowUnsafeRegex=t.allowUnsafeRegex||!1,this.constrainer=new syt(t.constraints),this.useSemicolonDelimiter=t.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}dn.prototype.on=function(e,r,n,i,s){typeof n=="function"&&(i!==void 0&&(s=i),i=n,n={}),Tn(typeof r=="string","Path should be a string"),Tn(r.length>0,"The path could not be empty"),Tn(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),Tn(typeof i=="function","Handler should be a function");let o=r.match(rh);if(o){Tn(r.length===o.index+o[0].length,"Optional Parameter needs to be the last parameter of the path");let c=r.replace(rh,"$1$2"),f=r.replace(rh,"$2")||"/";this.on(e,c,n,i,s),this.on(e,f,n,i,s);return}let a=r;this.ignoreDuplicateSlashes&&(r=XB(r)),this.ignoreTrailingSlash&&(r=JB(r));let u=Array.isArray(e)?e:[e];for(let c of u)Tn(typeof c=="string","Method should be a string"),Tn(yg.includes(c),`Method '${c}' is not an http method.`),this._on(c,r,n,i,s,a)};dn.prototype._on=function(e,r,n,i,s){let o={};n.constraints!==void 0&&(Tn(typeof n.constraints=="object"&&n.constraints!==null,"Constraints should be an object"),Object.keys(n.constraints).length!==0&&(o=n.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o),this.trees[e]===void 0&&(this.trees[e]=new dpe("/"));let a=r;if(a==="*"&&this.trees[e].prefix.length!==0){let h=this.trees[e];this.trees[e]=new dpe(""),this.trees[e].staticChildren["/"]=h}let u=this.trees[e],c=u.prefix.length,f=[];for(let h=0;h<=a.length;h++){if(a.charCodeAt(h)===58&&a.charCodeAt(h+1)===58){h++;continue}let p=a.charCodeAt(h)===58&&a.charCodeAt(h+1)!==58,m=a.charCodeAt(h)===42;if(p||m||h===a.length&&h!==c){let g=a.slice(c,h);this.caseSensitive||(g=g.toLowerCase()),g=g.split("::").join(":"),g=g.split("%").join("%25"),u=u.createStaticChild(g)}if(p){let g=!1,y=!0,w="",S=[],E=h+1;for(let b=E;;b++){let O=a.charCodeAt(b),M=O===40,x=O===45||O===46,I=O===47||b===a.length;if(M||x||I){let P=a.slice(E,b);if(f.push(P),g=g||M||x,M){let D=_pe(a,b),L=a.slice(b,D+1);this.allowUnsafeRegex||Tn(JR(new RegExp(L)),`The regex '${L}' is not safe!`),S.push(ype(L)),b=D+1,y=!0}else S.push(y?"(.*?)":`(${w}|(?:(?!${w}).)*)`),y=!1;let F=b;for(;b<a.length;b++){let D=a.charCodeAt(b);if(D===47)break;if(D===58)if(a.charCodeAt(b+1)===58)b++;else break}let $=a.slice(F,b);if($&&($=$.split("::").join(":"),$=$.split("%").join("%25"),S.push(w=gpe($))),E=b+1,I||a.charCodeAt(b)===47||b===a.length){let D=g?"()"+$:$,L=a.slice(h,b);a=a.slice(0,h+1)+D+a.slice(b),h+=D.length;let z=g?new RegExp("^"+S.join("")+"$"):null;u=u.createParametricChild(z,$||null,L),c=h+1;break}}}}else if(m&&(f.push("*"),u=u.createWildcardChild(),c=h+1,h!==a.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(a=a.toLowerCase()),a==="*"&&(a="/*");for(let h of this.routes){let p=h.opts.constraints||{};if(h.method===e&&h.pattern===a&&KB(p,o))throw new Error(`Method '${e}' already declared for route '${a}' with constraints '${JSON.stringify(o)}'`)}let d={method:e,path:r,pattern:a,params:f,opts:n,handler:i,store:s};this.routes.push(d),u.addRoute(d,this.constrainer)};dn.prototype.hasRoute=function(e,r,n){return this.findRoute(e,r,n)!==null};dn.prototype.findRoute=function(e,r,n={}){if(this.trees[e]===void 0)return null;let i=r,s=this.trees[e],o=s.prefix.length,a=[];for(let u=0;u<=i.length;u++){if(i.charCodeAt(u)===58&&i.charCodeAt(u+1)===58){u++;continue}let c=i.charCodeAt(u)===58&&i.charCodeAt(u+1)!==58,f=i.charCodeAt(u)===42;if(c||f||u===i.length&&u!==o){let d=i.slice(o,u);if(this.caseSensitive||(d=d.toLowerCase()),d=d.split("::").join(":"),d=d.split("%").join("%25"),s=s.getStaticChild(d),s===null)return null}if(c){let d=!1,h=!0,p="",m=[],g=u+1;for(let y=g;;y++){let w=i.charCodeAt(y),S=w===40,E=w===45||w===46,b=w===47||y===i.length;if(S||E||b){let O=i.slice(g,y);if(a.push(O),d=d||S||E,S){let I=_pe(i,y),P=i.slice(y,I+1);this.allowUnsafeRegex||Tn(JR(new RegExp(P)),`The regex '${P}' is not safe!`),m.push(ype(P)),y=I+1,h=!1}else m.push(h?"(.*?)":`(${p}|(?:(?!${p}).)*)`),h=!1;let M=y;for(;y<i.length;y++){let I=i.charCodeAt(y);if(I===47)break;if(I===58)if(i.charCodeAt(y+1)===58)y++;else break}let x=i.slice(M,y);if(x&&(x=x.split("::").join(":"),x=x.split("%").join("%25"),m.push(p=gpe(x))),g=y+1,b||i.charCodeAt(y)===47||y===i.length){let I=d?"()"+x:x,P=i.slice(u,y);i=i.slice(0,u+1)+I+i.slice(y),u+=I.length;let F=d?new RegExp("^"+m.join("")+"$"):null;if(s=s.getParametricChild(F,x||null,P),s===null)return null;o=u+1;break}}}}else if(f&&(a.push("*"),s=s.getWildcardChild(),o=u+1,u!==i.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(i=i.toLowerCase());for(let u of this.routes){let c=u.opts.constraints||{};if(u.method===e&&u.pattern===i&&KB(c,n))return{handler:u.handler,store:u.store,params:u.params}}return null};dn.prototype.hasConstraintStrategy=function(t){return this.constrainer.hasConstraintStrategy(t)};dn.prototype.addConstraintStrategy=function(t){this.constrainer.addConstraintStrategy(t),this._rebuild(this.routes)};dn.prototype.reset=function(){this.trees={},this.routes=[]};dn.prototype.off=function(e,r,n){Tn(typeof r=="string","Path should be a string"),Tn(r.length>0,"The path could not be empty"),Tn(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),Tn(typeof n>"u"||typeof n=="object"&&!Array.isArray(n)&&n!==null,"Constraints should be an object or undefined.");let i=r.match(rh);if(i){Tn(r.length===i.index+i[0].length,"Optional Parameter needs to be the last parameter of the path");let o=r.replace(rh,"$1$2"),a=r.replace(rh,"$2");this.off(e,o,n),this.off(e,a,n);return}this.ignoreDuplicateSlashes&&(r=XB(r)),this.ignoreTrailingSlash&&(r=JB(r));let s=Array.isArray(e)?e:[e];for(let o of s)this._off(o,r,n)};dn.prototype._off=function(e,r,n){Tn(typeof e=="string","Method should be a string"),Tn(yg.includes(e),`Method '${e}' is not an http method.`);function i(u){return e!==u.method||r!==u.path}function s(u){return i(u)||!KB(n,u.opts.constraints||{})}let o=n?s:i,a=this.routes.filter(o);this._rebuild(a)};dn.prototype.lookup=function(e,r,n,i){if(typeof n=="function"&&(i=n,n=void 0),i===void 0){let s=this.constrainer.deriveConstraints(e,n),o=this.find(e.method,e.url,s);return this.callHandler(o,e,r,n)}this.constrainer.deriveConstraints(e,n,(s,o)=>{if(s!==null){i(s);return}try{let a=this.find(e.method,e.url,o),u=this.callHandler(a,e,r,n);i(null,u)}catch(a){i(a)}})};dn.prototype.callHandler=function(e,r,n,i){return e===null?this._defaultRoute(r,n,i):i===void 0?e.handler(r,n,e.params,e.store,e.searchParams):e.handler.call(i,r,n,e.params,e.store,e.searchParams)};dn.prototype.find=function(e,r,n){let i=this.trees[e];if(i===void 0)return null;r.charCodeAt(0)!==47&&(r=r.replace(mpe,"/")),this.ignoreDuplicateSlashes&&(r=XB(r));let s,o,a;try{s=oyt(r,this.useSemicolonDelimiter),r=s.path,o=s.querystring,a=s.shouldDecodeParam}catch{return this._onBadUrl(r)}this.ignoreTrailingSlash&&(r=JB(r));let u=r;this.caseSensitive===!1&&(r=r.toLowerCase());let c=this.maxParamLength,f=i.prefix.length,d=[],h=r.length,p=[];for(;;){if(f===h&&i.isLeafNode){let w=i.handlerStorage.getMatchingHandler(n);if(w!==null)return{handler:w.handler,store:w.store,params:w._createParamsObject(d),searchParams:this.querystringParser(o)}}let m=i.getNextNode(r,f,p,d.length);if(m===null){if(p.length===0)return null;let w=p.pop();f=w.brotherPathIndex,d.splice(w.paramsCount),m=w.brotherNode}if(i=m,i.kind===hpe.STATIC){f+=i.prefix.length;continue}if(i.kind===hpe.WILDCARD){let w=u.slice(f);a&&(w=ppe(w)),d.push(w),f=h;continue}let g=u.indexOf("/",f);g===-1&&(g=h);let y=u.slice(f,g);if(a&&(y=ppe(y)),i.isRegex){let w=i.regex.exec(y);if(w===null)continue;for(let S=1;S<w.length;S++){let E=w[S];if(E.length>c)return null;d.push(E)}}else{if(y.length>c)return null;d.push(y)}f=g}};dn.prototype._rebuild=function(t){this.reset();for(let e of t){let{method:r,path:n,opts:i,handler:s,store:o}=e;this._on(r,n,i,s,o)}};dn.prototype._defaultRoute=function(t,e,r){if(this.defaultRoute!==null)return r===void 0?this.defaultRoute(t,e):this.defaultRoute.call(r,t,e);e.statusCode=404,e.end()};dn.prototype._onBadUrl=function(t){if(this.onBadUrl===null)return null;let e=this.onBadUrl;return{handler:(r,n,i)=>e(t,r,n),params:{},store:null}};dn.prototype.prettyPrint=function(t={}){let e=t.method;t.buildPrettyMeta=this.buildPrettyMeta.bind(this);let r=null;if(e===void 0){let{version:n,host:i,...s}=this.constrainer.strategies;s[GB.name]=GB;let o=new dn({...this._opts,constraints:s}),a=this.routes.map(u=>{let c={...u.opts.constraints,[GB.name]:u.method};return{...u,method:"MERGED",opts:{constraints:c}}});o._rebuild(a),r=o.trees.MERGED}else r=this.trees[e];return r==null?"(empty tree)":iyt(r,t)};for(let t in yg){if(!yg.hasOwnProperty(t))continue;let e=yg[t],r=e.toLowerCase();dn.prototype[r]=function(n,i,s){return this.on(e,n,i,s)}}dn.prototype.all=function(t,e,r){this.on(yg,t,e,r)};vpe.exports=dn;function gpe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function XB(t){return t.replace(/\/\/+/g,"/")}function JB(t){return t.length>1&&t.charCodeAt(t.length-1)===47?t.slice(0,-1):t}function ype(t){return t.charCodeAt(1)===94&&(t=t.slice(0,1)+t.slice(2)),t.charCodeAt(t.length-2)===36&&(t=t.slice(0,t.length-2)+t.slice(t.length-1)),t}function _pe(t,e){let r=1;for(;e<t.length;){if(e++,t[e]==="\\"){e++;continue}if(t[e]===")"?r--:t[e]==="("&&r++,!r)return e}throw new TypeError('Invalid regexp expression in "'+t+'"')}function ayt(t){return t?t.store?Object.assign({},t.store):{}:{}}});var bpe=v((rIr,wpe)=>{"use strict";function YB(t,e,r,n){if(r===void 0)return e.header("content-length","0"),n(null,null);if(typeof r.resume=="function")return r.on("error",s=>{e.log.error({err:s},"Error on Stream found for HEAD route")}),r.resume(),n(null,null);let i=""+Buffer.byteLength(r);e.header("content-length",i),n(null,null)}function uyt(t){return t==null?YB:Array.isArray(t)?[...t,YB]:[t,YB]}wpe.exports={parseHeadOnSendHandlers:uyt}});var qpe=v((nIr,Mpe)=>{"use strict";var cyt=ZB(),lyt=Tx(),Epe=$q(),{onRequestAbortHookRunner:fyt,lifecycleHooks:Spe,preParsingHookRunner:dyt,onTimeoutHookRunner:hyt,onRequestHookRunner:pyt}=ol(),{supportedMethods:myt}=dU(),{normalizeSchema:gyt}=av(),{parseHeadOnSendHandlers:yyt}=bpe(),{FSTDEP007:_yt,FSTDEP008:vyt,FSTDEP014:Tpe}=La(),{compileSchemasForValidation:wyt,compileSchemasForSerialization:byt}=Dq(),{FST_ERR_SCH_VALIDATION_BUILD:Eyt,FST_ERR_SCH_SERIALIZATION_BUILD:Syt,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:Tyt,FST_ERR_DUPLICATED_ROUTE:Cyt,FST_ERR_INVALID_URL:xyt,FST_ERR_HOOK_INVALID_HANDLER:Cpe,FST_ERR_ROUTE_OPTIONS_NOT_OBJ:Ryt,FST_ERR_ROUTE_DUPLICATED_HANDLER:Ayt,FST_ERR_ROUTE_HANDLER_NOT_FN:xpe,FST_ERR_ROUTE_MISSING_HANDLER:Pyt,FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:Iyt,FST_ERR_ROUTE_METHOD_INVALID:Oyt,FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:kyt,FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:Nyt,FST_ERR_HOOK_INVALID_ASYNC_HANDLER:QB}=vi(),{kRoutePrefix:Dyt,kLogLevel:Fyt,kLogSerializers:Rpe,kHooks:Ape,kSchemaController:Lyt,kOptions:Ppe,kReplySerializerDefault:e4,kReplyIsError:Myt,kRequestPayloadStream:qyt,kDisableRequestLogging:$yt,kSchemaErrorFormatter:Uyt,kErrorHandler:Ipe,kHasBeenDecorated:Ope,kRequestAcceptVersion:t4,kRouteByFastify:r4,kRouteContext:kpe}=Hn(),{buildErrorHandler:jyt}=uv(),{createChildLogger:Byt}=ov(),{getGenReqId:Hyt}=kR();function zyt(t){let e=cyt(t.config),r,n,i,s,o,a,u,c,f,d,h,p,m,g=!1;return{setup(I,P){r=P.avvio,n=P.fourOhFour,i=P.logger,s=P.hasLogger,o=P.setupResponseListeners,a=P.throwIfAlreadyStarted,p=P.validateHTTPVersion,h=I.exposeHeadRoutes,u=I.disableRequestLogging,c=I.ignoreTrailingSlash,f=I.ignoreDuplicateSlashes,d=Object.prototype.hasOwnProperty.call(I,"return503OnClosing")?I.return503OnClosing:!0,m=P.keepAliveConnections},routing:e.lookup.bind(e),route:M,hasRoute:b,prepareRoute:E,getDefaultRoute:function(){return Tpe(),e.defaultRoute},setDefaultRoute:function(I){if(Tpe(),typeof I!="function")throw new Tyt;e.defaultRoute=I},routeHandler:x,closeRoutes:()=>{g=!0},printRoutes:e.prettyPrint.bind(e),addConstraintStrategy:y,hasConstraintStrategy:w,isAsyncConstraint:S,findRoute:O};function y(I){return a("Cannot add constraint strategy!"),e.addConstraintStrategy(I)}function w(I){return e.hasConstraintStrategy(I)}function S(){return e.constrainer.asyncStrategiesInUse.size>0}function E({method:I,url:P,options:F,handler:$,isFastify:D}){if(typeof P!="string")throw new xyt(typeof P);if(!$&&typeof F=="function")$=F,F={};else if($&&typeof $=="function"){if(Object.prototype.toString.call(F)!=="[object Object]")throw new Ryt(I,P);if(F.handler)throw typeof F.handler=="function"?new Ayt(I,P):new xpe(I,P)}return F=Object.assign({},F,{method:I,url:P,path:P,handler:$||F&&F.handler}),M.call(this,{options:F,isFastify:D})}function b({options:I}){let P=I.method?.toUpperCase()??"";return O({...I,method:P})!==null}function O(I){let P=e.find(I.method,I.url||"",I.constraints);return P?{handler:P.handler,params:P.params,searchParams:P.searchParams}:null}function M({options:I,isFastify:P}){let F={...I},{exposeHeadRoute:$}=F,L=$!=null?$:h,z=F.method==="GET"||Array.isArray(F.method)&&F.method.includes("GET"),ee=F.method==="HEAD"||Array.isArray(F.method)&&F.method.includes("HEAD"),N=L&&z?{...I}:null;a("Cannot add route!");let H=F.url||F.path||"";if(Array.isArray(F.method))for(var X=0;X<F.method.length;++X)F.method[X]=Npe(F.method[X]),Dpe(F.method[X],H,F.schema);else F.method=Npe(F.method),Dpe(F.method,H,F.schema);if(!F.handler)throw new Pyt(F.method,H);if(F.errorHandler!==void 0&&typeof F.errorHandler!="function")throw new xpe(F.method,H);Lpe(F.bodyLimit);let V=this[Dyt];if(H==="/"&&V.length>0&&F.method!=="HEAD")switch(F.prefixTrailingSlash){case"slash":ue.call(this,{path:H,isFastify:P});break;case"no-slash":ue.call(this,{path:"",isFastify:P});break;case"both":default:ue.call(this,{path:"",isFastify:P}),c!==!0&&(f!==!0||!V.endsWith("/"))&&ue.call(this,{path:H,prefixing:!0,isFastify:P})}else H[0]==="/"&&V.endsWith("/")?ue.call(this,{path:H.slice(1),isFastify:P}):ue.call(this,{path:H,isFastify:P});return this;function ue({path:_e,prefixing:xe=!1,isFastify:De=!1}){let ut=V+_e;if(F.url=ut,F.path=ut,F.routePath=_e,F.prefix=V,F.logLevel=F.logLevel||this[Fyt],(this[Rpe]||F.logSerializers)&&(F.logSerializers=Object.assign(Object.create(this[Rpe]),F.logSerializers)),F.attachValidation==null&&(F.attachValidation=!1),xe===!1)for(let dt of this[Ape].onRoute)dt.call(this,F);for(let dt of Spe)if(F&&dt in F){if(Array.isArray(F[dt]))for(let st of F[dt]){if(typeof st!="function")throw new Cpe(dt,Object.prototype.toString.call(st));if(dt==="onSend"||dt==="preSerialization"||dt==="onError"||dt==="preParsing"){if(st.constructor.name==="AsyncFunction"&&st.length===4)throw new QB}else if(dt==="onRequestAbort"){if(st.constructor.name==="AsyncFunction"&&st.length!==1)throw new QB}else if(st.constructor.name==="AsyncFunction"&&st.length===3)throw new QB}else if(F[dt]!==void 0&&typeof F[dt]!="function")throw new Cpe(dt,Object.prototype.toString.call(F[dt]))}let Me=F.constraints||{},Tt={...F.config,url:ut,method:F.method},Ue=new lyt({schema:F.schema,handler:F.handler.bind(this),config:Tt,errorHandler:F.errorHandler,childLoggerFactory:F.childLoggerFactory,bodyLimit:F.bodyLimit,logLevel:F.logLevel,logSerializers:F.logSerializers,attachValidation:F.attachValidation,schemaErrorFormatter:F.schemaErrorFormatter,replySerializer:this[e4],validatorCompiler:F.validatorCompiler,serializerCompiler:F.serializerCompiler,exposeHeadRoute:L,prefixTrailingSlash:F.prefixTrailingSlash||"both",server:this,isFastify:De});F.version&&(vyt(),Me.version=F.version);let We=e.findRoute("HEAD",F.url,Me),kt=We!==null;ee&&kt&&!Ue[r4]&&We.store[r4]&&e.off("HEAD",F.url,Me);try{e.on(F.method,F.url,{constraints:Me},x,Ue)}catch(dt){if(!Ue[r4])throw dt.message.includes(`Method '${F.method}' already declared for route`)?new Cyt(F.method,F.url):dt}if(this.after((dt,st)=>{Ue.errorHandler=F.errorHandler?jyt(this[Ipe],F.errorHandler):this[Ipe],Ue._parserOptions.limit=F.bodyLimit||null,Ue.logLevel=F.logLevel,Ue.logSerializers=F.logSerializers,Ue.attachValidation=F.attachValidation,Ue[e4]=this[e4],Ue.schemaErrorFormatter=F.schemaErrorFormatter||this[Uyt]||Ue.schemaErrorFormatter,r.once("preReady",()=>{for(let se of Spe){let Se=this[Ape][se].concat(F[se]||[]).map(Ne=>Ne.bind(this));Ue[se]=Se.length?Se:null}for(;!Ue.Request[Ope]&&Ue.Request.parent;)Ue.Request=Ue.Request.parent;for(;!Ue.Reply[Ope]&&Ue.Reply.parent;)Ue.Reply=Ue.Reply.parent;if(n.setContext(this,Ue),F.schema){Ue.schema=gyt(F,Ue.schema,this.initialConfig);let se=this[Lyt];!F.validatorCompiler&&(F.schema.body||F.schema.headers||F.schema.querystring||F.schema.params)&&se.setupValidator(this[Ppe]);try{let Se=typeof F?.validatorCompiler=="function"||se.isCustomValidatorCompiler;wyt(Ue,F.validatorCompiler||se.validatorCompiler,Se)}catch(Se){throw new Eyt(F.method,ut,Se.message)}F.schema.response&&!F.serializerCompiler&&se.setupSerializer(this[Ppe]);try{byt(Ue,F.serializerCompiler||se.serializerCompiler)}catch(Se){throw new Syt(F.method,ut,Se.message)}}}),st(dt)}),L&&z&&!ee&&!kt){let dt=yyt(N.onSend);E.call(this,{method:"HEAD",url:_e,options:{...N,onSend:dt},isFastify:!0})}else kt&&$&&_yt()}}function x(I,P,F,$,D){let L=Hyt($.server,I),z={level:$.logLevel};$.logSerializers&&(z.serializers=$.logSerializers);let ee=Byt($,i,I,L,z);if(ee[$yt]=u,!p(I.httpVersion)){ee.info({res:{statusCode:505}},"request aborted - invalid HTTP version");let V='{"error":"HTTP Version Not Supported","message":"HTTP Version Not Supported","statusCode":505}',ue={"Content-Type":"application/json","Content-Length":V.length};P.writeHead(505,ue),P.end(V);return}if(g===!0&&(I.httpVersionMajor!==2&&P.setHeader("Connection","close"),d)){let V={"Content-Type":"application/json","Content-Length":"80"};P.writeHead(503,V),P.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}'),ee.info({res:{statusCode:503}},"request aborted - refusing to accept new requests as server is closing");return}String.prototype.toLowerCase.call(I.headers.connection||"")==="keep-alive"&&m.has(I.socket)===!1&&(m.add(I.socket),I.socket.on("close",Gyt.bind({keepAliveConnections:m,socket:I.socket}))),I.headers[t4]!==void 0&&(I.headers["accept-version"]=I.headers[t4],I.headers[t4]=void 0);let H=new $.Request(L,F,I,D,ee,$),X=new $.Reply(P,H,ee);u===!1&&ee.info({req:H},"incoming request"),(s===!0||$.onResponse!==null)&&o(X),$.onRequest!==null?pyt($.onRequest,H,X,Fpe):Fpe(null,H,X),$.onRequestAbort!==null&&I.on("close",()=>{I.aborted&&fyt($.onRequestAbort,H,Vyt.bind(null,X))}),$.onTimeout!==null&&(H.raw.socket._meta||H.raw.socket.on("timeout",Wyt),H.raw.socket._meta={context:$,request:H,reply:X})}}function Vyt(t,e){e&&t.log.error({err:e},"onRequestAborted hook failed")}function Wyt(){let{context:t,request:e,reply:r}=this._meta;hyt(t.onTimeout,e,r,Kyt)}function Npe(t){if(typeof t!="string")throw new Oyt;if(t=t.toUpperCase(),myt.indexOf(t)===-1)throw new Iyt(t);return t}function Dpe(t,e,r){if((t==="GET"||t==="HEAD")&&r&&r.body)throw new kyt(t,e)}function Lpe(t){if(t!==void 0&&(!Number.isInteger(t)||t<=0))throw new Nyt(t)}function Fpe(t,e,r){if(r.sent!==!0){if(t!=null){r[Myt]=!0,r.send(t);return}e[qyt]=e.raw,e[kpe].preParsing!==null?dyt(e[kpe].preParsing,e,r,Epe):Epe(null,e,r)}}function Gyt(){this.keepAliveConnections.delete(this.socket)}function Kyt(){}Mpe.exports={buildRouting:zyt,validateBodyLimitOption:Lpe}});var Vpe=v((iIr,zpe)=>{"use strict";var Xyt=ZB(),$pe=ox(),Upe=Sx(),Jyt=Tx(),{kRoutePrefix:Zyt,kCanSetNotFoundHandler:gw,kFourOhFourLevelInstance:yw,kFourOhFourContext:Qa,kHooks:Yyt,kErrorHandler:jpe}=Hn(),{lifecycleHooks:Qyt}=ol(),{buildErrorHandler:e_t}=uv(),{FST_ERR_NOT_FOUND:t_t}=vi(),{createChildLogger:Bpe}=ov(),{getGenReqId:Hpe}=kR();function r_t(t){let{logger:e,disableRequestLogging:r}=t,n=Xyt({onBadUrl:a(),defaultRoute:d}),i=null;return{router:n,setNotFoundHandler:c,setContext:u,arrange404:s};function s(h){h[yw]=h,h[gw]=!0,n.onBadUrl=n.onBadUrl.bind(h),n.defaultRoute=n.defaultRoute.bind(h)}function o(h,p){let{url:m,method:g}=h.raw,y=`Route ${g}:${m} not found`;r||h.log.info(y),p.code(404).send({message:y,error:"Not Found",statusCode:404})}function a(){return function(p,m,g){let y=this[yw][Qa],w=Hpe(y.server,m),S=Bpe(y,e,m,w),E=new Upe(w,null,m,null,S,y),b=new $pe(g,E,S);i(E,b)}}function u(h,p){let m=Object.assign({},h[Qa]);m.onSend=p.onSend,p[Qa]=m}function c(h,p,m,g){this[gw]===void 0&&(this[gw]=!0),this[Qa]===void 0&&(this[Qa]=null);let y=this,w=this[Zyt]||"/";if(this[gw]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${w}'`);typeof h=="object"&&(h.preHandler&&(Array.isArray(h.preHandler)?h.preHandler=h.preHandler.map(S=>S.bind(y)):h.preHandler=h.preHandler.bind(y)),h.preValidation&&(Array.isArray(h.preValidation)?h.preValidation=h.preValidation.map(S=>S.bind(y)):h.preValidation=h.preValidation.bind(y))),typeof h=="function"&&(p=h,h=void 0),h=h||{},p?(this[yw][gw]=!1,p=p.bind(this),i=p):(p=o,i=o),this.after((S,E)=>{f.call(this,w,h,p,m,g),E(S)})}function f(h,p,m,g,y){let w=new Jyt({schema:p.schema,handler:m,config:p.config||{},server:this});if(g.once("preReady",()=>{let S=this[Qa];for(let E of Qyt){let b=this[Yyt][E].concat(p[E]||[]).map(O=>O.bind(this));S[E]=b.length?b:null}S.errorHandler=p.errorHandler?e_t(this[jpe],p.errorHandler):this[jpe]}),this[Qa]!==null&&h==="/"){Object.assign(this[Qa],w);return}this[yw][Qa]=w,n.all(h+(h.endsWith("/")?"*":"/*"),y,w),n.all(h,y,w)}function d(h,p){let m=this[yw][Qa],g=Hpe(m.server,h),y=Bpe(m,e,h,g);y.info({req:h},"incoming request");let w=new Upe(g,null,h,null,y,m),S=new $pe(p,w,y);w.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),w.log.warn(n.prettyPrint()),S.code(404).send(new t_t)}}zpe.exports=r_t});var Gpe=v((sIr,ZR)=>{"use strict";ZR.exports=tr;ZR.exports.default=tr;var Wpe={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{enum:[!1]},{type:"string"}],default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},useSemicolonDelimiter:{type:"boolean",default:!0},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},n_t=Object.prototype.hasOwnProperty,i_t=new RegExp("idle","u");function tr(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:i=t}={}){let s=null,o=0;if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){t.connectionTimeout===void 0&&(t.connectionTimeout=0),t.keepAliveTimeout===void 0&&(t.keepAliveTimeout=72e3),t.maxRequestsPerSocket===void 0&&(t.maxRequestsPerSocket=0),t.requestTimeout===void 0&&(t.requestTimeout=0),t.bodyLimit===void 0&&(t.bodyLimit=1048576),t.caseSensitive===void 0&&(t.caseSensitive=!0),t.allowUnsafeRegex===void 0&&(t.allowUnsafeRegex=!1),t.ignoreTrailingSlash===void 0&&(t.ignoreTrailingSlash=!1),t.ignoreDuplicateSlashes===void 0&&(t.ignoreDuplicateSlashes=!1),t.disableRequestLogging===void 0&&(t.disableRequestLogging=!1),t.jsonShorthand===void 0&&(t.jsonShorthand=!0),t.maxParamLength===void 0&&(t.maxParamLength=100),t.onProtoPoisoning===void 0&&(t.onProtoPoisoning="error"),t.onConstructorPoisoning===void 0&&(t.onConstructorPoisoning="error"),t.pluginTimeout===void 0&&(t.pluginTimeout=1e4),t.requestIdHeader===void 0&&(t.requestIdHeader="request-id"),t.requestIdLogLabel===void 0&&(t.requestIdLogLabel="reqId"),t.http2SessionTimeout===void 0&&(t.http2SessionTimeout=72e3),t.exposeHeadRoutes===void 0&&(t.exposeHeadRoutes=!0),t.useSemicolonDelimiter===void 0&&(t.useSemicolonDelimiter=!0);let m=o;for(let g in t)n_t.call(Wpe.properties,g)||delete t[g];if(m===o){let g=t.connectionTimeout,y=o;if(!(typeof g=="number"&&!(g%1)&&!isNaN(g)&&isFinite(g))){let w=typeof g,S;if(S===void 0)if(w==="boolean"||g===null||w==="string"&&g&&g==+g&&!(g%1))S=+g;else return tr.errors=[{instancePath:e+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;S!==void 0&&(g=S,t!==void 0&&(t.connectionTimeout=S))}var a=y===o;if(a){let w=t.keepAliveTimeout,S=o;if(!(typeof w=="number"&&!(w%1)&&!isNaN(w)&&isFinite(w))){let b=typeof w,O;if(O===void 0)if(b==="boolean"||w===null||b==="string"&&w&&w==+w&&!(w%1))O=+w;else return tr.errors=[{instancePath:e+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;O!==void 0&&(w=O,t!==void 0&&(t.keepAliveTimeout=O))}var a=S===o;if(a){if(t.forceCloseConnections!==void 0){let b=t.forceCloseConnections,O=o,M=o,x=!1,I=null,P=o;if(typeof b!="string"){let D=typeof b,L;if(L===void 0)if(D=="number"||D=="boolean")L=""+b;else if(b===null)L="";else{let z={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[z]:s.push(z),o++}L!==void 0&&(b=L,t!==void 0&&(t.forceCloseConnections=L))}if(o===P&&typeof b=="string"&&!i_t.test(b)){let D={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};s===null?s=[D]:s.push(D),o++}var u=P===o;u&&(x=!0,I=0);let F=o;if(typeof b!="boolean"){let D;if(D===void 0)if(b==="false"||b===0||b===null)D=!1;else if(b==="true"||b===1)D=!0;else{let L={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[L]:s.push(L),o++}D!==void 0&&(b=D,t!==void 0&&(t.forceCloseConnections=D))}var u=F===o;if(u&&x?(x=!1,I=[I,1]):u&&(x=!0,I=1),x)o=M,s!==null&&(M?s.length=M:s=null);else{let D={instancePath:e+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:I},message:"must match exactly one schema in oneOf"};return s===null?s=[D]:s.push(D),o++,tr.errors=s,!1}var a=O===o}else var a=!0;if(a){let b=t.maxRequestsPerSocket,O=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b))&&b!==null){let x=typeof b,I;if(I===void 0)if(x==="boolean"||b===null||x==="string"&&b&&b==+b&&!(b%1))I=+b;else if(b===""||b===0||b===!1)I=null;else return tr.errors=[{instancePath:e+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;I!==void 0&&(b=I,t!==void 0&&(t.maxRequestsPerSocket=I))}var a=O===o;if(a){let x=t.requestTimeout,I=o;if(!(typeof x=="number"&&!(x%1)&&!isNaN(x)&&isFinite(x))){let F=typeof x,$;if($===void 0)if(F==="boolean"||x===null||F==="string"&&x&&x==+x&&!(x%1))$=+x;else return tr.errors=[{instancePath:e+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;$!==void 0&&(x=$,t!==void 0&&(t.requestTimeout=$))}var a=I===o;if(a){let F=t.bodyLimit,$=o;if(!(typeof F=="number"&&!(F%1)&&!isNaN(F)&&isFinite(F))){let L=typeof F,z;if(z===void 0)if(L==="boolean"||F===null||L==="string"&&F&&F==+F&&!(F%1))z=+F;else return tr.errors=[{instancePath:e+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;z!==void 0&&(F=z,t!==void 0&&(t.bodyLimit=z))}var a=$===o;if(a){let L=t.caseSensitive,z=o;if(typeof L!="boolean"){let N;if(N===void 0)if(L==="false"||L===0||L===null)N=!1;else if(L==="true"||L===1)N=!0;else return tr.errors=[{instancePath:e+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N!==void 0&&(L=N,t!==void 0&&(t.caseSensitive=N))}var a=z===o;if(a){let N=t.allowUnsafeRegex,H=o;if(typeof N!="boolean"){let V;if(V===void 0)if(N==="false"||N===0||N===null)V=!1;else if(N==="true"||N===1)V=!0;else return tr.errors=[{instancePath:e+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;V!==void 0&&(N=V,t!==void 0&&(t.allowUnsafeRegex=V))}var a=H===o;if(a){if(t.http2!==void 0){let V=t.http2,ue=o;if(typeof V!="boolean"){let xe;if(xe===void 0)if(V==="false"||V===0||V===null)xe=!1;else if(V==="true"||V===1)xe=!0;else return tr.errors=[{instancePath:e+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;xe!==void 0&&(V=xe,t!==void 0&&(t.http2=xe))}var a=ue===o}else var a=!0;if(a){if(t.https!==void 0){let V=t.https,ue=o,_e=o,xe=!0,De=o,ut=o,Me=o,Tt=o,Ue=!1,We=null,kt=o;if(typeof V!="boolean"){let se;if(se===void 0)if(V==="false"||V===0||V===null)se=!1;else if(V==="true"||V===1)se=!0;else{let Se={};s===null?s=[Se]:s.push(Se),o++}se!==void 0&&(V=se,t!==void 0&&(t.https=se))}var c=kt===o;c&&(Ue=!0,We=0);let dt=o;if(V!==null){let se;if(se===void 0)if(V===""||V===0||V===!1)se=null;else{let Se={};s===null?s=[Se]:s.push(Se),o++}se!==void 0&&(V=se,t!==void 0&&(t.https=se))}var c=dt===o;if(c&&Ue)Ue=!1,We=[We,1];else{c&&(Ue=!0,We=1);let se=o;if(o===se)if(V&&typeof V=="object"&&!Array.isArray(V)){let Ne;if(V.allowHTTP1===void 0&&(Ne="allowHTTP1")){let je={};s===null?s=[je]:s.push(je),o++}else{let je=o;for(let ht in V)ht!=="allowHTTP1"&&delete V[ht];if(je===o&&V.allowHTTP1!==void 0){let ht=V.allowHTTP1;if(typeof ht!="boolean"){let Ve;if(Ve===void 0)if(ht==="false"||ht===0||ht===null)Ve=!1;else if(ht==="true"||ht===1)Ve=!0;else{let xt={};s===null?s=[xt]:s.push(xt),o++}Ve!==void 0&&(ht=Ve,V!==void 0&&(V.allowHTTP1=Ve))}}}}else{let Ne={};s===null?s=[Ne]:s.push(Ne),o++}var c=se===o;c&&Ue?(Ue=!1,We=[We,2]):c&&(Ue=!0,We=2)}if(Ue)o=Tt,s!==null&&(Tt?s.length=Tt:s=null);else{let se={};s===null?s=[se]:s.push(se),o++}var f=Me===o;if(f){let se={};s===null?s=[se]:s.push(se),o++}else o=ut,s!==null&&(ut?s.length=ut:s=null);var d=De===o;if(o=_e,s!==null&&(_e?s.length=_e:s=null),d){let se=o;t.https=!0;var d=se===o;xe=d}if(!xe){let se={instancePath:e+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[se]:s.push(se),o++,tr.errors=s,!1}var a=ue===o}else var a=!0;if(a){let V=t.ignoreTrailingSlash,ue=o;if(typeof V!="boolean"){let xe;if(xe===void 0)if(V==="false"||V===0||V===null)xe=!1;else if(V==="true"||V===1)xe=!0;else return tr.errors=[{instancePath:e+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;xe!==void 0&&(V=xe,t!==void 0&&(t.ignoreTrailingSlash=xe))}var a=ue===o;if(a){let xe=t.ignoreDuplicateSlashes,De=o;if(typeof xe!="boolean"){let Me;if(Me===void 0)if(xe==="false"||xe===0||xe===null)Me=!1;else if(xe==="true"||xe===1)Me=!0;else return tr.errors=[{instancePath:e+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Me!==void 0&&(xe=Me,t!==void 0&&(t.ignoreDuplicateSlashes=Me))}var a=De===o;if(a){let Me=t.disableRequestLogging,Tt=o;if(typeof Me!="boolean"){let We;if(We===void 0)if(Me==="false"||Me===0||Me===null)We=!1;else if(Me==="true"||Me===1)We=!0;else return tr.errors=[{instancePath:e+"/disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;We!==void 0&&(Me=We,t!==void 0&&(t.disableRequestLogging=We))}var a=Tt===o;if(a){let We=t.jsonShorthand,kt=o;if(typeof We!="boolean"){let st;if(st===void 0)if(We==="false"||We===0||We===null)st=!1;else if(We==="true"||We===1)st=!0;else return tr.errors=[{instancePath:e+"/jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;st!==void 0&&(We=st,t!==void 0&&(t.jsonShorthand=st))}var a=kt===o;if(a){let st=t.maxParamLength,se=o;if(!(typeof st=="number"&&!(st%1)&&!isNaN(st)&&isFinite(st))){let Ne=typeof st,je;if(je===void 0)if(Ne==="boolean"||st===null||Ne==="string"&&st&&st==+st&&!(st%1))je=+st;else return tr.errors=[{instancePath:e+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;je!==void 0&&(st=je,t!==void 0&&(t.maxParamLength=je))}var a=se===o;if(a){let Ne=t.onProtoPoisoning,je=o;if(typeof Ne!="string"){let Ve=typeof Ne,xt;if(xt===void 0)if(Ve=="number"||Ve=="boolean")xt=""+Ne;else if(Ne===null)xt="";else return tr.errors=[{instancePath:e+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;xt!==void 0&&(Ne=xt,t!==void 0&&(t.onProtoPoisoning=xt))}var a=je===o;if(a){let Ve=t.onConstructorPoisoning,xt=o;if(typeof Ve!="string"){let zt=typeof Ve,vn;if(vn===void 0)if(zt=="number"||zt=="boolean")vn=""+Ve;else if(Ve===null)vn="";else return tr.errors=[{instancePath:e+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn!==void 0&&(Ve=vn,t!==void 0&&(t.onConstructorPoisoning=vn))}var a=xt===o;if(a){let zt=t.pluginTimeout,vn=o;if(!(typeof zt=="number"&&!(zt%1)&&!isNaN(zt)&&isFinite(zt))){let re=typeof zt,C;if(C===void 0)if(re==="boolean"||zt===null||re==="string"&&zt&&zt==+zt&&!(zt%1))C=+zt;else return tr.errors=[{instancePath:e+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;C!==void 0&&(zt=C,t!==void 0&&(t.pluginTimeout=C))}var a=vn===o;if(a){let re=t.requestIdHeader,C=o,k=o,U=!1,K=o;if(re!==!1){let Y={instancePath:e+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/enum",keyword:"enum",params:{allowedValues:Wpe.properties.requestIdHeader.anyOf[0].enum},message:"must be equal to one of the allowed values"};s===null?s=[Y]:s.push(Y),o++}var h=K===o;if(U=U||h,!U){let Y=o;if(typeof re!="string"){let he=typeof re,de;if(de===void 0)if(he=="number"||he=="boolean")de=""+re;else if(re===null)de="";else{let qe={instancePath:e+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[qe]:s.push(qe),o++}de!==void 0&&(re=de,t!==void 0&&(t.requestIdHeader=de))}var h=Y===o;U=U||h}if(U)o=k,s!==null&&(k?s.length=k:s=null);else{let Y={instancePath:e+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[Y]:s.push(Y),o++,tr.errors=s,!1}var a=C===o;if(a){let Y=t.requestIdLogLabel,ce=o;if(typeof Y!="string"){let de=typeof Y,qe;if(qe===void 0)if(de=="number"||de=="boolean")qe=""+Y;else if(Y===null)qe="";else return tr.errors=[{instancePath:e+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;qe!==void 0&&(Y=qe,t!==void 0&&(t.requestIdLogLabel=qe))}var a=ce===o;if(a){let de=t.http2SessionTimeout,qe=o;if(!(typeof de=="number"&&!(de%1)&&!isNaN(de)&&isFinite(de))){let R=typeof de,A;if(A===void 0)if(R==="boolean"||de===null||R==="string"&&de&&de==+de&&!(de%1))A=+de;else return tr.errors=[{instancePath:e+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;A!==void 0&&(de=A,t!==void 0&&(t.http2SessionTimeout=A))}var a=qe===o;if(a){let R=t.exposeHeadRoutes,A=o;if(typeof R!="boolean"){let Q;if(Q===void 0)if(R==="false"||R===0||R===null)Q=!1;else if(R==="true"||R===1)Q=!0;else return tr.errors=[{instancePath:e+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Q!==void 0&&(R=Q,t!==void 0&&(t.exposeHeadRoutes=Q))}var a=A===o;if(a){let Q=t.useSemicolonDelimiter,Z=o;if(typeof Q!="boolean"){let ge;if(ge===void 0)if(Q==="false"||Q===0||Q===null)ge=!1;else if(Q==="true"||Q===1)ge=!0;else return tr.errors=[{instancePath:e+"/useSemicolonDelimiter",schemaPath:"#/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ge!==void 0&&(Q=ge,t!==void 0&&(t.useSemicolonDelimiter=ge))}var a=Z===o;if(a){if(t.versioning!==void 0){let ge=t.versioning,me=o;if(o===me)if(ge&&typeof ge=="object"&&!Array.isArray(ge)){let Ie;if(ge.storage===void 0&&(Ie="storage")||ge.deriveVersion===void 0&&(Ie="deriveVersion"))return tr.errors=[{instancePath:e+"/versioning",schemaPath:"#/properties/versioning/required",keyword:"required",params:{missingProperty:Ie},message:"must have required property '"+Ie+"'"}],!1}else return tr.errors=[{instancePath:e+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=me===o}else var a=!0;if(a)if(t.constraints!==void 0){let ge=t.constraints,me=o;if(o===me)if(ge&&typeof ge=="object"&&!Array.isArray(ge))for(let Ie in ge){let Xe=ge[Ie],Je=o;if(o===Je)if(Xe&&typeof Xe=="object"&&!Array.isArray(Xe)){let wt;if(Xe.name===void 0&&(wt="name")||Xe.storage===void 0&&(wt="storage")||Xe.validate===void 0&&(wt="validate")||Xe.deriveConstraint===void 0&&(wt="deriveConstraint"))return tr.errors=[{instancePath:e+"/constraints/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:wt},message:"must have required property '"+wt+"'"}],!1;if(Xe.name!==void 0){let Mt=Xe.name;if(typeof Mt!="string"){let Ft=typeof Mt,Er;if(Er===void 0)if(Ft=="number"||Ft=="boolean")Er=""+Mt;else if(Mt===null)Er="";else return tr.errors=[{instancePath:e+"/constraints/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Er!==void 0&&(Mt=Er,Xe!==void 0&&(Xe.name=Er))}}}else return tr.errors=[{instancePath:e+"/constraints/"+Ie.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var p=Je===o;if(!p)break}else return tr.errors=[{instancePath:e+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=me===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}else return tr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return tr.errors=s,o===0}ZR.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0,useSemicolonDelimiter:!0}});var Kpe=v((oIr,QR)=>{"use strict";var YR=Gpe(),s_t=XC()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:o_t}=vi();function a_t(t){let e=s_t(t);if(!YR(e)){let r=new o_t(JSON.stringify(YR.errors.map(n=>n.message)));throw r.errors=YR.errors,r}return n4(e)}function n4(t){let e=Object.getOwnPropertyNames(t);for(let r of e){let n=t[r];ArrayBuffer.isView(n)&&!(n instanceof DataView)||(t[r]=n&&typeof n=="object"?n4(n):n)}return Object.freeze(t)}QR.exports=a_t;QR.exports.defaultInitOptions=YR.defaultInitOptions;QR.exports.utils={deepFreezeObject:n4}});var nme=v((aIr,rme)=>{"use strict";var{kAvvioBoot:u_t,kChildren:Xpe,kRoutePrefix:Jpe,kLogLevel:Zpe,kLogSerializers:i4,kHooks:s4,kSchemaController:_g,kContentTypeParser:Ype,kReply:Qpe,kRequest:eme,kFourOhFour:c_t,kPluginNameChain:tme}=Hn(),l_t=ox(),f_t=Sx(),d_t=PB(),h_t=AU(),{buildHooks:p_t}=ol(),_w=FB();rme.exports=function(e,r,n){let i=_w.registerPlugin.call(e,r),s=_w.getPluginName(r)||_w.getFuncPreview(r);if(i)return e[tme].push(s),e;let o=Object.create(e);e[Xpe].push(o),o.ready=e[u_t].bind(o),o[Xpe]=[],o[Qpe]=l_t.buildReply(o[Qpe]),o[eme]=f_t.buildRequest(o[eme]),o[Ype]=h_t.helpers.buildContentTypeParser(o[Ype]),o[s4]=p_t(o[s4]),o[Jpe]=m_t(o[Jpe],n.prefix),o[Zpe]=n.logLevel||o[Zpe],o[_g]=d_t.buildSchemaController(e[_g]),o.getSchema=o[_g].getSchema.bind(o[_g]),o.getSchemas=o[_g].getSchemas.bind(o[_g]),o[_w.kRegisteredPlugins]=Object.create(o[_w.kRegisteredPlugins]),o[tme]=[s],(o[i4]||n.logSerializers)&&(o[i4]=Object.assign(Object.create(o[i4]),n.logSerializers)),n.prefix&&o[c_t].arrange404(o);for(let a of o[s4].onRegister)a.call(this,o,n);return o};function m_t(t,e){return e?(t.endsWith("/")&&e[0]==="/"?e=e.slice(1):e[0]!=="/"&&(e="/"+e),t+e):t}});var sme=v((uIr,ime)=>{"use strict";ime.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}});var ume=v(o4=>{"use strict";o4.parse=E_t;o4.serialize=S_t;var g_t=Object.prototype.toString,y_t=Object.prototype.hasOwnProperty,__t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,v_t=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,w_t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,b_t=/^[\u0020-\u003A\u003D-\u007E]*$/;function E_t(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");var r={},n=t.length;if(n<2)return r;var i=e&&e.decode||T_t,s=0,o=0,a=0;do{if(o=t.indexOf("=",s),o===-1)break;if(a=t.indexOf(";",s),a===-1)a=n;else if(o>a){s=t.lastIndexOf(";",o-1)+1;continue}var u=ome(t,s,o),c=ame(t,o,u),f=t.slice(u,c);if(!y_t.call(r,f)){var d=ome(t,o+1,a),h=ame(t,a,d);t.charCodeAt(d)===34&&t.charCodeAt(h-1)===34&&(d++,h--);var p=t.slice(d,h);r[f]=x_t(p,i)}s=a+1}while(s<n);return r}function ome(t,e,r){do{var n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function ame(t,e,r){for(;e>r;){var n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function S_t(t,e,r){var n=r&&r.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!__t.test(t))throw new TypeError("argument name is invalid");var i=n(e);if(!v_t.test(i))throw new TypeError("argument val is invalid");var s=t+"="+i;if(!r)return s;if(r.maxAge!=null){var o=Math.floor(r.maxAge);if(!isFinite(o))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+o}if(r.domain){if(!w_t.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!b_t.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){var a=r.expires;if(!C_t(a)||isNaN(a.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+a.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority){var u=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(u){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var c=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(c){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function T_t(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function C_t(t){return g_t.call(t)==="[object Date]"}function x_t(t,e){try{return e(t)}catch{return t}}});var fme=v((lIr,lme)=>{"use strict";var{URL:cme}=require("node:url"),a4="http://localhost";lme.exports=function(e,r){(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]")&&e.startsWith("//")&&(e=a4+e);let n=typeof e=="object"?Object.assign(new cme(a4),e):new cme(e,a4);if(typeof r=="string"){r=new URLSearchParams(r);for(let i of r.keys()){n.searchParams.delete(i);for(let s of r.getAll(i))n.searchParams.append(i,s)}}else{let i=Object.assign({},e.query,r);for(let s in i){let o=i[s];if(Array.isArray(o)){n.searchParams.delete(s);for(let a of o)n.searchParams.append(s,a)}else n.searchParams.set(s,o)}}return n}});var dme=v((fIr,u4)=>{"use strict";var{randomUUID:R_t}=require("node:crypto"),{Readable:A_t}=require("node:stream"),vg;function P_t(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}function I_t(t){vg=vg??new TextEncoder;let e=`----formdata-${R_t()}`,r=`--${e}\r
Content-Disposition: form-data`;let n=u=>u.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),i=u=>u.replace(/\r?\n|\r/g,`\r
`),s=new Uint8Array([13,10]);async function*o(){for(let[u,c]of t)if(typeof c=="string")yield vg.encode(`${r}; name="${n(i(u))}"\r
\r
`),yield vg.encode(`${i(c)}\r
`);else{let f=`${r}; name="${n(i(u))}"`;c.name&&(f+=`; filename="${n(c.name)}"`),f+=`\r
Content-Type: ${c.type||"application/octet-stream"}\r
\r
`,yield vg.encode(f),c.stream?yield*c.stream():yield c,yield s}yield vg.encode(`--${e}--`)}return{stream:A_t.from(o()),contentType:`multipart/form-data; boundary=${e}`}}u4.exports.isFormDataLike=P_t;u4.exports.formDataToStream=I_t});var mme=v((dIr,eA)=>{"use strict";var{Readable:hme,addAbortSignal:O_t}=require("node:stream"),l4=require("node:util"),k_t=ume(),N_t=require("node:assert"),{createDeprecation:D_t}=Pq(),F_t=fme(),{isFormDataLike:L_t,formDataToStream:M_t}=dme(),{EventEmitter:q_t}=require("node:events"),$_t=D_t({name:"FastifyDeprecationLightMyRequest",code:"FST_LIGHTMYREQUEST_DEP01",message:'You are accessing "request.connection", use "request.socket" instead.'});function U_t(t){return t.port?t.host:t.hostname+(t.protocol==="https:"?":443":":80")}var c4=class extends q_t{constructor(e){super(),this.remoteAddress=e}};function pme(t){return new e(this);function e(r){eu.call(r,{...t,Request:void 0}),Object.assign(this,r);for(let n of Object.keys(eu.prototype))this.constructor.prototype[n]=eu.prototype[n];return l4.inherits(this.constructor,t.Request),this}}function eu(t){hme.call(this,{autoDestroy:!1});let e=F_t(t.url||t.path,t.query);this.url=e.pathname+e.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=t.method?t.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let r=t.headers||{};for(let o in r){let a=o.toLowerCase();if((a==="user-agent"||a==="content-type")&&r[o]===void 0){this.headers[a]=void 0;continue}let u=r[o];N_t(u!==void 0,'invalid value "undefined" for header '+o),this.headers[a]=""+u}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||t.authority||U_t(e),t.cookies){let{cookies:o}=t,a=Object.keys(o).map(u=>k_t.serialize(u,o[u]));this.headers.cookie&&a.unshift(this.headers.cookie),this.headers.cookie=a.join("; ")}this.socket=new c4(t.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return $_t(),this.socket},configurable:!0});let n=t.payload||t.body||null,i=n&&typeof n.resume=="function";if(L_t(n)){let o=M_t(n);n=o.stream,i=!0,this.headers["content-type"]=o.contentType}n&&typeof n!="string"&&!i&&!Buffer.isBuffer(n)&&(n=JSON.stringify(n),"content-type"in this.headers||(this.headers["content-type"]="application/json")),n&&!i&&!Object.prototype.hasOwnProperty.call(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(n)?n.length:Buffer.byteLength(n)).toString());for(let o of Object.keys(this.headers))this.rawHeaders.push(o,this.headers[o]);this._lightMyRequest={payload:n,isDone:!1,simulate:t.simulate||{}};let s=t.signal;return s&&O_t(s,this),this}l4.inherits(eu,hme);l4.inherits(pme,eu);eu.prototype.prepare=function(t){let e=this._lightMyRequest.payload;if(!e||typeof e.resume!="function")return t();let r=[];e.on("data",n=>r.push(Buffer.from(n))),e.on("end",()=>{let n=Buffer.concat(r);return this.headers["content-length"]=this.headers["content-length"]||""+n.length,this._lightMyRequest.payload=n,t()}),e.resume()};eu.prototype._read=function(t){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};eu.prototype.destroy=function(t){this.destroyed||this._lightMyRequest.isDone||(this.destroyed=!0,t&&(this._error=!0,process.nextTick(()=>this.emit("error",t))),process.nextTick(()=>this.emit("close")))};eA.exports=eu;eA.exports.Request=eu;eA.exports.CustomRequest=pme});var yme=v((hIr,vw)=>{"use strict";var tA={decodeValues:!0,map:!1,silent:!1};function f4(t){return typeof t!="string"||t in{}}function d4(){return Object.create(null)}function h4(t){return typeof t=="string"&&!!t.trim()}function p4(t,e){var r=t.split(";").filter(h4),n=r.shift(),i=j_t(n),s=i.name,o=i.value;if(e=e?Object.assign({},tA,e):tA,f4(s))return null;try{o=e.decodeValues?decodeURIComponent(o):o}catch(u){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",u)}var a=d4();return a.name=s,a.value=o,r.forEach(function(u){var c=u.split("="),f=c.shift().trimLeft().toLowerCase();if(!f4(f)){var d=c.join("=");if(f==="expires")a.expires=new Date(d);else if(f==="max-age"){var h=parseInt(d,10);Number.isNaN(h)||(a.maxAge=h)}else f==="secure"?a.secure=!0:f==="httponly"?a.httpOnly=!0:f==="samesite"?a.sameSite=d:f==="partitioned"?a.partitioned=!0:f&&(a[f]=d)}}),a}function j_t(t){var e="",r="",n=t.split("=");return n.length>1?(e=n.shift(),r=n.join("=")):r=t,{name:e,value:r}}function gme(t,e){if(e=e?Object.assign({},tA,e):tA,!t)return e.map?d4():[];if(t.headers)if(typeof t.headers.getSetCookie=="function")t=t.headers.getSetCookie();else if(t.headers["set-cookie"])t=t.headers["set-cookie"];else{var r=t.headers[Object.keys(t.headers).find(function(i){return i.toLowerCase()==="set-cookie"})];!r&&t.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),t=r}if(Array.isArray(t)||(t=[t]),e.map){var n=d4();return t.filter(h4).reduce(function(i,s){var o=p4(s,e);return o&&!f4(o.name)&&(i[o.name]=o),i},n)}else return t.filter(h4).map(function(i){return p4(i,e)}).filter(Boolean)}function B_t(t){if(Array.isArray(t))return t;if(typeof t!="string")return[];var e=[],r=0,n,i,s,o,a;function u(){for(;r<t.length&&/\s/.test(t.charAt(r));)r+=1;return r<t.length}function c(){return i=t.charAt(r),i!=="="&&i!==";"&&i!==","}for(;r<t.length;){for(n=r,a=!1;u();)if(i=t.charAt(r),i===","){for(s=r,r+=1,u(),o=r;r<t.length&&c();)r+=1;r<t.length&&t.charAt(r)==="="?(a=!0,r=o,e.push(t.substring(n,s)),n=r):r=s+1}else r+=1;(!a||r>=t.length)&&e.push(t.substring(n,t.length))}return e}vw.exports=gme;vw.exports.parse=gme;vw.exports.parseString=p4;vw.exports.splitCookiesString=B_t});var wme=v((pIr,vme)=>{"use strict";var ww=require("node:http"),{Writable:H_t,Readable:z_t}=require("node:stream"),V_t=require("node:util"),W_t=yme();function Pl(t,e,r){ww.ServerResponse.call(this,t),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(K_t()),this._promiseCallback=typeof r=="function";let n=!1,i=o=>{if(n=!0,this._promiseCallback)return process.nextTick(()=>e(o));process.nextTick(()=>e(null,o))},s=o=>{if(!n){if(n=!0,this._promiseCallback)return process.nextTick(()=>r(o));process.nextTick(()=>e(o,null))}};this.once("finish",()=>{let o=G_t(this);o.raw.req=t,i(o)}),this.connection.once("error",s),this.once("error",s),this.once("close",s)}V_t.inherits(Pl,ww.ServerResponse);Pl.prototype.setTimeout=function(t,e){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},t),this.on("timeout",e),this};Pl.prototype.writeHead=function(){let t=ww.ServerResponse.prototype.writeHead.apply(this,arguments);return _me(this),t};Pl.prototype.write=function(t,e,r){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),ww.ServerResponse.prototype.write.call(this,t,e,r),this._lightMyRequest.payloadChunks.push(Buffer.from(t,e)),!0};Pl.prototype.end=function(t,e,r){t&&this.write(t,e),ww.ServerResponse.prototype.end.call(this,r),this.emit("finish"),this.destroy()};Pl.prototype.destroy=function(t){this.destroyed||(this.destroyed=!0,t&&process.nextTick(()=>this.emit("error",t)),process.nextTick(()=>this.emit("close")))};Pl.prototype.addTrailers=function(t){for(let e in t)this._lightMyRequest.trailers[e.toLowerCase().trim()]=t[e].toString().trim()};function G_t(t){t._lightMyRequest.headers===null&&_me(t),X_t(t);let e={raw:{res:t},headers:t._lightMyRequest.headers,statusCode:t.statusCode,statusMessage:t.statusMessage,trailers:{},get cookies(){return W_t.parse(this)}},r=Buffer.concat(t._lightMyRequest.payloadChunks);return e.rawPayload=r,e.payload=r.toString(),e.body=e.payload,e.trailers=t._lightMyRequest.trailers,e.json=function(){return JSON.parse(e.payload)},e.stream=function(){return z_t.from(t._lightMyRequest.payloadChunks)},e}function K_t(){return new H_t({write(t,e,r){setImmediate(r)}})}function X_t(t){let e=t._lightMyRequest.headers;for(let r of Object.keys(e)){let n=e[r];Array.isArray(n)?e[r]=n.map(i=>""+i):e[r]=""+n}}function _me(t){t._lightMyRequest.headers=Object.assign({},t.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(e=>{let r=new RegExp("\\r\\n"+e+": ([^\\r]*)\\r\\n"),n=t._header.match(r);n&&(t._lightMyRequest.headers[e.toLowerCase()]=n[1])})}vme.exports=Pl});var bme=v((mIr,m4)=>{"use strict";m4.exports=An;m4.exports.default=An;var J_t={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function An(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:i=t}={}){let s=null,o=0,a=o,u=!1,c=null,f=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.url===void 0&&(b="url")){let O={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};s===null?s=[O]:s.push(O),o++}}var h=f===o;h&&(u=!0,c=0);let d=o;if(t&&typeof t=="object"&&!Array.isArray(t)){let b;if(t.path===void 0&&(b="path")){let O={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"};s===null?s=[O]:s.push(O),o++}}var h=d===o;if(h&&u?(u=!1,c=[c,1]):h&&(u=!0,c=1),u)o=a,s!==null&&(a?s.length=a:s=null);else{let b={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:c},message:"must match exactly one schema in oneOf"};return s===null?s=[b]:s.push(b),o++,An.errors=s,!1}if(o===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.url!==void 0){let b=t.url,O=o,M=o,x=!1,I=null,P=o;if(typeof b!="string"){let $=typeof b,D;if(D===void 0)if($=="number"||$=="boolean")D=""+b;else if(b===null)D="";else{let L={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[L]:s.push(L),o++}D!==void 0&&(b=D,t!==void 0&&(t.url=D))}var m=P===o;m&&(x=!0,I=0);let F=o;if(o===F)if(b&&typeof b=="object"&&!Array.isArray(b)){let $;if(b.pathname===void 0&&($="pathname")){let D={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:$},message:"must have required property '"+$+"'"};s===null?s=[D]:s.push(D),o++}else{if(b.protocol!==void 0){let D=b.protocol,L=o;if(typeof D!="string"){let z=typeof D,ee;if(ee===void 0)if(z=="number"||z=="boolean")ee=""+D;else if(D===null)ee="";else{let N={instancePath:e+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[N]:s.push(N),o++}ee!==void 0&&(D=ee,b!==void 0&&(b.protocol=ee))}var p=L===o}else var p=!0;if(p){if(b.hostname!==void 0){let D=b.hostname,L=o;if(typeof D!="string"){let ee=typeof D,N;if(N===void 0)if(ee=="number"||ee=="boolean")N=""+D;else if(D===null)N="";else{let H={instancePath:e+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[H]:s.push(H),o++}N!==void 0&&(D=N,b!==void 0&&(b.hostname=N))}var p=L===o}else var p=!0;if(p)if(b.pathname!==void 0){let D=b.pathname,L=o;if(typeof D!="string"){let ee=typeof D,N;if(N===void 0)if(ee=="number"||ee=="boolean")N=""+D;else if(D===null)N="";else{let H={instancePath:e+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[H]:s.push(H),o++}N!==void 0&&(D=N,b!==void 0&&(b.pathname=N))}var p=L===o}else var p=!0}}}else{let $={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[$]:s.push($),o++}var m=F===o;if(m&&x?(x=!1,I=[I,1]):m&&(x=!0,I=1),x)o=M,s!==null&&(M?s.length=M:s=null);else{let $={instancePath:e+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:I},message:"must match exactly one schema in oneOf"};return s===null?s=[$]:s.push($),o++,An.errors=s,!1}var g=O===o}else var g=!0;if(g){if(t.path!==void 0){let b=t.path,O=o,M=o,x=!1,I=null,P=o;if(typeof b!="string"){let D=typeof b,L;if(L===void 0)if(D=="number"||D=="boolean")L=""+b;else if(b===null)L="";else{let z={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[z]:s.push(z),o++}L!==void 0&&(b=L,t!==void 0&&(t.path=L))}var w=P===o;w&&(x=!0,I=0);let F=o;if(o===F)if(b&&typeof b=="object"&&!Array.isArray(b)){let D;if(b.pathname===void 0&&(D="pathname")){let L={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"};s===null?s=[L]:s.push(L),o++}else{if(b.protocol!==void 0){let L=b.protocol,z=o;if(typeof L!="string"){let ee=typeof L,N;if(N===void 0)if(ee=="number"||ee=="boolean")N=""+L;else if(L===null)N="";else{let H={instancePath:e+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[H]:s.push(H),o++}N!==void 0&&(L=N,b!==void 0&&(b.protocol=N))}var y=z===o}else var y=!0;if(y){if(b.hostname!==void 0){let L=b.hostname,z=o;if(typeof L!="string"){let N=typeof L,H;if(H===void 0)if(N=="number"||N=="boolean")H=""+L;else if(L===null)H="";else{let X={instancePath:e+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[X]:s.push(X),o++}H!==void 0&&(L=H,b!==void 0&&(b.hostname=H))}var y=z===o}else var y=!0;if(y)if(b.pathname!==void 0){let L=b.pathname,z=o;if(typeof L!="string"){let N=typeof L,H;if(H===void 0)if(N=="number"||N=="boolean")H=""+L;else if(L===null)H="";else{let X={instancePath:e+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[X]:s.push(X),o++}H!==void 0&&(L=H,b!==void 0&&(b.pathname=H))}var y=z===o}else var y=!0}}}else{let D={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[D]:s.push(D),o++}var w=F===o;if(w&&x?(x=!1,I=[I,1]):w&&(x=!0,I=1),x)o=M,s!==null&&(M?s.length=M:s=null);else{let D={instancePath:e+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:I},message:"must match exactly one schema in oneOf"};return s===null?s=[D]:s.push(D),o++,An.errors=s,!1}var g=O===o}else var g=!0;if(g){if(t.cookies!==void 0){let b=t.cookies,O=o;if(o===O&&!(b&&typeof b=="object"&&!Array.isArray(b)))return An.errors=[{instancePath:e+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=O===o}else var g=!0;if(g){if(t.headers!==void 0){let b=t.headers,O=o;if(o===O&&!(b&&typeof b=="object"&&!Array.isArray(b)))return An.errors=[{instancePath:e+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=O===o}else var g=!0;if(g){if(t.query!==void 0){let b=t.query,O=o,M=o,x=!1,I=o;if(o===I&&!(b&&typeof b=="object"&&!Array.isArray(b))){let F={instancePath:e+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[F]:s.push(F),o++}var S=I===o;if(x=x||S,!x){let F=o;if(typeof b!="string"){let D=typeof b,L;if(L===void 0)if(D=="number"||D=="boolean")L=""+b;else if(b===null)L="";else{let z={instancePath:e+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[z]:s.push(z),o++}L!==void 0&&(b=L,t!==void 0&&(t.query=L))}var S=F===o;x=x||S}if(x)o=M,s!==null&&(M?s.length=M:s=null);else{let F={instancePath:e+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[F]:s.push(F),o++,An.errors=s,!1}var g=O===o}else var g=!0;if(g){if(t.simulate!==void 0){let b=t.simulate,O=o;if(o===O)if(b&&typeof b=="object"&&!Array.isArray(b)){if(b.end!==void 0){let x=b.end,I=o;if(typeof x!="boolean"){let P;if(P===void 0)if(x==="false"||x===0||x===null)P=!1;else if(x==="true"||x===1)P=!0;else return An.errors=[{instancePath:e+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;P!==void 0&&(x=P,b!==void 0&&(b.end=P))}var E=I===o}else var E=!0;if(E){if(b.split!==void 0){let x=b.split,I=o;if(typeof x!="boolean"){let F;if(F===void 0)if(x==="false"||x===0||x===null)F=!1;else if(x==="true"||x===1)F=!0;else return An.errors=[{instancePath:e+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;F!==void 0&&(x=F,b!==void 0&&(b.split=F))}var E=I===o}else var E=!0;if(E){if(b.error!==void 0){let x=b.error,I=o;if(typeof x!="boolean"){let F;if(F===void 0)if(x==="false"||x===0||x===null)F=!1;else if(x==="true"||x===1)F=!0;else return An.errors=[{instancePath:e+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;F!==void 0&&(x=F,b!==void 0&&(b.error=F))}var E=I===o}else var E=!0;if(E)if(b.close!==void 0){let x=b.close,I=o;if(typeof x!="boolean"){let F;if(F===void 0)if(x==="false"||x===0||x===null)F=!1;else if(x==="true"||x===1)F=!0;else return An.errors=[{instancePath:e+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;F!==void 0&&(x=F,b!==void 0&&(b.close=F))}var E=I===o}else var E=!0}}}else return An.errors=[{instancePath:e+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var g=O===o}else var g=!0;if(g){if(t.authority!==void 0){let b=t.authority,O=o;if(typeof b!="string"){let x=typeof b,I;if(I===void 0)if(x=="number"||x=="boolean")I=""+b;else if(b===null)I="";else return An.errors=[{instancePath:e+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I!==void 0&&(b=I,t!==void 0&&(t.authority=I))}var g=O===o}else var g=!0;if(g){if(t.remoteAddress!==void 0){let b=t.remoteAddress,O=o;if(typeof b!="string"){let x=typeof b,I;if(I===void 0)if(x=="number"||x=="boolean")I=""+b;else if(b===null)I="";else return An.errors=[{instancePath:e+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I!==void 0&&(b=I,t!==void 0&&(t.remoteAddress=I))}var g=O===o}else var g=!0;if(g){if(t.method!==void 0){let b=t.method,O=o;if(typeof b!="string"){let x=typeof b,I;if(I===void 0)if(x=="number"||x=="boolean")I=""+b;else if(b===null)I="";else return An.errors=[{instancePath:e+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I!==void 0&&(b=I,t!==void 0&&(t.method=I))}if(!(b==="ACL"||b==="BIND"||b==="CHECKOUT"||b==="CONNECT"||b==="COPY"||b==="DELETE"||b==="GET"||b==="HEAD"||b==="LINK"||b==="LOCK"||b==="M-SEARCH"||b==="MERGE"||b==="MKACTIVITY"||b==="MKCALENDAR"||b==="MKCOL"||b==="MOVE"||b==="NOTIFY"||b==="OPTIONS"||b==="PATCH"||b==="POST"||b==="PROPFIND"||b==="PROPPATCH"||b==="PURGE"||b==="PUT"||b==="REBIND"||b==="REPORT"||b==="SEARCH"||b==="SOURCE"||b==="SUBSCRIBE"||b==="TRACE"||b==="UNBIND"||b==="UNLINK"||b==="UNLOCK"||b==="UNSUBSCRIBE"||b==="acl"||b==="bind"||b==="checkout"||b==="connect"||b==="copy"||b==="delete"||b==="get"||b==="head"||b==="link"||b==="lock"||b==="m-search"||b==="merge"||b==="mkactivity"||b==="mkcalendar"||b==="mkcol"||b==="move"||b==="notify"||b==="options"||b==="patch"||b==="post"||b==="propfind"||b==="proppatch"||b==="purge"||b==="put"||b==="rebind"||b==="report"||b==="search"||b==="source"||b==="subscribe"||b==="trace"||b==="unbind"||b==="unlink"||b==="unlock"||b==="unsubscribe"))return An.errors=[{instancePath:e+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:J_t.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var g=O===o}else var g=!0;if(g)if(t.validate!==void 0){let b=t.validate,O=o;if(typeof b!="boolean"){let x;if(x===void 0)if(b==="false"||b===0||b===null)x=!1;else if(b==="true"||b===1)x=!0;else return An.errors=[{instancePath:e+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;x!==void 0&&(b=x,t!==void 0&&(t.validate=x))}var g=O===o}else var g=!0}}}}}}}}}else return An.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return An.errors=s,o===0}});var Tme=v((gIr,Ew)=>{"use strict";var Z_t=require("node:assert"),g4=mme(),rA=wme(),iA="The dispatch function has already been invoked",Eme=bme();function y4(t,e,r){return r===void 0?new bw(t,e):nA(t,e,r)}function Sme(t,e,r,n){return r.once("error",function(i){this.destroyed&&n.destroy(i)}),r.once("close",function(){this.destroyed&&!this._error&&n.destroy()}),r.prepare(()=>t.call(e,r,n))}function nA(t,e,r){if(e=typeof e=="string"?{url:e}:e,e.validate!==!1&&(Z_t(typeof t=="function","dispatchFunc should be a function"),!Eme(e)))throw new Error(Eme.errors.map(o=>o.message));let n=e.server||{},i=e.Request?g4.CustomRequest:g4;if(t.request&&t.request.app===t&&(Object.setPrototypeOf(Object.getPrototypeOf(t.request),i.prototype),Object.setPrototypeOf(Object.getPrototypeOf(t.response),rA.prototype)),typeof r=="function"){let s=new i(e),o=new rA(s,r);return Sme(t,n,s,o)}else return new Promise((s,o)=>{let a=new i(e),u=new rA(a,s,o);Sme(t,n,a,u)})}function bw(t,e){typeof e=="string"?this.option={url:e}:this.option=Object.assign({},e),this.dispatch=t,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var Y_t=["delete","get","head","options","patch","post","put","trace"];Y_t.forEach(t=>{bw.prototype[t]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(iA);return this.option.url=e,this.option.method=t.toUpperCase(),this}});var Q_t=["body","cookies","headers","payload","query"];Q_t.forEach(t=>{bw.prototype[t]=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(iA);return this.option[t]=e,this}});bw.prototype.end=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(iA);if(this._hasInvoked=!0,typeof t=="function")nA(this.dispatch,this.option,t);else return this._promise=nA(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(t=>{t!=="constructor"&&(bw.prototype[t]=function(...e){if(!this._promise){if(this._hasInvoked===!0)throw new Error(iA);this._hasInvoked=!0,this._promise=nA(this.dispatch,this.option)}return this._promise[t](...e)})});function e0t(t){return t instanceof g4||t instanceof rA||t&&t.constructor&&t.constructor.name==="_CustomLMRRequest"}Ew.exports=y4;Ew.exports.default=y4;Ew.exports.inject=y4;Ew.exports.isInjection=e0t});var $me=v((yIr,Rw)=>{"use strict";var t0t="4.29.1",r0t=cre(),_4=require("node:http"),Sw,{kAvvioBoot:Tw,kChildren:v4,kServerBindings:Cme,kBodyLimit:n0t,kRoutePrefix:xme,kLogLevel:i0t,kLogSerializers:s0t,kHooks:w4,kSchemaController:Il,kRequestAcceptVersion:o0t,kReplySerializerDefault:Rme,kContentTypeParser:a0t,kReply:u0t,kRequest:c0t,kFourOhFour:l0t,kState:Cn,kOptions:b4,kPluginNameChain:Cw,kSchemaErrorFormatter:E4,kErrorHandler:sA,kKeepAliveConnections:S4,kChildLoggerFactory:T4,kGenReqId:C4}=Hn(),{createServer:f0t,compileValidateHTTPVersion:d0t}=kre(),xw=ox(),oA=Sx(),h0t=Tx(),{supportedMethods:p0t}=dU(),wg=yU(),nh=AU(),Ame=PB(),{Hooks:m0t,hookRunnerApplication:Pme,supportedHooks:x4}=ol(),{createLogger:g0t,createChildLogger:Ime,defaultChildLoggerFactory:y0t}=ov(),Ome=FB(),{getGenReqId:kme,reqIdGenFactory:Nme}=kR(),{buildRouting:_0t,validateBodyLimitOption:v0t}=qpe(),w0t=Vpe(),qme=Kpe(),b0t=nme(),{FSTDEP009:E0t}=La(),S0t=sme(),{appendStackTrace:T0t,AVVIO_ERRORS_MAP:Dme,...ih}=vi(),{defaultInitOptions:Ss}=qme,{FST_ERR_ASYNC_CONSTRAINT:C0t,FST_ERR_BAD_URL:x0t,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:R0t,FST_ERR_OPTIONS_NOT_OBJ:A0t,FST_ERR_QSP_NOT_FN:P0t,FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:I0t,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:O0t,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:k0t,FST_ERR_VERSION_CONSTRAINT_NOT_STR:N0t,FST_ERR_INSTANCE_ALREADY_LISTENING:D0t,FST_ERR_REOPENED_CLOSE_SERVER:F0t,FST_ERR_ROUTE_REWRITE_NOT_STR:L0t,FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:Fme,FST_ERR_ERROR_HANDLER_NOT_FN:M0t}=ih,{buildErrorHandler:Lme}=uv();function q0t(t){let e={};return["errorHandler","logLevel","logSerializers"].concat(x4).forEach(n=>{e[n]=t.store[n]}),Object.assign({},e)}function R4(t){if(t=t||{},typeof t!="object")throw new A0t;if(t.querystringParser&&typeof t.querystringParser!="function")throw new P0t(typeof t.querystringParser);if(t.schemaController&&t.schemaController.bucket&&typeof t.schemaController.bucket!="function")throw new I0t(typeof t.schemaController.bucket);v0t(t.bodyLimit);let e=t.requestIdHeader===!1?!1:(t.requestIdHeader||Ss.requestIdHeader).toLowerCase(),r=Nme(e,t.genReqId),n=t.requestIdLogLabel||"reqId",i=t.bodyLimit||Ss.bodyLimit,s=t.disableRequestLogging||!1,o=Object.assign({customOptions:{},plugins:[]},t.ajv),a=t.frameworkErrors;if(!o.customOptions||Object.prototype.toString.call(o.customOptions)!=="[object Object]")throw new O0t(typeof o.customOptions);if(!o.plugins||!Array.isArray(o.plugins))throw new k0t(typeof o.plugins);let{logger:u,hasLogger:c}=g0t(t);t.connectionTimeout=t.connectionTimeout||Ss.connectionTimeout,t.keepAliveTimeout=t.keepAliveTimeout||Ss.keepAliveTimeout,t.maxRequestsPerSocket=t.maxRequestsPerSocket||Ss.maxRequestsPerSocket,t.requestTimeout=t.requestTimeout||Ss.requestTimeout,t.logger=u,t.requestIdHeader=e,t.requestIdLogLabel=n,t.disableRequestLogging=s,t.ajv=o,t.clientErrorHandler=t.clientErrorHandler||H;let f=qme(t);t.exposeHeadRoutes=f.exposeHeadRoutes;let d=t.constraints;t.versioning&&(E0t(),d={...d,version:{name:"version",mustMatchWhenDerived:!0,storage:t.versioning.storage,deriveConstraint:t.versioning.deriveVersion,validate(se){if(typeof se!="string")throw new N0t}}});let h=_0t({config:{defaultRoute:X,onBadUrl:V,constraints:d,ignoreTrailingSlash:t.ignoreTrailingSlash||Ss.ignoreTrailingSlash,ignoreDuplicateSlashes:t.ignoreDuplicateSlashes||Ss.ignoreDuplicateSlashes,maxParamLength:t.maxParamLength||Ss.maxParamLength,caseSensitive:t.caseSensitive,allowUnsafeRegex:t.allowUnsafeRegex||Ss.allowUnsafeRegex,buildPrettyMeta:q0t,querystringParser:t.querystringParser,useSemicolonDelimiter:t.useSemicolonDelimiter??Ss.useSemicolonDelimiter}}),p=w0t(t),m=dt(h,t);t.http2SessionTimeout=f.http2SessionTimeout;let{server:g,listen:y}=f0t(t,m),w=typeof g.closeAllConnections=="function",S=typeof g.closeIdleConnections=="function",E=t.forceCloseConnections;if(E==="idle"&&!S)throw new R0t;typeof E!="boolean"&&(E=S?"idle":!1);let b=!w&&E===!0?new Set:S0t(),O=xw.setupResponseListeners,M=Ame.buildSchemaController(null,t.schemaController),x={[Cn]:{listening:!1,closing:!1,started:!1,ready:!1,booting:!1,readyPromise:null},[S4]:b,[b4]:t,[v4]:[],[Cme]:[],[n0t]:i,[xme]:"",[i0t]:"",[s0t]:null,[w4]:new m0t,[Il]:M,[E4]:null,[sA]:Lme(),[T4]:y0t,[Rme]:null,[a0t]:new nh(i,t.onProtoPoisoning||Ss.onProtoPoisoning,t.onConstructorPoisoning||Ss.onConstructorPoisoning),[u0t]:xw.buildReply(xw),[c0t]:oA.buildRequest(oA,t.trustProxy),[l0t]:p,[Ome.kRegisteredPlugins]:[],[Cw]:["fastify"],[Tw]:null,[C4]:r,routing:m,getDefaultRoute:h.getDefaultRoute.bind(h),setDefaultRoute:h.setDefaultRoute.bind(h),delete:function(Se,Ne,je){return h.prepareRoute.call(this,{method:"DELETE",url:Se,options:Ne,handler:je})},get:function(Se,Ne,je){return h.prepareRoute.call(this,{method:"GET",url:Se,options:Ne,handler:je})},head:function(Se,Ne,je){return h.prepareRoute.call(this,{method:"HEAD",url:Se,options:Ne,handler:je})},patch:function(Se,Ne,je){return h.prepareRoute.call(this,{method:"PATCH",url:Se,options:Ne,handler:je})},post:function(Se,Ne,je){return h.prepareRoute.call(this,{method:"POST",url:Se,options:Ne,handler:je})},put:function(Se,Ne,je){return h.prepareRoute.call(this,{method:"PUT",url:Se,options:Ne,handler:je})},options:function(Se,Ne,je){return h.prepareRoute.call(this,{method:"OPTIONS",url:Se,options:Ne,handler:je})},all:function(Se,Ne,je){return h.prepareRoute.call(this,{method:p0t,url:Se,options:Ne,handler:je})},route:function(Se){return h.route.call(this,{options:Se})},hasRoute:function(Se){return h.hasRoute.call(this,{options:Se})},findRoute:function(Se){return h.findRoute(Se)},log:u,withTypeProvider:z,addHook:ee,addSchema:N,getSchema:M.getSchema.bind(M),getSchemas:M.getSchemas.bind(M),setValidatorCompiler:xe,setSerializerCompiler:ut,setSchemaController:Me,setReplySerializer:Tt,setSchemaErrorFormatter:De,setGenReqId:st,addContentTypeParser:nh.helpers.addContentTypeParser,hasContentTypeParser:nh.helpers.hasContentTypeParser,getDefaultJsonParser:nh.defaultParsers.getDefaultJsonParser,defaultTextParser:nh.defaultParsers.defaultTextParser,removeContentTypeParser:nh.helpers.removeContentTypeParser,removeAllContentTypeParsers:nh.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function(se){return this[Ome.kRegisteredPlugins].includes(se)||this[Cw].includes(se)},listen:y,server:g,addresses:function(){let se=this[Cme].map(Se=>Se.address());return se.push(this.server.address()),se.filter(Se=>Se)},decorate:wg.add,hasDecorator:wg.exist,decorateReply:wg.decorateReply,decorateRequest:wg.decorateRequest,hasRequestDecorator:wg.existRequest,hasReplyDecorator:wg.existReply,inject:D,printRoutes:kt,setNotFoundHandler:_e,setErrorHandler:Ue,setChildLoggerFactory:We,initialConfig:f,addConstraintStrategy:h.addConstraintStrategy.bind(h),hasConstraintStrategy:h.hasConstraintStrategy.bind(h)};Object.defineProperties(x,{listeningOrigin:{get(){let se=this.addresses().slice(-1).pop();if(typeof se=="string")return se;let Se=se.family==="IPv6"?`[${se.address}]`:se.address;return`${this[b4].https?"https":"http"}://${Se}:${se.port}`}},pluginName:{configurable:!0,get(){return this[Cw].length>1?this[Cw].join(" -> "):this[Cw][0]}},prefix:{configurable:!0,get(){return this[xme]}},validatorCompiler:{configurable:!0,get(){return this[Il].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[Il].getSerializerCompiler()}},childLoggerFactory:{configurable:!0,get(){return this[T4]}},version:{configurable:!0,get(){return t0t}},errorHandler:{configurable:!0,get(){return this[sA].func}},genReqId:{configurable:!0,get(){return this[C4]}}}),t.schemaErrorFormatter&&(Mme(t.schemaErrorFormatter),x[E4]=t.schemaErrorFormatter.bind(x));let I=Number(t.pluginTimeout),P=r0t(x,{autostart:!1,timeout:isNaN(I)===!1?I:Ss.pluginTimeout,expose:{use:"register"}});P.override=b0t,P.on("start",()=>x[Cn].started=!0),x[Tw]=x.ready,x.ready=L,x.printPlugins=P.prettyPrint.bind(P),P.once("preReady",()=>{x.onClose((se,Se)=>{x[Cn].closing=!0,h.closeRoutes(),Pme("preClose",x[Tw],x,function(){if(x[Cn].listening){if(E==="idle")se.server.closeIdleConnections();else if(w&&E)se.server.closeAllConnections();else if(E===!0)for(let Ne of x[S4])Ne.destroy(),x[S4].delete(Ne)}!t.serverFactory||x[Cn].listening?se.server.close(function(Ne){Ne&&Ne.code!=="ERR_SERVER_NOT_RUNNING"?Se(null):Se()}):process.nextTick(Se,null)})})});let F=new h0t({server:x,config:{}});x.setNotFoundHandler(),p.arrange404(x),h.setup(t,{avvio:P,fourOhFour:p,logger:u,hasLogger:c,setupResponseListeners:O,throwIfAlreadyStarted:$,validateHTTPVersion:d0t(t),keepAliveConnections:b}),g.on("clientError",t.clientErrorHandler.bind(x));try{let Se=require("node:diagnostics_channel").channel("fastify.initialization");Se.hasSubscribers&&Se.publish({fastify:x})}catch{}return"asyncDispose"in Symbol&&(x[Symbol.asyncDispose]=function(){return x.close()}),x;function $(se){if(x[Cn].started)throw new D0t(se)}function D(se,Se){if(Sw===void 0&&(Sw=Tme()),x[Cn].started){if(x[Cn].closing){let Ne=new F0t;if(Se){Se(Ne);return}else return Promise.reject(Ne)}return Sw(m,se,Se)}if(Se)this.ready(Ne=>{Ne?Se(Ne,null):Sw(m,se,Se)});else return Sw((Ne,je)=>{this.ready(function(ht){if(ht){je.emit("error",ht);return}m(Ne,je)})},se)}function L(se){if(this[Cn].readyPromise!==null){if(se!=null){this[Cn].readyPromise.then(()=>se(null,x),se);return}return this[Cn].readyPromise}let Se,Ne;if(process.nextTick(je),this[Cn].readyPromise=new Promise(function(Ve,xt){Se=Ve,Ne=xt}),se)this[Cn].readyPromise.then(()=>se(null,x),se);else return this[Cn].readyPromise;function je(){x[Tw]((Ve,xt)=>{Ve||x[Cn].started||x[Cn].ready||x[Cn].booting?ht(Ve):(x[Cn].booting=!0,Pme("onReady",x[Tw],x,ht)),xt()})}function ht(Ve){if(Ve=Ve!=null&&Dme[Ve.code]!=null?T0t(Ve,new Dme[Ve.code](Ve.message)):Ve,Ve)return Ne(Ve);Se(x),x[Cn].booting=!1,x[Cn].ready=!0,x[Cn].promise=null}}function z(){return this}function ee(se,Se){if($('Cannot call "addHook"!'),Se==null)throw new ih.FST_ERR_HOOK_INVALID_HANDLER(se,Se);if(se==="onSend"||se==="preSerialization"||se==="onError"||se==="preParsing"){if(Se.constructor.name==="AsyncFunction"&&Se.length===4)throw new ih.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(se==="onReady"||se==="onListen"){if(Se.constructor.name==="AsyncFunction"&&Se.length!==0)throw new ih.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(se==="onRequestAbort"){if(Se.constructor.name==="AsyncFunction"&&Se.length!==1)throw new ih.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(Se.constructor.name==="AsyncFunction"&&Se.length===3)throw new ih.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return se==="onClose"?this.onClose(Se.bind(this)):se==="onReady"||se==="onListen"||se==="onRoute"?this[w4].add(se,Se):this.after((je,ht)=>{Ne.call(this,se,Se),ht(je)}),this;function Ne(je,ht){this[w4].add(je,ht),this[v4].forEach(Ve=>Ne.call(Ve,je,ht))}}function N(se){return $('Cannot call "addSchema"!'),this[Il].add(se),this[v4].forEach(Se=>Se.addSchema(se)),this}function H(se,Se){if(se.code==="ECONNRESET"||Se.destroyed)return;let Ne,je,ht,Ve;se.code==="ERR_HTTP_REQUEST_TIMEOUT"?(je="408",ht=_4.STATUS_CODES[je],Ne=`{"error":"${ht}","message":"Client Timeout","statusCode":408}`,Ve="timeout"):se.code==="HPE_HEADER_OVERFLOW"?(je="431",ht=_4.STATUS_CODES[je],Ne=`{"error":"${ht}","message":"Exceeded maximum allowed HTTP header size","statusCode":431}`,Ve="header_overflow"):(je="400",ht=_4.STATUS_CODES[je],Ne=`{"error":"${ht}","message":"Client Error","statusCode":400}`,Ve="error"),this.log.trace({err:se},`client ${Ve}`),Se.writable&&Se.write(`HTTP/1.1 ${je} ${ht}\r
Content-Length: ${Ne.length}\r
Content-Type: application/json\r
\r
${Ne}`),Se.destroy(se)}function X(se,Se){se.headers["accept-version"]!==void 0&&(se.headers[o0t]=se.headers["accept-version"],se.headers["accept-version"]=void 0),p.router.lookup(se,Se)}function V(se,Se,Ne){if(a){let ht=kme(F.server,Se),Ve=Ime(F,u,Se,ht),xt=new oA(ht,null,Se,null,Ve,F),jn=new xw(Ne,xt,Ve);return s===!1&&Ve.info({req:xt},"incoming request"),a(new x0t(se),xt,jn)}let je=`{"error":"Bad Request","code":"FST_ERR_BAD_URL","message":"'${se}' is not a valid url component","statusCode":400}`;Ne.writeHead(400,{"Content-Type":"application/json","Content-Length":je.length}),Ne.end(je)}function ue(se,Se,Ne){if(se!==!1)return function(ht){if(ht){if(a){let xt=kme(F.server,Se),jn=Ime(F,u,Se,xt),zt=new oA(xt,null,Se,null,jn,F),vn=new xw(Ne,zt,jn);return s===!1&&jn.info({req:zt},"incoming request"),a(new C0t,zt,vn)}let Ve='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';Ne.writeHead(500,{"Content-Type":"application/json","Content-Length":Ve.length}),Ne.end(Ve)}}}function _e(se,Se){return $('Cannot call "setNotFoundHandler"!'),p.setNotFoundHandler.call(this,se,Se,P,h.routeHandler),this}function xe(se){return $('Cannot call "setValidatorCompiler"!'),this[Il].setValidatorCompiler(se),this}function De(se){return $('Cannot call "setSchemaErrorFormatter"!'),Mme(se),this[E4]=se.bind(this),this}function ut(se){return $('Cannot call "setSerializerCompiler"!'),this[Il].setSerializerCompiler(se),this}function Me(se){$('Cannot call "setSchemaController"!');let Se=this[Il],Ne=Ame.buildSchemaController(Se,Object.assign({},Se.opts,se));return this[Il]=Ne,this.getSchema=Ne.getSchema.bind(Ne),this.getSchemas=Ne.getSchemas.bind(Ne),this}function Tt(se){return $('Cannot call "setReplySerializer"!'),this[Rme]=se,this}function Ue(se){if($('Cannot call "setErrorHandler"!'),typeof se!="function")throw new M0t;return this[sA]=Lme(this[sA],se.bind(this)),this}function We(se){return $('Cannot call "setChildLoggerFactory"!'),this[T4]=se,this}function kt(se={}){return se.includeMeta=se.includeHooks?se.includeMeta?x4.concat(se.includeMeta):x4:se.includeMeta,h.printRoutes(se)}function dt(se,{rewriteUrl:Se,logger:Ne}){let je;return function(Ve,xt){if(je===void 0&&(je=se.isAsyncConstraint()),Se){Ve.originalUrl=Ve.url;let jn=Se.call(x,Ve);if(typeof jn=="string")Ve.url=jn;else{let zt=new L0t(Ve.url,typeof jn);Ve.destroy(zt)}}se.routing(Ve,xt,ue(je,Ve,xt))}}function st(se){return $('Cannot call "setGenReqId"!'),this[C4]=Nme(this[b4].requestIdHeader,se),this}}function Mme(t){if(typeof t!="function")throw new Fme(typeof t);if(t.constructor.name==="AsyncFunction")throw new Fme("AsyncFunction")}Rw.exports=R4;Rw.exports.errorCodes=ih;Rw.exports.fastify=R4;Rw.exports.default=R4});var jme=v((_Ir,A4)=>{"use strict";var $0t=/at\s{1}(?:.*\.)?plugin\s{1}.*\n\s*(.*)/,U0t=/(\w*(\.\w*)*)\..*/;A4.exports=function(e){if(e.name.length>0)return e.name;let r=Error.stackTraceLimit;Error.stackTraceLimit=10;try{throw new Error("anonymous function")}catch(n){return Error.stackTraceLimit=r,Ume(n.stack)}};function Ume(t){let e=t.match($0t);return e?e[1].split(/[/\\]/).slice(-1)[0].match(U0t)[1]:"anonymous"}A4.exports.extractPluginName=Ume});var Hme=v((vIr,Bme)=>{"use strict";Bme.exports=function(e){return e[0]==="@"&&(e=e.slice(1).replace("/","-")),e.replace(/-(.)/g,function(n,i){return i.toUpperCase()})}});var sh=v((wIr,aA)=>{"use strict";var j0t=jme(),B0t=Hme(),H0t=0;function P4(t,e={}){let r=!1;if(typeof t.default<"u"&&(t=t.default),typeof t!="function")throw new TypeError(`fastify-plugin expects a function, instead got a '${typeof t}'`);if(typeof e=="string"&&(e={fastify:e}),typeof e!="object"||Array.isArray(e)||e===null)throw new TypeError("The options object should be an object");if(e.fastify!==void 0&&typeof e.fastify!="string")throw new TypeError(`fastify-plugin expects a version string, instead got '${typeof e.fastify}'`);e.name||(r=!0,e.name=j0t(t)+"-auto-"+H0t++),t[Symbol.for("skip-override")]=e.encapsulate!==!0,t[Symbol.for("fastify.display-name")]=e.name,t[Symbol.for("plugin-meta")]=e,t.default||(t.default=t);let n=B0t(e.name);return!r&&!t[n]&&(t[n]=t),t}aA.exports=P4;aA.exports.default=P4;aA.exports.fastifyPlugin=P4});var Vme=v((bIr,zme)=>{function tu(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(tu.prototype[Symbol.iterator]=function(){return this});tu.of=function(){var t=arguments,e=t.length,r=0;return new tu(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};tu.empty=function(){var t=new tu(function(){return{done:!0}});return t};tu.fromSequence=function(t){var e=0,r=t.length;return new tu(function(){return e>=r?{done:!0}:{done:!1,value:t[e++]}})};tu.is=function(t){return t instanceof tu?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};zme.exports=tu});var Wme=v(I4=>{I4.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";I4.SYMBOL_SUPPORT=typeof Symbol<"u"});var O4=v((SIr,Kme)=>{var Gme=Wme(),z0t=Gme.ARRAY_BUFFER_SUPPORT,V0t=Gme.SYMBOL_SUPPORT;Kme.exports=function(e,r){var n,i,s,o,a;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||z0t&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)r(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(r);return}if(V0t&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(n=e,s=0;a=n.next(),a.done!==!0;)r(a.value,s),s++;return}for(i in e)e.hasOwnProperty(i)&&r(e[i],i)}});var k4=v(ru=>{var W0t=Math.pow(2,8)-1,G0t=Math.pow(2,16)-1,K0t=Math.pow(2,32)-1,X0t=Math.pow(2,7)-1,J0t=Math.pow(2,15)-1,Z0t=Math.pow(2,31)-1;ru.getPointerArray=function(t){var e=t-1;if(e<=W0t)return Uint8Array;if(e<=G0t)return Uint16Array;if(e<=K0t)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")};ru.getSignedPointerArray=function(t){var e=t-1;return e<=X0t?Int8Array:e<=J0t?Int16Array:e<=Z0t?Int32Array:Float64Array};ru.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var Y0t={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};ru.getMinimalRepresentation=function(t,e){var r=null,n=0,i,s,o,a,u;for(a=0,u=t.length;a<u;a++)o=e?e(t[a]):t[a],s=ru.getNumberType(o),i=Y0t[s.name],i>n&&(n=i,r=s);return r};ru.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};ru.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)i.set(arguments[e],r),r+=arguments[e].length;return i};ru.indices=function(t){for(var e=ru.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var Zme=v(Aw=>{var Xme=O4(),Jme=k4();function Q0t(t){return Array.isArray(t)||Jme.isTypedArray(t)}function N4(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function evt(t){var e=N4(t),r=typeof e=="number"?new Array(e):[],n=0;return Xme(t,function(i){r[n++]=i}),r}function tvt(t){var e=N4(t),r=typeof e=="number"?Jme.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],i=typeof e=="number"?new r(e):[],s=0;return Xme(t,function(o){n[s]=o,i[s]=s++}),[n,i]}Aw.isArrayLike=Q0t;Aw.guessLength=N4;Aw.toArray=evt;Aw.toArrayWithIndices=tvt});var Qme=v((xIr,Yme)=>{var D4=Vme(),rvt=O4(),nvt=k4(),ivt=Zme();function Pn(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");if(!isFinite(this.capacity)||Math.floor(this.capacity)!==this.capacity)throw new Error("mnemonist/lru-cache: capacity should be a finite positive integer.");var n=nvt.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Pn.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Pn.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};Pn.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Pn.prototype.setpop=function(t,e){var r=null,n=null,i=this.items[t];return typeof i<"u"?(this.splayOnTop(i),r=this.V[i],this.V[i]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],delete this.items[this.K[i]]),this.items[t]=i,this.K[i]=t,this.V[i]=e,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n?{evicted:!0,key:n,value:r}:null)};Pn.prototype.has=function(t){return t in this.items};Pn.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};Pn.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};Pn.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,i=this.head,s=this.K,o=this.V,a=this.forward;r<n;)t.call(e,o[i],s[i],this),i=a[i],r++};Pn.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.forward;return new D4(function(){if(t>=e)return{done:!0};var s=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:s}})};Pn.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,i=this.forward;return new D4(function(){if(t>=e)return{done:!0};var s=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:s}})};Pn.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.V,s=this.forward;return new D4(function(){if(t>=e)return{done:!0};var o=n[r],a=i[r];return t++,t<e&&(r=s[r]),{done:!1,value:[o,a]}})};typeof Symbol<"u"&&(Pn.prototype[Symbol.iterator]=Pn.prototype.entries);Pn.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:Pn,enumerable:!1}),t};typeof Symbol<"u"&&(Pn.prototype[Symbol.for("nodejs.util.inspect.custom")]=Pn.prototype.inspect);Pn.from=function(t,e,r,n){if(arguments.length<2){if(n=ivt.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var i=new Pn(e,r,n);return rvt(t,function(s,o){i.set(o,s)}),i};Yme.exports=Pn});var tge=v((RIr,Pw)=>{"use strict";var svt=Qme(),ovt=/^[!#$%&'*+\-.^\w`|~]+$/u;function avt(t){if(ovt.test(t)===!1)throw new TypeError("Fieldname contains invalid characters.")}function ege(t){t=t.trim().toLowerCase();let e=[];if(t.length!==0)if(t.indexOf(",")===-1)e.push(t);else{let r=t.length,n=0,i=0,s;for(n=0;n<r;++n)s=t[n],s===" "?i=n+1:s===","&&(i!==n&&e.push(t.slice(i,n)),i=n+1);i!==n&&e.push(t.slice(i,n))}return e}function F4(t){let e=new svt(1e3);return avt(t),function(r){let n=r.getHeader("Vary");if(!n){r.header("Vary",t);return}if(n==="*")return;if(t==="*"){r.header("Vary","*");return}if(Array.isArray(n)&&(n=n.join(", ")),!e.has(n)){let s=ege(n);s.indexOf("*")!==-1?e.set(n,"*"):s.indexOf(t.toLowerCase())===-1?e.set(n,n+", "+t):e.set(n,null)}let i=e.get(n);i!==null&&r.header("Vary",i)}}Pw.exports.createAddFieldnameToVary=F4;Pw.exports.addOriginToVaryHeader=F4("Origin");Pw.exports.addAccessControlRequestHeadersToVaryHeader=F4("Access-Control-Request-Headers");Pw.exports.parse=ege});var oge=v((AIr,cA)=>{"use strict";var uvt=sh(),{addAccessControlRequestHeadersToVaryHeader:cvt,addOriginToVaryHeader:lvt}=tge(),M4={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",hook:"onRequest",preflightContinue:!1,optionsSuccessStatus:204,credentials:!1,exposedHeaders:null,allowedHeaders:null,maxAge:null,preflight:!0,strictPreflight:!0},fvt=["onRequest","preParsing","preValidation","preHandler","preSerialization","onSend"],L4=["preSerialization","preParsing","onSend"];function ige(t,e){fvt.indexOf(t)===-1&&e(new TypeError("@fastify/cors: Invalid hook option provided."))}function dvt(t,e,r){t.decorateRequest("corsPreflightEnabled",!1);let n=!0;if(typeof e=="function")rge(e,t,{hook:M4.hook},r);else if(e.delegator){let{delegator:i,...s}=e;rge(i,t,s,r)}else{e.hideOptionsRoute!==void 0&&(n=e.hideOptionsRoute);let i=uA(e);ige(i.hook,r),L4.indexOf(i.hook)!==-1?t.addHook(i.hook,function(o,a,u,c){Iw(t,i,o,a,c)}):t.addHook(i.hook,function(o,a,u){Iw(t,i,o,a,u)})}t.options("*",{schema:{hide:n}},(i,s)=>{if(!i.corsPreflightEnabled){s.callNotFound();return}s.send()}),r()}function rge(t,e,r,n){let i=r&&r.hook||M4.hook;ige(i,n),t.length===2?L4.indexOf(i)!==-1?e.addHook(i,function(o,a,u,c){nge(t,e,o,a,c)}):e.addHook(i,function(o,a,u){nge(t,e,o,a,u)}):L4.indexOf(i)!==-1?e.addHook(i,function(o,a,u,c){let f=t(o);if(f&&typeof f.then=="function"){f.then(d=>Iw(e,uA(d,!0),o,a,c)).catch(c);return}c(new Error("Invalid CORS origin option"))}):e.addHook(i,function(o,a,u){let c=t(o);if(c&&typeof c.then=="function"){c.then(f=>Iw(e,uA(f,!0),o,a,u)).catch(u);return}u(new Error("Invalid CORS origin option"))})}function nge(t,e,r,n,i){t(r,(s,o)=>{s?i(s):Iw(e,uA(o,!0),r,n,i)})}function uA(t,e){let r={...M4,...t};return Array.isArray(t.origin)&&t.origin.indexOf("*")!==-1&&(r.origin="*"),Number.isInteger(r.cacheControl)?r.cacheControl=`max-age=${r.cacheControl}`:typeof r.cacheControl!="string"&&(r.cacheControl=null),r.dynamic=e||!1,r}function Iw(t,e,r,n,i){(typeof e.origin!="string"&&e.origin!==!1||e.dynamic)&&lvt(n),(typeof e.origin=="function"?mvt(t,e.origin):(o,a)=>a(null,e.origin))(r,(o,a)=>{if(o!==null)return i(o);if(a===!1)return i();if(!a)return i(new Error("Invalid CORS origin option"));if(hvt(r,n,a,e),r.raw.method==="OPTIONS"&&e.preflight===!0){if(e.strictPreflight===!0&&(!r.headers.origin||!r.headers["access-control-request-method"])){n.status(400).type("text/plain").send("Invalid Preflight Request");return}if(r.corsPreflightEnabled=!0,pvt(r,n,e),!e.preflightContinue){n.code(e.optionsSuccessStatus).header("Content-Length","0").send();return}}return i()})}function hvt(t,e,r,n){let i=gvt(t.headers.origin,r);i&&e.header("Access-Control-Allow-Origin",i),n.credentials&&e.header("Access-Control-Allow-Credentials","true"),n.exposedHeaders!==null&&e.header("Access-Control-Expose-Headers",Array.isArray(n.exposedHeaders)?n.exposedHeaders.join(", "):n.exposedHeaders)}function pvt(t,e,r){if(e.header("Access-Control-Allow-Methods",Array.isArray(r.methods)?r.methods.join(", "):r.methods),r.allowedHeaders===null){cvt(e);let n=t.headers["access-control-request-headers"];n!==void 0&&e.header("Access-Control-Allow-Headers",n)}else e.header("Access-Control-Allow-Headers",Array.isArray(r.allowedHeaders)?r.allowedHeaders.join(", "):r.allowedHeaders);r.maxAge!==null&&e.header("Access-Control-Max-Age",String(r.maxAge)),r.cacheControl&&e.header("Cache-Control",r.cacheControl)}function mvt(t,e){return function(r,n){let i=e.call(t,r.headers.origin,n);i&&typeof i.then=="function"&&i.then(s=>n(null,s),n)}}function gvt(t,e){return typeof e=="string"?e:sge(t,e)?t:!1}function sge(t,e){if(Array.isArray(e)){for(let r=0;r<e.length;++r)if(sge(t,e[r]))return!0;return!1}else return typeof e=="string"?t===e:e instanceof RegExp?(e.lastIndex=0,e.test(t)):!!e}var q4=uvt(dvt,{fastify:"4.x",name:"@fastify/cors"});cA.exports=q4;cA.exports.fastifyCors=q4;cA.exports.default=q4});var fge=v((Mr,mA)=>{"use strict";Object.defineProperties(Mr,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var age=Symbol("dangerouslyDisableDefaultSrc"),yvt={"default-src":["'self'"],"base-uri":["'self'"],"font-src":["'self'","https:","data:"],"form-action":["'self'"],"frame-ancestors":["'self'"],"img-src":["'self'","data:"],"object-src":["'none'"],"script-src":["'self'"],"script-src-attr":["'none'"],"style-src":["'self'","https:","'unsafe-inline'"],"upgrade-insecure-requests":[]},_vt=new Set(["none","self","strict-dynamic","report-sample","inline-speculation-rules","unsafe-inline","unsafe-eval","unsafe-hashes","wasm-unsafe-eval"]),uge=()=>Object.assign({},yvt),vvt=t=>t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),cge=t=>/;|,/.test(t),wvt=t=>_vt.has(t)||t.startsWith("nonce-")||t.startsWith("sha256-")||t.startsWith("sha384-")||t.startsWith("sha512-"),lge=t=>{wvt(t)&&console.warn(`Content-Security-Policy got directive value \`${t}\` which should be single-quoted and changed to \`'${t}'\`. This will be an error in future versions of Helmet.`)},bvt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function Evt(t){let e=uge(),{useDefaults:r=!0,directives:n=e}=t,i=new Map,s=new Set,o=new Set;for(let a in n){if(!bvt(n,a))continue;if(a.length===0||/[^a-zA-Z0-9-]/.test(a))throw new Error(`Content-Security-Policy received an invalid directive name ${JSON.stringify(a)}`);let u=vvt(a);if(s.has(u))throw new Error(`Content-Security-Policy received a duplicate directive ${JSON.stringify(u)}`);s.add(u);let c=n[a],f;if(c===null){if(u==="default-src")throw new Error("Content-Security-Policy needs a default-src but it was set to `null`. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.");o.add(u);continue}else if(typeof c=="string")f=[c];else if(c)if(c===age)if(u==="default-src"){o.add("default-src");continue}else throw new Error(`Content-Security-Policy: tried to disable ${JSON.stringify(u)} as if it were default-src; simply omit the key`);else f=c;else throw new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(u)}`);for(let d of f)if(typeof d=="string"){if(cge(d))throw new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(u)}`);lge(d)}i.set(u,f)}if(r&&Object.entries(e).forEach(([a,u])=>{!i.has(a)&&!o.has(a)&&i.set(a,u)}),!i.size)throw new Error("Content-Security-Policy has no directives. Either set some or disable the header");if(!i.has("default-src")&&!o.has("default-src"))throw new Error("Content-Security-Policy needs a default-src but none was provided. If you really want to disable it, set it to `contentSecurityPolicy.dangerouslyDisableDefaultSrc`.");return i}function Svt(t,e,r){let n,i=[];return r.forEach((s,o)=>{let a="";for(let u of s)if(typeof u=="function"){let c=u(t,e);lge(c),a+=" "+c}else a+=" "+u;a?cge(a)?n=new Error(`Content-Security-Policy received an invalid directive value for ${JSON.stringify(o)}`):i.push(`${o}${a}`):i.push(o)}),n||i.join(";")}var bg=function(e={}){let r=e.reportOnly?"Content-Security-Policy-Report-Only":"Content-Security-Policy",n=Evt(e);return function(s,o,a){let u=Svt(s,o,n);u instanceof Error?a(u):(o.setHeader(r,u),a())}};bg.getDefaultDirectives=uge;bg.dangerouslyDisableDefaultSrc=age;var Tvt=new Set(["require-corp","credentialless","unsafe-none"]);function Cvt({policy:t="require-corp"}){if(Tvt.has(t))return t;throw new Error(`Cross-Origin-Embedder-Policy does not support the ${JSON.stringify(t)} policy`)}function lA(t={}){let e=Cvt(t);return function(n,i,s){i.setHeader("Cross-Origin-Embedder-Policy",e),s()}}var xvt=new Set(["same-origin","same-origin-allow-popups","unsafe-none"]);function Rvt({policy:t="same-origin"}){if(xvt.has(t))return t;throw new Error(`Cross-Origin-Opener-Policy does not support the ${JSON.stringify(t)} policy`)}function fA(t={}){let e=Rvt(t);return function(n,i,s){i.setHeader("Cross-Origin-Opener-Policy",e),s()}}var Avt=new Set(["same-origin","same-site","cross-origin"]);function Pvt({policy:t="same-origin"}){if(Avt.has(t))return t;throw new Error(`Cross-Origin-Resource-Policy does not support the ${JSON.stringify(t)} policy`)}function dA(t={}){let e=Pvt(t);return function(n,i,s){i.setHeader("Cross-Origin-Resource-Policy",e),s()}}function hA(){return function(e,r,n){r.setHeader("Origin-Agent-Cluster","?1"),n()}}var Ivt=new Set(["no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url",""]);function Ovt({policy:t=["no-referrer"]}){let e=typeof t=="string"?[t]:t;if(e.length===0)throw new Error("Referrer-Policy received no policy tokens");let r=new Set;return e.forEach(n=>{if(Ivt.has(n)){if(r.has(n))throw new Error(`Referrer-Policy received a duplicate policy token ${JSON.stringify(n)}`)}else throw new Error(`Referrer-Policy received an unexpected policy token ${JSON.stringify(n)}`);r.add(n)}),e.join(",")}function pA(t={}){let e=Ovt(t);return function(n,i,s){i.setHeader("Referrer-Policy",e),s()}}var kvt=4320*60*60;function Nvt(t=kvt){if(t>=0&&Number.isFinite(t))return Math.floor(t);throw new Error(`Strict-Transport-Security: ${JSON.stringify(t)} is not a valid value for maxAge. Please choose a positive integer.`)}function Dvt(t){if("maxage"in t)throw new Error("Strict-Transport-Security received an unsupported property, `maxage`. Did you mean to pass `maxAge`?");"includeSubdomains"in t&&console.warn('Strict-Transport-Security middleware should use `includeSubDomains` instead of `includeSubdomains`. (The correct one has an uppercase "D".)');let e=[`max-age=${Nvt(t.maxAge)}`];return(t.includeSubDomains===void 0||t.includeSubDomains)&&e.push("includeSubDomains"),t.preload&&e.push("preload"),e.join("; ")}function Eg(t={}){let e=Dvt(t);return function(n,i,s){i.setHeader("Strict-Transport-Security",e),s()}}function Sg(){return function(e,r,n){r.setHeader("X-Content-Type-Options","nosniff"),n()}}function Tg(t={}){let e=t.allow?"on":"off";return function(n,i,s){i.setHeader("X-DNS-Prefetch-Control",e),s()}}function Cg(){return function(e,r,n){r.setHeader("X-Download-Options","noopen"),n()}}function Fvt({action:t="sameorigin"}){let e=typeof t=="string"?t.toUpperCase():t;switch(e){case"SAME-ORIGIN":return"SAMEORIGIN";case"DENY":case"SAMEORIGIN":return e;default:throw new Error(`X-Frame-Options received an invalid action ${JSON.stringify(t)}`)}}function xg(t={}){let e=Fvt(t);return function(n,i,s){i.setHeader("X-Frame-Options",e),s()}}var Lvt=new Set(["none","master-only","by-content-type","all"]);function Mvt({permittedPolicies:t="none"}){if(Lvt.has(t))return t;throw new Error(`X-Permitted-Cross-Domain-Policies does not support ${JSON.stringify(t)}`)}function Rg(t={}){let e=Mvt(t);return function(n,i,s){i.setHeader("X-Permitted-Cross-Domain-Policies",e),s()}}function Ag(){return function(e,r,n){r.removeHeader("X-Powered-By"),n()}}function Pg(){return function(e,r,n){r.setHeader("X-XSS-Protection","0"),n()}}function qvt(t){var e,r,n,i,s,o,a,u;let c=[];switch(t.contentSecurityPolicy){case void 0:case!0:c.push(bg());break;case!1:break;default:c.push(bg(t.contentSecurityPolicy));break}switch(t.crossOriginEmbedderPolicy){case void 0:case!1:break;case!0:c.push(lA());break;default:c.push(lA(t.crossOriginEmbedderPolicy));break}switch(t.crossOriginOpenerPolicy){case void 0:case!0:c.push(fA());break;case!1:break;default:c.push(fA(t.crossOriginOpenerPolicy));break}switch(t.crossOriginResourcePolicy){case void 0:case!0:c.push(dA());break;case!1:break;default:c.push(dA(t.crossOriginResourcePolicy));break}switch(t.originAgentCluster){case void 0:case!0:c.push(hA());break;case!1:break;default:console.warn("Origin-Agent-Cluster does not take options. Remove the property to silence this warning."),c.push(hA());break}switch(t.referrerPolicy){case void 0:case!0:c.push(pA());break;case!1:break;default:c.push(pA(t.referrerPolicy));break}if("strictTransportSecurity"in t&&"hsts"in t)throw new Error("Strict-Transport-Security option was specified twice. Remove `hsts` to silence this warning.");let f=(e=t.strictTransportSecurity)!==null&&e!==void 0?e:t.hsts;switch(f){case void 0:case!0:c.push(Eg());break;case!1:break;default:c.push(Eg(f));break}if("xContentTypeOptions"in t&&"noSniff"in t)throw new Error("X-Content-Type-Options option was specified twice. Remove `noSniff` to silence this warning.");switch((r=t.xContentTypeOptions)!==null&&r!==void 0?r:t.noSniff){case void 0:case!0:c.push(Sg());break;case!1:break;default:console.warn("X-Content-Type-Options does not take options. Remove the property to silence this warning."),c.push(Sg());break}if("xDnsPrefetchControl"in t&&"dnsPrefetchControl"in t)throw new Error("X-DNS-Prefetch-Control option was specified twice. Remove `dnsPrefetchControl` to silence this warning.");let h=(n=t.xDnsPrefetchControl)!==null&&n!==void 0?n:t.dnsPrefetchControl;switch(h){case void 0:case!0:c.push(Tg());break;case!1:break;default:c.push(Tg(h));break}if("xDownloadOptions"in t&&"ieNoOpen"in t)throw new Error("X-Download-Options option was specified twice. Remove `ieNoOpen` to silence this warning.");switch((i=t.xDownloadOptions)!==null&&i!==void 0?i:t.ieNoOpen){case void 0:case!0:c.push(Cg());break;case!1:break;default:console.warn("X-Download-Options does not take options. Remove the property to silence this warning."),c.push(Cg());break}if("xFrameOptions"in t&&"frameguard"in t)throw new Error("X-Frame-Options option was specified twice. Remove `frameguard` to silence this warning.");let m=(s=t.xFrameOptions)!==null&&s!==void 0?s:t.frameguard;switch(m){case void 0:case!0:c.push(xg());break;case!1:break;default:c.push(xg(m));break}if("xPermittedCrossDomainPolicies"in t&&"permittedCrossDomainPolicies"in t)throw new Error("X-Permitted-Cross-Domain-Policies option was specified twice. Remove `permittedCrossDomainPolicies` to silence this warning.");let g=(o=t.xPermittedCrossDomainPolicies)!==null&&o!==void 0?o:t.permittedCrossDomainPolicies;switch(g){case void 0:case!0:c.push(Rg());break;case!1:break;default:c.push(Rg(g));break}if("xPoweredBy"in t&&"hidePoweredBy"in t)throw new Error("X-Powered-By option was specified twice. Remove `hidePoweredBy` to silence this warning.");switch((a=t.xPoweredBy)!==null&&a!==void 0?a:t.hidePoweredBy){case void 0:case!0:c.push(Ag());break;case!1:break;default:console.warn("X-Powered-By does not take options. Remove the property to silence this warning."),c.push(Ag());break}if("xXssProtection"in t&&"xssFilter"in t)throw new Error("X-XSS-Protection option was specified twice. Remove `xssFilter` to silence this warning.");switch((u=t.xXssProtection)!==null&&u!==void 0?u:t.xssFilter){case void 0:case!0:c.push(Pg());break;case!1:break;default:console.warn("X-XSS-Protection does not take options. Remove the property to silence this warning."),c.push(Pg());break}return c}var $vt=Object.assign(function(e={}){var r;if(((r=e.constructor)===null||r===void 0?void 0:r.name)==="IncomingMessage")throw new Error("It appears you have done something like `app.use(helmet)`, but it should be `app.use(helmet())`.");let n=qvt(e);return function(s,o,a){let u=0;(function c(f){if(f){a(f);return}let d=n[u];d?(u++,d(s,o,c)):a()})()}},{contentSecurityPolicy:bg,crossOriginEmbedderPolicy:lA,crossOriginOpenerPolicy:fA,crossOriginResourcePolicy:dA,originAgentCluster:hA,referrerPolicy:pA,strictTransportSecurity:Eg,xContentTypeOptions:Sg,xDnsPrefetchControl:Tg,xDownloadOptions:Cg,xFrameOptions:xg,xPermittedCrossDomainPolicies:Rg,xPoweredBy:Ag,xXssProtection:Pg,dnsPrefetchControl:Tg,xssFilter:Pg,permittedCrossDomainPolicies:Rg,ieNoOpen:Cg,noSniff:Sg,frameguard:xg,hidePoweredBy:Ag,hsts:Eg});Mr.contentSecurityPolicy=bg;Mr.crossOriginEmbedderPolicy=lA;Mr.crossOriginOpenerPolicy=fA;Mr.crossOriginResourcePolicy=dA;Mr.default=$vt;Mr.dnsPrefetchControl=Tg;Mr.frameguard=xg;Mr.hidePoweredBy=Ag;Mr.hsts=Eg;Mr.ieNoOpen=Cg;Mr.noSniff=Sg;Mr.originAgentCluster=hA;Mr.permittedCrossDomainPolicies=Rg;Mr.referrerPolicy=pA;Mr.strictTransportSecurity=Eg;Mr.xContentTypeOptions=Sg;Mr.xDnsPrefetchControl=Tg;Mr.xDownloadOptions=Cg;Mr.xFrameOptions=xg;Mr.xPermittedCrossDomainPolicies=Rg;Mr.xPoweredBy=Ag;Mr.xXssProtection=Pg;Mr.xssFilter=Pg;mA.exports=Mr.default;mA.exports.default=mA.exports});var mge=v((PIr,kw)=>{"use strict";var{randomBytes:dge}=require("node:crypto"),Uvt=sh(),Ow=fge();async function U4(t,e){let{enableCSPNonces:r,global:n,...i}=e,s=typeof n=="boolean"?n:!0;t.hasReplyDecorator("helmet")||t.decorateReply("helmet",null),t.hasReplyDecorator("cspNonce")||t.decorateReply("cspNonce",null),t.addHook("onRoute",o=>{if(typeof o.helmet<"u")if(typeof o.helmet=="object")o.config=Object.assign(o.config||Object.create(null),{helmet:o.helmet});else if(o.helmet===!1)o.config=Object.assign(o.config||Object.create(null),{helmet:{skipRoute:!0}});else throw new Error("Unknown value for route helmet configuration")}),t.addHook("onRequest",async(o,a)=>{let{helmet:u}=o.routeOptions?.config||o.routeConfig;if(typeof u<"u"){let{enableCSPNonces:c,skipRoute:f,...d}=u,h=Object.assign(Object.create(null),i,d);return hge(o,a,h,c)}else return hge(o,a,i,r)}),t.addHook("onRequest",(o,a,u)=>{let{helmet:c}=o.routeOptions?.config||o.routeConfig;if(typeof c<"u"){let{enableCSPNonces:f,skipRoute:d,...h}=c;if(d!==!0){let p=Object.assign(Object.create(null),i,h);return pge(o,a,p,f)}return u()}else if(s)return pge(o,a,i,r);return u()})}async function hge(t,e,r,n){n&&(e.cspNonce={script:dge(16).toString("hex"),style:dge(16).toString("hex")}),e.helmet=function(i){let s=i?Object.assign(Object.create(null),r,i):r;return Ow(s)(t.raw,e.raw,$4)}}async function pge(t,e,r,n){if(n===!0){let i=r.contentSecurityPolicy?r.contentSecurityPolicy.directives:Ow.contentSecurityPolicy.getDefaultDirectives(),s=r.contentSecurityPolicy?r.contentSecurityPolicy.reportOnly:void 0,o=r.contentSecurityPolicy?r.contentSecurityPolicy.useDefaults:void 0,{script:a,style:u}=e.cspNonce,c={...i},f=Array.isArray(c["script-src"])?"script-src":"scriptSrc";c[f]=Array.isArray(c[f])?[...c[f]]:[],c[f].push(`'nonce-${a}'`);let d=Array.isArray(c["style-src"])?"style-src":"styleSrc";c[d]=Array.isArray(c[d])?[...c[d]]:[],c[d].push(`'nonce-${u}'`);let p=Object.assign(Object.create(null),r,{contentSecurityPolicy:{directives:c,reportOnly:s,useDefaults:o}});Ow(p)(t.raw,e.raw,$4)}else Ow(r)(t.raw,e.raw,$4)}function $4(t){if(t)throw t}kw.exports=Uvt(U4,{fastify:"4.x",name:"@fastify/helmet"});kw.exports.default=U4;kw.exports.fastifyHelmet=U4;kw.exports.contentSecurityPolicy=Ow.contentSecurityPolicy});var gge=v(B4=>{var jvt=/^(-?(?:\d+)?\.?\d+) *(m(?:illiseconds?|s(?:ecs?)?))?(s(?:ec(?:onds?|s)?)?)?(m(?:in(?:utes?|s)?)?)?(h(?:ours?|rs?)?)?(d(?:ays?)?)?(w(?:eeks?|ks?)?)?(y(?:ears?|rs?)?)?$/,gA=1e3,yA=gA*60,_A=yA*60,Dw=_A*24,j4=Dw*365.25;function Bvt(t){var e,r=t.toLowerCase().match(jvt);if(r!=null&&(e=parseFloat(r[1])))return r[3]!=null?e*gA:r[4]!=null?e*yA:r[5]!=null?e*_A:r[6]!=null?e*Dw:r[7]!=null?e*Dw*7:r[8]!=null?e*j4:e}function Nw(t,e,r,n){var i=(t|0)===t?t:~~(t+.5);return e+i+(n?" "+r+(i!=1?"s":""):r[0])}function Hvt(t,e){var r=t<0?"-":"",n=t<0?-t:t;return n<gA?t+(e?" ms":"ms"):n<yA?Nw(n/gA,r,"second",e):n<_A?Nw(n/yA,r,"minute",e):n<Dw?Nw(n/_A,r,"hour",e):n<j4?Nw(n/Dw,r,"day",e):Nw(n/j4,r,"year",e)}B4.format=Hvt;B4.parse=Bvt});var _ge=v((OIr,yge)=>{"use strict";var{LruMap:zvt}=bU();function vA(t=5e3,e,r){this.lru=new zvt(t),this.timeWindow=e,this.continueExceeding=r}vA.prototype.incr=function(t,e,r,n){let i=Date.now(),s=this.lru.get(t);s?s.iterationStartMs+this.timeWindow<=i?(s.current=1,s.ttl=this.timeWindow,s.ban=!1,s.iterationStartMs=i):(++s.current,this.continueExceeding&&s.current>r?(s.ttl=this.timeWindow,s.iterationStartMs=i):s.ttl=this.timeWindow-(i-s.iterationStartMs)):s={current:1,ttl:this.timeWindow,ban:!1,iterationStartMs:i},n!==-1&&!s.ban&&s.current-r>n&&(s.ban=!0),this.lru.set(t,s),e(null,s)};vA.prototype.child=function(t){return new vA(t.cache,t.timeWindow,t.continueExceeding)};yge.exports=vA});var wge=v((kIr,vge)=>{"use strict";var Vvt=`
  -- Key to operate on
  local key = KEYS[1]
  -- Time window for the TTL
  local timeWindow = tonumber(ARGV[1])
  -- Max requests
  local max = tonumber(ARGV[2])
  -- Ban after this number is exceeded
  local ban = tonumber(ARGV[3])
  -- Flag to determine if TTL should be reset after exceeding
  local continueExceeding = ARGV[4] == 'true'

  -- Increment the key's value
  local current = redis.call('INCR', key)

  -- Check the TTL of the key
  local ttl = redis.call('PTTL', key)

  -- If the key is new or if its incremented value has exceeded the max value then set its TTL
  if ttl == -1 or (continueExceeding and current > max) then
    redis.call('PEXPIRE', key, timeWindow)
    ttl = timeWindow
  end

  return {current, ttl, ban ~= -1 and current - max > ban}
`;function wA(t,e,r,n){this.redis=t,this.timeWindow=e,this.continueExceeding=r,this.key=n,this.redis.rateLimit||this.redis.defineCommand("rateLimit",{numberOfKeys:1,lua:Vvt})}wA.prototype.incr=function(t,e,r,n){this.redis.rateLimit(this.key+t,this.timeWindow,r,n,this.continueExceeding,(i,s)=>{i?e(i,null):e(null,{current:s[0],ttl:s[1],ban:s[2]})})};wA.prototype.child=function(t){return new wA(this.redis,t.timeWindow,t.continueExceeding,this.key+t.routeInfo.method+t.routeInfo.url+"-")};vge.exports=wA});var xge=v((NIr,bA)=>{"use strict";var Wvt=sh(),z4=gge(),Gvt=_ge(),Kvt=wge(),Sge=1e3,Tge=6e4,Cge="onRequest",Xvt={rateLimit:"x-ratelimit-limit",rateRemaining:"x-ratelimit-remaining",rateReset:"x-ratelimit-reset",retryAfter:"retry-after"},Jvt={rateLimit:"ratelimit-limit",rateRemaining:"ratelimit-remaining",rateReset:"ratelimit-reset",retryAfter:"retry-after"},Zvt=t=>t.ip,Yvt=(t,e)=>{let r=new Error(`Rate limit exceeded, retry in ${e.after}`);return r.statusCode=e.statusCode,r};async function V4(t,e){let r={global:typeof e.global=="boolean"?e.global:!0};typeof e.enableDraftSpec=="boolean"&&e.enableDraftSpec?(r.enableDraftSpec=!0,r.labels=Jvt):(r.enableDraftSpec=!1,r.labels=Xvt),r.addHeaders=Object.assign({[r.labels.rateLimit]:!0,[r.labels.rateRemaining]:!0,[r.labels.rateReset]:!0,[r.labels.retryAfter]:!0},e.addHeaders),r.addHeadersOnExceeding=Object.assign({[r.labels.rateLimit]:!0,[r.labels.rateRemaining]:!0,[r.labels.rateReset]:!0},e.addHeadersOnExceeding),r.max=typeof e.max=="number"&&Number.isFinite(e.max)&&(e.max=Math.trunc(e.max))>=0||typeof e.max=="function"?e.max:Sge,r.timeWindow=typeof e.timeWindow=="string"?z4.parse(e.timeWindow):typeof e.timeWindow=="number"&&Number.isFinite(e.timeWindow)&&e.timeWindow>=0?Math.trunc(e.timeWindow):Tge,r.hook=e.hook||Cge,r.allowList=e.allowList||e.whitelist||null,r.ban=typeof e.ban=="number"&&Number.isFinite(e.ban)&&e.ban>=0?Math.trunc(e.ban):-1,r.onBanReach=typeof e.onBanReach=="function"?e.onBanReach:null,r.onExceeding=typeof e.onExceeding=="function"?e.onExceeding:null,r.onExceeded=typeof e.onExceeded=="function"?e.onExceeded:null,r.continueExceeding=typeof e.continueExceeding=="boolean"?e.continueExceeding:!1,r.keyGenerator=typeof e.keyGenerator=="function"?e.keyGenerator:Zvt,typeof e.errorResponseBuilder=="function"?(r.errorResponseBuilder=e.errorResponseBuilder,r.isCustomErrorMessage=!0):(r.errorResponseBuilder=Yvt,r.isCustomErrorMessage=!1),r.skipOnError=typeof e.skipOnError=="boolean"?e.skipOnError:!1;let n={rateLimitRan:Symbol("fastify.request.rateLimitRan"),store:null};if(e.store){let i=e.store;n.store=new i(r)}else e.redis?n.store=new Kvt(e.redis,r.timeWindow,e.continueExceeding,e.nameSpace||"fastify-rate-limit-"):n.store=new Gvt(e.cache,r.timeWindow,e.continueExceeding);t.decorateRequest(n.rateLimitRan,!1),t.hasDecorator("rateLimit")||t.decorate("rateLimit",i=>{if(typeof i=="object"){let s=Object.create(n),o=bge(r,i,{routeInfo:{}});return s.store=s.store.child(o),H4(s,o)}return H4(n,r)}),t.addHook("onRoute",i=>{if(i.config?.rateLimit!==void 0){if(typeof i.config.rateLimit=="object"){let s=Object.create(n),o=bge(r,i.config.rateLimit,{routeInfo:i});s.store=n.store.child(o),Ege(s,o,i)}else if(i.config.rateLimit!==!1)throw new Error("Unknown value for route rate-limit configuration")}else r.global&&Ege(n,r,i)})}function bge(...t){let e=Object.assign({},...t);return typeof e.timeWindow=="string"?e.timeWindow=z4.parse(e.timeWindow):typeof e.timeWindow=="number"&&Number.isFinite(e.timeWindow)&&e.timeWindow>=0?e.timeWindow=Math.trunc(e.timeWindow):e.timeWindow=Tge,typeof e.max=="number"&&Number.isFinite(e.max)&&e.max>=0?e.max=Math.trunc(e.max):typeof e.max!="function"&&(e.max=Sge),typeof e.ban=="number"&&Number.isFinite(e.ban)&&e.ban>=0?e.ban=Math.trunc(e.ban):e.ban=-1,e}function Ege(t,e,r){let n=e.hook||Cge,i=H4(t,e);Array.isArray(r[n])?r[n].push(i):typeof r[n]=="function"?r[n]=[r[n],i]:r[n]=[i]}function H4(t,e){let{rateLimitRan:r,store:n}=t,i=z4.format(e.timeWindow,!0);return async(s,o)=>{if(s[r])return;s[r]=!0;let a=await e.keyGenerator(s);if(e.allowList){if(typeof e.allowList=="function"){if(await e.allowList(s,a))return}else if(e.allowList.indexOf(a)!==-1)return}let u=typeof e.max=="number"?e.max:await e.max(s,a),c=0,f=0,d=0,h=!1;try{let m=await new Promise((g,y)=>{n.incr(a,(w,S)=>{w?y(w):g(S)},u,e.ban)});c=m.current,f=m.ttl,h=m.ban??(e.ban!==-1&&c-u>e.ban)}catch(m){if(!e.skipOnError)throw m}if(d=Math.ceil(f/1e3),c<=u){e.addHeadersOnExceeding[e.labels.rateLimit]&&o.header(e.labels.rateLimit,u),e.addHeadersOnExceeding[e.labels.rateRemaining]&&o.header(e.labels.rateRemaining,u-c),e.addHeadersOnExceeding[e.labels.rateReset]&&o.header(e.labels.rateReset,d),e.onExceeding?.(s,a);return}e.onExceeded?.(s,a),e.addHeaders[e.labels.rateLimit]&&o.header(e.labels.rateLimit,u),e.addHeaders[e.labels.rateRemaining]&&o.header(e.labels.rateRemaining,0),e.addHeaders[e.labels.rateReset]&&o.header(e.labels.rateReset,d),e.addHeaders[e.labels.retryAfter]&&o.header(e.labels.retryAfter,d);let p={statusCode:429,ban:h,max:u,ttl:f,after:i};throw h&&(p.statusCode=403,e.onBanReach?.(s,a)),e.errorResponseBuilder(s,p)}}bA.exports=Wvt(V4,{fastify:"4.x",name:"@fastify/rate-limit"});bA.exports.default=V4;bA.exports.fastifyRateLimit=V4});var Rge=v(Ig=>{"use strict";var Qvt=Ig&&Ig.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ig,"__esModule",{value:!0});Ig.prismaPlugin=void 0;var ewt=Qvt(sh()),twt=require("@prisma/client");Ig.prismaPlugin=(0,ewt.default)(async t=>{let e=new twt.PrismaClient({log:process.env.NODE_ENV==="development"?["query","info","warn","error"]:["error"]});if(process.env.DATABASE_URL)try{await e.$connect(),t.log.info("Database connected")}catch{t.log.error("Database connection failed, will retry on first query")}else t.log.warn("DATABASE_URL not set - database features will be unavailable");t.decorate("prisma",e),t.addHook("onClose",async()=>{await e.$disconnect()})})});var nu=v(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.NotSupportedError=nt.NonRetryableFetchError=nt.FetchError=nt.JwkInvalidKtyError=nt.JwkInvalidUseError=nt.JwksNotAvailableInCacheError=nt.WaitPeriodNotYetEndedJwkError=nt.KidNotFoundInJwksError=nt.JwtWithoutValidKidError=nt.JwkValidationError=nt.JwksValidationError=nt.Asn1DecodingError=nt.CognitoJwtInvalidClientIdError=nt.CognitoJwtInvalidTokenUseError=nt.CognitoJwtInvalidGroupError=nt.JwtNotBeforeError=nt.JwtExpiredError=nt.JwtInvalidScopeError=nt.JwtInvalidAudienceError=nt.JwtInvalidIssuerError=nt.JwtInvalidClaimError=nt.JwtInvalidSignatureAlgorithmError=nt.JwtInvalidSignatureError=nt.ParameterValidationError=nt.JwtParseError=nt.FailedAssertionError=nt.JwtBaseError=void 0;var Ai=class extends Error{};nt.JwtBaseError=Ai;var oh=class extends Ai{constructor(e,r,n){super(e),this.failedAssertion={actual:r,expected:n}}};nt.FailedAssertionError=oh;var W4=class extends Ai{constructor(e,r){let n=r!=null?`${e}: ${r}`:e;super(n)}};nt.JwtParseError=W4;var G4=class extends Ai{};nt.ParameterValidationError=G4;var K4=class extends Ai{};nt.JwtInvalidSignatureError=K4;var X4=class extends oh{};nt.JwtInvalidSignatureAlgorithmError=X4;var oa=class extends oh{withRawJwt({header:e,payload:r}){return this.rawJwt={header:e,payload:r},this}};nt.JwtInvalidClaimError=oa;var J4=class extends oa{};nt.JwtInvalidIssuerError=J4;var Z4=class extends oa{};nt.JwtInvalidAudienceError=Z4;var Y4=class extends oa{};nt.JwtInvalidScopeError=Y4;var Q4=class extends oa{};nt.JwtExpiredError=Q4;var e3=class extends oa{};nt.JwtNotBeforeError=e3;var t3=class extends oa{};nt.CognitoJwtInvalidGroupError=t3;var r3=class extends oa{};nt.CognitoJwtInvalidTokenUseError=r3;var n3=class extends oa{};nt.CognitoJwtInvalidClientIdError=n3;var i3=class extends Ai{};nt.Asn1DecodingError=i3;var s3=class extends Ai{};nt.JwksValidationError=s3;var o3=class extends Ai{};nt.JwkValidationError=o3;var a3=class extends Ai{};nt.JwtWithoutValidKidError=a3;var u3=class extends Ai{};nt.KidNotFoundInJwksError=u3;var c3=class extends Ai{};nt.WaitPeriodNotYetEndedJwkError=c3;var l3=class extends Ai{};nt.JwksNotAvailableInCacheError=l3;var f3=class extends oh{};nt.JwkInvalidUseError=f3;var d3=class extends oh{};nt.JwkInvalidKtyError=d3;var EA=class extends Ai{constructor(e,r){super(`Failed to fetch ${e}: ${r}`)}};nt.FetchError=EA;var h3=class extends EA{};nt.NonRetryableFetchError=h3;var p3=class extends Ai{};nt.NotSupportedError=p3});var Nge=v(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.deconstructPublicKeyInDerFormat=Og.constructPublicKeyInDerFormat=void 0;var Oge=nu(),ah;(function(t){t[t.Universal=0]="Universal"})(ah||(ah={}));var uh;(function(t){t[t.Primitive=0]="Primitive",t[t.Constructed=1]="Constructed"})(uh||(uh={}));var Ol;(function(t){t[t.BitString=3]="BitString",t[t.ObjectIdentifier=6]="ObjectIdentifier",t[t.Sequence=16]="Sequence",t[t.Null=5]="Null",t[t.Integer=2]="Integer"})(Ol||(Ol={}));function Fw(t){let e=t.class<<7|t.primitiveOrConstructed<<5|t.tag;return Buffer.from([e])}function Lw(t){if(t<128)return Buffer.from([t]);let e=[];for(;t>0;)e.push(t%256),t=t>>8;return e.reverse(),Buffer.from([128|e.length,...e])}function Age(t){return t[0]>>7&&(t=Buffer.concat([Buffer.from([0]),t])),Buffer.concat([Fw({class:ah.Universal,primitiveOrConstructed:uh.Primitive,tag:Ol.Integer}),Lw(t.length),t])}function rwt(t){let e=t.split(".").map(s=>parseInt(s)),r=e[0]*40+e[1],n=e.slice(2).reduce((s,o)=>{let a=[];do a.push(o%128),o=o>>7;while(o);return s.concat(a.map((u,c)=>c?u+128:u).reverse())},[]),i=Buffer.from([r,...n]);return Buffer.concat([Fw({class:ah.Universal,primitiveOrConstructed:uh.Primitive,tag:Ol.ObjectIdentifier}),Lw(i.length),i])}function nwt(t){let e=Buffer.concat([Buffer.from([0]),t]);return Buffer.concat([Fw({class:ah.Universal,primitiveOrConstructed:uh.Primitive,tag:Ol.BitString}),Lw(e.length),e])}function m3(t){let e=Buffer.concat(t);return Buffer.concat([Fw({class:ah.Universal,primitiveOrConstructed:uh.Constructed,tag:Ol.Sequence}),Lw(e.length),e])}function iwt(){return Buffer.concat([Fw({class:ah.Universal,primitiveOrConstructed:uh.Primitive,tag:Ol.Null}),Lw(0)])}var swt=m3([rwt("1.2.840.113549.1.1.1"),iwt()]);function owt(t,e){return m3([swt,nwt(m3([Age(t),Age(e)]))])}Og.constructPublicKeyInDerFormat=owt;function Pge(t){if(t>>3===31)throw new Oge.Asn1DecodingError("Decoding of identifier with tag > 30 not implemented");return{class:t>>6,primitiveOrConstructed:t>>5&1,tag:t&31}}function Ige(t){if(!(t[0]&128))return{length:t[0],firstByteOffset:1,lastByteOffset:1+t[0]};let e=t[0]&127,r=Buffer.from(t.subarray(1,2+e)).readUIntBE(0,e);return{length:r,firstByteOffset:1+e,lastByteOffset:1+e+r}}function kge(t){let{tag:e}=Pge(t[0]);if(e!==Ol.Sequence)throw new Oge.Asn1DecodingError(`Expected a sequence to decode, but got tag ${e}`);let{firstByteOffset:r,lastByteOffset:n}=Ige(t.subarray(1)),i=t.subarray(1+r,2+n),s=[],o=0;for(;o<i.length;){let a=Pge(i[o]),u=Ige(i.subarray(o+1)),c=i.subarray(o+1+u.firstByteOffset,o+1+u.lastByteOffset);s.push({identifier:a,length:u.length,value:c}),o+=1+u.lastByteOffset}return s}function awt(t){let e=t.subarray(1);return kge(e)}function uwt(t){let[,e]=kge(t),[r,n]=awt(e.value);return{n:r.value,e:n.value}}Og.deconstructPublicKeyInDerFormat=uwt});var Dge=v(SA=>{"use strict";Object.defineProperty(SA,"__esModule",{value:!0});SA.validateHttpsJsonResponse=void 0;var g3=nu();function cwt(t,e,r){if(e===429)throw new g3.FetchError(t,"Too many requests");if(e!==200)throw new g3.NonRetryableFetchError(t,`Status code is ${e}, expected 200`);if(!r||!r.toLowerCase().startsWith("application/json"))throw new g3.NonRetryableFetchError(t,`Content-type is "${r}", expected "application/json"`)}SA.validateHttpsJsonResponse=cwt});var TA=v(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.safeJsonParse=kg.isJsonObject=void 0;function lwt(t){return typeof t=="object"&&!Array.isArray(t)&&t!==null}kg.isJsonObject=lwt;function fwt(t){return JSON.parse(t,(e,r)=>(typeof r=="object"&&!Array.isArray(r)&&r!==null&&(delete r.__proto__,delete r.constructor),r))}kg.safeJsonParse=fwt});var Fge=v(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.fetchJson=void 0;var dwt=require("https"),hwt=Dge(),pwt=require("stream"),mwt=require("util"),gwt=TA(),CA=nu();async function ywt(t,e,r){let n;return new Promise((i,s)=>{let o=(0,dwt.request)(t,{method:"GET",...e},u=>{pwt.pipeline([u,_wt(t,u.statusCode,u.headers)],a)});e?.responseTimeout&&(n=setTimeout(()=>a(new CA.FetchError(t,`Response time-out (after ${e.responseTimeout} ms.)`)),e.responseTimeout),n.unref());function a(...u){if(n&&clearTimeout(n),u[0]==null){i(u[1]);return}o.socket?.emit("agentRemove");let c=u[0];c instanceof CA.FetchError||(c=new CA.FetchError(t,c.message)),o.destroy(),s(c)}o.on("error",a),o.end(r)})}xA.fetchJson=ywt;function _wt(t,e,r){return async n=>{(0,hwt.validateHttpsJsonResponse)(t,e,r["content-type"]);let i=[];for await(let s of n)i.push(s);try{return(0,gwt.safeJsonParse)(new mwt.TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}).decode(Buffer.concat(i)))}catch(s){throw new CA.NonRetryableFetchError(t,s)}}}});var Mw=v(PA=>{"use strict";Object.defineProperty(PA,"__esModule",{value:!0});PA.nodeWebCompat=void 0;var RA=require("crypto"),Lge=Nge(),vwt=Fge(),AA;(function(t){t.RS256="RSA-SHA256",t.RS384="RSA-SHA384",t.RS512="RSA-SHA512"})(AA||(AA={}));PA.nodeWebCompat={fetchJson:vwt.fetchJson,transformJwkToKeyObjectSync:t=>(0,RA.createPublicKey)({key:(0,Lge.constructPublicKeyInDerFormat)(Buffer.from(t.n,"base64"),Buffer.from(t.e,"base64")),format:"der",type:"spki"}),transformJwkToKeyObjectAsync:async t=>(0,RA.createPublicKey)({key:(0,Lge.constructPublicKeyInDerFormat)(Buffer.from(t.n,"base64"),Buffer.from(t.e,"base64")),format:"der",type:"spki"}),parseB64UrlString:t=>Buffer.from(t,"base64").toString("utf8"),verifySignatureSync:({alg:t,keyObject:e,jwsSigningInput:r,signature:n})=>(0,RA.createVerify)(AA[t]).update(r).verify(e,n,"base64"),verifySignatureAsync:async({alg:t,keyObject:e,jwsSigningInput:r,signature:n})=>(0,RA.createVerify)(AA[t]).update(r).verify(e,n,"base64"),defaultFetchTimeouts:{socketIdle:500,response:1500},setTimeoutUnref:(...t)=>setTimeout(...t).unref()}});var Mge=v(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.SimpleJsonFetcher=kl.fetchJson=void 0;var wwt=nu(),y3=Mw();kl.fetchJson=y3.nodeWebCompat.fetchJson;var _3=class{constructor(e){this.defaultRequestOptions={timeout:y3.nodeWebCompat.defaultFetchTimeouts.socketIdle,responseTimeout:y3.nodeWebCompat.defaultFetchTimeouts.response,...e?.defaultRequestOptions}}async fetch(e,r,n){r={...this.defaultRequestOptions,...r};try{return await(0,kl.fetchJson)(e,r,n)}catch(i){if(i instanceof wwt.NonRetryableFetchError)throw i;return(0,kl.fetchJson)(e,r,n)}}};kl.SimpleJsonFetcher=_3});var qw=v(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.assertIsNotPromise=iu.assertStringArraysOverlap=iu.assertStringArrayContainsString=iu.assertStringEquals=void 0;var w3=nu();function bwt(t,e,r,n=w3.FailedAssertionError){if(!e)throw new n(`Missing ${t}. Expected: ${r}`,e,r);if(typeof e!="string")throw new n(`${t} is not of type string`,e,r);if(r!==e)throw new n(`${t} not allowed: ${e}. Expected: ${r}`,e,r)}iu.assertStringEquals=bwt;function Ewt(t,e,r,n=w3.FailedAssertionError){if(!e)throw new n(`Missing ${t}. ${v3(r)}`,e,r);if(typeof e!="string")throw new n(`${t} is not of type string`,e,r);return qge(t,e,r,n)}iu.assertStringArrayContainsString=Ewt;function qge(t,e,r,n=w3.FailedAssertionError){if(!e)throw new n(`Missing ${t}. ${v3(r)}`,e,r);let i=new Set(Array.isArray(r)?r:[r]);if(typeof e=="string"&&(e=[e]),!Array.isArray(e))throw new n(`${t} is not an array`,e,r);if(!e.some(o=>{if(typeof o!="string")throw new n(`${t} includes elements that are not of type string`,e,r);return i.has(o)}))throw new n(`${t} not allowed: ${e.join(", ")}. ${v3(r)}`,e,r)}iu.assertStringArraysOverlap=qge;function v3(t){return Array.isArray(t)?t.length>1?`Expected one of: ${t.join(", ")}`:`Expected: ${t[0]}`:`Expected: ${t}`}function Swt(t,e){if(t&&typeof t.then=="function")throw e()}iu.assertIsNotPromise=Swt});var Hge=v(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.SimpleJwksCache=hn.SimplePenaltyBox=hn.isJwk=hn.isJwks=hn.assertIsJwk=hn.assertIsRsaSignatureJwk=hn.assertIsJwks=hn.fetchJwk=hn.fetchJwks=hn.findJwkInJwks=void 0;var Uge=Mge(),jge=TA(),In=nu(),Twt=Mw(),$ge=qw(),Cwt=["use","alg","kid","n","e"],xwt=["kty"];function $w(t,e){return t.keys.find(r=>r.kid!=null&&r.kid===e)}hn.findJwkInJwks=$w;async function Bge(t){let e=await(0,Uge.fetchJson)(t);return OA(e),e}hn.fetchJwks=Bge;async function Rwt(t,e){if(!e.header.kid)throw new In.JwtWithoutValidKidError("JWT header does not have valid kid claim");let r=await Bge(t),n=$w(r,e.header.kid);if(!n)throw new In.KidNotFoundInJwksError(`JWK for kid "${e.header.kid}" not found in the JWKS`);return n}hn.fetchJwk=Rwt;function OA(t){if(!t)throw new In.JwksValidationError("JWKS empty");if(!(0,jge.isJsonObject)(t))throw new In.JwksValidationError("JWKS should be an object");if(!Object.keys(t).includes("keys"))throw new In.JwksValidationError("JWKS does not include keys");if(!Array.isArray(t.keys))throw new In.JwksValidationError("JWKS keys should be an array");for(let e of t.keys)E3(e)}hn.assertIsJwks=OA;function Awt(t){if((0,$ge.assertStringEquals)("JWK use",t.use,"sig",In.JwkInvalidUseError),(0,$ge.assertStringEquals)("JWK kty",t.kty,"RSA",In.JwkInvalidKtyError),!t.n)throw new In.JwkValidationError("Missing modulus (n)");if(!t.e)throw new In.JwkValidationError("Missing exponent (e)")}hn.assertIsRsaSignatureJwk=Awt;function E3(t){if(!t)throw new In.JwkValidationError("JWK empty");if(!(0,jge.isJsonObject)(t))throw new In.JwkValidationError("JWK should be an object");for(let e of xwt)if(typeof t[e]!="string")throw new In.JwkValidationError(`JWK ${e} should be a string`);for(let e of Cwt)if(e in t&&typeof t[e]!="string")throw new In.JwkValidationError(`JWK ${e} should be a string`)}hn.assertIsJwk=E3;function Pwt(t){try{return OA(t),!0}catch{return!1}}hn.isJwks=Pwt;function Iwt(t){try{return E3(t),!0}catch{return!1}}hn.isJwk=Iwt;var IA=class{constructor(e){this.waitingUris=new Map,this.waitSeconds=e?.waitSeconds??10}async wait(e){if(this.waitingUris.has(e))throw new In.WaitPeriodNotYetEndedJwkError("Not allowed to fetch JWKS yet, still waiting for back off period to end")}release(e){let r=this.waitingUris.get(e);r&&(clearTimeout(r),this.waitingUris.delete(e))}registerFailedAttempt(e){let r=Twt.nodeWebCompat.setTimeoutUnref(()=>{this.waitingUris.delete(e)},this.waitSeconds*1e3);this.waitingUris.set(e,r)}registerSuccessfulAttempt(e){this.release(e)}};hn.SimplePenaltyBox=IA;var b3=class{constructor(e){this.jwksCache=new Map,this.fetchingJwks=new Map,this.penaltyBox=e?.penaltyBox??new IA,this.fetcher=e?.fetcher??new Uge.SimpleJsonFetcher}addJwks(e,r){this.jwksCache.set(e,r)}async getJwks(e){let r=this.fetchingJwks.get(e);if(r)return r;let n=this.fetcher.fetch(e).then(s=>(OA(s),s));this.fetchingJwks.set(e,n);let i;try{i=await n}finally{this.fetchingJwks.delete(e)}return this.jwksCache.set(e,i),i}getCachedJwk(e,r){if(typeof r.header.kid!="string")throw new In.JwtWithoutValidKidError("JWT header does not have valid kid claim");if(!this.jwksCache.has(e))throw new In.JwksNotAvailableInCacheError(`JWKS for uri ${e} not yet available in cache`);let n=$w(this.jwksCache.get(e),r.header.kid);if(!n)throw new In.KidNotFoundInJwksError(`JWK for kid ${r.header.kid} not found in the JWKS`);return n}async getJwk(e,r){if(typeof r.header.kid!="string")throw new In.JwtWithoutValidKidError("JWT header does not have valid kid claim");let n=this.jwksCache.get(e);if(n){let o=$w(n,r.header.kid);if(o)return o}await this.penaltyBox.wait(e,r.header.kid);let i=await this.getJwks(e),s=$w(i,r.header.kid);if(s)this.penaltyBox.registerSuccessfulAttempt(e,r.header.kid);else throw this.penaltyBox.registerFailedAttempt(e,r.header.kid),new In.KidNotFoundInJwksError(`JWK for kid "${r.header.kid}" not found in the JWKS`);return s}};hn.SimpleJwksCache=b3});var zge=v(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0});kA.supportedSignatureAlgorithms=void 0;kA.supportedSignatureAlgorithms=["RS256","RS384","RS512"]});var Vge=v(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.validateJwtFields=Ng.decomposeUnverifiedJwt=void 0;var S3=qw(),NA=TA(),Qr=nu(),Owt=Mw();function kwt(t){if(!(0,NA.isJsonObject)(t))throw new Qr.JwtParseError("JWT header is not an object");if(t.alg!==void 0&&typeof t.alg!="string")throw new Qr.JwtParseError("JWT header alg claim is not a string");if(t.kid!==void 0&&typeof t.kid!="string")throw new Qr.JwtParseError("JWT header kid claim is not a string")}function Nwt(t){if(!(0,NA.isJsonObject)(t))throw new Qr.JwtParseError("JWT payload is not an object");if(t.exp!==void 0&&!Number.isFinite(t.exp))throw new Qr.JwtParseError("JWT payload exp claim is not a number");if(t.iss!==void 0&&typeof t.iss!="string")throw new Qr.JwtParseError("JWT payload iss claim is not a string");if(t.sub!==void 0&&typeof t.sub!="string")throw new Qr.JwtParseError("JWT payload sub claim is not a string");if(t.aud!==void 0&&typeof t.aud!="string"&&(!Array.isArray(t.aud)||t.aud.some(e=>typeof e!="string")))throw new Qr.JwtParseError("JWT payload aud claim is not a string or array of strings");if(t.nbf!==void 0&&!Number.isFinite(t.nbf))throw new Qr.JwtParseError("JWT payload nbf claim is not a number");if(t.iat!==void 0&&!Number.isFinite(t.iat))throw new Qr.JwtParseError("JWT payload iat claim is not a number");if(t.scope!==void 0&&typeof t.scope!="string")throw new Qr.JwtParseError("JWT payload scope claim is not a string");if(t.jti!==void 0&&typeof t.jti!="string")throw new Qr.JwtParseError("JWT payload jti claim is not a string")}function Dwt(t){if(!t)throw new Qr.JwtParseError("Empty JWT");if(typeof t!="string")throw new Qr.JwtParseError("JWT is not a string");if(!t.match(/^[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+$/))throw new Qr.JwtParseError("JWT string does not consist of exactly 3 parts (header, payload, signature)");let[e,r,n]=t.split("."),[i,s]=[e,r].map(Owt.nodeWebCompat.parseB64UrlString),o;try{o=(0,NA.safeJsonParse)(i)}catch(u){throw new Qr.JwtParseError("Invalid JWT. Header is not a valid JSON object",u)}kwt(o);let a;try{a=(0,NA.safeJsonParse)(s)}catch(u){throw new Qr.JwtParseError("Invalid JWT. Payload is not a valid JSON object",u)}return Nwt(a),{header:o,headerB64:e,payload:a,payloadB64:r,signatureB64:n}}Ng.decomposeUnverifiedJwt=Dwt;function Fwt(t,e){if(t.exp!==void 0&&t.exp+(e.graceSeconds??0)<Date.now()/1e3)throw new Qr.JwtExpiredError(`Token expired at ${new Date(t.exp*1e3).toISOString()}`,t.exp);if(t.nbf!==void 0&&t.nbf-(e.graceSeconds??0)>Date.now()/1e3)throw new Qr.JwtNotBeforeError(`Token can't be used before ${new Date(t.nbf*1e3).toISOString()}`,t.nbf);if(e.issuer!==null){if(e.issuer===void 0)throw new Qr.ParameterValidationError("issuer must be provided or set to null explicitly");(0,S3.assertStringArrayContainsString)("Issuer",t.iss,e.issuer,Qr.JwtInvalidIssuerError)}if(e.audience!==null){if(e.audience===void 0)throw new Qr.ParameterValidationError("audience must be provided or set to null explicitly");(0,S3.assertStringArraysOverlap)("Audience",t.aud,e.audience,Qr.JwtInvalidAudienceError)}e.scope!=null&&(0,S3.assertStringArraysOverlap)("Scope",t.scope?.split(" "),e.scope,Qr.JwtInvalidScopeError)}Ng.validateJwtFields=Fwt});var C3=v(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.KeyObjectCache=wo.JwtRsaVerifier=wo.JwtRsaVerifierBase=wo.verifyJwtSync=wo.verifyJwt=void 0;var Dg=Hge(),DA=qw(),Lwt=zge(),Uw=Vge(),Ts=nu(),Fg=Mw();function Wge(t,e){(0,Dg.assertIsRsaSignatureJwk)(e),e.alg&&(0,DA.assertStringEquals)("JWT signature algorithm",t.alg,e.alg,Ts.JwtInvalidSignatureAlgorithmError),(0,DA.assertStringArrayContainsString)("JWT signature algorithm",t.alg,Lwt.supportedSignatureAlgorithms,Ts.JwtInvalidSignatureAlgorithmError)}async function Mwt(t,e,r){return Gge((0,Uw.decomposeUnverifiedJwt)(t),e,r)}wo.verifyJwt=Mwt;async function Gge(t,e,r,n=Dg.fetchJwk,i=Fg.nodeWebCompat.transformJwkToKeyObjectAsync){let{header:s,headerB64:o,payload:a,payloadB64:u,signatureB64:c}=t,f=await n(e,t);Wge(t.header,f);let d=await i(f,s.alg,a.iss);if(!await Fg.nodeWebCompat.verifySignatureAsync({jwsSigningInput:`${o}.${u}`,signature:c,alg:s.alg,keyObject:d}))throw new Ts.JwtInvalidSignatureError("Invalid signature");try{(0,Uw.validateJwtFields)(a,r),r.customJwtCheck&&await r.customJwtCheck({header:s,payload:a,jwk:f})}catch(p){throw r.includeRawJwtInErrors&&p instanceof Ts.JwtInvalidClaimError?p.withRawJwt(t):p}return a}function qwt(t,e,r,n=Fg.nodeWebCompat.transformJwkToKeyObjectSync){return Kge((0,Uw.decomposeUnverifiedJwt)(t),e,r,n)}wo.verifyJwtSync=qwt;function Kge(t,e,r,n){let{header:i,headerB64:s,payload:o,payloadB64:a,signatureB64:u}=t,c;if((0,Dg.isJwk)(e))c=e;else if((0,Dg.isJwks)(e)){let h=i.kid?(0,Dg.findJwkInJwks)(e,i.kid):void 0;if(!h)throw new Ts.KidNotFoundInJwksError(`JWK for kid ${i.kid} not found in the JWKS`);c=h}else throw new Ts.ParameterValidationError([`Expected a valid JWK or JWKS (parsed as JavaScript object), but received: ${e}.`,"If you're passing a JWKS URI, use the async verify() method instead, it will download and parse the JWKS for you"].join());Wge(t.header,c);let f=n(c,i.alg,o.iss);if(!Fg.nodeWebCompat.verifySignatureSync({jwsSigningInput:`${s}.${a}`,signature:u,alg:i.alg,keyObject:f}))throw new Ts.JwtInvalidSignatureError("Invalid signature");try{if((0,Uw.validateJwtFields)(o,r),r.customJwtCheck){let h=r.customJwtCheck({header:i,payload:o,jwk:c});(0,DA.assertIsNotPromise)(h,()=>new Ts.ParameterValidationError("Custom JWT checks must be synchronous but a promise was returned"))}}catch(h){throw r.includeRawJwtInErrors&&h instanceof Ts.JwtInvalidClaimError?h.withRawJwt(t):h}return o}var FA=class{constructor(e,r=new Dg.SimpleJwksCache){if(this.jwksCache=r,this.issuersConfig=new Map,this.publicKeyCache=new LA,Array.isArray(e)){if(!e.length)throw new Ts.ParameterValidationError("Provide at least one issuer configuration");for(let n of e){if(this.issuersConfig.has(n.issuer))throw new Ts.ParameterValidationError(`issuer ${n.issuer} supplied multiple times`);this.issuersConfig.set(n.issuer,this.withJwksUri(n))}}else this.issuersConfig.set(e.issuer,this.withJwksUri(e))}get expectedIssuers(){return Array.from(this.issuersConfig.keys())}getIssuerConfig(e){if(!e){if(this.issuersConfig.size!==1)throw new Ts.ParameterValidationError("issuer must be provided");e=this.issuersConfig.keys().next().value}let r=this.issuersConfig.get(e);if(!r)throw new Ts.ParameterValidationError(`issuer not configured: ${e}`);return r}cacheJwks(...[e,r]){let n=this.getIssuerConfig(r);this.jwksCache.addJwks(n.jwksUri,e),this.publicKeyCache.clearCache(n.issuer)}async hydrate(){let e=this.expectedIssuers.map(r=>this.getIssuerConfig(r).jwksUri).map(r=>this.jwksCache.getJwks(r));await Promise.all(e)}verifySync(...[e,r]){let{decomposedJwt:n,jwksUri:i,verifyProperties:s}=this.getVerifyParameters(e,r);return this.verifyDecomposedJwtSync(n,i,s)}verifyDecomposedJwtSync(e,r,n){let i=this.jwksCache.getCachedJwk(r,e);return Kge(e,i,n,this.publicKeyCache.transformJwkToKeyObjectSync.bind(this.publicKeyCache))}async verify(...[e,r]){let{decomposedJwt:n,jwksUri:i,verifyProperties:s}=this.getVerifyParameters(e,r);return this.verifyDecomposedJwt(n,i,s)}verifyDecomposedJwt(e,r,n){return Gge(e,r,n,this.jwksCache.getJwk.bind(this.jwksCache),this.publicKeyCache.transformJwkToKeyObjectAsync.bind(this.publicKeyCache))}getVerifyParameters(e,r){let n=(0,Uw.decomposeUnverifiedJwt)(e);(0,DA.assertStringArrayContainsString)("Issuer",n.payload.iss,this.expectedIssuers,Ts.JwtInvalidIssuerError);let i=this.getIssuerConfig(n.payload.iss);return{decomposedJwt:n,jwksUri:i.jwksUri,verifyProperties:{...i,...r}}}withJwksUri(e){if(e.jwksUri)return e;let r=new URL(e.issuer).pathname.replace(/\/$/,"");return{jwksUri:new URL(`${r}/.well-known/jwks.json`,e.issuer).href,...e}}};wo.JwtRsaVerifierBase=FA;var T3=class extends FA{static create(e,r){return new this(e,r?.jwksCache)}};wo.JwtRsaVerifier=T3;var LA=class{constructor(e=Fg.nodeWebCompat.transformJwkToKeyObjectSync,r=Fg.nodeWebCompat.transformJwkToKeyObjectAsync){this.transformJwkToKeyObjectSyncFn=e,this.transformJwkToKeyObjectAsyncFn=r,this.publicKeys=new Map}transformJwkToKeyObjectSync(e,r,n){let i=e.alg??r;if(!n||!e.kid||!i)return this.transformJwkToKeyObjectSyncFn(e,i,n);let s=this.publicKeys.get(n)?.get(e.kid)?.get(i);if(s)return s;let o=this.transformJwkToKeyObjectSyncFn(e,i,n);return this.putKeyObjectInCache(n,e.kid,i,o),o}async transformJwkToKeyObjectAsync(e,r,n){let i=e.alg??r;if(!n||!e.kid||!i)return this.transformJwkToKeyObjectAsyncFn(e,i,n);let s=this.publicKeys.get(n)?.get(e.kid)?.get(i);if(s)return s;let o=await this.transformJwkToKeyObjectAsyncFn(e,i,n);return this.putKeyObjectInCache(n,e.kid,i,o),o}putKeyObjectInCache(e,r,n,i){let s=this.publicKeys.get(e),o=s?.get(r);o?o.set(n,i):s?s.set(r,new Map([[n,i]])):this.publicKeys.set(e,new Map([[r,new Map([[n,i]])]]))}clearCache(e){this.publicKeys.delete(e)}};wo.KeyObjectCache=LA});var Xge=v(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.CognitoJwtVerifier=Lg.validateCognitoJwtFields=void 0;var aa=nu(),$wt=C3(),jw=qw();function x3(t,e){if(e.groups!=null&&(0,jw.assertStringArraysOverlap)("Cognito group",t["cognito:groups"],e.groups,aa.CognitoJwtInvalidGroupError),(0,jw.assertStringArrayContainsString)("Token use",t.token_use,["id","access"],aa.CognitoJwtInvalidTokenUseError),e.tokenUse!==null){if(e.tokenUse===void 0)throw new aa.ParameterValidationError("tokenUse must be provided or set to null explicitly");(0,jw.assertStringEquals)("Token use",t.token_use,e.tokenUse,aa.CognitoJwtInvalidTokenUseError)}if(e.clientId!==null){if(e.clientId===void 0)throw new aa.ParameterValidationError("clientId must be provided or set to null explicitly");t.token_use==="id"?(0,jw.assertStringArrayContainsString)('Client ID ("audience")',t.aud,e.clientId,aa.CognitoJwtInvalidClientIdError):(0,jw.assertStringArrayContainsString)("Client ID",t.client_id,e.clientId,aa.CognitoJwtInvalidClientIdError)}}Lg.validateCognitoJwtFields=x3;var R3=class t extends $wt.JwtRsaVerifierBase{constructor(e,r){let n=Array.isArray(e)?e.map(i=>({...i,...t.parseUserPoolId(i.userPoolId),audience:null})):{...e,...t.parseUserPoolId(e.userPoolId),audience:null};super(n,r)}static parseUserPoolId(e){let r=e.match(/^(?<region>(\w+-)?\w+-\w+-\d)+_\w+$/);if(!r)throw new aa.ParameterValidationError(`Invalid Cognito User Pool ID: ${e}`);let i=`https://cognito-idp.${r.groups.region}.amazonaws.com/${e}`;return{issuer:i,jwksUri:`${i}/.well-known/jwks.json`}}static create(e,r){return new this(e,r?.jwksCache)}verifySync(...[e,r]){let{decomposedJwt:n,jwksUri:i,verifyProperties:s}=this.getVerifyParameters(e,r);this.verifyDecomposedJwtSync(n,i,s);try{x3(n.payload,s)}catch(o){throw s.includeRawJwtInErrors&&o instanceof aa.JwtInvalidClaimError?o.withRawJwt(n):o}return n.payload}async verify(...[e,r]){let{decomposedJwt:n,jwksUri:i,verifyProperties:s}=this.getVerifyParameters(e,r);await this.verifyDecomposedJwt(n,i,s);try{x3(n.payload,s)}catch(o){throw s.includeRawJwtInErrors&&o instanceof aa.JwtInvalidClaimError?o.withRawJwt(n):o}return n.payload}cacheJwks(...[e,r]){let n;if(r!==void 0)n=t.parseUserPoolId(r).issuer;else if(this.expectedIssuers.length>1)throw new aa.ParameterValidationError("userPoolId must be provided");let i=this.getIssuerConfig(n);super.cacheJwks(e,i.issuer)}};Lg.CognitoJwtVerifier=R3});var Jge=v(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.CognitoJwtVerifier=Mg.JwtRsaVerifier=void 0;var Uwt=C3();Object.defineProperty(Mg,"JwtRsaVerifier",{enumerable:!0,get:function(){return Uwt.JwtRsaVerifier}});var jwt=Xge();Object.defineProperty(Mg,"CognitoJwtVerifier",{enumerable:!0,get:function(){return jwt.CognitoJwtVerifier}})});var Zge=v(qg=>{"use strict";var Bwt=qg&&qg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qg,"__esModule",{value:!0});qg.authPlugin=void 0;var Hwt=Bwt(sh()),zwt=Jge(),Vwt=zwt.CognitoJwtVerifier.create({userPoolId:process.env.COGNITO_USER_POOL_ID,clientId:process.env.COGNITO_CLIENT_ID,tokenUse:"access"}),Wwt=["/health","/api/v1/auth/signup","/api/v1/auth/login","/api/v1/survey/take"];function Gwt(t){return Wwt.some(e=>t.startsWith(e))}qg.authPlugin=(0,Hwt.default)(async t=>{t.decorateRequest("user",null),t.addHook("onRequest",async(e,r)=>{if(Gwt(e.url))return;let n=e.headers.authorization;if(!n?.startsWith("Bearer "))return r.status(401).send({error:"Unauthorized",message:"Missing or invalid authorization header",statusCode:401});try{let i=n.split(" ")[1],s=await Vwt.verify(i),o=s["custom:role"];if(!o){let a=s["cognito:groups"];a?.includes("PLATFORM_ADMIN")||a?.includes("platform-admins")?o="PLATFORM_ADMIN":a?.includes("CLIENT_ADMIN")||a?.includes("client-admins")?o="CLIENT_ADMIN":(a?.includes("TEAM_MEMBER")||a?.includes("team-members"),o="TEAM_MEMBER")}e.user={sub:s.sub,email:s.email,role:o,tenantId:s["custom:tenant_id"]}}catch(i){return t.log.warn({err:i},"Token verification failed"),r.status(401).send({error:"Unauthorized",message:"Invalid or expired token",statusCode:401})}})})});var Yge=v(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0});MA.healthRoutes=void 0;var Kwt=async t=>{t.get("/",async()=>({status:"ok",timestamp:new Date().toISOString()})),t.get("/live",async()=>({status:"ok",timestamp:new Date().toISOString()})),t.get("/ready",async()=>{try{return await t.prisma.$queryRaw`SELECT 1`,{status:"ok",checks:{database:"ok"}}}catch{return{status:"error",checks:{database:"error"}}}})};MA.healthRoutes=Kwt});var eye=v(Qge=>{"use strict";Object.defineProperty(Qge,"__esModule",{value:!0})});var Bw=v(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.getParsedType=qr.ZodParsedType=qr.objectUtil=qr.util=void 0;var A3;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(A3||(qr.util=A3={}));var tye;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(tye||(qr.objectUtil=tye={}));qr.ZodParsedType=A3.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var Xwt=t=>{switch(typeof t){case"undefined":return qr.ZodParsedType.undefined;case"string":return qr.ZodParsedType.string;case"number":return Number.isNaN(t)?qr.ZodParsedType.nan:qr.ZodParsedType.number;case"boolean":return qr.ZodParsedType.boolean;case"function":return qr.ZodParsedType.function;case"bigint":return qr.ZodParsedType.bigint;case"symbol":return qr.ZodParsedType.symbol;case"object":return Array.isArray(t)?qr.ZodParsedType.array:t===null?qr.ZodParsedType.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qr.ZodParsedType.promise:typeof Map<"u"&&t instanceof Map?qr.ZodParsedType.map:typeof Set<"u"&&t instanceof Set?qr.ZodParsedType.set:typeof Date<"u"&&t instanceof Date?qr.ZodParsedType.date:qr.ZodParsedType.object;default:return qr.ZodParsedType.unknown}};qr.getParsedType=Xwt});var qA=v(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.ZodError=Nl.quotelessJson=Nl.ZodIssueCode=void 0;var rye=Bw();Nl.ZodIssueCode=rye.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var Jwt=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");Nl.quotelessJson=Jwt;var Hw=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rye.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Nl.ZodError=Hw;Hw.create=t=>new Hw(t)});var I3=v(P3=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});var Pi=qA(),ch=Bw(),Zwt=(t,e)=>{let r;switch(t.code){case Pi.ZodIssueCode.invalid_type:t.received===ch.ZodParsedType.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Pi.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ch.util.jsonStringifyReplacer)}`;break;case Pi.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${ch.util.joinValues(t.keys,", ")}`;break;case Pi.ZodIssueCode.invalid_union:r="Invalid input";break;case Pi.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ch.util.joinValues(t.options)}`;break;case Pi.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${ch.util.joinValues(t.options)}, received '${t.received}'`;break;case Pi.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case Pi.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case Pi.ZodIssueCode.invalid_date:r="Invalid date";break;case Pi.ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ch.util.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Pi.ZodIssueCode.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Pi.ZodIssueCode.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Pi.ZodIssueCode.custom:r="Invalid input";break;case Pi.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case Pi.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Pi.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=e.defaultError,ch.util.assertNever(t)}return{message:r}};P3.default=Zwt});var $A=v(Dl=>{"use strict";var Ywt=Dl&&Dl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.defaultErrorMap=void 0;Dl.setErrorMap=Qwt;Dl.getErrorMap=ebt;var nye=Ywt(I3());Dl.defaultErrorMap=nye.default;var iye=nye.default;function Qwt(t){iye=t}function ebt(){return iye}});var k3=v(Sr=>{"use strict";var tbt=Sr&&Sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.isAsync=Sr.isValid=Sr.isDirty=Sr.isAborted=Sr.OK=Sr.DIRTY=Sr.INVALID=Sr.ParseStatus=Sr.EMPTY_PATH=Sr.makeIssue=void 0;Sr.addIssueToContext=ibt;var rbt=$A(),sye=tbt(I3()),nbt=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};Sr.makeIssue=nbt;Sr.EMPTY_PATH=[];function ibt(t,e){let r=(0,rbt.getErrorMap)(),n=(0,Sr.makeIssue)({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===sye.default?void 0:sye.default].filter(i=>!!i)});t.common.issues.push(n)}var O3=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Sr.INVALID;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let s=await i.key,o=await i.value;n.push({key:s,value:o})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Sr.INVALID;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}};Sr.ParseStatus=O3;Sr.INVALID=Object.freeze({status:"aborted"});var sbt=t=>({status:"dirty",value:t});Sr.DIRTY=sbt;var obt=t=>({status:"valid",value:t});Sr.OK=obt;var abt=t=>t.status==="aborted";Sr.isAborted=abt;var ubt=t=>t.status==="dirty";Sr.isDirty=ubt;var cbt=t=>t.status==="valid";Sr.isValid=cbt;var lbt=t=>typeof Promise<"u"&&t instanceof Promise;Sr.isAsync=lbt});var aye=v(oye=>{"use strict";Object.defineProperty(oye,"__esModule",{value:!0})});var cye=v(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0});UA.errorUtil=void 0;var uye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(uye||(UA.errorUtil=uye={}))});var bye=v(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.discriminatedUnion=ie.date=ie.boolean=ie.bigint=ie.array=ie.any=ie.coerce=ie.ZodFirstPartyTypeKind=ie.late=ie.ZodSchema=ie.Schema=ie.ZodReadonly=ie.ZodPipeline=ie.ZodBranded=ie.BRAND=ie.ZodNaN=ie.ZodCatch=ie.ZodDefault=ie.ZodNullable=ie.ZodOptional=ie.ZodTransformer=ie.ZodEffects=ie.ZodPromise=ie.ZodNativeEnum=ie.ZodEnum=ie.ZodLiteral=ie.ZodLazy=ie.ZodFunction=ie.ZodSet=ie.ZodMap=ie.ZodRecord=ie.ZodTuple=ie.ZodIntersection=ie.ZodDiscriminatedUnion=ie.ZodUnion=ie.ZodObject=ie.ZodArray=ie.ZodVoid=ie.ZodNever=ie.ZodUnknown=ie.ZodAny=ie.ZodNull=ie.ZodUndefined=ie.ZodSymbol=ie.ZodDate=ie.ZodBoolean=ie.ZodBigInt=ie.ZodNumber=ie.ZodString=ie.ZodType=void 0;ie.NEVER=ie.void=ie.unknown=ie.union=ie.undefined=ie.tuple=ie.transformer=ie.symbol=ie.string=ie.strictObject=ie.set=ie.record=ie.promise=ie.preprocess=ie.pipeline=ie.ostring=ie.optional=ie.onumber=ie.oboolean=ie.object=ie.number=ie.nullable=ie.null=ie.never=ie.nativeEnum=ie.nan=ie.map=ie.literal=ie.lazy=ie.intersection=ie.instanceof=ie.function=ie.enum=ie.effect=void 0;ie.datetimeRegex=pye;ie.custom=gye;var ke=qA(),jA=$A(),Qe=cye(),ae=k3(),Fe=Bw(),Eo=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},lye=(t,e)=>{if((0,ae.isValid)(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ke.ZodError(t.common.issues);return this._error=r,this._error}}};function Rt(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{let{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:u??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:u??r??a.defaultError}},description:i}}var At=class{get description(){return this._def.description}_getType(e){return(0,Fe.getParsedType)(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:(0,Fe.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ae.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,Fe.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if((0,ae.isAsync)(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,Fe.getParsedType)(e)},i=this._parseSync({data:e,path:n.path,parent:n});return lye(n,i)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,Fe.getParsedType)(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:r});return(0,ae.isValid)(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>(0,ae.isValid)(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,Fe.getParsedType)(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await((0,ae.isAsync)(i)?i:Promise.resolve(i));return lye(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:ke.ZodIssueCode.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new js({schema:this,typeName:_t.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return bo.create(this,this._def)}nullable(){return ou.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return lc.create(this)}promise(){return Ml.create(this,this._def)}or(e){return gh.create([this,e],this._def)}and(e){return yh.create(this,e,this._def)}transform(e){return new js({...Rt(this._def),schema:this,typeName:_t.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Eh({...Rt(this._def),innerType:this,defaultValue:r,typeName:_t.ZodDefault})}brand(){return new zw({typeName:_t.ZodBranded,type:this,...Rt(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Sh({...Rt(this._def),innerType:this,catchValue:r,typeName:_t.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Vw.create(this,e)}readonly(){return Th.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};ie.ZodType=At;ie.Schema=At;ie.ZodSchema=At;var fbt=/^c[^\s-]{8,}$/i,dbt=/^[0-9a-z]+$/,hbt=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pbt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mbt=/^[a-z0-9_-]{21}$/i,gbt=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ybt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_bt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vbt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",N3,wbt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bbt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ebt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sbt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tbt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Cbt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dye="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xbt=new RegExp(`^${dye}$`);function hye(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Rbt(t){return new RegExp(`^${hye(t)}$`)}function pye(t){let e=`${dye}T${hye(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Abt(t,e){return!!((e==="v4"||!e)&&wbt.test(t)||(e==="v6"||!e)&&Ebt.test(t))}function Pbt(t,e){if(!gbt.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Ibt(t,e){return!!((e==="v4"||!e)&&bbt.test(t)||(e==="v6"||!e)&&Sbt.test(t))}var Fl=class t extends At{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.ZodParsedType.string){let s=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(s,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.string,received:s.parsedType}),ae.INVALID}let n=new ae.ParseStatus,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")_bt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"email",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")N3||(N3=new RegExp(vbt,"u")),N3.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"emoji",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")pbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"uuid",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")mbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"nanoid",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")fbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"cuid",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")dbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"cuid2",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")hbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"ulid",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"url",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"regex",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?pye(s).test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?xbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Rbt(s).test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?ybt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"duration",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Abt(e.data,s.version)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"ip",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Pbt(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"jwt",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Ibt(e.data,s.version)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"cidr",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Tbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"base64",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Cbt.test(e.data)||(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{validation:"base64url",code:ke.ZodIssueCode.invalid_string,message:s.message}),n.dirty()):Fe.util.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ke.ZodIssueCode.invalid_string,...Qe.errorUtil.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Qe.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qe.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qe.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qe.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Qe.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qe.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qe.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qe.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Qe.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Qe.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Qe.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qe.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Qe.errorUtil.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Qe.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Qe.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Qe.errorUtil.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Qe.errorUtil.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Qe.errorUtil.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Qe.errorUtil.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Qe.errorUtil.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Qe.errorUtil.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Qe.errorUtil.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Qe.errorUtil.errToObj(r)})}nonempty(e){return this.min(1,Qe.errorUtil.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ie.ZodString=Fl;Fl.create=t=>new Fl({checks:[],typeName:_t.ZodString,coerce:t?.coerce??!1,...Rt(t)});function Obt(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}var lh=class t extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.ZodParsedType.number){let s=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(s,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.number,received:s.parsedType}),ae.INVALID}let n,i=new ae.ParseStatus;for(let s of this._def.checks)s.kind==="int"?Fe.util.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Obt(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.not_finite,message:s.message}),i.dirty()):Fe.util.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Qe.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Qe.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Qe.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Qe.errorUtil.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Qe.errorUtil.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Qe.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Qe.errorUtil.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Qe.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.errorUtil.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.util.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};ie.ZodNumber=lh;lh.create=t=>new lh({checks:[],typeName:_t.ZodNumber,coerce:t?.coerce||!1,...Rt(t)});var fh=class t extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.ZodParsedType.bigint)return this._getInvalidInput(e);let n,i=new ae.ParseStatus;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Fe.util.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.bigint,received:r.parsedType}),ae.INVALID}gte(e,r){return this.setLimit("min",e,!0,Qe.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Qe.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Qe.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Qe.errorUtil.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Qe.errorUtil.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Qe.errorUtil.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ie.ZodBigInt=fh;fh.create=t=>new fh({checks:[],typeName:_t.ZodBigInt,coerce:t?.coerce??!1,...Rt(t)});var dh=class extends At{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.ZodParsedType.boolean){let n=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.boolean,received:n.parsedType}),ae.INVALID}return(0,ae.OK)(e.data)}};ie.ZodBoolean=dh;dh.create=t=>new dh({typeName:_t.ZodBoolean,coerce:t?.coerce||!1,...Rt(t)});var hh=class t extends At{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.ZodParsedType.date){let s=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(s,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.date,received:s.parsedType}),ae.INVALID}if(Number.isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(s,{code:ke.ZodIssueCode.invalid_date}),ae.INVALID}let n=new ae.ParseStatus,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),(0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Fe.util.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Qe.errorUtil.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Qe.errorUtil.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ie.ZodDate=hh;hh.create=t=>new hh({checks:[],coerce:t?.coerce||!1,typeName:_t.ZodDate,...Rt(t)});var Ug=class extends At{_parse(e){if(this._getType(e)!==Fe.ZodParsedType.symbol){let n=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.symbol,received:n.parsedType}),ae.INVALID}return(0,ae.OK)(e.data)}};ie.ZodSymbol=Ug;Ug.create=t=>new Ug({typeName:_t.ZodSymbol,...Rt(t)});var ph=class extends At{_parse(e){if(this._getType(e)!==Fe.ZodParsedType.undefined){let n=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.undefined,received:n.parsedType}),ae.INVALID}return(0,ae.OK)(e.data)}};ie.ZodUndefined=ph;ph.create=t=>new ph({typeName:_t.ZodUndefined,...Rt(t)});var mh=class extends At{_parse(e){if(this._getType(e)!==Fe.ZodParsedType.null){let n=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.null,received:n.parsedType}),ae.INVALID}return(0,ae.OK)(e.data)}};ie.ZodNull=mh;mh.create=t=>new mh({typeName:_t.ZodNull,...Rt(t)});var Ll=class extends At{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,ae.OK)(e.data)}};ie.ZodAny=Ll;Ll.create=t=>new Ll({typeName:_t.ZodAny,...Rt(t)});var cc=class extends At{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,ae.OK)(e.data)}};ie.ZodUnknown=cc;cc.create=t=>new cc({typeName:_t.ZodUnknown,...Rt(t)});var ua=class extends At{_parse(e){let r=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.never,received:r.parsedType}),ae.INVALID}};ie.ZodNever=ua;ua.create=t=>new ua({typeName:_t.ZodNever,...Rt(t)});var jg=class extends At{_parse(e){if(this._getType(e)!==Fe.ZodParsedType.undefined){let n=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.void,received:n.parsedType}),ae.INVALID}return(0,ae.OK)(e.data)}};ie.ZodVoid=jg;jg.create=t=>new jg({typeName:_t.ZodVoid,...Rt(t)});var lc=class t extends At{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Fe.ZodParsedType.array)return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.array,received:r.parsedType}),ae.INVALID;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&((0,ae.addIssueToContext)(r,{code:o?ke.ZodIssueCode.too_big:ke.ZodIssueCode.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&((0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&((0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Eo(r,o,r.path,a)))).then(o=>ae.ParseStatus.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new Eo(r,o,r.path,a)));return ae.ParseStatus.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:Qe.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:Qe.errorUtil.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:Qe.errorUtil.toString(r)}})}nonempty(e){return this.min(1,e)}};ie.ZodArray=lc;lc.create=(t,e)=>new lc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_t.ZodArray,...Rt(e)});function $g(t){if(t instanceof Cs){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=bo.create($g(n))}return new Cs({...t._def,shape:()=>e})}else return t instanceof lc?new lc({...t._def,type:$g(t.element)}):t instanceof bo?bo.create($g(t.unwrap())):t instanceof ou?ou.create($g(t.unwrap())):t instanceof su?su.create(t.items.map(e=>$g(e))):t}var Cs=class t extends At{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Fe.util.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Fe.ZodParsedType.object){let c=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(c,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.object,received:c.parsedType}),ae.INVALID}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ua&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let f=s[c],d=i.data[c];u.push({key:{status:"valid",value:c},value:f._parse(new Eo(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ua){let c=this._def.unknownKeys;if(c==="passthrough")for(let f of a)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(c==="strict")a.length>0&&((0,ae.addIssueToContext)(i,{code:ke.ZodIssueCode.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let f of a){let d=i.data[f];u.push({key:{status:"valid",value:f},value:c._parse(new Eo(i,d,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let f of u){let d=await f.key,h=await f.value;c.push({key:d,value:h,alwaysSet:f.alwaysSet})}return c}).then(c=>ae.ParseStatus.mergeObjectSync(n,c)):ae.ParseStatus.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return Qe.errorUtil.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Qe.errorUtil.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_t.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let n of Fe.util.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let n of Fe.util.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}deepPartial(){return $g(this)}partial(e){let r={};for(let n of Fe.util.objectKeys(this.shape)){let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let n of Fe.util.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof bo;)s=s._def.innerType;r[n]=s}return new t({...this._def,shape:()=>r})}keyof(){return mye(Fe.util.objectKeys(this.shape))}};ie.ZodObject=Cs;Cs.create=(t,e)=>new Cs({shape:()=>t,unknownKeys:"strip",catchall:ua.create(),typeName:_t.ZodObject,...Rt(e)});Cs.strictCreate=(t,e)=>new Cs({shape:()=>t,unknownKeys:"strict",catchall:ua.create(),typeName:_t.ZodObject,...Rt(e)});Cs.lazycreate=(t,e)=>new Cs({shape:t,unknownKeys:"strip",catchall:ua.create(),typeName:_t.ZodObject,...Rt(e)});var gh=class extends At{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new ke.ZodError(a.ctx.common.issues));return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_union,unionErrors:o}),ae.INVALID}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},f=u._parseSync({data:r.data,path:r.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new ke.ZodError(u));return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_union,unionErrors:a}),ae.INVALID}}get options(){return this._def.options}};ie.ZodUnion=gh;gh.create=(t,e)=>new gh({options:t,typeName:_t.ZodUnion,...Rt(e)});var uc=t=>t instanceof _h?uc(t.schema):t instanceof js?uc(t.innerType()):t instanceof vh?[t.value]:t instanceof wh?t.options:t instanceof bh?Fe.util.objectValues(t.enum):t instanceof Eh?uc(t._def.innerType):t instanceof ph?[void 0]:t instanceof mh?[null]:t instanceof bo?[void 0,...uc(t.unwrap())]:t instanceof ou?[null,...uc(t.unwrap())]:t instanceof zw||t instanceof Th?uc(t.unwrap()):t instanceof Sh?uc(t._def.innerType):[],BA=class t extends At{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.ZodParsedType.object)return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.object,received:r.parsedType}),ae.INVALID;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):((0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ae.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=uc(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new t({typeName:_t.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Rt(n)})}};ie.ZodDiscriminatedUnion=BA;function D3(t,e){let r=(0,Fe.getParsedType)(t),n=(0,Fe.getParsedType)(e);if(t===e)return{valid:!0,data:t};if(r===Fe.ZodParsedType.object&&n===Fe.ZodParsedType.object){let i=Fe.util.objectKeys(e),s=Fe.util.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=D3(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===Fe.ZodParsedType.array&&n===Fe.ZodParsedType.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=D3(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Fe.ZodParsedType.date&&n===Fe.ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var yh=class extends At{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if((0,ae.isAborted)(s)||(0,ae.isAborted)(o))return ae.INVALID;let a=D3(s.value,o.value);return a.valid?(((0,ae.isDirty)(s)||(0,ae.isDirty)(o))&&r.dirty(),{status:r.value,value:a.data}):((0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_intersection_types}),ae.INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};ie.ZodIntersection=yh;yh.create=(t,e,r)=>new yh({left:t,right:e,typeName:_t.ZodIntersection,...Rt(r)});var su=class t extends At{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.ZodParsedType.array)return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.array,received:n.parsedType}),ae.INVALID;if(n.data.length<this._def.items.length)return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae.INVALID;!this._def.rest&&n.data.length>this._def.items.length&&((0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Eo(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ae.ParseStatus.mergeArray(r,o)):ae.ParseStatus.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};ie.ZodTuple=su;su.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new su({items:t,typeName:_t.ZodTuple,rest:null,...Rt(e)})};var HA=class t extends At{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.ZodParsedType.object)return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.object,received:n.parsedType}),ae.INVALID;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new Eo(n,a,n.path,a)),value:o._parse(new Eo(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ae.ParseStatus.mergeObjectAsync(r,i):ae.ParseStatus.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof At?new t({keyType:e,valueType:r,typeName:_t.ZodRecord,...Rt(n)}):new t({keyType:Fl.create(),valueType:e,typeName:_t.ZodRecord,...Rt(r)})}};ie.ZodRecord=HA;var Bg=class extends At{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.ZodParsedType.map)return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.map,received:n.parsedType}),ae.INVALID;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:i._parse(new Eo(n,a,n.path,[c,"key"])),value:s._parse(new Eo(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,f=await u.value;if(c.status==="aborted"||f.status==="aborted")return ae.INVALID;(c.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(c.value,f.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,f=u.value;if(c.status==="aborted"||f.status==="aborted")return ae.INVALID;(c.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(c.value,f.value)}return{status:r.value,value:a}}}};ie.ZodMap=Bg;Bg.create=(t,e,r)=>new Bg({valueType:e,keyType:t,typeName:_t.ZodMap,...Rt(r)});var Hg=class t extends At{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.ZodParsedType.set)return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.set,received:n.parsedType}),ae.INVALID;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&((0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&((0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let f of u){if(f.status==="aborted")return ae.INVALID;f.status==="dirty"&&r.dirty(),c.add(f.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>s._parse(new Eo(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:Qe.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:Qe.errorUtil.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};ie.ZodSet=Hg;Hg.create=(t,e)=>new Hg({valueType:t,minSize:null,maxSize:null,typeName:_t.ZodSet,...Rt(e)});var zA=class t extends At{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.ZodParsedType.function)return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.function,received:r.parsedType}),ae.INVALID;function n(a,u){return(0,ae.makeIssue)({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,jA.getErrorMap)(),jA.defaultErrorMap].filter(c=>!!c),issueData:{code:ke.ZodIssueCode.invalid_arguments,argumentsError:u}})}function i(a,u){return(0,ae.makeIssue)({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,jA.getErrorMap)(),jA.defaultErrorMap].filter(c=>!!c),issueData:{code:ke.ZodIssueCode.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ml){let a=this;return(0,ae.OK)(async function(...u){let c=new ke.ZodError([]),f=await a._def.args.parseAsync(u,s).catch(p=>{throw c.addIssue(n(u,p)),c}),d=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(d,s).catch(p=>{throw c.addIssue(i(d,p)),c})})}else{let a=this;return(0,ae.OK)(function(...u){let c=a._def.args.safeParse(u,s);if(!c.success)throw new ke.ZodError([n(u,c.error)]);let f=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(f,s);if(!d.success)throw new ke.ZodError([i(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:su.create(e).rest(cc.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||su.create([]).rest(cc.create()),returns:r||cc.create(),typeName:_t.ZodFunction,...Rt(n)})}};ie.ZodFunction=zA;var _h=class extends At{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};ie.ZodLazy=_h;_h.create=(t,e)=>new _h({getter:t,typeName:_t.ZodLazy,...Rt(e)});var vh=class extends At{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(r,{received:r.data,code:ke.ZodIssueCode.invalid_literal,expected:this._def.value}),ae.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}};ie.ZodLiteral=vh;vh.create=(t,e)=>new vh({value:t,typeName:_t.ZodLiteral,...Rt(e)});function mye(t,e){return new wh({values:t,typeName:_t.ZodEnum,...Rt(e)})}var wh=class t extends At{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return(0,ae.addIssueToContext)(r,{expected:Fe.util.joinValues(n),received:r.parsedType,code:ke.ZodIssueCode.invalid_type}),ae.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return(0,ae.addIssueToContext)(r,{received:r.data,code:ke.ZodIssueCode.invalid_enum_value,options:n}),ae.INVALID}return(0,ae.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};ie.ZodEnum=wh;wh.create=mye;var bh=class extends At{_parse(e){let r=Fe.util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Fe.ZodParsedType.string&&n.parsedType!==Fe.ZodParsedType.number){let i=Fe.util.objectValues(r);return(0,ae.addIssueToContext)(n,{expected:Fe.util.joinValues(i),received:n.parsedType,code:ke.ZodIssueCode.invalid_type}),ae.INVALID}if(this._cache||(this._cache=new Set(Fe.util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let i=Fe.util.objectValues(r);return(0,ae.addIssueToContext)(n,{received:n.data,code:ke.ZodIssueCode.invalid_enum_value,options:i}),ae.INVALID}return(0,ae.OK)(e.data)}get enum(){return this._def.values}};ie.ZodNativeEnum=bh;bh.create=(t,e)=>new bh({values:t,typeName:_t.ZodNativeEnum,...Rt(e)});var Ml=class extends At{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.ZodParsedType.promise&&r.common.async===!1)return(0,ae.addIssueToContext)(r,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.promise,received:r.parsedType}),ae.INVALID;let n=r.parsedType===Fe.ZodParsedType.promise?r.data:Promise.resolve(r.data);return(0,ae.OK)(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ie.ZodPromise=Ml;Ml.create=(t,e)=>new Ml({type:t,typeName:_t.ZodPromise,...Rt(e)});var js=class extends At{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{(0,ae.addIssueToContext)(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ae.INVALID;let u=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return u.status==="aborted"?ae.INVALID:u.status==="dirty"||r.value==="dirty"?(0,ae.DIRTY)(u.value):u});{if(r.value==="aborted")return ae.INVALID;let a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ae.INVALID:a.status==="dirty"||r.value==="dirty"?(0,ae.DIRTY)(a.value):a}}if(i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ae.INVALID:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ae.INVALID:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!(0,ae.isValid)(o))return ae.INVALID;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>(0,ae.isValid)(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):ae.INVALID);Fe.util.assertNever(i)}};ie.ZodEffects=js;ie.ZodTransformer=js;js.create=(t,e,r)=>new js({schema:t,typeName:_t.ZodEffects,effect:e,...Rt(r)});js.createWithPreprocess=(t,e,r)=>new js({schema:e,effect:{type:"preprocess",transform:t},typeName:_t.ZodEffects,...Rt(r)});var bo=class extends At{_parse(e){return this._getType(e)===Fe.ZodParsedType.undefined?(0,ae.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ie.ZodOptional=bo;bo.create=(t,e)=>new bo({innerType:t,typeName:_t.ZodOptional,...Rt(e)});var ou=class extends At{_parse(e){return this._getType(e)===Fe.ZodParsedType.null?(0,ae.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ie.ZodNullable=ou;ou.create=(t,e)=>new ou({innerType:t,typeName:_t.ZodNullable,...Rt(e)});var Eh=class extends At{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===Fe.ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};ie.ZodDefault=Eh;Eh.create=(t,e)=>new Eh({innerType:t,typeName:_t.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Rt(e)});var Sh=class extends At{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return(0,ae.isAsync)(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ke.ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ke.ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ie.ZodCatch=Sh;Sh.create=(t,e)=>new Sh({innerType:t,typeName:_t.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Rt(e)});var zg=class extends At{_parse(e){if(this._getType(e)!==Fe.ZodParsedType.nan){let n=this._getOrReturnCtx(e);return(0,ae.addIssueToContext)(n,{code:ke.ZodIssueCode.invalid_type,expected:Fe.ZodParsedType.nan,received:n.parsedType}),ae.INVALID}return{status:"valid",value:e.data}}};ie.ZodNaN=zg;zg.create=t=>new zg({typeName:_t.ZodNaN,...Rt(t)});ie.BRAND=Symbol("zod_brand");var zw=class extends At{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}};ie.ZodBranded=zw;var Vw=class t extends At{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ae.INVALID:s.status==="dirty"?(r.dirty(),(0,ae.DIRTY)(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ae.INVALID:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:_t.ZodPipeline})}};ie.ZodPipeline=Vw;var Th=class extends At{_parse(e){let r=this._def.innerType._parse(e),n=i=>((0,ae.isValid)(i)&&(i.value=Object.freeze(i.value)),i);return(0,ae.isAsync)(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};ie.ZodReadonly=Th;Th.create=(t,e)=>new Th({innerType:t,typeName:_t.ZodReadonly,...Rt(e)});function fye(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function gye(t,e={},r){return t?Ll.create().superRefine((n,i)=>{let s=t(n);if(s instanceof Promise)return s.then(o=>{if(!o){let a=fye(e,n),u=a.fatal??r??!0;i.addIssue({code:"custom",...a,fatal:u})}});if(!s){let o=fye(e,n),a=o.fatal??r??!0;i.addIssue({code:"custom",...o,fatal:a})}}):Ll.create()}ie.late={object:Cs.lazycreate};var _t;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_t||(ie.ZodFirstPartyTypeKind=_t={}));var kbt=(t,e={message:`Input not instance of ${t.name}`})=>gye(r=>r instanceof t,e);ie.instanceof=kbt;var yye=Fl.create;ie.string=yye;var _ye=lh.create;ie.number=_ye;var Nbt=zg.create;ie.nan=Nbt;var Dbt=fh.create;ie.bigint=Dbt;var vye=dh.create;ie.boolean=vye;var Fbt=hh.create;ie.date=Fbt;var Lbt=Ug.create;ie.symbol=Lbt;var Mbt=ph.create;ie.undefined=Mbt;var qbt=mh.create;ie.null=qbt;var $bt=Ll.create;ie.any=$bt;var Ubt=cc.create;ie.unknown=Ubt;var jbt=ua.create;ie.never=jbt;var Bbt=jg.create;ie.void=Bbt;var Hbt=lc.create;ie.array=Hbt;var zbt=Cs.create;ie.object=zbt;var Vbt=Cs.strictCreate;ie.strictObject=Vbt;var Wbt=gh.create;ie.union=Wbt;var Gbt=BA.create;ie.discriminatedUnion=Gbt;var Kbt=yh.create;ie.intersection=Kbt;var Xbt=su.create;ie.tuple=Xbt;var Jbt=HA.create;ie.record=Jbt;var Zbt=Bg.create;ie.map=Zbt;var Ybt=Hg.create;ie.set=Ybt;var Qbt=zA.create;ie.function=Qbt;var eEt=_h.create;ie.lazy=eEt;var tEt=vh.create;ie.literal=tEt;var rEt=wh.create;ie.enum=rEt;var nEt=bh.create;ie.nativeEnum=nEt;var iEt=Ml.create;ie.promise=iEt;var wye=js.create;ie.effect=wye;ie.transformer=wye;var sEt=bo.create;ie.optional=sEt;var oEt=ou.create;ie.nullable=oEt;var aEt=js.createWithPreprocess;ie.preprocess=aEt;var uEt=Vw.create;ie.pipeline=uEt;var cEt=()=>yye().optional();ie.ostring=cEt;var lEt=()=>_ye().optional();ie.onumber=lEt;var fEt=()=>vye().optional();ie.oboolean=fEt;ie.coerce={string:(t=>Fl.create({...t,coerce:!0})),number:(t=>lh.create({...t,coerce:!0})),boolean:(t=>dh.create({...t,coerce:!0})),bigint:(t=>fh.create({...t,coerce:!0})),date:(t=>hh.create({...t,coerce:!0}))};ie.NEVER=ae.INVALID});var F3=v(So=>{"use strict";var dEt=So&&So.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Vg=So&&So.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dEt(e,t,r)};Object.defineProperty(So,"__esModule",{value:!0});Vg($A(),So);Vg(k3(),So);Vg(aye(),So);Vg(Bw(),So);Vg(bye(),So);Vg(qA(),So)});var Ww=v(xs=>{"use strict";var Eye=xs&&xs.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),hEt=xs&&xs.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),pEt=xs&&xs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Eye(e,t,r);return hEt(e,t),e},mEt=xs&&xs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Eye(e,t,r)};Object.defineProperty(xs,"__esModule",{value:!0});xs.z=void 0;var Sye=pEt(F3());xs.z=Sye;mEt(F3(),xs);xs.default=Sye});var Tye=v(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.updateClientSchema=au.createClientSchema=au.clientTypeSchema=void 0;var Gw=Ww();au.clientTypeSchema=Gw.z.enum(["FULL","LITE"]);au.createClientSchema=Gw.z.object({name:Gw.z.string().min(2).max(100),type:au.clientTypeSchema.default("FULL"),logoUrl:Gw.z.string().url().optional().nullable(),primaryColor:Gw.z.string().regex(/^#[0-9A-Fa-f]{6}$/).default("#0066CC")});au.updateClientSchema=au.createClientSchema.partial()});var Cye=v(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.updateUserSchema=To.createUserSchema=To.userStatusSchema=To.userRoleSchema=void 0;var Ch=Ww();To.userRoleSchema=Ch.z.enum(["PLATFORM_ADMIN","CLIENT_ADMIN","TEAM_MEMBER"]);To.userStatusSchema=Ch.z.enum(["PENDING_VERIFICATION","PENDING_APPROVAL","ACTIVE","DISABLED"]);To.createUserSchema=Ch.z.object({email:Ch.z.string().email(),firstName:Ch.z.string().min(1).max(50),lastName:Ch.z.string().min(1).max(50),role:To.userRoleSchema,clientId:Ch.z.string().cuid().optional().nullable()});To.updateUserSchema=To.createUserSchema.partial()});var xye=v(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.updateHcpSchema=cu.createHcpSchema=cu.npiSchema=void 0;var uu=Ww();cu.npiSchema=uu.z.string().regex(/^\d{10}$/,"NPI must be 10 digits");cu.createHcpSchema=uu.z.object({npi:cu.npiSchema,firstName:uu.z.string().min(1).max(50),lastName:uu.z.string().min(1).max(50),email:uu.z.string().email().optional().nullable(),specialty:uu.z.string().optional().nullable(),subSpecialty:uu.z.string().optional().nullable(),city:uu.z.string().optional().nullable(),state:uu.z.string().length(2).optional().nullable(),yearsInPractice:uu.z.number().int().positive().optional().nullable()});cu.updateHcpSchema=cu.createHcpSchema.partial().omit({npi:!0})});var Rye=v(Bs=>{"use strict";var gEt=Bs&&Bs.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),L3=Bs&&Bs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gEt(e,t,r)};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.idParamSchema=Bs.paginationSchema=void 0;var Kw=Ww();Bs.paginationSchema=Kw.z.object({page:Kw.z.coerce.number().int().positive().default(1),limit:Kw.z.coerce.number().int().positive().max(100).default(50)});Bs.idParamSchema=Kw.z.object({id:Kw.z.string().cuid()});L3(Tye(),Bs);L3(Cye(),Bs);L3(xye(),Bs)});var Aye=v(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.DISEASE_AREAS=On.QUESTION_TYPES=On.OPT_OUT_SCOPES=On.PAYMENT_STATUSES=On.NOMINATION_MATCH_STATUSES=On.SURVEY_RESPONSE_STATUSES=On.CAMPAIGN_STATUSES=On.CLIENT_TYPES=On.USER_ROLES=void 0;On.USER_ROLES={PLATFORM_ADMIN:"PLATFORM_ADMIN",CLIENT_ADMIN:"CLIENT_ADMIN",TEAM_MEMBER:"TEAM_MEMBER"};On.CLIENT_TYPES={FULL:"FULL",LITE:"LITE"};On.CAMPAIGN_STATUSES={DRAFT:"DRAFT",ACTIVE:"ACTIVE",CLOSED:"CLOSED",PUBLISHED:"PUBLISHED"};On.SURVEY_RESPONSE_STATUSES={PENDING:"PENDING",OPENED:"OPENED",IN_PROGRESS:"IN_PROGRESS",COMPLETED:"COMPLETED"};On.NOMINATION_MATCH_STATUSES={UNMATCHED:"UNMATCHED",MATCHED:"MATCHED",NEW_HCP:"NEW_HCP",EXCLUDED:"EXCLUDED"};On.PAYMENT_STATUSES={PENDING_EXPORT:"PENDING_EXPORT",EXPORTED:"EXPORTED",EMAIL_SENT:"EMAIL_SENT",EMAIL_DELIVERED:"EMAIL_DELIVERED",EMAIL_OPENED:"EMAIL_OPENED",CLAIMED:"CLAIMED",BOUNCED:"BOUNCED",REJECTED:"REJECTED",EXPIRED:"EXPIRED"};On.OPT_OUT_SCOPES={CAMPAIGN:"CAMPAIGN",GLOBAL:"GLOBAL"};On.QUESTION_TYPES={TEXT:"TEXT",NUMBER:"NUMBER",RATING:"RATING",SINGLE_CHOICE:"SINGLE_CHOICE",MULTI_CHOICE:"MULTI_CHOICE",DROPDOWN:"DROPDOWN",MULTI_TEXT:"MULTI_TEXT"};On.DISEASE_AREAS=[{code:"RETINA",name:"Retina",therapeuticArea:"Ophthalmology"},{code:"DRY_EYE",name:"Dry Eye",therapeuticArea:"Ophthalmology"},{code:"GLAUCOMA",name:"Glaucoma",therapeuticArea:"Ophthalmology"},{code:"CORNEA",name:"Cornea",therapeuticArea:"Ophthalmology"}]});var VA=v(fc=>{"use strict";var yEt=fc&&fc.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),M3=fc&&fc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yEt(e,t,r)};Object.defineProperty(fc,"__esModule",{value:!0});M3(eye(),fc);M3(Rye(),fc);M3(Aye(),fc)});var WA=v(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.requireAuth=_Et;xh.requireRole=q3;xh.requirePlatformAdmin=vEt;xh.requireClientAdmin=wEt;xh.requireTenantAccess=bEt;function _Et(){return async(t,e)=>{if(!t.user)return e.status(401).send({error:"Unauthorized",message:"Authentication required",statusCode:401})}}function q3(...t){return async(e,r)=>{if(!e.user)return r.status(401).send({error:"Unauthorized",message:"Authentication required",statusCode:401});if(!t.includes(e.user.role))return r.status(403).send({error:"Forbidden",message:"Insufficient permissions",statusCode:403})}}function vEt(){return q3("PLATFORM_ADMIN")}function wEt(){return q3("PLATFORM_ADMIN","CLIENT_ADMIN")}function bEt(t){return async(e,r)=>{if(!e.user)return r.status(401).send({error:"Unauthorized",statusCode:401});if(e.user.role==="PLATFORM_ADMIN")return;let n=t(e);if(n&&e.user.tenantId!==n)return r.status(403).send({error:"Forbidden",message:"Cannot access other tenant data",statusCode:403})}}});var GA=v(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.prisma=void 0;var EEt=require("@prisma/client"),SEt=()=>new EEt.PrismaClient({log:process.env.NODE_ENV==="development"?["query","info","warn","error"]:["error"],datasources:{db:{url:process.env.DATABASE_URL}}});Wg.prisma=global.prisma||SEt();process.env.NODE_ENV!=="production"&&(global.prisma=Wg.prisma);Wg.prisma.$connect().catch(t=>{console.error("Failed to connect to database:",t)})});var Pye=v(KA=>{"use strict";Object.defineProperty(KA,"__esModule",{value:!0});KA.ClientService=void 0;var Rh=GA(),$3=class{async list(e=!1){return Rh.prisma.client.findMany({where:e?{}:{isActive:!0},include:{_count:{select:{users:!0,campaigns:!0,liteClientDiseaseAreas:!0}}},orderBy:{name:"asc"}})}async getById(e){return Rh.prisma.client.findUnique({where:{id:e},include:{users:{select:{id:!0,email:!0,firstName:!0,lastName:!0,role:!0,status:!0}},campaigns:{select:{id:!0,name:!0,status:!0,diseaseArea:{select:{name:!0}}},orderBy:{createdAt:"desc"},take:10},liteClientDiseaseAreas:{include:{diseaseArea:!0}},_count:{select:{users:!0,campaigns:!0}}}})}async create(e,r){return Rh.prisma.client.create({data:{...e}})}async update(e,r){return Rh.prisma.client.update({where:{id:e},data:r})}async deactivate(e){return Rh.prisma.client.update({where:{id:e},data:{isActive:!1}})}async grantDiseaseAreaAccess(e,r,n){return Rh.prisma.liteClientDiseaseArea.create({data:{clientId:e,diseaseAreaId:r,grantedBy:n}})}async revokeDiseaseAreaAccess(e,r){return Rh.prisma.liteClientDiseaseArea.deleteMany({where:{clientId:e,diseaseAreaId:r}})}};KA.ClientService=$3});var Oye=v(XA=>{"use strict";Object.defineProperty(XA,"__esModule",{value:!0});XA.clientRoutes=void 0;var Iye=VA(),TEt=WA(),CEt=Pye(),Ah=new CEt.ClientService,xEt=async t=>{t.addHook("preHandler",(0,TEt.requirePlatformAdmin)()),t.get("/",async e=>{let{includeInactive:r}=e.query;return{items:await Ah.list(r==="true")}}),t.get("/:id",async(e,r)=>{let n=await Ah.getById(e.params.id);return n||r.status(404).send({error:"Not Found",message:"Client not found",statusCode:404})}),t.post("/",async(e,r)=>{let n=Iye.createClientSchema.parse(e.body),i=await Ah.create(n,e.user.sub);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"client.created",entityType:"Client",entityId:i.id,newValues:n}}),r.status(201).send(i)}),t.put("/:id",async(e,r)=>{let n=Iye.updateClientSchema.parse(e.body),i=await Ah.getById(e.params.id);if(!i)return r.status(404).send({error:"Not Found",message:"Client not found",statusCode:404});let s=await Ah.update(e.params.id,n);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"client.updated",entityType:"Client",entityId:s.id,oldValues:i,newValues:n}}),s}),t.delete("/:id",async(e,r)=>await Ah.getById(e.params.id)?(await Ah.deactivate(e.params.id),await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"client.deactivated",entityType:"Client",entityId:e.params.id,oldValues:{isActive:!0},newValues:{isActive:!1}}}),r.status(204).send()):r.status(404).send({error:"Not Found",message:"Client not found",statusCode:404}))};XA.clientRoutes=xEt});var ql=v(kr=>{"use strict";kr.HttpAuthLocation=void 0;(function(t){t.HEADER="header",t.QUERY="query"})(kr.HttpAuthLocation||(kr.HttpAuthLocation={}));kr.HttpApiKeyAuthLocation=void 0;(function(t){t.HEADER="header",t.QUERY="query"})(kr.HttpApiKeyAuthLocation||(kr.HttpApiKeyAuthLocation={}));kr.EndpointURLScheme=void 0;(function(t){t.HTTP="http",t.HTTPS="https"})(kr.EndpointURLScheme||(kr.EndpointURLScheme={}));kr.AlgorithmId=void 0;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(kr.AlgorithmId||(kr.AlgorithmId={}));var REt=t=>{let e=[];return t.sha256!==void 0&&e.push({algorithmId:()=>kr.AlgorithmId.SHA256,checksumConstructor:()=>t.sha256}),t.md5!=null&&e.push({algorithmId:()=>kr.AlgorithmId.MD5,checksumConstructor:()=>t.md5}),{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},AEt=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},PEt=t=>REt(t),IEt=t=>AEt(t);kr.FieldPosition=void 0;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(kr.FieldPosition||(kr.FieldPosition={}));var OEt="__smithy_context";kr.IniSectionType=void 0;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(kr.IniSectionType||(kr.IniSectionType={}));kr.RequestHandlerProtocol=void 0;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(kr.RequestHandlerProtocol||(kr.RequestHandlerProtocol={}));kr.SMITHY_CONTEXT_KEY=OEt;kr.getDefaultClientConfiguration=PEt;kr.resolveDefaultRuntimeConfig=IEt});var xr=v($l=>{"use strict";var kEt=ql(),NEt=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),DEt=t=>({httpHandler:t.httpHandler()}),U3=class{name;kind;values;constructor({name:e,kind:r=kEt.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},j3=class{entries={};encoding;constructor({fields:e=[],encoding:r="utf-8"}){e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}},B3=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=FEt(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}};function FEt(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var H3=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function LEt(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}$l.Field=U3;$l.Fields=j3;$l.HttpRequest=B3;$l.HttpResponse=H3;$l.getHttpHandlerExtensionConfiguration=NEt;$l.isValidHostname=LEt;$l.resolveHttpHandlerRuntimeConfig=DEt});var Gg=v(Xw=>{"use strict";var MEt=xr();function qEt(t){return t}var kye=t=>e=>async r=>{if(!MEt.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return e(r)},Nye={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},$Et=t=>({applyToStack:e=>{e.add(kye(t),Nye)}});Xw.getHostHeaderPlugin=$Et;Xw.hostHeaderMiddleware=kye;Xw.hostHeaderMiddlewareOptions=Nye;Xw.resolveHostHeaderConfig=qEt});var Kg=v(JA=>{"use strict";var Dye=()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:i,commandName:s,logger:o,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:c}=a,f=u??e.inputFilterSensitiveLog,d=c??e.outputFilterSensitiveLog,{$metadata:h,...p}=n.output;return o?.info?.({clientName:i,commandName:s,input:f(r.input),output:d(p),metadata:h}),n}catch(n){let{clientName:i,commandName:s,logger:o,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:u}=a,c=u??e.inputFilterSensitiveLog;throw o?.error?.({clientName:i,commandName:s,input:c(r.input),error:n,metadata:n.$metadata}),n}},Fye={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},UEt=t=>({applyToStack:e=>{e.add(Dye(),Fye)}});JA.getLoggerPlugin=UEt;JA.loggerMiddleware=Dye;JA.loggerMiddlewareOptions=Fye});var Lye={};Qi(Lye,{InvokeStore:()=>G3,InvokeStoreBase:()=>Zw});var Jw,z3,Zw,V3,W3,G3,Mye=te(()=>{Jw={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},z3=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");z3||(globalThis.awslambda=globalThis.awslambda||{});Zw=class{static PROTECTED_KEYS=Jw;isProtectedKey(e){return Object.values(Jw).includes(e)}getRequestId(){return this.get(Jw.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(Jw.X_RAY_TRACE_ID)}getTenantId(){return this.get(Jw.TENANT_ID)}},V3=class extends Zw{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=r}run(e,r){return this.currentContext=e,r()}},W3=class t extends Zw{als;static async create(){let e=new t,r=await import("node:async_hooks");return e.als=new r.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[e]=r}run(e,r){return this.als.run(e,r)}};(function(t){let e=null;async function r(){return e||(e=(async()=>{let i="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await W3.create():new V3;return!z3&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!z3&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=i),i)})()),e}t.getInstanceAsync=r,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(G3||(G3={}))});var qye=v(ZA=>{"use strict";Object.defineProperty(ZA,"__esModule",{value:!0});ZA.recursionDetectionMiddleware=void 0;var jEt=(Mye(),Wt(Lye)),BEt=xr(),K3="X-Amzn-Trace-Id",HEt="AWS_LAMBDA_FUNCTION_NAME",zEt="_X_AMZN_TRACE_ID",VEt=()=>t=>async e=>{let{request:r}=e;if(!BEt.HttpRequest.isInstance(r))return t(e);let n=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===K3.toLowerCase())??K3;if(r.headers.hasOwnProperty(n))return t(e);let i=process.env[HEt],s=process.env[zEt],u=(await jEt.InvokeStore.getInstanceAsync())?.getXRayTraceId()??s,c=f=>typeof f=="string"&&f.length>0;return c(i)&&c(u)&&(r.headers[K3]=u),t({...e,request:r})};ZA.recursionDetectionMiddleware=VEt});var Xg=v(YA=>{"use strict";var X3=qye(),WEt={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},GEt=t=>({applyToStack:e=>{e.add(X3.recursionDetectionMiddleware(),WEt)}});YA.getRecursionDetectionPlugin=GEt;Object.keys(X3).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(YA,t)&&Object.defineProperty(YA,t,{enumerable:!0,get:function(){return X3[t]}})})});var J3,KEt,$ye=te(()=>{J3=oe(ql()),KEt=t=>t[J3.SMITHY_CONTEXT_KEY]||(t[J3.SMITHY_CONTEXT_KEY]={})});var ss=v(Z3=>{"use strict";var Uye=ql(),XEt=t=>t[Uye.SMITHY_CONTEXT_KEY]||(t[Uye.SMITHY_CONTEXT_KEY]={}),JEt=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};Z3.getSmithyContext=XEt;Z3.normalizeProvider=JEt});var jye,Bye=te(()=>{jye=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let n of e)for(let i of t)i.schemeId.split("#")[1]===n&&r.push(i);for(let n of t)r.find(({schemeId:i})=>i===n.schemeId)||r.push(n);return r}});function ZEt(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var Hye,Yw,QA=te(()=>{Hye=oe(ss());Bye();Yw=(t,e)=>(r,n)=>async i=>{let s=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,i.input)),o=t.authSchemePreference?await t.authSchemePreference():[],a=jye(s,o),u=ZEt(t.httpAuthSchemes),c=(0,Hye.getSmithyContext)(n),f=[];for(let d of a){let h=u.get(d.schemeId);if(!h){f.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let p=h.identityProvider(await e.identityProviderConfigProvider(t));if(!p){f.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:m={},signingProperties:g={}}=d.propertiesExtractor?.(t,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},m),d.signingProperties=Object.assign(d.signingProperties||{},g),c.selectedHttpAuthScheme={httpAuthOption:d,identity:await p(d.identityProperties),signer:h.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(f.join(`
`));return r(i)}});var zye,Ph,Vye=te(()=>{QA();zye={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ph=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Yw(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),zye)}})});var Q3=v(Jg=>{"use strict";var YEt=xr(),Wye=(t,e)=>(r,n)=>async i=>{let{response:s}=await r(i);try{let o=await e(s,t);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(YEt.HttpResponse.isInstance(s)){let{headers:u={}}=s,c=Object.entries(u);o.$metadata={httpStatusCode:s.statusCode,requestId:Y3(/^x-[\w-]+-request-?id$/,c),extendedRequestId:Y3(/^x-[\w-]+-id-2$/,c),cfId:Y3(/^x-[\w-]+-cf-id$/,c)}}}catch{}}throw o}},Y3=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1],Gye=(t,e)=>(r,n)=>async i=>{let s=t,o=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await e(i.input,{...t,endpoint:o});return r({...i,request:a})},Kye={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Xye={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function QEt(t,e,r){return{applyToStack:n=>{n.add(Wye(t,r),Kye),n.add(Gye(t,e),Xye)}}}Jg.deserializerMiddleware=Wye;Jg.deserializerMiddlewareOption=Kye;Jg.getSerdePlugin=QEt;Jg.serializerMiddleware=Gye;Jg.serializerMiddlewareOption=Xye});var Jye,Zye,eSt,Yye=te(()=>{Jye=oe(Q3());QA();Zye={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Jye.serializerMiddlewareOption.name},eSt=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Yw(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Zye)}})});var Qye=te(()=>{QA();Vye();Yye()});var e_e,t_e,tSt,rSt,eH,tH=te(()=>{e_e=oe(xr()),t_e=oe(ss()),tSt=t=>e=>{throw e},rSt=(t,e)=>{},eH=t=>(e,r)=>async n=>{if(!e_e.HttpRequest.isInstance(n.request))return e(n);let s=(0,t_e.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:u}=s,c=await e({...n,request:await u.sign(n.request,a,o)}).catch((u.errorHandler||tSt)(o));return(u.successHandler||rSt)(c.response,o),c}});var r_e,Ih,n_e=te(()=>{tH();r_e={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ih=t=>({applyToStack:e=>{e.addRelativeTo(eH(t),r_e)}})});var i_e=te(()=>{tH();n_e()});var Ul,s_e=te(()=>{Ul=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function o_e(t,e,r,n,i){return async function*(o,a,...u){let c=a,f=o.startingToken??c[r],d=!0,h;for(;d;){if(c[r]=f,i&&(c[i]=c[i]??o.pageSize),o.client instanceof t)h=await nSt(e,o.client,a,o.withCommand,...u);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield h;let p=f;f=iSt(h,n),d=!!(f&&(!o.stopOnSameToken||f!==p))}return void 0}}var nSt,iSt,a_e=te(()=>{nSt=async(t,e,r,n=s=>s,...i)=>{let s=new t(r);return s=n(s)??s,await e.send(s,...i)};iSt=(t,e)=>{let r=t,n=e.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r}});var rH=v(u_e=>{"use strict";var sSt=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";u_e.isArrayBuffer=sSt});var Zg=v(iH=>{"use strict";var oSt=rH(),nH=require("buffer"),aSt=(t,e=0,r=t.byteLength-e)=>{if(!oSt.isArrayBuffer(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return nH.Buffer.from(t,e,r)},uSt=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?nH.Buffer.from(t,e):nH.Buffer.from(t)};iH.fromArrayBuffer=aSt;iH.fromString=uSt});var c_e=v(eP=>{"use strict";Object.defineProperty(eP,"__esModule",{value:!0});eP.fromBase64=void 0;var cSt=Zg(),lSt=/^[A-Za-z0-9+/]*={0,2}$/,fSt=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!lSt.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,cSt.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};eP.fromBase64=fSt});var Wn=v(tP=>{"use strict";var l_e=Zg(),f_e=t=>{let e=l_e.fromString(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)},dSt=t=>typeof t=="string"?f_e(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),hSt=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return l_e.fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength).toString("utf8")};tP.fromUtf8=f_e;tP.toUint8Array=dSt;tP.toUtf8=hSt});var d_e=v(rP=>{"use strict";Object.defineProperty(rP,"__esModule",{value:!0});rP.toBase64=void 0;var pSt=Zg(),mSt=Wn(),gSt=t=>{let e;if(typeof t=="string"?e=(0,mSt.fromUtf8)(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,pSt.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64")};rP.toBase64=gSt});var Gn=v(Qw=>{"use strict";var h_e=c_e(),p_e=d_e();Object.keys(h_e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Qw,t)&&Object.defineProperty(Qw,t,{enumerable:!0,get:function(){return h_e[t]}})});Object.keys(p_e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Qw,t)&&Object.defineProperty(Qw,t,{enumerable:!0,get:function(){return p_e[t]}})})});var oH=v(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0});nP.ChecksumStream=void 0;var ySt=Gn(),_St=require("stream"),sH=class extends _St.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:e,checksum:r,source:n,checksumSourceLocation:i,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??ySt.toBase64,this.expectedChecksum=e,this.checksum=r,this.checksumSourceLocation=i,this.source.pipe(this)}_read(e){}_write(e,r,n){try{this.checksum.update(e),this.push(e)}catch(i){return n(i)}return n()}async _final(e){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return e(r)}return this.push(null),e()}};nP.ChecksumStream=sH});var jl=v(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.isBlob=Yg.isReadableStream=void 0;var vSt=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);Yg.isReadableStream=vSt;var wSt=t=>typeof Blob=="function"&&(t?.constructor?.name===Blob.name||t instanceof Blob);Yg.isBlob=wSt});var m_e=v(iP=>{"use strict";Object.defineProperty(iP,"__esModule",{value:!0});iP.ChecksumStream=void 0;var bSt=typeof ReadableStream=="function"?ReadableStream:function(){},aH=class extends bSt{};iP.ChecksumStream=aH});var g_e=v(sP=>{"use strict";Object.defineProperty(sP,"__esModule",{value:!0});sP.createChecksumStream=void 0;var ESt=Gn(),SSt=jl(),TSt=m_e(),CSt=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:n,base64Encoder:i})=>{if(!(0,SSt.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=i??ESt.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let o=new TransformStream({start(){},async transform(u,c){e.update(u),c.enqueue(u)},async flush(u){let c=await e.digest(),f=s(c);if(t!==f){let d=new Error(`Checksum mismatch: expected "${t}" but received "${f}" in response header "${n}".`);u.error(d)}else u.terminate()}});r.pipeThrough(o);let a=o.readable;return Object.setPrototypeOf(a,TSt.ChecksumStream.prototype),a};sP.createChecksumStream=CSt});var y_e=v(uH=>{"use strict";Object.defineProperty(uH,"__esModule",{value:!0});uH.createChecksumStream=PSt;var xSt=jl(),RSt=oH(),ASt=g_e();function PSt(t){return typeof ReadableStream=="function"&&(0,xSt.isReadableStream)(t.source)?(0,ASt.createChecksumStream)(t):new RSt.ChecksumStream(t)}});var lH=v(oP=>{"use strict";Object.defineProperty(oP,"__esModule",{value:!0});oP.ByteArrayCollector=void 0;var cH=class{allocByteArray;byteLength=0;byteArrays=[];constructor(e){this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let e=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let i=this.byteArrays[n];e.set(i,r),r+=i.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}};oP.ByteArrayCollector=cH});var b_e=v(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.createBufferedReadable=void 0;dc.createBufferedReadableStream=__e;dc.merge=v_e;dc.flush=aP;dc.sizeOf=Qg;dc.modeOf=w_e;var ISt=lH();function __e(t,e,r){let n=t.getReader(),i=!1,s=0,o=["",new ISt.ByteArrayCollector(c=>new Uint8Array(c))],a=-1,u=async c=>{let{value:f,done:d}=await n.read(),h=f;if(d){if(a!==-1){let p=aP(o,a);Qg(p)>0&&c.enqueue(p)}c.close()}else{let p=w_e(h,!1);if(a!==p&&(a>=0&&c.enqueue(aP(o,a)),a=p),a===-1){c.enqueue(h);return}let m=Qg(h);s+=m;let g=Qg(o[a]);if(m>=e&&g===0)c.enqueue(h);else{let y=v_e(o,a,h);!i&&s>e*2&&(i=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${e}, automatically buffering.`)),y>=e?c.enqueue(aP(o,a)):await u(c)}}};return new ReadableStream({pull:u})}dc.createBufferedReadable=__e;function v_e(t,e,r){switch(e){case 0:return t[0]+=r,Qg(t[0]);case 1:case 2:return t[e].push(r),Qg(t[e])}}function aP(t,e){switch(e){case 0:let r=t[0];return t[0]="",r;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function Qg(t){return t?.byteLength??t?.length??0}function w_e(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}});var S_e=v(fH=>{"use strict";Object.defineProperty(fH,"__esModule",{value:!0});fH.createBufferedReadable=NSt;var OSt=require("node:stream"),E_e=lH(),hc=b_e(),kSt=jl();function NSt(t,e,r){if((0,kSt.isReadableStream)(t))return(0,hc.createBufferedReadableStream)(t,e,r);let n=new OSt.Readable({read(){}}),i=!1,s=0,o=["",new E_e.ByteArrayCollector(u=>new Uint8Array(u)),new E_e.ByteArrayCollector(u=>Buffer.from(new Uint8Array(u)))],a=-1;return t.on("data",u=>{let c=(0,hc.modeOf)(u,!0);if(a!==c&&(a>=0&&n.push((0,hc.flush)(o,a)),a=c),a===-1){n.push(u);return}let f=(0,hc.sizeOf)(u);s+=f;let d=(0,hc.sizeOf)(o[a]);if(f>=e&&d===0)n.push(u);else{let h=(0,hc.merge)(o,a,u);!i&&s>e*2&&(i=!0,r?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${e}, automatically buffering.`)),h>=e&&n.push((0,hc.flush)(o,a))}}),t.on("end",()=>{if(a!==-1){let u=(0,hc.flush)(o,a);(0,hc.sizeOf)(u)>0&&n.push(u)}n.push(null)}),n}});var T_e=v(uP=>{"use strict";Object.defineProperty(uP,"__esModule",{value:!0});uP.getAwsChunkedEncodingStream=void 0;var DSt=require("stream"),FSt=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=e,a=r!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,u=a?o(i,t):void 0,c=new DSt.Readable({read:()=>{}});return t.on("data",f=>{let d=n(f)||0;c.push(`${d.toString(16)}\r
`),c.push(f),c.push(`\r
`)}),t.on("end",async()=>{if(c.push(`0\r
`),a){let f=r(await u);c.push(`${s}:${f}\r
`),c.push(`\r
`)}c.push(null)}),c};uP.getAwsChunkedEncodingStream=FSt});var C_e=v(dH=>{"use strict";Object.defineProperty(dH,"__esModule",{value:!0});dH.headStream=LSt;async function LSt(t,e){let r=0,n=[],i=t.getReader(),s=!1;for(;!s;){let{done:u,value:c}=await i.read();if(c&&(n.push(c),r+=c?.byteLength??0),r>=e)break;s=u}i.releaseLock();let o=new Uint8Array(Math.min(e,r)),a=0;for(let u of n){if(u.byteLength>o.byteLength-a){o.set(u.subarray(0,o.byteLength-a),a);break}else o.set(u,a);a+=u.length}return o}});var x_e=v(cP=>{"use strict";Object.defineProperty(cP,"__esModule",{value:!0});cP.headStream=void 0;var MSt=require("stream"),qSt=C_e(),$St=jl(),USt=(t,e)=>(0,$St.isReadableStream)(t)?(0,qSt.headStream)(t,e):new Promise((r,n)=>{let i=new hH;i.limit=e,t.pipe(i),t.on("error",s=>{i.end(),n(s)}),i.on("error",n),i.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});cP.headStream=USt;var hH=class extends MSt.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(e,r,n){if(this.buffers.push(e),this.bytesBuffered+=e.byteLength??0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-i),this.emit("finish")}n()}}});var mH=v(pH=>{"use strict";var R_e=t=>encodeURIComponent(t).replace(/[!'()*]/g,jSt),jSt=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,BSt=t=>t.split("/").map(R_e).join("/");pH.escapeUri=R_e;pH.escapeUriPath=BSt});var yH=v(A_e=>{"use strict";var gH=mH();function HSt(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=gH.escapeUri(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.push(`${r}=${gH.escapeUri(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${gH.escapeUri(n)}`),e.push(i)}}return e.join("&")}A_e.buildQueryString=HSt});var Bl=v(eb=>{"use strict";var k_e=xr(),N_e=yH(),lP=require("http"),fP=require("https"),D_e=require("stream"),_H=require("http2"),zSt=["ECONNRESET","EPIPE","ETIMEDOUT"],F_e=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e},os={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)},P_e=1e3,VSt=(t,e,r=0)=>{if(!r)return-1;let n=i=>{let s=os.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-i),o=a=>{a?.connecting?a.on("connect",()=>{os.clearTimeout(s)}):os.clearTimeout(s)};t.socket?o(t.socket):t.on("socket",o)};return r<2e3?(n(0),0):os.setTimeout(n.bind(null,P_e),P_e)},WSt=(t,e,r=0,n,i)=>r?os.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let o=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(o),e(o)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",i?.warn?.(s)},r):-1,GSt=3e3,KSt=(t,{keepAlive:e,keepAliveMsecs:r},n=GSt)=>{if(e!==!0)return-1;let i=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",s=>{s.setKeepAlive(e,r||0)})};return n===0?(i(),0):os.setTimeout(i,n)},I_e=3e3,XSt=(t,e,r=0)=>{let n=i=>{let s=r-i,o=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(s,o),t.on("close",()=>t.socket?.removeListener("timeout",o))):t.setTimeout(s,o)};return 0<r&&r<6e3?(n(0),0):os.setTimeout(n.bind(null,r===0?0:I_e),I_e)},O_e=6e3;async function L_e(t,e,r=O_e,n=!1){let i=e.headers??{},s=i.Expect||i.expect,o=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(u=>{o=Number(os.setTimeout(()=>u(!0),Math.max(O_e,r)))}),new Promise(u=>{t.on("continue",()=>{os.clearTimeout(o),u(!0)}),t.on("response",()=>{os.clearTimeout(o),u(!1)}),t.on("error",()=>{os.clearTimeout(o),u(!1)})})])),a&&JSt(t,e.body)}function JSt(t,e){if(e instanceof D_e.Readable){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var ZSt=0,vH=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,n=console){let{sockets:i,requests:s,maxSockets:o}=e;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(i&&s)for(let u in i){let c=i[u]?.length??0,f=s[u]?.length??0;if(c>=o&&f>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${c} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,socketAcquisitionWarningTimeout:s,httpAgent:o,httpsAgent:a,throwOnRequestTimeout:u}=e||{},c=!0,f=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:i,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:u,httpAgent:o instanceof lP.Agent||typeof o?.destroy=="function"?(this.externalAgent=!0,o):new lP.Agent({keepAlive:c,maxSockets:f,...o}),httpsAgent:a instanceof fP.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new fP.Agent({keepAlive:c,maxSockets:f,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((i,s)=>{let o=this.config,a,u=[],c=async I=>{await a,u.forEach(os.clearTimeout),i(I)},f=async I=>{await a,u.forEach(os.clearTimeout),s(I)};if(r?.aborted){let I=new Error("Request aborted");I.name="AbortError",f(I);return}let d=e.protocol==="https:",h=e.headers??{},p=(h.Expect??h.expect)==="100-continue",m=d?o.httpsAgent:o.httpAgent;p&&!this.externalAgent&&(m=new(d?fP.Agent:lP.Agent)({keepAlive:!1,maxSockets:1/0})),u.push(os.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(m,this.socketWarningTimestamp,o.logger)},o.socketAcquisitionWarningTimeout??(o.requestTimeout??2e3)+(o.connectionTimeout??1e3)));let g=N_e.buildQueryString(e.query||{}),y;if(e.username!=null||e.password!=null){let I=e.username??"",P=e.password??"";y=`${I}:${P}`}let w=e.path;g&&(w+=`?${g}`),e.fragment&&(w+=`#${e.fragment}`);let S=e.hostname??"";S[0]==="["&&S.endsWith("]")?S=e.hostname.slice(1,-1):S=e.hostname;let E={headers:e.headers,host:S,method:e.method,path:w,port:e.port,agent:m,auth:y},O=(d?fP.request:lP.request)(E,I=>{let P=new k_e.HttpResponse({statusCode:I.statusCode||-1,reason:I.statusMessage,headers:F_e(I.headers),body:I});c({response:P})});if(O.on("error",I=>{zSt.includes(I.code)?f(Object.assign(I,{name:"TimeoutError"})):f(I)}),r){let I=()=>{O.destroy();let P=new Error("Request aborted");P.name="AbortError",f(P)};if(typeof r.addEventListener=="function"){let P=r;P.addEventListener("abort",I,{once:!0}),O.once("close",()=>P.removeEventListener("abort",I))}else r.onabort=I}let M=n??o.requestTimeout;u.push(VSt(O,f,o.connectionTimeout)),u.push(WSt(O,f,M,o.throwOnRequestTimeout,o.logger??console)),u.push(XSt(O,f,o.socketTimeout));let x=E.agent;typeof x=="object"&&"keepAlive"in x&&u.push(KSt(O,{keepAlive:x.keepAlive,keepAliveMsecs:x.keepAliveMsecs})),a=L_e(O,e,M,this.externalAgent).catch(I=>(u.forEach(os.clearTimeout),s(I)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}},wH=class{sessions=[];constructor(e){this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}},bH=class{constructor(e){if(this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(e,r){let n=this.getUrlString(e),i=this.sessionCache.get(n);if(i){let u=i.poll();if(u&&!this.config.disableConcurrency)return u}let s=_H.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},u=>{if(u)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),s.unref();let o=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",o),s.on("error",o),s.on("frameError",o),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,o);let a=this.sessionCache.get(n)||new wH;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(e,r){let n=this.sessionCache.get(e);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(e,n))}release(e,r){let n=this.getUrlString(e);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[e,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},EH=class t{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new bH({});static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(i||{})}).catch(n):r(e||{})})}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:i,disableConcurrentStreams:s}=this.config,o=n??i;return new Promise((a,u)=>{let c=!1,f,d=async F=>{await f,a(F)},h=async F=>{await f,u(F)};if(r?.aborted){c=!0;let F=new Error("Request aborted");F.name="AbortError",h(F);return}let{hostname:p,method:m,port:g,protocol:y,query:w}=e,S="";if(e.username!=null||e.password!=null){let F=e.username??"",$=e.password??"";S=`${F}:${$}@`}let E=`${y}//${S}${p}${g?`:${g}`:""}`,b={destination:new URL(E)},O=this.connectionManager.lease(b,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),M=F=>{s&&this.destroySession(O),c=!0,h(F)},x=N_e.buildQueryString(w||{}),I=e.path;x&&(I+=`?${x}`),e.fragment&&(I+=`#${e.fragment}`);let P=O.request({...e.headers,[_H.constants.HTTP2_HEADER_PATH]:I,[_H.constants.HTTP2_HEADER_METHOD]:m});if(O.ref(),P.on("response",F=>{let $=new k_e.HttpResponse({statusCode:F[":status"]||-1,headers:F_e(F),body:P});c=!0,d({response:$}),s&&(O.close(),this.connectionManager.deleteSession(E,O))}),o&&P.setTimeout(o,()=>{P.close();let F=new Error(`Stream timed out because of no activity for ${o} ms`);F.name="TimeoutError",M(F)}),r){let F=()=>{P.close();let $=new Error("Request aborted");$.name="AbortError",M($)};if(typeof r.addEventListener=="function"){let $=r;$.addEventListener("abort",F,{once:!0}),P.once("close",()=>$.removeEventListener("abort",F))}else r.onabort=F}P.on("frameError",(F,$,D)=>{M(new Error(`Frame type id ${F} in stream id ${D} has failed with code ${$}.`))}),P.on("error",M),P.on("aborted",()=>{M(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${P.rstCode}.`))}),P.on("close",()=>{O.unref(),s&&O.destroy(),c||M(new Error("Unexpected error: http2 request did not get a response"))}),f=L_e(P,e,o)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}},SH=class extends D_e.Writable{bufferedBytes=[];_write(e,r,n){this.bufferedBytes.push(e),n()}},YSt=t=>QSt(t)?eTt(t):new Promise((e,r)=>{let n=new SH;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})}),QSt=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;async function eTt(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:u}=await r.read();u&&(e.push(u),i+=u.length),n=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s}eb.DEFAULT_REQUEST_TIMEOUT=ZSt;eb.NodeHttp2Handler=EH;eb.NodeHttpHandler=vH;eb.streamCollector=YSt});var $_e=v(hP=>{"use strict";var M_e=xr(),tTt=yH(),rTt=Gn();function q_e(t,e){return new Request(t,e)}function nTt(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{let n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}var dP={supported:void 0},TH=class t{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),dP.supported===void 0&&(dP.supported=typeof Request<"u"&&"keepalive"in q_e("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let i=n??this.config.requestTimeout,s=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let S=new Error("Request aborted");return S.name="AbortError",Promise.reject(S)}let a=e.path,u=tTt.buildQueryString(e.query||{});u&&(a+=`?${u}`),e.fragment&&(a+=`#${e.fragment}`);let c="";if(e.username!=null||e.password!=null){let S=e.username??"",E=e.password??"";c=`${S}:${E}@`}let{port:f,method:d}=e,h=`${e.protocol}//${c}${e.hostname}${f?`:${f}`:""}${a}`,p=d==="GET"||d==="HEAD"?void 0:e.body,m={body:p,headers:new Headers(e.headers),method:d,credentials:o};this.config?.cache&&(m.cache=this.config.cache),p&&(m.duplex="half"),typeof AbortController<"u"&&(m.signal=r),dP.supported&&(m.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(m,this.config.requestInit(e));let g=()=>{},y=q_e(h,m),w=[fetch(y).then(S=>{let E=S.headers,b={};for(let M of E.entries())b[M[0]]=M[1];return S.body!=null?{response:new M_e.HttpResponse({headers:b,reason:S.statusText,statusCode:S.status,body:S.body})}:S.blob().then(M=>({response:new M_e.HttpResponse({headers:b,reason:S.statusText,statusCode:S.status,body:M})}))}),nTt(i)];return r&&w.push(new Promise((S,E)=>{let b=()=>{let O=new Error("Request aborted");O.name="AbortError",E(O)};if(typeof r.addEventListener=="function"){let O=r;O.addEventListener("abort",b,{once:!0}),g=()=>O.removeEventListener("abort",b)}else r.onabort=b})),Promise.race(w).finally(g)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}},iTt=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):sTt(t):oTt(t);async function sTt(t){let e=await aTt(t),r=rTt.fromBase64(e);return new Uint8Array(r)}async function oTt(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:u}=await r.read();u&&(e.push(u),i+=u.length),n=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s}function aTt(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;e(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}hP.FetchHttpHandler=TH;hP.keepAliveSupport=dP;hP.streamCollector=iTt});var RH=v(xH=>{"use strict";var U_e={},CH={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),U_e[t]=e,CH[e]=t}function uTt(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in CH)e[r/2]=CH[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function cTt(t){let e="";for(let r=0;r<t.byteLength;r++)e+=U_e[t[r]];return e}xH.fromHex=uTt;xH.toHex=cTt});var z_e=v(pP=>{"use strict";Object.defineProperty(pP,"__esModule",{value:!0});pP.sdkStreamMixin=void 0;var lTt=$_e(),fTt=Gn(),dTt=RH(),hTt=Wn(),j_e=jl(),B_e="The stream has already been transformed.",pTt=t=>{if(!H_e(t)&&!(0,j_e.isReadableStream)(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(B_e);return e=!0,await(0,lTt.streamCollector)(t)},n=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async i=>{let s=await r();if(i==="base64")return(0,fTt.toBase64)(s);if(i==="hex")return(0,dTt.toHex)(s);if(i===void 0||i==="utf8"||i==="utf-8")return(0,hTt.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(B_e);if(e=!0,H_e(t))return n(t);if((0,j_e.isReadableStream)(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})};pP.sdkStreamMixin=pTt;var H_e=t=>typeof Blob=="function"&&t instanceof Blob});var W_e=v(mP=>{"use strict";Object.defineProperty(mP,"__esModule",{value:!0});mP.sdkStreamMixin=void 0;var mTt=Bl(),gTt=Zg(),AH=require("stream"),yTt=z_e(),V_e="The stream has already been transformed.",_Tt=t=>{if(!(t instanceof AH.Readable))try{return(0,yTt.sdkStreamMixin)(t)}catch{let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(V_e);return e=!0,await(0,mTt.streamCollector)(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let i=await r();return n===void 0||Buffer.isEncoding(n)?(0,gTt.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(n):new TextDecoder(n).decode(i)},transformToWebStream:()=>{if(e)throw new Error(V_e);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof AH.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,AH.Readable.toWeb(t)}})};mP.sdkStreamMixin=_Tt});var G_e=v(PH=>{"use strict";Object.defineProperty(PH,"__esModule",{value:!0});PH.splitStream=vTt;async function vTt(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}});var J_e=v(IH=>{"use strict";Object.defineProperty(IH,"__esModule",{value:!0});IH.splitStream=bTt;var K_e=require("stream"),wTt=G_e(),X_e=jl();async function bTt(t){if((0,X_e.isReadableStream)(t)||(0,X_e.isBlob)(t))return(0,wTt.splitStream)(t);let e=new K_e.PassThrough,r=new K_e.PassThrough;return t.pipe(e),t.pipe(r),[e,r]}});var gP=v(Kn=>{"use strict";var Z_e=Gn(),Y_e=Wn(),Q_e=oH(),e0e=y_e(),t0e=S_e(),r0e=T_e(),n0e=x_e(),i0e=W_e(),s0e=J_e(),o0e=jl(),OH=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(Z_e.fromBase64(e)):t.mutate(Y_e.fromUtf8(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?Z_e.toBase64(this):Y_e.toUtf8(this)}};Kn.Uint8ArrayBlobAdapter=OH;Object.keys(Q_e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return Q_e[t]}})});Object.keys(e0e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return e0e[t]}})});Object.keys(t0e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return t0e[t]}})});Object.keys(r0e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return r0e[t]}})});Object.keys(n0e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return n0e[t]}})});Object.keys(i0e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return i0e[t]}})});Object.keys(s0e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return s0e[t]}})});Object.keys(o0e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Kn,t)&&Object.defineProperty(Kn,t,{enumerable:!0,get:function(){return o0e[t]}})})});var yP,Co,_P=te(()=>{yP=oe(gP()),Co=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return yP.Uint8ArrayBlobAdapter.mutate(t);if(!t)return yP.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return yP.Uint8ArrayBlobAdapter.mutate(await r)}});function lu(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var vP=te(()=>{});var ca,kH=te(()=>{ca=t=>typeof t=="function"?t():t});var tb,wP=te(()=>{tb=(t,e,r,n,i)=>({name:e,namespace:t,traits:r,input:n,output:i})});var a0e,u0e,c0e,NH,l0e=te(()=>{a0e=oe(xr()),u0e=oe(ss());wP();c0e=t=>(e,r)=>async n=>{let{response:i}=await e(n),{operationSchema:s}=(0,u0e.getSmithyContext)(r),[,o,a,u,c,f]=s??[];try{let d=await t.protocol.deserializeResponse(tb(o,a,u,c,f),{...t,...r},i);return{response:i,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+h}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(h):r.logger?.warn?.(h)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(a0e.HttpResponse.isInstance(i)){let{headers:p={}}=i,m=Object.entries(p);d.$metadata={httpStatusCode:i.statusCode,requestId:NH(/^x-[\w-]+-request-?id$/,m),extendedRequestId:NH(/^x-[\w-]+-id-2$/,m),cfId:NH(/^x-[\w-]+-cf-id$/,m)}}}catch{}}throw d}},NH=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var f0e,d0e,h0e=te(()=>{f0e=oe(ss());wP();d0e=t=>(e,r)=>async n=>{let{operationSchema:i}=(0,f0e.getSmithyContext)(r),[,s,o,a,u,c]=i??[],f=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,d=await t.protocol.serializeRequest(tb(s,o,a,u,c),n.input,{...t,...r,endpoint:f});return e({...n,request:d})}});function Oh(t){return{applyToStack:e=>{e.add(d0e(t),m0e),e.add(c0e(t),p0e),t.protocol.setSerdeContext(t)}}}var p0e,m0e,g0e=te(()=>{l0e();h0e();p0e={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},m0e={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var xn,Hl=te(()=>{xn=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var bP,ETt,y0e=te(()=>{Hl();bP=class t extends xn{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol},ETt=(t,e,r,n)=>xn.assign(new bP,{name:e,namespace:t,traits:r,valueSchema:n})});var EP,STt,_0e=te(()=>{Hl();EP=class t extends xn{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol},STt=(t,e,r,n,i)=>xn.assign(new EP,{name:e,namespace:t,traits:r,keySchema:n,valueSchema:i})});var SP,TTt,v0e=te(()=>{Hl();SP=class t extends xn{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol},TTt=(t,e,r,n,i)=>xn.assign(new SP,{name:e,namespace:t,traits:r,input:n,output:i})});var ey,CTt,DH=te(()=>{Hl();ey=class t extends xn{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol},CTt=(t,e,r,n,i)=>xn.assign(new ey,{name:e,namespace:t,traits:r,memberNames:n,memberList:i})});var TP,xTt,w0e=te(()=>{Hl();DH();TP=class t extends ey{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol},xTt=(t,e,r,n,i,s)=>xn.assign(new TP,{name:e,namespace:t,traits:r,memberNames:n,memberList:i,ctor:null})});function fu(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[n]=1);return e}var FH=te(()=>{});function rb(t,e){if(t instanceof Ke)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=Ke;return new r(t,e)}var Ke,LH,b0e,E0e=te(()=>{kH();FH();Ke=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let n=[],i=e,s=e;for(this._isMemberSchema=!1;LH(i);)n.push(i[1]),i=i[0],s=ca(i),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,fu(a))}}else this.memberTraits=0;if(s instanceof t){let o=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},o,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=ca(s),b0e(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=ca(e);if(r instanceof t)return r;if(LH(r)){let[n,i]=r;if(n instanceof t)return Object.assign(n.getMergedTraits(),fu(i)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();return e[0]===3||e[0]===-3}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){let e=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:i}=this;return e(r)||e(n)||e(i)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return fu(this.memberTraits)}getOwnTraits(){return fu(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),i=e?15:n[4]??0;return rb([i,0],"key")}getValueSchema(){let e=this.getSchema(),[r,n,i]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof e=="number"?63&e:e&&typeof e=="object"&&(n||i)?e[3+e[0]]:r?15:void 0;if(s!=null)return rb([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let n=r[4].indexOf(e),i=r[5][n];return rb(LH(i)?i:[i,0],e)}if(this.isDocumentSchema())return rb([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,n]of this.structIterator())e[r]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema();for(let r=0;r<e[4].length;++r)yield[e[4][r],rb([e[5][r],0],e[4][r])]}};LH=t=>Array.isArray(t)&&t.length===2,b0e=t=>Array.isArray(t)&&t.length>=5});var nb,RTt,ATt,S0e=te(()=>{Hl();nb=class t extends xn{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol},RTt=(t,e,r,n)=>xn.assign(new nb,{name:e,namespace:t,traits:n,schemaRef:r}),ATt=(t,e,r,n)=>xn.assign(new nb,{name:e,namespace:t,traits:r,schemaRef:n})});var PTt,T0e=te(()=>{PTt={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var bt,C0e=te(()=>{bt=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,n=new Map){this.namespace=e,this.schemas=r,this.exceptions=n}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let n=this.normalizeShapeId(e);t.for(n.split("#")[0]).schemas.set(n,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let n=e,i=t.for(n[1]);i.schemas.set(n[1]+"#"+n[2],n),i.exceptions.set(n,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,n]=e,i=r+"#"+n;if(i.startsWith("smithy.ts.sdk.synthetic.")&&i.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var CP={};Qi(CP,{ErrorSchema:()=>TP,ListSchema:()=>bP,MapSchema:()=>EP,NormalizedSchema:()=>Ke,OperationSchema:()=>SP,SCHEMA:()=>PTt,Schema:()=>xn,SimpleSchema:()=>nb,StructureSchema:()=>ey,TypeRegistry:()=>bt,deref:()=>ca,deserializerMiddlewareOption:()=>p0e,error:()=>xTt,getSchemaSerdePlugin:()=>Oh,isStaticSchema:()=>b0e,list:()=>ETt,map:()=>STt,op:()=>TTt,operation:()=>tb,serializerMiddlewareOption:()=>m0e,sim:()=>RTt,simAdapter:()=>ATt,struct:()=>CTt,translateTraits:()=>fu});var pr=te(()=>{kH();g0e();y0e();_0e();v0e();wP();w0e();E0e();Hl();S0e();DH();T0e();FH();C0e()});var ITt,x0e=te(()=>{ITt=(t,e,r=n=>n)=>t});var OTt,kTt,ib,NTt,xP,sb,DTt,MH,qH,$H,UH,FTt,LTt,R0e,MTt,qTt,AP,$Tt,jH,UTt,ty,BH,jTt,BTt,HTt,A0e,P0e,zTt,VTt,kh,HH,RP,ob,zH=te(()=>{OTt=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},kTt=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&ob.warn(RP(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&ob.warn(RP(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},ib=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&ob.warn(RP(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},NTt=Math.ceil(34028234663852886e22),xP=t=>{let e=ib(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>NTt)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},sb=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},DTt=sb,MH=t=>UH(t,32),qH=t=>UH(t,16),$H=t=>UH(t,8),UH=(t,e)=>{let r=sb(t);if(r!==void 0&&FTt(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},FTt=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},LTt=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},R0e=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},MTt=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return ob.warn(RP(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},qTt=t=>{if(t==null)return;let e=R0e(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},AP=t=>ib(typeof t=="string"?ty(t):t),$Tt=AP,jH=t=>xP(typeof t=="string"?ty(t):t),UTt=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ty=t=>{let e=t.match(UTt);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},BH=t=>typeof t=="string"?A0e(t):ib(t),jTt=BH,BTt=BH,HTt=t=>typeof t=="string"?A0e(t):xP(t),A0e=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},P0e=t=>sb(typeof t=="string"?ty(t):t),zTt=P0e,VTt=t=>MH(typeof t=="string"?ty(t):t),kh=t=>qH(typeof t=="string"?ty(t):t),HH=t=>$H(typeof t=="string"?ty(t):t),RP=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),ob={warn:console.warn}});function ub(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,c=s<10?`0${s}`:`${s}`,f=o<10?`0${o}`:`${o}`,d=a<10?`0${a}`:`${a}`;return`${WTt[n]}, ${u} ${WH[r]} ${e} ${c}:${f}:${d} GMT`}var WTt,WH,GTt,KTt,XTt,GH,JTt,ZTt,YTt,KH,XH,ab,QTt,eCt,tCt,VH,rCt,nCt,iCt,du,sCt,oCt,ry,I0e=te(()=>{zH();WTt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],WH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];GTt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),KTt=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=GTt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,a,u,c]=e,f=kh(ry(n)),d=du(i,"month",1,12),h=du(s,"day",1,31);return ab(f,d,h,{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c})},XTt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),GH=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=XTt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,a,u,c,f]=e,d=kh(ry(n)),h=du(i,"month",1,12),p=du(s,"day",1,31),m=ab(d,h,p,{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c});return f.toUpperCase()!="Z"&&m.setTime(m.getTime()-oCt(f)),m},JTt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),ZTt=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),YTt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),KH=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=JTt.exec(t);if(e){let[r,n,i,s,o,a,u,c]=e;return ab(kh(ry(s)),VH(i),du(n,"day",1,31),{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c})}if(e=ZTt.exec(t),e){let[r,n,i,s,o,a,u,c]=e;return tCt(ab(QTt(s),VH(i),du(n,"day",1,31),{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c}))}if(e=YTt.exec(t),e){let[r,n,i,s,o,a,u,c]=e;return ab(kh(ry(c)),VH(n),du(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:a,fractionalMilliseconds:u})}throw new TypeError("Invalid RFC-7231 date-time value")},XH=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=AP(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},ab=(t,e,r,n)=>{let i=e-1;return nCt(t,i,r),new Date(Date.UTC(t,i,r,du(n.hours,"hour",0,23),du(n.minutes,"minute",0,59),du(n.seconds,"seconds",0,60),sCt(n.fractionalMilliseconds)))},QTt=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+kh(ry(t));return r<e?r+100:r},eCt=50*365*24*60*60*1e3,tCt=t=>t.getTime()-new Date().getTime()>eCt?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,VH=t=>{let e=WH.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},rCt=[31,28,31,30,31,30,31,31,30,31,30,31],nCt=(t,e,r)=>{let n=rCt[e];if(e===1&&iCt(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${WH[e]} in ${t}: ${r}`)},iCt=t=>t%4===0&&(t%100!==0||t%400===0),du=(t,e,r,n)=>{let i=HH(ry(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},sCt=t=>t==null?0:jH("0."+t)*1e3,oCt=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},ry=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});var cb={};Qi(cb,{__addDisposableResource:()=>tve,__assign:()=>PP,__asyncDelegator:()=>G0e,__asyncGenerator:()=>W0e,__asyncValues:()=>K0e,__await:()=>ny,__awaiter:()=>U0e,__classPrivateFieldGet:()=>Y0e,__classPrivateFieldIn:()=>eve,__classPrivateFieldSet:()=>Q0e,__createBinding:()=>OP,__decorate:()=>N0e,__disposeResources:()=>rve,__esDecorate:()=>F0e,__exportStar:()=>B0e,__extends:()=>O0e,__generator:()=>j0e,__importDefault:()=>Z0e,__importStar:()=>J0e,__makeTemplateObject:()=>X0e,__metadata:()=>$0e,__param:()=>D0e,__propKey:()=>M0e,__read:()=>YH,__rest:()=>k0e,__rewriteRelativeImportExtension:()=>nve,__runInitializers:()=>L0e,__setFunctionName:()=>q0e,__spread:()=>H0e,__spreadArray:()=>V0e,__spreadArrays:()=>z0e,__values:()=>IP,default:()=>cCt});function O0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");JH(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function k0e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function N0e(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function D0e(t,e){return function(r,n){e(r,n,t)}}function F0e(t,e,r,n,i,s){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,f=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,h=!1,p=r.length-1;p>=0;p--){var m={};for(var g in n)m[g]=g==="access"?{}:n[g];for(var g in n.access)m.access[g]=n.access[g];m.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(w||null))};var y=(0,r[p])(a==="accessor"?{get:f.get,set:f.set}:f[u],m);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=o(y.get))&&(f.get=d),(d=o(y.set))&&(f.set=d),(d=o(y.init))&&i.unshift(d)}else(d=o(y))&&(a==="field"?i.unshift(d):f[u]=d)}c&&Object.defineProperty(c,n.name,f),h=!0}function L0e(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function M0e(t){return typeof t=="symbol"?t:"".concat(t)}function q0e(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function $0e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function U0e(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function u(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((n=n.apply(t,e||[])).next())})}function j0e(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function B0e(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&OP(e,t,r)}function IP(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function YH(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function H0e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(YH(arguments[e]));return t}function z0e(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function V0e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function ny(t){return this instanceof ny?(this.v=t,this):new ny(t)}function W0e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){n[p]&&(i[p]=function(g){return new Promise(function(y,w){s.push([p,g,y,w])>1||u(p,g)})},m&&(i[p]=m(i[p])))}function u(p,m){try{c(n[p](m))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof ny?Promise.resolve(p.value.v).then(f,d):h(s[0][2],p)}function f(p){u("next",p)}function d(p){u("throw",p)}function h(p,m){p(m),s.shift(),s.length&&u(s[0][0],s[0][1])}}function G0e(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:ny(t[i](o)),done:!1}:s?s(o):o}:s}}function K0e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof IP=="function"?IP(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function X0e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function J0e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ZH(t),n=0;n<r.length;n++)r[n]!=="default"&&OP(e,t,r[n]);return aCt(e,t),e}function Z0e(t){return t&&t.__esModule?t:{default:t}}function Y0e(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Q0e(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function eve(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function tve(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function rve(t){function e(s){t.error=t.hasError?new uCt(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function nve(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}var JH,PP,OP,aCt,ZH,uCt,cCt,lb=te(()=>{JH=function(t,e){return JH=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},JH(t,e)};PP=function(){return PP=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},PP.apply(this,arguments)};OP=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});aCt=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ZH=function(t){return ZH=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},ZH(t)};uCt=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};cCt={__extends:O0e,__assign:PP,__rest:k0e,__decorate:N0e,__param:D0e,__esDecorate:F0e,__runInitializers:L0e,__propKey:M0e,__setFunctionName:q0e,__metadata:$0e,__awaiter:U0e,__generator:j0e,__createBinding:OP,__exportStar:B0e,__values:IP,__read:YH,__spread:H0e,__spreadArrays:z0e,__spreadArray:V0e,__await:ny,__asyncGenerator:W0e,__asyncDelegator:G0e,__asyncValues:K0e,__makeTemplateObject:X0e,__importStar:J0e,__importDefault:Z0e,__classPrivateFieldGet:Y0e,__classPrivateFieldSet:Q0e,__classPrivateFieldIn:eve,__addDisposableResource:tve,__disposeResources:rve,__rewriteRelativeImportExtension:nve}});var sve=v(kP=>{"use strict";Object.defineProperty(kP,"__esModule",{value:!0});kP.randomUUID=void 0;var lCt=(lb(),Wt(cb)),ive=lCt.__importDefault(require("crypto"));kP.randomUUID=ive.default.randomUUID.bind(ive.default)});var QH=v(ave=>{"use strict";var ove=sve(),Ii=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),fCt=()=>{if(ove.randomUUID)return ove.randomUUID();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,Ii[t[0]]+Ii[t[1]]+Ii[t[2]]+Ii[t[3]]+"-"+Ii[t[4]]+Ii[t[5]]+"-"+Ii[t[6]]+Ii[t[7]]+"-"+Ii[t[8]]+Ii[t[9]]+"-"+Ii[t[10]]+Ii[t[11]]+Ii[t[12]]+Ii[t[13]]+Ii[t[14]]+Ii[t[15]]};ave.v4=fCt});var xo,uve=te(()=>{xo=oe(QH())});var as,cve=te(()=>{as=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};as.from=t=>t&&typeof t=="object"&&(t instanceof as||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?as(String(t)):as(JSON.stringify(t));as.fromObject=as.from});function ez(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var lve=te(()=>{});function pc(t,e,r){let n=Number(t);if(n<e||n>r)throw new Error(`Value ${n} out of range [${e}, ${r}]`)}var tz,rz,nz,fve,dve,dCt,hCt,pCt,mCt,gCt,iy,iz,sz,hve=te(()=>{tz="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",rz="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",nz="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",fve="(\\d?\\d)",dve="(\\d{4})",dCt=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),hCt=new RegExp(`^${tz}, ${fve} ${rz} ${dve} ${nz} GMT$`),pCt=new RegExp(`^${tz}, ${fve}-${rz}-(\\d\\d) ${nz} GMT$`),mCt=new RegExp(`^${tz} ${rz} ( [1-9]|\\d\\d) ${nz} ${dve}$`),gCt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],iy=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},iz=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=dCt.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,n,i,s,o,a,,u,c]=e;pc(n,1,12),pc(i,1,31),pc(s,0,23),pc(o,0,59),pc(a,0,60);let f=new Date(Date.UTC(Number(r),Number(n)-1,Number(i),Number(s),Number(o),Number(a),Number(u)?Math.round(parseFloat(`0.${u}`)*1e3):0));if(f.setUTCFullYear(Number(r)),c.toUpperCase()!="Z"){let[,d,h,p]=/([+-])(\d\d):(\d\d)/.exec(c)||[void 0,"+",0,0],m=d==="-"?1:-1;f.setTime(f.getTime()+m*(Number(h)*60*60*1e3+Number(p)*60*1e3))}return f},sz=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,n,i,s,o,a,u;if((u=hCt.exec(t))?[,e,r,n,i,s,o,a]=u:(u=pCt.exec(t))?([,e,r,n,i,s,o,a]=u,n=(Number(n)+1900).toString()):(u=mCt.exec(t))&&([,r,e,i,s,o,a,n]=u),n&&o){let c=Date.UTC(Number(n),gCt.indexOf(r),Number(e),Number(i),Number(s),Number(o),a?Math.round(parseFloat(`0.${a}`)*1e3):0);pc(e,1,31),pc(i,0,23),pc(s,0,59),pc(o,0,60);let f=new Date(c);return f.setUTCFullYear(Number(n)),f}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function oz(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],s="";for(let o=0;o<n.length;o++)s===""?s=n[o]:s+=e+n[o],(o+1)%r===0&&(i.push(s),s="");return s!==""&&i.push(s),i}var pve=te(()=>{});var fb,mve=te(()=>{fb=t=>{let e=t.length,r=[],n=!1,i,s=0;for(let o=0;o<e;++o){let a=t[o];switch(a){case'"':i!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(s,o)),s=o+1);break;default:}i=a}return r.push(t.slice(s)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function az(t){return new en(String(t),"bigDecimal")}var gve,en,yve=te(()=>{gve=/^-?\d*(\.\d+)?$/,en=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!gve.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&gve.test(r.string)}}});var _ve={};Qi(_ve,{LazyJsonString:()=>as,NumericValue:()=>en,_parseEpochTimestamp:()=>iy,_parseRfc3339DateTimeWithOffset:()=>iz,_parseRfc7231DateTime:()=>sz,copyDocumentWithTransform:()=>ITt,dateToUtcString:()=>ub,expectBoolean:()=>kTt,expectByte:()=>$H,expectFloat32:()=>xP,expectInt:()=>DTt,expectInt32:()=>MH,expectLong:()=>sb,expectNonNull:()=>LTt,expectNumber:()=>ib,expectObject:()=>R0e,expectShort:()=>qH,expectString:()=>MTt,expectUnion:()=>qTt,generateIdempotencyToken:()=>xo.v4,handleFloat:()=>jTt,limitedParseDouble:()=>BH,limitedParseFloat:()=>BTt,limitedParseFloat32:()=>HTt,logger:()=>ob,nv:()=>az,parseBoolean:()=>OTt,parseEpochTimestamp:()=>XH,parseRfc3339DateTime:()=>KTt,parseRfc3339DateTimeWithOffset:()=>GH,parseRfc7231DateTime:()=>KH,quoteHeader:()=>ez,splitEvery:()=>oz,splitHeader:()=>fb,strictParseByte:()=>HH,strictParseDouble:()=>AP,strictParseFloat:()=>$Tt,strictParseFloat32:()=>jH,strictParseInt:()=>zTt,strictParseInt32:()=>VTt,strictParseLong:()=>P0e,strictParseShort:()=>kh});var Rs=te(()=>{x0e();I0e();uve();cve();zH();lve();hve();pve();mve();yve()});var us,sy=te(()=>{us=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var NP,uz,vve=te(()=>{NP=oe(Wn()),uz=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:r,deserializer:n,serdeContext:i,defaultContentType:s}){this.marshaller=e,this.serializer=r,this.deserializer=n,this.serdeContext=i,this.defaultContentType=s}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){let i=this.marshaller,s=r.getEventStreamMember(),o=r.getMemberSchema(s),a=this.serializer,u=this.defaultContentType,c=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:u}};a.write(r,n);let h=a.flush();yield{[c]:!0,headers:d,body:h}}for await(let d of e)yield d}};return i.serialize(f,d=>{if(d[c])return{headers:d.headers,body:d.body};let h=Object.keys(d).find(S=>S!=="__type")??"",{additionalHeaders:p,body:m,eventType:g,explicitPayloadContentType:y}=this.writeEventBody(h,o,d);return{headers:{":event-type":{type:"string",value:g},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:y??u},...p},body:m}})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){let i=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),u=Symbol("initialResponseMarker"),c=i.deserialize(e.body,async h=>{let p=Object.keys(h).find(g=>g!=="__type")??"",m=h[p].body;if(p==="initial-response"){let g=await this.deserializer.read(r,m);return delete g[s],{[u]:!0,...g}}else if(p in a){let g=a[p];if(g.isStructSchema()){let y={},w=!1;for(let[S,E]of g.structIterator()){let{eventHeader:b,eventPayload:O}=E.getMergedTraits();if(w=w||!!(b||O),O)E.isBlobSchema()?y[S]=m:E.isStringSchema()?y[S]=(this.serdeContext?.utf8Encoder??NP.toUtf8)(m):E.isStructSchema()&&(y[S]=await this.deserializer.read(E,m));else if(b){let M=h[p].headers[S]?.value;M!=null&&(E.isNumericSchema()?M&&typeof M=="object"&&"bytes"in M?y[S]=BigInt(M.toString()):y[S]=Number(M):y[S]=M)}}if(w)return{[p]:y}}return{[p]:await this.deserializer.read(g,m)}}else return{$unknown:h}}),f=c[Symbol.asyncIterator](),d=await f.next();if(d.done)return c;if(d.value?.[u]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,p]of Object.entries(d.value))n[h]=p}return{async*[Symbol.asyncIterator](){for(d?.value?.[u]||(yield d.value);;){let{done:h,value:p}=await f.next();if(h)break;yield p}}}}writeEventBody(e,r,n){let i=this.serializer,s=e,o=null,a,u=r.getSchema()[4].includes(e),c={};if(u){let h=r.getMemberSchema(e);if(h.isStructSchema()){for(let[p,m]of h.structIterator()){let{eventHeader:g,eventPayload:y}=m.getMergedTraits();if(y)o=p;else if(g){let w=n[e][p],S="binary";m.isNumericSchema()?(-2)**31<=w&&w<=2**31-1?S="integer":S="long":m.isTimestampSchema()?S="timestamp":m.isStringSchema()?S="string":m.isBooleanSchema()&&(S="boolean"),w!=null&&(c[p]={type:S,value:w},delete n[e][p])}}if(o!==null){let p=h.getMemberSchema(o);p.isBlobSchema()?a="application/octet-stream":p.isStringSchema()&&(a="text/plain"),i.write(p,n[e][o])}else i.write(h,n[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,p]=n[e];s=h,i.write(15,p)}let f=i.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??NP.fromUtf8)(f):f,eventType:s,explicitPayloadContentType:a,additionalHeaders:c}}}});var wve={};Qi(wve,{EventStreamSerde:()=>uz});var bve=te(()=>{vve()});var DP,Nh,FP=te(()=>{pr();DP=oe(xr());sy();Nh=class extends us{options;constructor(e){super(),this.options=e}getRequestType(){return DP.HttpRequest}getResponseType(){return DP.HttpResponse}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[n,i]of r.url.searchParams.entries())e.query[n]=i;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,n){let i=Ke.of(r.input),s=fu(r.traits??{});if(s.endpoint){let o=s.endpoint?.[0];if(typeof o=="string"){let a=[...i.structIterator()].filter(([,u])=>u.getMergedTraits().hostLabel);for(let[u]of a){let c=n[u];if(typeof c!="string")throw new Error(`@smithy/core/schema - ${u} in input must be a string as hostLabel.`);o=o.replace(`{${u}}`,c)}e.hostname=o+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(bve(),wve));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,n,i,s){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var Eve,Sve,Dh,Tve=te(()=>{pr();Rs();Eve=oe(xr()),Sve=oe(gP());_P();vP();FP();Dh=class extends Nh{async serializeRequest(e,r,n){let i={...r??{}},s=this.serializer,o={},a={},u=await n.endpoint(),c=Ke.of(e?.input),f=c.getSchema(),d=!1,h,p=new Eve.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(u){this.updateServiceEndpoint(p,u),this.setHostPrefix(p,e,i);let m=fu(e.traits);if(m.http){p.method=m.http[0];let[g,y]=m.http[1].split("?");p.path=="/"?p.path=g:p.path+=g;let w=new URLSearchParams(y??"");Object.assign(o,Object.fromEntries(w))}}for(let[m,g]of c.structIterator()){let y=g.getMergedTraits()??{},w=i[m];if(!(w==null&&!g.isIdempotencyToken()))if(y.httpPayload)g.isStreaming()?g.isStructSchema()?i[m]&&(h=await this.serializeEventStream({eventStream:i[m],requestSchema:c})):h=w:(s.write(g,w),h=s.flush()),delete i[m];else if(y.httpLabel){s.write(g,w);let S=s.flush();p.path.includes(`{${m}+}`)?p.path=p.path.replace(`{${m}+}`,S.split("/").map(lu).join("/")):p.path.includes(`{${m}}`)&&(p.path=p.path.replace(`{${m}}`,lu(S))),delete i[m]}else if(y.httpHeader)s.write(g,w),a[y.httpHeader.toLowerCase()]=String(s.flush()),delete i[m];else if(typeof y.httpPrefixHeaders=="string"){for(let[S,E]of Object.entries(w)){let b=y.httpPrefixHeaders+S;s.write([g.getValueSchema(),{httpHeader:b}],E),a[b.toLowerCase()]=s.flush()}delete i[m]}else y.httpQuery||y.httpQueryParams?(this.serializeQuery(g,w,o),delete i[m]):d=!0}return d&&i&&(s.write(f,i),h=s.flush()),p.headers=a,p.query=o,p.body=h,p}serializeQuery(e,r,n){let i=this.serializer,s=e.getMergedTraits();if(s.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let u=e.getValueSchema();Object.assign(u.getMergedTraits(),{...s,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(u,a,n)}return}if(e.isListSchema()){let o=!!e.getMergedTraits().sparse,a=[];for(let u of r){i.write([e.getValueSchema(),s],u);let c=i.flush();(o||c!==void 0)&&a.push(c)}n[s.httpQuery]=a}else i.write([e,s],r),n[s.httpQuery]=i.flush()}async deserializeResponse(e,r,n){let i=this.deserializer,s=Ke.of(e.output),o={};if(n.statusCode>=300){let u=await Co(n.body,r);throw u.byteLength>0&&Object.assign(o,await i.read(15,u)),await this.handleError(e,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in n.headers){let c=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=c}let a=await this.deserializeHttpMessage(s,r,n,o);if(a.length){let u=await Co(n.body,r);if(u.byteLength>0){let c=await i.read(s,u);for(let f of a)o[f]=c[f]}}else a.discardResponseBody&&await Co(n.body,r);return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(e,r,n,i,s){let o;i instanceof Set?o=s:o=i;let a=!0,u=this.deserializer,c=Ke.of(e),f=[];for(let[d,h]of c.structIterator()){let p=h.getMemberTraits();if(p.httpPayload){if(a=!1,h.isStreaming())h.isStructSchema()?o[d]=await this.deserializeEventStream({response:n,responseSchema:c}):o[d]=(0,Sve.sdkStreamMixin)(n.body);else if(n.body){let g=await Co(n.body,r);g.byteLength>0&&(o[d]=await u.read(h,g))}}else if(p.httpHeader){let m=String(p.httpHeader).toLowerCase(),g=n.headers[m];if(g!=null)if(h.isListSchema()){let y=h.getValueSchema();y.getMergedTraits().httpHeader=m;let w;y.isTimestampSchema()&&y.getSchema()===4?w=oz(g,",",2):w=fb(g);let S=[];for(let E of w)S.push(await u.read(y,E.trim()));o[d]=S}else o[d]=await u.read(h,g)}else if(p.httpPrefixHeaders!==void 0){o[d]={};for(let[m,g]of Object.entries(n.headers))if(m.startsWith(p.httpPrefixHeaders)){let y=h.getValueSchema();y.getMergedTraits().httpHeader=m,o[d][m.slice(p.httpPrefixHeaders.length)]=await u.read(y,g)}}else p.httpResponseCode?o[d]=n.statusCode:f.push(d)}return f.discardResponseBody=a,f}}});var Cve,mc,xve=te(()=>{pr();Cve=oe(xr());_P();FP();mc=class extends Nh{async serializeRequest(e,r,n){let i=this.serializer,s={},o={},a=await n.endpoint(),u=Ke.of(e?.input),c=u.getSchema(),f,d=new Cve.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:o,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,e,r));let h={...r};if(r){let p=u.getEventStreamMember();if(p){if(h[p]){let m={};for(let[g,y]of u.structIterator())g!==p&&h[g]&&(i.write(y,h[g]),m[g]=i.flush());f=await this.serializeEventStream({eventStream:h[p],requestSchema:u,initialRequest:m})}}else i.write(c,h),f=i.flush()}return d.headers=o,d.query=s,d.body=f,d.method="POST",d}async deserializeResponse(e,r,n){let i=this.deserializer,s=Ke.of(e.output),o={};if(n.statusCode>=300){let u=await Co(n.body,r);throw u.byteLength>0&&Object.assign(o,await i.read(15,u)),await this.handleError(e,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in n.headers){let c=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=c}let a=s.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:o});else{let u=await Co(n.body,r);u.byteLength>0&&Object.assign(o,await i.read(s,u))}return o.$metadata=this.deserializeMetadata(n),o}}});var cz,lz=te(()=>{vP();cz=(t,e,r,n,i,s)=>{if(e!=null&&e[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(i,s?o.split("/").map(a=>lu(a)).join("/"):lu(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t}});function fz(t,e){return new LP(t,e)}var Rve,LP,Ave=te(()=>{Rve=oe(xr());lz();LP=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(e,r){this.input=e,this.context=r}async build(){let{hostname:e,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(let s of this.resolvePathStack)s(this.path);return new Rve.HttpRequest({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,i){return this.resolvePathStack.push(s=>{this.path=cz(s,this.input,e,r,n,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}});function Hs(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:i,httpQuery:s}=t.getMergedTraits();return(e.httpBindings?typeof n=="string"||i?6:s||r?5:void 0:void 0)??e.timestampFormat.default}var MP=te(()=>{});var dz,Pve,Fh,hz=te(()=>{pr();Rs();dz=oe(Gn()),Pve=oe(Wn());sy();MP();Fh=class extends us{settings;constructor(e){super(),this.settings=e}read(e,r){let n=Ke.of(e);if(n.isListSchema())return fb(r).map(i=>this.read(n.getValueSchema(),i));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??dz.fromBase64)(r);if(n.isTimestampSchema())switch(Hs(n,this.settings)){case 5:return iz(r);case 6:return sz(r);case 7:return iy(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let i=n.getMergedTraits().mediaType,s=r;if(i)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(i==="application/json"||i.endsWith("+json"))&&(s=as.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new en(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??Pve.toUtf8)((this.serdeContext?.base64Decoder??dz.fromBase64)(e))}}});var qP,Lh,Ive=te(()=>{pr();qP=oe(Wn());sy();hz();Lh=class extends us{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new Fh(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let n=Ke.of(e),i=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??qP.toUtf8;if(i.httpHeader||i.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(i.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??qP.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var pz,db,mz=te(()=>{pr();Rs();pz=oe(Gn());sy();MP();db=class extends us{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let n=Ke.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Hs(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=ub(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??pz.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let u=this.flush(),c=n.getValueSchema().isTimestampSchema()?u:ez(u);o!==""&&(o+=", "),o+=c}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let i=n.getMergedTraits().mediaType,s=r;if(i&&((i==="application/json"||i.endsWith("+json"))&&(s=as.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??pz.toBase64)(s.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,xo.v4)():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var Mh,Ove=te(()=>{pr();mz();Mh=class{codecSerializer;stringSerializer;buffer;constructor(e,r,n=new db(r)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let n=Ke.of(e),i=n.getMergedTraits();if(i.httpHeader||i.httpLabel||i.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var kve={};Qi(kve,{FromStringShapeDeserializer:()=>Fh,HttpBindingProtocol:()=>Dh,HttpInterceptingShapeDeserializer:()=>Lh,HttpInterceptingShapeSerializer:()=>Mh,HttpProtocol:()=>Nh,RequestBuilder:()=>LP,RpcProtocol:()=>mc,SerdeContext:()=>us,ToStringShapeSerializer:()=>db,collectBody:()=>Co,determineTimestampFormat:()=>Hs,extendedEncodeURIComponent:()=>lu,requestBuilder:()=>fz,resolvedPath:()=>cz});var As=te(()=>{_P();vP();Tve();FP();xve();Ave();lz();hz();Ive();Ove();mz();MP();sy()});var Nve=te(()=>{As()});function yCt(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var Dve=te(()=>{});var gc,Fve=te(()=>{gc=class{authSchemes=new Map;constructor(e){for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var Lve,gz,yz,Mve=te(()=>{Lve=oe(xr()),gz=oe(ql()),yz=class{async sign(e,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let i=Lve.HttpRequest.clone(e);if(n.in===gz.HttpApiKeyAuthLocation.QUERY)i.query[n.name]=r.apiKey;else if(n.in===gz.HttpApiKeyAuthLocation.HEADER)i.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return i}}});var qve,_z,$ve=te(()=>{qve=oe(xr()),_z=class{async sign(e,r,n){let i=qve.HttpRequest.clone(e);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return i.headers.Authorization=`Bearer ${r.token}`,i}}});var la,Uve=te(()=>{la=class{async sign(e,r,n){return e}}});var jve=te(()=>{Mve();$ve();Uve()});var Bve,_Ct,vz,$P,wz,Hve=te(()=>{Bve=t=>function(r){return $P(r)&&r.expiration.getTime()-Date.now()<t},_Ct=3e5,vz=Bve(3e5),$P=t=>t.expiration!==void 0,wz=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,i,s,o,a=!1,u=async c=>{s||(s=n(c));try{i=await s,o=!0,a=!1}finally{s=void 0}return i};return e===void 0?async c=>((!o||c?.forceRefresh)&&(i=await u(c)),i):async c=>((!o||c?.forceRefresh)&&(i=await u(c)),a?i:r(i)?(e(i)&&await u(c),i):(a=!0,i))}});var zve=te(()=>{Fve();jve();Hve()});var qh={};Qi(qh,{DefaultIdentityProviderConfig:()=>gc,EXPIRATION_MS:()=>_Ct,HttpApiKeyAuthSigner:()=>yz,HttpBearerAuthSigner:()=>_z,NoAuthSigner:()=>la,createIsIdentityExpiredFunction:()=>Bve,createPaginator:()=>o_e,doesIdentityRequireRefresh:()=>$P,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Ph,getHttpAuthSchemePlugin:()=>eSt,getHttpSigningPlugin:()=>Ih,getSmithyContext:()=>KEt,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>zye,httpAuthSchemeMiddleware:()=>Yw,httpAuthSchemeMiddlewareOptions:()=>Zye,httpSigningMiddleware:()=>eH,httpSigningMiddlewareOptions:()=>r_e,isIdentityExpired:()=>vz,memoizeIdentityProvider:()=>wz,normalizeProvider:()=>Ul,requestBuilder:()=>fz,setFeature:()=>yCt});var Oi=te(()=>{$ye();Qye();i_e();s_e();a_e();Nve();Dve();zve()});var Vl=v($h=>{"use strict";var Ez=ql(),Sz=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let i=this.data.keys(),s=0;for(;;){let{value:o,done:a}=i.next();if(this.data.delete(o),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let i of n){let s=String(e[i]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},vCt=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Vve=t=>vCt.test(t)||t.startsWith("[")&&t.endsWith("]"),wCt=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Cz=(t,e=!1)=>{if(!e)return wCt.test(t);let r=t.split(".");for(let n of r)if(!Cz(n))return!1;return!0},Tz={},hb="endpoints";function zl(t){return typeof t!="object"||t==null?t:"ref"in t?`$${zl(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(zl).join(", ")})`:JSON.stringify(t,null,2)}var ki=class extends Error{constructor(e){super(e),this.name="EndpointError"}},bCt=(t,e)=>t===e,ECt=t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new ki(`Path: '${t}' does not end with ']'`);let s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new ki(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},Wve=(t,e)=>ECt(e).reduce((r,n)=>{if(typeof r!="object")throw new ki(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),SCt=t=>t!=null,TCt=t=>!t,bz={[Ez.EndpointURLScheme.HTTP]:80,[Ez.EndpointURLScheme.HTTPS]:443},CCt=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:h,port:p,protocol:m="",path:g="",query:y={}}=t,w=new URL(`${m}//${h}${p?`:${p}`:""}${g}`);return w.search=Object.entries(y).map(([S,E])=>`${S}=${E}`).join("&"),w}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=e;if(a)return null;let u=o.slice(0,-1);if(!Object.values(Ez.EndpointURLScheme).includes(u))return null;let c=Vve(i),f=r.includes(`${n}:${bz[u]}`)||typeof t=="string"&&t.includes(`${n}:${bz[u]}`),d=`${n}${f?`:${bz[u]}`:""}`;return{scheme:u,authority:d,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}},xCt=(t,e)=>t===e,RCt=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),ACt=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),PCt={booleanEquals:bCt,getAttr:Wve,isSet:SCt,isValidHostLabel:Cz,not:TCt,parseURL:CCt,stringEquals:xCt,substring:RCt,uriEncode:ACt},Gve=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let s=t.indexOf("{",i);if(s===-1){r.push(t.slice(i));break}r.push(t.slice(i,s));let o=t.indexOf("}",s);if(o===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(s+1,o)),i=o+2);let a=t.substring(s+1,o);if(a.includes("#")){let[u,c]=a.split("#");r.push(Wve(n[u],c))}else r.push(n[a]);i=o+1}return r.join("")},ICt=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],UP=(t,e,r)=>{if(typeof t=="string")return Gve(t,r);if(t.fn)return Xve.callFunction(t,r);if(t.ref)return ICt(t,r);throw new ki(`'${e}': ${String(t)} is not a string, function or reference.`)},Kve=({fn:t,argv:e},r)=>{let n=e.map(s=>["boolean","number"].includes(typeof s)?s:Xve.evaluateExpression(s,"arg",r)),i=t.split(".");return i[0]in Tz&&i[1]!=null?Tz[i[0]][i[1]](...n):PCt[t](...n)},Xve={evaluateExpression:UP,callFunction:Kve},OCt=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new ki(`'${t}' is already defined in Reference Record.`);let n=Kve(e,r);return r.logger?.debug?.(`${hb} evaluateCondition: ${zl(e)} = ${zl(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},xz=(t=[],e)=>{let r={};for(let n of t){let{result:i,toAssign:s}=OCt(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};s&&(r[s.name]=s.value,e.logger?.debug?.(`${hb} assign: ${s.name} := ${zl(s.value)}`))}return{result:!0,referenceRecord:r}},kCt=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{let o=UP(s,"Header value entry",e);if(typeof o!="string")throw new ki(`Header '${n}' value '${o}' is not a string`);return o})}),{}),Jve=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:Yve.getEndpointProperty(i,e)}),{}),Zve=(t,e)=>{if(Array.isArray(t))return t.map(r=>Zve(r,e));switch(typeof t){case"string":return Gve(t,e);case"object":if(t===null)throw new ki(`Unexpected endpoint property: ${t}`);return Yve.getEndpointProperties(t,e);case"boolean":return t;default:throw new ki(`Unexpected endpoint property type: ${typeof t}`)}},Yve={getEndpointProperty:Zve,getEndpointProperties:Jve},NCt=(t,e)=>{let r=UP(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new ki(`Endpoint URL must be a string, got ${typeof r}`)},DCt=(t,e)=>{let{conditions:r,endpoint:n}=t,{result:i,referenceRecord:s}=xz(r,e);if(!i)return;let o={...e,referenceRecord:{...e.referenceRecord,...s}},{url:a,properties:u,headers:c}=n;return e.logger?.debug?.(`${hb} Resolving endpoint from template: ${zl(n)}`),{...c!=null&&{headers:kCt(c,o)},...u!=null&&{properties:Jve(u,o)},url:NCt(a,o)}},FCt=(t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:s}=xz(r,e);if(i)throw new ki(UP(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))},Qve=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=DCt(r,e);if(n)return n}else if(r.type==="error")FCt(r,e);else if(r.type==="tree"){let n=ewe.evaluateTreeRule(r,e);if(n)return n}else throw new ki(`Unknown endpoint rule: ${r}`);throw new ki("Rules evaluation failed")},LCt=(t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:s}=xz(r,e);if(i)return ewe.evaluateRules(n,{...e,referenceRecord:{...e.referenceRecord,...s}})},ewe={evaluateRules:Qve,evaluateTreeRule:LCt},MCt=(t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:i,rules:s}=t;e.logger?.debug?.(`${hb} Initial EndpointParams: ${zl(r)}`);let o=Object.entries(i).filter(([,c])=>c.default!=null).map(([c,f])=>[c,f.default]);if(o.length>0)for(let[c,f]of o)r[c]=r[c]??f;let a=Object.entries(i).filter(([,c])=>c.required).map(([c])=>c);for(let c of a)if(r[c]==null)throw new ki(`Missing required parameter: '${c}'`);let u=Qve(s,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${hb} Resolved endpoint: ${zl(u)}`),u};$h.EndpointCache=Sz;$h.EndpointError=ki;$h.customEndpointFunctions=Tz;$h.isIpAddress=Vve;$h.isValidHostLabel=Cz;$h.resolveEndpoint=MCt});var rwe=v(twe=>{"use strict";function qCt(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}twe.parseQueryString=qCt});var yc=v(iwe=>{"use strict";var $Ct=rwe(),nwe=t=>{if(typeof t=="string")return nwe(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:s}=t,o;return s&&(o=$Ct.parseQueryString(s)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}};iwe.parseUrl=nwe});var Uh=v(fa=>{"use strict";var oy=Vl(),UCt=yc(),owe=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!owe(r))return!1;return!0}return!(!oy.isValidHostLabel(t)||t.length<3||t.length>63||t!==t.toLowerCase()||oy.isIpAddress(t))},swe=":",jCt="/",BCt=t=>{let e=t.split(swe);if(e.length<6)return null;let[r,n,i,s,o,...a]=e;if(r!=="arn"||n===""||i===""||a.join(swe)==="")return null;let u=a.map(c=>c.split(jCt)).flat();return{partition:n,service:i,region:s,accountId:o,resourceId:u}},HCt=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],zCt="1.1",awe={partitions:HCt,version:zCt},uwe=awe,cwe="",lwe=t=>{let{partitions:e}=uwe;for(let n of e){let{regions:i,outputs:s}=n;for(let[o,a]of Object.entries(i))if(o===t)return{...s,...a}}for(let n of e){let{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(t))return{...s}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},fwe=(t,e="")=>{uwe=t,cwe=e},VCt=()=>{fwe(awe,"")},WCt=()=>cwe,dwe={isVirtualHostableS3Bucket:owe,parseArn:BCt,partition:lwe};oy.customEndpointFunctions.aws=dwe;var GCt=t=>{if(typeof t.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:e}=t;return e===void 0&&(t.endpoint=async()=>hwe(t.endpointProvider({Region:typeof t.region=="function"?await t.region():t.region,UseDualStack:typeof t.useDualstackEndpoint=="function"?await t.useDualstackEndpoint():t.useDualstackEndpoint,UseFIPS:typeof t.useFipsEndpoint=="function"?await t.useFipsEndpoint():t.useFipsEndpoint,Endpoint:void 0},{logger:t.logger}))),t},hwe=t=>UCt.parseUrl(t.url);Object.defineProperty(fa,"EndpointError",{enumerable:!0,get:function(){return oy.EndpointError}});Object.defineProperty(fa,"isIpAddress",{enumerable:!0,get:function(){return oy.isIpAddress}});Object.defineProperty(fa,"resolveEndpoint",{enumerable:!0,get:function(){return oy.resolveEndpoint}});fa.awsEndpointFunctions=dwe;fa.getUserAgentPrefix=WCt;fa.partition=lwe;fa.resolveDefaultAwsRegionalEndpointsConfig=GCt;fa.setPartitionInfo=fwe;fa.toEndpointV1=hwe;fa.useDefaultPartitionInfo=VCt});var jP,Wl,pwe=te(()=>{jP={warningEmitted:!1},Wl=t=>{t&&!jP.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<20&&(jP.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${t} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Gl(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var mwe=te(()=>{});function gwe(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var ywe=te(()=>{});function _we(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var vwe=te(()=>{});var _c={};Qi(_c,{emitWarningIfUnsupportedVersion:()=>Wl,setCredentialFeature:()=>Gl,setFeature:()=>gwe,setTokenFeature:()=>_we,state:()=>jP});var Ro=te(()=>{pwe();mwe();ywe();vwe()});var wwe,Rz,bwe=te(()=>{wwe=oe(xr()),Rz=t=>wwe.HttpResponse.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var ay,Az=te(()=>{ay=t=>new Date(Date.now()+t)});var Ewe,Swe=te(()=>{Az();Ewe=(t,e)=>Math.abs(ay(e).getTime()-t)>=3e5});var Pz,Twe=te(()=>{Swe();Pz=(t,e)=>{let r=Date.parse(t);return Ewe(r,e)?r-Date.now():e}});var Iz=te(()=>{bwe();Az();Twe()});var Cwe,pb,uy,Ni,Oz,kz=te(()=>{Cwe=oe(xr());Iz();pb=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},uy=async t=>{let e=pb("context",t.context),r=pb("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],s=await pb("signer",r.signer)(n),o=t?.signingRegion,a=t?.signingRegionSet,u=t?.signingName;return{config:r,signer:s,signingRegion:o,signingRegionSet:a,signingName:u}},Ni=class{async sign(e,r,n){if(!Cwe.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=await uy(n),{config:s,signer:o}=i,{signingRegion:a,signingName:u}=i,c=n.context;if(c?.authSchemes?.length??!1){let[d,h]=c.authSchemes;d?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,u=h?.signingName??u)}return await o.sign(e,{signingDate:ay(s.systemClockOffset),signingRegion:a,signingService:u})}errorHandler(e){return r=>{let n=r.ServerTime??Rz(r.$response);if(n){let i=pb("config",e.config),s=i.systemClockOffset;i.systemClockOffset=Pz(n,i.systemClockOffset),i.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=Rz(e);if(n){let i=pb("config",r.config);i.systemClockOffset=Pz(n,i.systemClockOffset)}}},Oz=Ni});var xwe,mb,Rwe=te(()=>{xwe=oe(xr());Iz();kz();mb=class extends Ni{async sign(e,r,n){if(!xwe.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:s,signingRegion:o,signingRegionSet:a,signingName:u}=await uy(n),f=(await i.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await s.sign(e,{signingDate:ay(i.systemClockOffset),signingRegion:f,signingService:u})}}});var Nz,Awe=te(()=>{Nz=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var BP,Dz=te(()=>{BP=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var Pwe,Iwe,Kl,Owe=te(()=>{Awe();Dz();Pwe="AWS_AUTH_SCHEME_PREFERENCE",Iwe="auth_scheme_preference",Kl={environmentVariableSelector:(t,e)=>{if(e?.signingName&&BP(e.signingName)in t)return["httpBearerAuth"];if(Pwe in t)return Nz(t[Pwe])},configFileSelector:t=>{if(Iwe in t)return Nz(t[Iwe])},default:[]}});var Di=v(jh=>{"use strict";var cy=class t extends Error{name="ProviderError";tryNextLink;constructor(e,r=!0){let n,i=!0;typeof r=="boolean"?(n=void 0,i=r):r!=null&&typeof r=="object"&&(n=r.logger,i=r.tryNextLink??!0),super(e),this.tryNextLink=i,Object.setPrototypeOf(this,t.prototype),n?.debug?.(`@smithy/property-provider ${i?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}},Fz=class t extends cy{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}},Lz=class t extends cy{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}},KCt=(...t)=>async()=>{if(t.length===0)throw new cy("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e},XCt=t=>()=>Promise.resolve(t),JCt=(t,e,r)=>{let n,i,s,o=!1,a=async()=>{i||(i=t());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return e===void 0?async u=>((!s||u?.forceRefresh)&&(n=await a()),n):async u=>((!s||u?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await a(),n))};jh.CredentialsProviderError=Fz;jh.ProviderError=cy;jh.TokenProviderError=Lz;jh.chain=KCt;jh.fromStatic=XCt;jh.memoize=JCt});var Mz,kwe,Nwe,Dwe=te(()=>{Oi();Mz=oe(Di()),kwe=t=>(t.sigv4aSigningRegionSet=Ul(t.sigv4aSigningRegionSet),t),Nwe={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new Mz.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new Mz.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var ibe=v(Dt=>{"use strict";var Xl=RH(),Bh=Wn(),ZCt=rH(),qwe=xr(),Fwe=ss(),HP=mH(),$we="X-Amz-Algorithm",Uwe="X-Amz-Credential",Hz="X-Amz-Date",jwe="X-Amz-SignedHeaders",Bwe="X-Amz-Expires",zz="X-Amz-Signature",Vz="X-Amz-Security-Token",YCt="X-Amz-Region-Set",Wz="authorization",Gz=Hz.toLowerCase(),Hwe="date",zwe=[Wz,Gz,Hwe],Vwe=zz.toLowerCase(),KP="x-amz-content-sha256",Wwe=Vz.toLowerCase(),QCt="host",Gwe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Kwe=/^proxy-/,Xwe=/^sec-/,ext=[/^proxy-/i,/^sec-/i],zP="AWS4-HMAC-SHA256",txt="AWS4-ECDSA-P256-SHA256",Jwe="AWS4-HMAC-SHA256-PAYLOAD",Zwe="UNSIGNED-PAYLOAD",Ywe=50,Kz="aws4_request",Qwe=3600*24*7,ly={},VP=[],WP=(t,e,r)=>`${t}/${e}/${r}/${Kz}`,ebe=async(t,e,r,n,i)=>{let s=await Lwe(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${i}:${Xl.toHex(s)}:${e.sessionToken}`;if(o in ly)return ly[o];for(VP.push(o);VP.length>Ywe;)delete ly[VP.shift()];let a=`AWS4${e.secretAccessKey}`;for(let u of[r,n,i,Kz])a=await Lwe(t,a,u);return ly[o]=a},rxt=()=>{VP.length=0,Object.keys(ly).forEach(t=>{delete ly[t]})},Lwe=(t,e,r)=>{let n=new t(e);return n.update(Bh.toUint8Array(r)),n.digest()},qz=({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let s=i.toLowerCase();(s in Gwe||e?.has(s)||Kwe.test(s)||Xwe.test(s))&&(!r||r&&!r.has(s))||(n[s]=t[i].trim().replace(/\s+/g," "))}return n},GP=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===KP)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||ZCt.isArrayBuffer(e)){let n=new r;return n.update(Bh.toUint8Array(e)),Xl.toHex(await n.digest())}return Zwe},$z=class{format(e){let r=[];for(let s of Object.keys(e)){let o=Bh.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[s]))}let n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0)),i=0;for(let s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":let a=Bh.fromUtf8(e.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);let c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Uz.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!nxt.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(Xl.fromHex(e.value.replace(/\-/g,"")),1),d}}},nxt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Uz=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&Mwe(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&Mwe(e),parseInt(Xl.toHex(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Mwe(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var tbe=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},rbe=(t,e={})=>{let{headers:r,query:n={}}=qwe.HttpRequest.clone(t);for(let i of Object.keys(r)){let s=i.toLowerCase();(s.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(s)||e.hoistableHeaders?.has(s))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}},jz=t=>{t=qwe.HttpRequest.clone(t);for(let e of Object.keys(t.headers))zwe.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},nbe=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t)){if(n.toLowerCase()===Vwe)continue;let i=HP.escapeUri(n);e.push(i);let s=t[n];typeof s=="string"?r[i]=`${i}=${HP.escapeUri(s)}`:Array.isArray(s)&&(r[i]=s.slice(0).reduce((o,a)=>o.concat([`${i}=${HP.escapeUri(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},ixt=t=>sxt(t).toISOString().replace(/\.\d{3}Z$/,"Z"),sxt=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t,XP=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Fwe.normalizeProvider(n),this.credentialProvider=Fwe.normalizeProvider(r)}createCanonicalRequest(e,r,n){let i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${nbe(e)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n,i){let s=new this.sha256;s.update(Bh.toUint8Array(n));let o=await s.digest();return`${i}
${e}
${r}
${Xl.toHex(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return HP.escapeUri(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=ixt(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},Bz=class extends XP{headerFormatter=new $z;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){super({applyChecksum:e,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o})}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:u,signingRegion:c,signingService:f}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let h=c??await this.regionProvider(),{longDate:p,shortDate:m}=this.formatDate(n);if(i>Qwe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=WP(m,h,f??this.service),y=rbe(jz(e),{unhoistableHeaders:o,hoistableHeaders:u});d.sessionToken&&(y.query[Vz]=d.sessionToken),y.query[$we]=zP,y.query[Uwe]=`${d.accessKeyId}/${g}`,y.query[Hz]=p,y.query[Bwe]=i.toString(10);let w=qz(y,s,a);return y.query[jwe]=this.getCanonicalHeaderList(w),y.query[zz]=await this.getSignature(p,g,this.getSigningKey(d,h,m,f),this.createCanonicalRequest(y,w,await GP(e,this.sha256))),y}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){let a=s??await this.regionProvider(),{shortDate:u,longDate:c}=this.formatDate(n),f=WP(u,a,o??this.service),d=await GP({headers:{},body:r},this.sha256),h=new this.sha256;h.update(e);let p=Xl.toHex(await h.digest()),m=[Jwe,c,f,i,p,d].join(`
`);return this.signString(m,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let o=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),u=new this.sha256(await this.getSigningKey(s,o,a,i));return u.update(Bh.toUint8Array(e)),Xl.toHex(await u.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let u=s??await this.regionProvider(),c=jz(e),{longDate:f,shortDate:d}=this.formatDate(r),h=WP(d,u,o??this.service);c.headers[Gz]=f,a.sessionToken&&(c.headers[Wwe]=a.sessionToken);let p=await GP(c,this.sha256);!tbe(KP,c.headers)&&this.applyChecksum&&(c.headers[KP]=p);let m=qz(c,i,n),g=await this.getSignature(f,h,this.getSigningKey(a,u,d,o),this.createCanonicalRequest(c,m,p));return c.headers[Wz]=`${zP} Credential=${a.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(m)}, Signature=${g}`,c}async getSignature(e,r,n,i){let s=await this.createStringToSign(e,r,i,zP),o=new this.sha256(await n);return o.update(Bh.toUint8Array(s)),Xl.toHex(await o.digest())}getSigningKey(e,r,n,i){return ebe(this.sha256,e,n,r,i||this.service)}},oxt={SignatureV4a:null};Dt.ALGORITHM_IDENTIFIER=zP;Dt.ALGORITHM_IDENTIFIER_V4A=txt;Dt.ALGORITHM_QUERY_PARAM=$we;Dt.ALWAYS_UNSIGNABLE_HEADERS=Gwe;Dt.AMZ_DATE_HEADER=Gz;Dt.AMZ_DATE_QUERY_PARAM=Hz;Dt.AUTH_HEADER=Wz;Dt.CREDENTIAL_QUERY_PARAM=Uwe;Dt.DATE_HEADER=Hwe;Dt.EVENT_ALGORITHM_IDENTIFIER=Jwe;Dt.EXPIRES_QUERY_PARAM=Bwe;Dt.GENERATED_HEADERS=zwe;Dt.HOST_HEADER=QCt;Dt.KEY_TYPE_IDENTIFIER=Kz;Dt.MAX_CACHE_SIZE=Ywe;Dt.MAX_PRESIGNED_TTL=Qwe;Dt.PROXY_HEADER_PATTERN=Kwe;Dt.REGION_SET_PARAM=YCt;Dt.SEC_HEADER_PATTERN=Xwe;Dt.SHA256_HEADER=KP;Dt.SIGNATURE_HEADER=Vwe;Dt.SIGNATURE_QUERY_PARAM=zz;Dt.SIGNED_HEADERS_QUERY_PARAM=jwe;Dt.SignatureV4=Bz;Dt.SignatureV4Base=XP;Dt.TOKEN_HEADER=Wwe;Dt.TOKEN_QUERY_PARAM=Vz;Dt.UNSIGNABLE_PATTERNS=ext;Dt.UNSIGNED_PAYLOAD=Zwe;Dt.clearCredentialCache=rxt;Dt.createScope=WP;Dt.getCanonicalHeaders=qz;Dt.getCanonicalQuery=nbe;Dt.getPayloadHash=GP;Dt.getSigningKey=ebe;Dt.hasHeader=tbe;Dt.moveHeadersToQuery=rbe;Dt.prepareRequest=jz;Dt.signatureV4aContainer=oxt});function axt(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=wz(e,vz,$P):r?n=Ul(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function uxt(t,e){if(e.configBound)return e;let r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var Xz,vc,sbe,obe=te(()=>{Ro();Oi();Xz=oe(ibe()),vc=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(c){c&&c!==e&&c!==n&&(r=!0),e=c;let f=axt(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),d=uxt(t,f);r&&!d.attributed?(n=async h=>d(h).then(p=>Gl(p,"CREDENTIALS_CODE","e")),n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0):n=d},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:i=!0,systemClockOffset:s=t.systemClockOffset||0,sha256:o}=t,a;return t.signer?a=Ul(t.signer):t.regionInfoProvider?a=()=>Ul(t.region)().then(async c=>[await t.regionInfoProvider(c,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},c]).then(([c,f])=>{let{signingRegion:d,signingService:h}=c;t.signingRegion=t.signingRegion||d||f,t.signingName=t.signingName||h||t.serviceId;let p={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:i},m=t.signerConstructor||Xz.SignatureV4;return new m(p)}):a=async c=>{c=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ul(t.region)(),properties:{}},c);let f=c.signingRegion,d=c.signingName;t.signingRegion=t.signingRegion||f,t.signingName=t.signingName||d||t.serviceId;let h={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:i},p=t.signerConstructor||Xz.SignatureV4;return new p(h)},Object.assign(t,{systemClockOffset:s,signingEscapePath:i,signer:a})},sbe=vc});var abe=te(()=>{kz();Rwe();Owe();Dwe();obe()});var ube={};Qi(ube,{AWSSDKSigV4Signer:()=>Oz,AwsSdkSigV4ASigner:()=>mb,AwsSdkSigV4Signer:()=>Ni,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Kl,NODE_SIGV4A_CONFIG_OPTIONS:()=>Nwe,getBearerTokenEnvKey:()=>BP,resolveAWSSDKSigV4Config:()=>sbe,resolveAwsSdkSigV4AConfig:()=>kwe,resolveAwsSdkSigV4Config:()=>vc,validateSigningProperties:()=>uy});var Jz=te(()=>{abe();Dz()});function Jl(t){return typeof Buffer<"u"?Buffer.alloc(t):new Uint8Array(t)}function JP(t){return t[Zz]=!0,t}var Zz,ZP=te(()=>{Zz=Symbol("@smithy/core/cbor::tagSymbol")});function fbe(t){Rr=t,bc=new DataView(Rr.buffer,Rr.byteOffset,Rr.byteLength)}function hu(t,e){if(t>=e)throw new Error("unexpected end of (decode) payload.");let r=(Rr[t]&224)>>5,n=Rr[t]&31;switch(r){case 0:case 1:case 6:let i,s;if(n<24)i=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let o=hbe[n],a=o+1;if(s=a,e-t<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let u=t+1;o===1?i=Rr[u]:o===2?i=bc.getUint16(u):o===4?i=bc.getUint32(u):i=bc.getBigUint64(u);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return Ut=s,Yz(i);if(r===1){let o;return typeof i=="bigint"?o=BigInt(-1)-i:o=-1-i,Ut=s,Yz(o)}else if(n===2||n===3){let o=vb(t+s,e),a=BigInt(0),u=t+s+Ut;for(let c=u;c<u+o;++c)a=a<<BigInt(8)|BigInt(Rr[c]);return Ut=s+Ut+o,n===3?-a-BigInt(1):a}else if(n===4){let o=hu(t+s,e),[a,u]=o,c=u<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(c)*BigInt(u)),d,h=u<0?"-":"";return d=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),d=d.replace(/^0+/g,""),d===""&&(d="0"),d[0]==="."&&(d="0"+d),d=h+d,Ut=s+Ut,az(d)}else{let o=hu(t+s,e);return Ut=s+Ut,JP({tag:Yz(i),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return mxt(t,e);case 5:return wxt(t,e);case 4:return _xt(t,e);case 2:return gxt(t,e)}else switch(r){case 3:return pxt(t,e);case 5:return vxt(t,e);case 4:return yxt(t,e);case 2:return i6(t,e)}default:return bxt(t,e)}}function dbe(t,e,r){return fxt&&t.constructor?.name==="Buffer"?t.toString("utf-8",e,r):cbe?cbe.decode(t.subarray(e,r)):(0,lbe.toUtf8)(t.subarray(e,r))}function dxt(t){let e=Number(t);return(e<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<e)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${t}) to ${e} with loss of precision.`)),e}function hxt(t,e){let r=t>>7,n=(t&124)>>2,i=(t&3)<<8|e,s=r===0?1:-1,o,a;if(n===0){if(i===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return i===0?s*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=i/1024,s*(o*a)}function vb(t,e){let r=Rr[t]&31;if(r<24)return Ut=1,r;if(r===24||r===25||r===26||r===27){let n=hbe[r];if(Ut=n+1,e-t<Ut)throw new Error(`countLength ${n} greater than remaining buf len.`);let i=t+1;return n===1?Rr[i]:n===2?bc.getUint16(i):n===4?bc.getUint32(i):dxt(bc.getBigUint64(i))}throw new Error(`unexpected minor value ${r}.`)}function pxt(t,e){let r=vb(t,e),n=Ut;if(t+=n,e-t<r)throw new Error(`string len ${r} greater than remaining buf len.`);let i=dbe(Rr,t,t+r);return Ut=n+r,i}function mxt(t,e){t+=1;let r=[];for(let n=t;t<e;){if(Rr[t]===255){let u=Jl(r.length);return u.set(r,0),Ut=t-n+2,dbe(u,0,u.length)}let i=(Rr[t]&224)>>5,s=Rr[t]&31;if(i!==3)throw new Error(`unexpected major type ${i} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let o=i6(t,e);t+=Ut;for(let u=0;u<o.length;++u)r.push(o[u])}throw new Error("expected break marker.")}function i6(t,e){let r=vb(t,e),n=Ut;if(t+=n,e-t<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let i=Rr.subarray(t,t+r);return Ut=n+r,i}function gxt(t,e){t+=1;let r=[];for(let n=t;t<e;){if(Rr[t]===255){let u=Jl(r.length);return u.set(r,0),Ut=t-n+2,u}let i=(Rr[t]&224)>>5,s=Rr[t]&31;if(i!==2)throw new Error(`unexpected major type ${i} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let o=i6(t,e);t+=Ut;for(let u=0;u<o.length;++u)r.push(o[u])}throw new Error("expected break marker.")}function yxt(t,e){let r=vb(t,e),n=Ut;t+=n;let i=t,s=Array(r);for(let o=0;o<r;++o){let a=hu(t,e),u=Ut;s[o]=a,t+=u}return Ut=n+(t-i),s}function _xt(t,e){t+=1;let r=[];for(let n=t;t<e;){if(Rr[t]===255)return Ut=t-n+2,r;let i=hu(t,e);t+=Ut,r.push(i)}throw new Error("expected break marker.")}function vxt(t,e){let r=vb(t,e),n=Ut;t+=n;let i=t,s={};for(let o=0;o<r;++o){if(t>=e)throw new Error("unexpected end of map payload.");let a=(Rr[t]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${t}.`);let u=hu(t,e);t+=Ut;let c=hu(t,e);t+=Ut,s[u]=c}return Ut=n+(t-i),s}function wxt(t,e){t+=1;let r=t,n={};for(;t<e;){if(t>=e)throw new Error("unexpected end of map payload.");if(Rr[t]===255)return Ut=t-r+2,n;let i=(Rr[t]&224)>>5;if(i!==3)throw new Error(`unexpected major type ${i} for map key.`);let s=hu(t,e);t+=Ut;let o=hu(t,e);t+=Ut,n[s]=o}throw new Error("expected break marker.")}function bxt(t,e){let r=Rr[t]&31;switch(r){case 21:case 20:return Ut=1,r===21;case 22:return Ut=1,null;case 23:return Ut=1,null;case 25:if(e-t<3)throw new Error("incomplete float16 at end of buf.");return Ut=3,hxt(Rr[t+1],Rr[t+2]);case 26:if(e-t<5)throw new Error("incomplete float32 at end of buf.");return Ut=5,bc.getFloat32(t+1);case 27:if(e-t<9)throw new Error("incomplete float64 at end of buf.");return Ut=9,bc.getFloat64(t+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Yz(t){if(typeof t=="number")return t;let e=Number(t);return Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:t}var lbe,lxt,fxt,Rr,bc,cbe,Ut,hbe,pbe=te(()=>{Rs();lbe=oe(Wn());ZP();lxt=typeof TextDecoder<"u",fxt=typeof Buffer<"u",Rr=Jl(0),bc=new DataView(Rr.buffer,Rr.byteOffset,Rr.byteLength),cbe=lxt?new TextDecoder:null,Ut=0;hbe={24:1,25:2,26:4,27:8}});function o6(t){St.byteLength-it<t&&(it<16e6?QP(Math.max(St.byteLength*4,St.byteLength+t)):QP(St.byteLength+t+16e6))}function a6(){let t=Jl(it);return t.set(St.subarray(0,it),0),it=0,t}function QP(t){let e=St;St=Jl(t),e&&(e.copy?e.copy(St,0,0,e.byteLength):St.set(e,0)),Tc=new DataView(St.buffer,St.byteOffset,St.byteLength)}function Sc(t,e){e<24?St[it++]=t<<5|e:e<256?(St[it++]=t<<5|24,St[it++]=e):e<65536?(St[it++]=t<<5|25,Tc.setUint16(it,e),it+=2):e<2**32?(St[it++]=t<<5|26,Tc.setUint32(it,e),it+=4):(St[it++]=t<<5|27,Tc.setBigUint64(it,typeof e=="bigint"?e:BigInt(e)),it+=8)}function ybe(t){let e=[t];for(;e.length;){let r=e.pop();if(o6(typeof r=="string"?r.length*4:64),typeof r=="string"){if(mbe)Sc(3,Buffer.byteLength(r)),it+=St.write(r,it);else{let n=(0,gbe.fromUtf8)(r);Sc(3,n.byteLength),St.set(n,it),it+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,i=n?0:1,s=n?r:-r-1;s<24?St[it++]=i<<5|s:s<256?(St[it++]=i<<5|24,St[it++]=s):s<65536?(St[it++]=i<<5|25,St[it++]=s>>8,St[it++]=s):s<4294967296?(St[it++]=i<<5|26,Tc.setUint32(it,s),it+=4):(St[it++]=i<<5|27,Tc.setBigUint64(it,BigInt(s)),it+=8);continue}St[it++]=251,Tc.setFloat64(it,r),it+=8;continue}else if(typeof r=="bigint"){let n=r>=0,i=n?0:1,s=n?r:-r-BigInt(1),o=Number(s);if(o<24)St[it++]=i<<5|o;else if(o<256)St[it++]=i<<5|24,St[it++]=o;else if(o<65536)St[it++]=i<<5|25,St[it++]=o>>8,St[it++]=o&255;else if(o<4294967296)St[it++]=i<<5|26,Tc.setUint32(it,o),it+=4;else if(s<BigInt("18446744073709551616"))St[it++]=i<<5|27,Tc.setBigUint64(it,s),it+=8;else{let a=s.toString(2),u=new Uint8Array(Math.ceil(a.length/8)),c=s,f=0;for(;u.byteLength-++f>=0;)u[u.byteLength-f]=Number(c&BigInt(255)),c>>=BigInt(8);o6(u.byteLength*2),St[it++]=n?194:195,mbe?Sc(2,Buffer.byteLength(u)):Sc(2,u.byteLength),St.set(u,it),it+=u.byteLength}continue}else if(r===null){St[it++]=246;continue}else if(typeof r=="boolean"){St[it++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)e.push(r[n]);Sc(4,r.length);continue}else if(typeof r.byteLength=="number"){o6(r.length*2),Sc(2,r.length),St.set(r,it),it+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof en){let i=r.string.indexOf("."),s=i===-1?0:i-r.string.length+1,o=BigInt(r.string.replace(".",""));St[it++]=196,e.push(o),e.push(s),Sc(4,2);continue}if(r[Zz])if("tag"in r&&"value"in r){e.push(r.value),Sc(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let i=n.length-1;i>=0;--i){let s=n[i];e.push(r[s]),e.push(s)}Sc(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var gbe,mbe,Ext,St,Tc,it,_be=te(()=>{Rs();gbe=oe(Wn());ZP();mbe=typeof Buffer<"u",Ext=2048,St=Jl(Ext),Tc=new DataView(St.buffer,St.byteOffset,St.byteLength),it=0});var u6,vbe=te(()=>{pbe();_be();u6={deserialize(t){return fbe(t),hu(0,t.length)},serialize(t){try{return ybe(t),a6()}catch(e){throw a6(),e}},resizeEncodingBuffer(t){QP(t)}}});var e1,t1,r1=te(()=>{ZP();e1=t=>JP({tag:1,value:t.getTime()/1e3}),t1=(t,e)=>{let r=i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(e.__type!==void 0)return r(e.__type);let n=Object.keys(e).find(i=>i.toLowerCase()==="code");if(n&&e[n]!==void 0)return r(e[n])}});var f6,n1,c6,l6,d6=te(()=>{As();pr();Rs();f6=oe(Gn());vbe();r1();n1=class extends us{createSerializer(){let e=new c6;return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new l6;return e.setSerdeContext(this.serdeContext),e}},c6=class extends us{value;write(e,r){this.value=this.serialize(e,r)}serialize(e,r){let n=Ke.of(e);if(r==null)return n.isIdempotencyToken()?(0,xo.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??f6.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?e1(new Date(Number(r)/1e3|0)):e1(r);if(typeof r=="function"||typeof r=="object"){let i=r;if(n.isListSchema()&&Array.isArray(i)){let o=!!n.getMergedTraits().sparse,a=[],u=0;for(let c of i){let f=this.serialize(n.getValueSchema(),c);(f!=null||o)&&(a[u++]=f)}return a}if(i instanceof Date)return e1(i);let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse;for(let a of Object.keys(i)){let u=this.serialize(n.getValueSchema(),i[a]);(u!=null||o)&&(s[a]=u)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator()){let u=this.serialize(a,i[o]);u!=null&&(s[o]=u)}else if(n.isDocumentSchema())for(let o of Object.keys(i))s[o]=this.serialize(n.getValueSchema(),i[o]);return s}return r}flush(){let e=u6.serialize(this.value);return this.value=void 0,e}},l6=class extends us{read(e,r){let n=u6.deserialize(r);return this.readValue(e,n)}readValue(e,r){let n=Ke.of(e);if(n.isTimestampSchema()){if(typeof r=="number")return iy(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return iy(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??f6.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],o=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let u of r){let c=this.readValue(o,u);(c!=null||a)&&s.push(c)}return s}let i={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,o=n.getValueSchema();for(let a of Object.keys(r)){let u=this.readValue(o,r[a]);(u!=null||s)&&(i[a]=u)}}else if(n.isStructSchema())for(let[s,o]of n.structIterator()){let a=this.readValue(o,r[s]);a!=null&&(i[s]=a)}return i}else return r}}});var wbe,i1,bbe=te(()=>{As();pr();wbe=oe(ss());d6();r1();i1=class extends mc{codec=new n1;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:e}){super({defaultNamespace:e})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);if(Object.assign(i.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),ca(e.input)==="unit")delete i.body,delete i.headers["content-type"];else{i.body||(this.serializer.write(15,{}),i.body=this.serializer.flush());try{i.headers["content-length"]=String(i.body.byteLength)}catch{}}let{service:s,operation:o}=(0,wbe.getSmithyContext)(n),a=`/service/${s}/operation/${o}`;return i.path.endsWith("/")?i.path+=a.slice(1):i.path+=a,i}async deserializeResponse(e,r,n){return super.deserializeResponse(e,r,n)}async handleError(e,r,n,i,s){let o=t1(n,i)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let u={$metadata:s,$fault:n.statusCode<=500?"client":"server"},c=bt.for(a),f;try{f=c.getSchema(o)}catch{i.Message&&(i.message=i.Message);let w=bt.for("smithy.ts.sdk.synthetic."+a),S=w.getBaseException();if(S){let E=w.getErrorCtor(S);throw Object.assign(new E({name:o}),u,i)}throw Object.assign(new Error(o),u,i)}let d=Ke.of(f),h=c.getErrorCtor(f),p=i.message??i.Message??"Unknown",m=new h(p),g={};for(let[y,w]of d.structIterator())g[y]=this.deserializer.readValue(w,i[y]);throw Object.assign(m,u,{$fault:d.getMergedTraits().error,message:p},g)}getDefaultContentType(){return"application/cbor"}}});var Ebe=te(()=>{r1();bbe();d6()});var xbe=v(Cbe=>{"use strict";var Hh=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},ef=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,h6=()=>{let t=[],e=[],r=!1,n=new Set,i=d=>d.sort((h,p)=>Sbe[p.step]-Sbe[h.step]||Tbe[p.priority||"normal"]-Tbe[h.priority||"normal"]),s=d=>{let h=!1,p=m=>{let g=Hh(m.name,m.aliases);if(g.includes(d)){h=!0;for(let y of g)n.delete(y);return!1}return!0};return t=t.filter(p),e=e.filter(p),h},o=d=>{let h=!1,p=m=>{if(m.middleware===d){h=!0;for(let g of Hh(m.name,m.aliases))n.delete(g);return!1}return!0};return t=t.filter(p),e=e.filter(p),h},a=d=>(t.forEach(h=>{d.add(h.middleware,{...h})}),e.forEach(h=>{d.addRelativeTo(h.middleware,{...h})}),d.identifyOnResolve?.(f.identifyOnResolve()),d),u=d=>{let h=[];return d.before.forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...u(p))}),h.push(d),d.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?h.push(p):h.push(...u(p))}),h},c=(d=!1)=>{let h=[],p=[],m={};return t.forEach(y=>{let w={...y,before:[],after:[]};for(let S of Hh(w.name,w.aliases))m[S]=w;h.push(w)}),e.forEach(y=>{let w={...y,before:[],after:[]};for(let S of Hh(w.name,w.aliases))m[S]=w;p.push(w)}),p.forEach(y=>{if(y.toMiddleware){let w=m[y.toMiddleware];if(w===void 0){if(d)return;throw new Error(`${y.toMiddleware} is not found when adding ${ef(y.name,y.aliases)} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&w.after.push(y),y.relation==="before"&&w.before.push(y)}}),i(h).map(u).reduce((y,w)=>(y.push(...w),y),[])},f={add:(d,h={})=>{let{name:p,override:m,aliases:g}=h,y={step:"initialize",priority:"normal",middleware:d,...h},w=Hh(p,g);if(w.length>0){if(w.some(S=>n.has(S))){if(!m)throw new Error(`Duplicate middleware name '${ef(p,g)}'`);for(let S of w){let E=t.findIndex(O=>O.name===S||O.aliases?.some(M=>M===S));if(E===-1)continue;let b=t[E];if(b.step!==y.step||y.priority!==b.priority)throw new Error(`"${ef(b.name,b.aliases)}" middleware with ${b.priority} priority in ${b.step} step cannot be overridden by "${ef(p,g)}" middleware with ${y.priority} priority in ${y.step} step.`);t.splice(E,1)}}for(let S of w)n.add(S)}t.push(y)},addRelativeTo:(d,h)=>{let{name:p,override:m,aliases:g}=h,y={middleware:d,...h},w=Hh(p,g);if(w.length>0){if(w.some(S=>n.has(S))){if(!m)throw new Error(`Duplicate middleware name '${ef(p,g)}'`);for(let S of w){let E=e.findIndex(O=>O.name===S||O.aliases?.some(M=>M===S));if(E===-1)continue;let b=e[E];if(b.toMiddleware!==y.toMiddleware||b.relation!==y.relation)throw new Error(`"${ef(b.name,b.aliases)}" middleware ${b.relation} "${b.toMiddleware}" middleware cannot be overridden by "${ef(p,g)}" middleware ${y.relation} "${y.toMiddleware}" middleware.`);e.splice(E,1)}}for(let S of w)n.add(S)}e.push(y)},clone:()=>a(h6()),use:d=>{d.applyToStack(f)},remove:d=>typeof d=="string"?s(d):o(d),removeByTag:d=>{let h=!1,p=m=>{let{tags:g,name:y,aliases:w}=m;if(g&&g.includes(d)){let S=Hh(y,w);for(let E of S)n.delete(E);return h=!0,!1}return!0};return t=t.filter(p),e=e.filter(p),h},concat:d=>{let h=a(h6());return h.use(d),h.identifyOnResolve(r||h.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>c(!0).map(d=>{let h=d.step??d.relation+" "+d.toMiddleware;return ef(d.name,d.aliases)+" - "+h}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,h)=>{for(let p of c().map(m=>m.middleware).reverse())d=p(d,h);return r&&console.log(f.identify()),d}};return f},Sbe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Tbe={high:3,normal:2,low:1};Cbe.constructStack=h6});var jt=v(Tr=>{"use strict";var Pbe=xbe(),E6=(As(),Wt(kve)),m6=ql(),Sxt=(pr(),Wt(CP)),Rbe=(Rs(),Wt(_ve)),g6=class{config;middlewareStack=Pbe.constructStack();initConfig;handlers;constructor(e){this.config=e}send(e,r,n){let i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=i===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let u=this.handlers;u.has(e.constructor)?a=u.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),u.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)a(e).then(u=>s(null,u.output),u=>s(u)).catch(()=>{});else return a(e).then(u=>u.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},p6="***SensitiveInformation***";function y6(t,e){if(e==null)return e;let r=Sxt.NormalizedSchema.of(t);if(r.getMergedTraits().sensitive)return p6;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return p6}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return p6}else if(r.isStructSchema()&&typeof e=="object"){let n=e,i={};for(let[s,o]of r.structIterator())n[s]!=null&&(i[s]=y6(o,n[s]));return i}return e}var s1=class{middlewareStack=Pbe.constructStack();schema;static classBuilder(){return new _6}resolveMiddlewareWithContext(e,r,n,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:c,additionalContext:f,CommandCtor:d}){for(let y of i.bind(this)(d,e,r,n))this.middlewareStack.use(y);let h=e.concat(this.middlewareStack),{logger:p}=r,m={logger:p,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[m6.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...f},{requestHandler:g}=r;return h.resolve(y=>g.handle(y.request,n||{}),m)}},_6=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends s1{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.input=n??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,i,s){let o=e._operationSchema,a=o?.[4]??o?.input,u=o?.[5]??o?.output;return this.resolveMiddlewareWithContext(n,i,s,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(o?y6.bind(null,a):c=>c),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(o?y6.bind(null,u):c=>c),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}},Txt="***SensitiveInformation***",Cxt=(t,e)=>{for(let r of Object.keys(t)){let n=t[r],i=async function(o,a,u){let c=new n(o);if(typeof a=="function")this.send(c,a);else if(typeof u=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(c,a||{},u)}else return this.send(c,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[s]=i}},v6=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},Ibe=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},Obe=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let i=Rxt(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:e?.code||e?.Code||n||s||"UnknownError",$fault:"client",$metadata:i});throw Ibe(o,e)},xxt=t=>({output:e,parsedBody:r,errorCode:n})=>{Obe({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},Rxt=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Axt=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Abe=!1,Pxt=t=>{t&&!Abe&&parseInt(t.substring(1,t.indexOf(".")))<16&&(Abe=!0)},Ixt=t=>{let e=[];for(let r in m6.AlgorithmId){let n=m6.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},Oxt=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},kxt=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),Nxt=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e},kbe=t=>Object.assign(Ixt(t),kxt(t)),Dxt=kbe,Fxt=t=>Object.assign(Oxt(t),Nxt(t)),Lxt=t=>Array.isArray(t)?t:[t],Nbe=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=Nbe(t[r]));return t},Mxt=t=>t!=null,w6=class{trace(){}debug(){}info(){}warn(){}error(){}};function Dbe(t,e,r){let n,i,s;if(typeof e>"u"&&typeof r>"u")n={},s=t;else{if(n=t,typeof e=="function")return i=e,s=r,Uxt(n,i,s);s=e}for(let o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}Fbe(n,null,s,o)}return n}var qxt=t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e},$xt=(t,e)=>{let r={};for(let n in e)Fbe(r,t,e,n);return r},Uxt=(t,e,r)=>Dbe(t,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[e,s()]:n[i]=[e,s],n),{})),Fbe=(t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=jxt,u=Bxt,c=n]=o;(typeof a=="function"&&a(e[c])||typeof a!="function"&&a)&&(t[n]=u(e[c]));return}let[i,s]=r[n];if(typeof s=="function"){let o,a=i===void 0&&(o=s())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[n]=o:u&&(t[n]=s())}else{let o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(t[n]=s)}},jxt=t=>t!=null,Bxt=t=>t,Hxt=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},zxt=t=>t.toISOString().replace(".000Z","Z"),b6=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(b6);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=b6(t[r]));return e}return t};Object.defineProperty(Tr,"collectBody",{enumerable:!0,get:function(){return E6.collectBody}});Object.defineProperty(Tr,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return E6.extendedEncodeURIComponent}});Object.defineProperty(Tr,"resolvedPath",{enumerable:!0,get:function(){return E6.resolvedPath}});Tr.Client=g6;Tr.Command=s1;Tr.NoOpLogger=w6;Tr.SENSITIVE_STRING=Txt;Tr.ServiceException=v6;Tr._json=b6;Tr.convertMap=qxt;Tr.createAggregatedClient=Cxt;Tr.decorateServiceException=Ibe;Tr.emitWarningIfUnsupportedVersion=Pxt;Tr.getArrayIfSingleItem=Lxt;Tr.getDefaultClientConfiguration=Dxt;Tr.getDefaultExtensionConfiguration=kbe;Tr.getValueFromTextNode=Nbe;Tr.isSerializableHeaderValue=Mxt;Tr.loadConfigsForDefaultMode=Axt;Tr.map=Dbe;Tr.resolveDefaultRuntimeConfig=Fxt;Tr.serializeDateTime=zxt;Tr.serializeFloat=Hxt;Tr.take=$xt;Tr.throwDefaultError=Obe;Tr.withBaseException=xxt;Object.keys(Rbe).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Tr,t)&&Object.defineProperty(Tr,t,{enumerable:!0,get:function(){return Rbe[t]}})})});var S6,Ao,dy=te(()=>{pr();S6=oe(jt()),Ao=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let n=r.getMemberSchemas(),i=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(i){let s=i.getMergedTraits().mediaType;return s||(i.isStringSchema()?"text/plain":i.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:u,httpHeader:c,httpLabel:f,httpPrefixHeaders:d}=o.getMergedTraits();return!a&&!u&&!c&&!f&&d===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,n,i,s,o){let a=r,u=e;e.includes("#")&&([a,u]=e.split("#"));let c={$metadata:s,$fault:n.statusCode<500?"client":"server"},f=bt.for(a);try{return{errorSchema:o?.(f,u)??f.getSchema(e),errorMetadata:c}}catch{i.message=i.message??i.Message??"UnknownError";let h=bt.for("smithy.ts.sdk.synthetic."+a),p=h.getBaseException();if(p){let m=h.getErrorCtor(p)??Error;throw this.decorateServiceException(Object.assign(new m({name:u}),c),i)}throw this.decorateServiceException(Object.assign(new Error(u),c),i)}}decorateServiceException(e,r={}){if(this.queryCompat){let n=e.Message??r.Message,i=(0,S6.decorateServiceException)(e,r);n&&(i.message=n),i.Error={...i.Error,Type:i.Error.Type,Code:i.Error.Code,Message:i.Error.message??i.Error.Message??n};let s=i.$metadata.requestId;return s&&(i.RequestId=s),i}return(0,S6.decorateServiceException)(e,r)}setQueryCompatError(e,r){let n=r.headers?.["x-amzn-query-error"];if(e!==void 0&&n!=null){let[i,s]=n.split(";"),o=Object.entries(e),a={Code:i,Type:s};Object.assign(e,a);for(let[u,c]of o)a[u==="message"?"Message":u]=c;delete a.__type,e.Error=a}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}findQueryCompatibleError(e,r){try{return e.getSchema(r)}catch{return e.find(i=>Ke.of(i).getMergedTraits().awsQueryError?.[0]===r)}}}});var o1,Lbe=te(()=>{Ebe();pr();dy();o1=class extends i1{awsQueryCompatible;mixin;constructor({defaultNamespace:e,awsQueryCompatible:r}){super({defaultNamespace:e}),this.awsQueryCompatible=!!r,this.mixin=new Ao(this.awsQueryCompatible)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);return this.awsQueryCompatible&&(i.headers["x-amzn-query-mode"]="true"),i}async handleError(e,r,n,i,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(i,n);let o=(()=>{let m=n.headers["x-amzn-query-error"];return m&&this.awsQueryCompatible?m.split(";")[0]:t1(n,i)??"Unknown"})(),{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,i,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),c=Ke.of(a),f=i.message??i.Message??"Unknown",d=bt.for(a[1]).getErrorCtor(a)??Error,h=new d(f),p={};for(let[m,g]of c.structIterator())i[m]!=null&&(p[m]=this.deserializer.readValue(g,i[m]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(i,p),this.mixin.decorateServiceException(Object.assign(h,u,{$fault:c.getMergedTraits().error,message:f},p),i)}}});var Mbe,qbe,$be,Ube=te(()=>{Mbe=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t},qbe=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t},$be=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t}});var Fi,tf=te(()=>{Fi=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});function*hy(t,e){if(t.isUnitSchema())return;let r=t.getSchema();for(let n=0;n<r[4].length;++n){let i=r[4][n],s=r[5][n],o=new Ke([s,0],i);!(i in e)&&!o.isIdempotencyToken()||(yield[i,o])}}function*jbe(t,e,r){if(t.isUnitSchema())return;let n=t.getSchema(),i=Object.keys(e).filter(s=>s!=="__type").length;for(let s=0;s<n[4].length&&i!==0;++s){let o=n[4][s],a=n[5][s],u=new Ke([a,0],o),c=o;r&&(c=u.getMergedTraits()[r]??o),c in e&&(yield[o,u],i-=1)}}var wb=te(()=>{pr()});function Bbe(t,e,r){if(r?.source){let n=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||n!==String(e)))return n.includes(".")?new en(n,"bigDecimal"):BigInt(n)}return e}var Hbe=te(()=>{Rs()});var zbe,Vbe,a1,T6=te(()=>{zbe=oe(jt()),Vbe=oe(Wn()),a1=(t,e)=>(0,zbe.collectBody)(t,e).then(r=>(e?.utf8Encoder??Vbe.toUtf8)(r))});var bb,Wbe,py,Eb=te(()=>{T6();bb=(t,e)=>a1(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Wbe=async(t,e)=>{let r=await bb(t,e);return r.message=r.message??r.Message,r},py=(t,e)=>{let r=(s,o)=>Object.keys(s).find(a=>a.toLowerCase()===o.toLowerCase()),n=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e&&typeof e=="object"){let s=r(e,"code");if(s&&e[s]!==void 0)return n(e[s]);if(e.__type!==void 0)return n(e.__type)}}});var Gbe,my,C6=te(()=>{As();pr();Rs();Gbe=oe(Gn());tf();wb();Hbe();Eb();my=class extends Fi{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,Bbe):await bb(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let n=r!==null&&typeof r=="object",i=Ke.of(e);if(n){if(i.isStructSchema()){let o={};for(let[a,u]of jbe(i,r,this.settings.jsonName?"jsonName":!1)){let c=this.settings.jsonName?u.getMergedTraits().jsonName??a:a,f=this._read(u,r[c]);f!=null&&(o[a]=f)}return o}if(Array.isArray(r)&&i.isListSchema()){let o=i.getValueSchema(),a=[],u=!!i.getMergedTraits().sparse;for(let c of r)(u||c!=null)&&a.push(this._read(o,c));return a}if(i.isMapSchema()){let o=i.getValueSchema(),a={},u=!!i.getMergedTraits().sparse;for(let[c,f]of Object.entries(r))(u||f!=null)&&(a[c]=this._read(o,f));return a}}if(i.isBlobSchema()&&typeof r=="string")return(0,Gbe.fromBase64)(r);let s=i.getMergedTraits().mediaType;if(i.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?as.from(r):r;if(i.isTimestampSchema()&&r!=null)switch(Hs(i,this.settings)){case 5:return GH(r);case 6:return KH(r);case 7:return XH(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(i.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(i.isBigDecimalSchema()&&r!=null){if(r instanceof en)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new en(o.string,o.type):new en(String(r),"bigDecimal")}if(i.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(i.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof en?o[a]=u:o[a]=this._read(i,u);return o}else return structuredClone(r);return r}}});var Kbe,u1,Xbe=te(()=>{Rs();Kbe="\u039D",u1=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof en){let n=`${Kbe+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),i=`${Kbe+"b"+this.counter++}_`+n;return this.values.set(`"${i}"`,n),i}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,n]of this.values)e=e.replace(r,n);return e}}});var x6,gy,R6=te(()=>{As();pr();Rs();x6=oe(Gn());tf();wb();Xbe();gy=class extends Fi{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=Ke.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=Ke.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new u1;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(e,r,n){let i=r!==null&&typeof r=="object",s=Ke.of(e);if(i){if(s.isStructSchema()){let o={};for(let[a,u]of hy(s,r)){let c=this._write(u,r[a],s);if(c!==void 0){let f=u.getMergedTraits().jsonName,d=this.settings.jsonName?f??a:a;o[d]=c}}return o}if(Array.isArray(r)&&s.isListSchema()){let o=s.getValueSchema(),a=[],u=!!s.getMergedTraits().sparse;for(let c of r)(u||c!=null)&&a.push(this._write(o,c));return a}if(s.isMapSchema()){let o=s.getValueSchema(),a={},u=!!s.getMergedTraits().sparse;for(let[c,f]of Object.entries(r))(u||f!=null)&&(a[c]=this._write(o,f));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??x6.toBase64)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Hs(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return ub(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof en&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,xo.v4)();let o=s.getMergedTraits().mediaType;return r!=null&&o&&(o==="application/json"||o.endsWith("+json"))?as.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??x6.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(i){let o=Array.isArray(r)?[]:{};for(let[a,u]of Object.entries(r))u instanceof en?(this.useReplacer=!0,o[a]=u):o[a]=this._write(s,u);return o}else return structuredClone(r);return r}}}});var rf,c1=te(()=>{tf();C6();R6();rf=class extends Fi{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new gy(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new my(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var nf,l1=te(()=>{As();pr();dy();c1();Eb();nf=class extends mc{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=i??new rf({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new Ao(this.awsQueryCompatible)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);return i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(i.headers["x-amzn-query-mode"]="true"),(ca(e.input)==="unit"||!i.body)&&(i.body="{}"),i}getPayloadCodec(){return this.codec}async handleError(e,r,n,i,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(i,n);let o=py(n,i)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,i,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),c=Ke.of(a),f=i.message??i.Message??"Unknown",d=bt.for(a[1]).getErrorCtor(a)??Error,h=new d(f),p={};for(let[m,g]of c.structIterator())i[m]!=null&&(p[m]=this.codec.createDeserializer().readObject(g,i[m]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(i,p),this.mixin.decorateServiceException(Object.assign(h,u,{$fault:c.getMergedTraits().error,message:f},p),i)}}});var f1,Jbe=te(()=>{l1();f1=class extends nf{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var d1,Zbe=te(()=>{l1();d1=class extends nf{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var sf,Ybe=te(()=>{As();pr();dy();c1();Eb();sf=class extends Dh{serializer;deserializer;codec;mixin=new Ao;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new rf(r),this.serializer=new Mh(this.codec.createSerializer(),r),this.deserializer=new Lh(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n),s=Ke.of(e.input);if(!i.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);o&&(i.headers["content-type"]=o)}return i.body==null&&i.headers["content-type"]===this.getDefaultContentType()&&(i.body="{}"),i}async deserializeResponse(e,r,n){let i=await super.deserializeResponse(e,r,n),s=Ke.of(e.output);for(let[o,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(o in i)&&(i[o]=null);return i}async handleError(e,r,n,i,s){let o=py(n,i)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,i,s),c=Ke.of(a),f=i.message??i.Message??"Unknown",d=bt.for(a[1]).getErrorCtor(a)??Error,h=new d(f);await this.deserializeHttpMessage(a,r,n,i);let p={};for(let[m,g]of c.structIterator()){let y=g.getMergedTraits().jsonName??m;p[m]=this.codec.createDeserializer().readObject(g,i[y])}throw this.mixin.decorateServiceException(Object.assign(h,u,{$fault:c.getMergedTraits().error,message:f},p),i)}getDefaultContentType(){return"application/json"}}});var Qbe,eEe,tEe=te(()=>{Qbe=oe(jt()),eEe=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,Qbe.expectUnion)(t)}});var nEe=v((EMr,rEe)=>{(()=>{"use strict";var t={d:(R,A)=>{for(var W in A)t.o(A,W)&&!t.o(R,W)&&Object.defineProperty(R,W,{enumerable:!0,get:A[W]})},o:(R,A)=>Object.prototype.hasOwnProperty.call(R,A),r:R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{XMLBuilder:()=>ce,XMLParser:()=>$e,XMLValidator:()=>yt});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function i(R,A){let W=[],Q=A.exec(R);for(;Q;){let Z=[];Z.startIndex=A.lastIndex-Q[0].length;let ne=Q.length;for(let ge=0;ge<ne;ge++)Z.push(Q[ge]);W.push(Z),Q=A.exec(R)}return W}let s=function(R){return n.exec(R)!=null},o={allowBooleanAttributes:!1,unpairedTags:[]};function a(R,A){A=Object.assign({},o,A);let W=[],Q=!1,Z=!1;R[0]==="\uFEFF"&&(R=R.substr(1));for(let ne=0;ne<R.length;ne++)if(R[ne]==="<"&&R[ne+1]==="?"){if(ne+=2,ne=c(R,ne),ne.err)return ne}else{if(R[ne]!=="<"){if(u(R[ne]))continue;return w("InvalidChar","char '"+R[ne]+"' is not expected.",E(R,ne))}{let ge=ne;if(ne++,R[ne]==="!"){ne=f(R,ne);continue}{let me=!1;R[ne]==="/"&&(me=!0,ne++);let Ce="";for(;ne<R.length&&R[ne]!==">"&&R[ne]!==" "&&R[ne]!=="	"&&R[ne]!==`
`&&R[ne]!=="\r";ne++)Ce+=R[ne];if(Ce=Ce.trim(),Ce[Ce.length-1]==="/"&&(Ce=Ce.substring(0,Ce.length-1),ne--),!s(Ce)){let Je;return Je=Ce.trim().length===0?"Invalid space after '<'.":"Tag '"+Ce+"' is an invalid name.",w("InvalidTag",Je,E(R,ne))}let Ie=p(R,ne);if(Ie===!1)return w("InvalidAttr","Attributes for '"+Ce+"' have open quote.",E(R,ne));let Xe=Ie.value;if(ne=Ie.index,Xe[Xe.length-1]==="/"){let Je=ne-Xe.length;Xe=Xe.substring(0,Xe.length-1);let wt=g(Xe,A);if(wt!==!0)return w(wt.err.code,wt.err.msg,E(R,Je+wt.err.line));Q=!0}else if(me){if(!Ie.tagClosed)return w("InvalidTag","Closing tag '"+Ce+"' doesn't have proper closing.",E(R,ne));if(Xe.trim().length>0)return w("InvalidTag","Closing tag '"+Ce+"' can't have attributes or invalid starting.",E(R,ge));if(W.length===0)return w("InvalidTag","Closing tag '"+Ce+"' has not been opened.",E(R,ge));{let Je=W.pop();if(Ce!==Je.tagName){let wt=E(R,Je.tagStartPos);return w("InvalidTag","Expected closing tag '"+Je.tagName+"' (opened in line "+wt.line+", col "+wt.col+") instead of closing tag '"+Ce+"'.",E(R,ge))}W.length==0&&(Z=!0)}}else{let Je=g(Xe,A);if(Je!==!0)return w(Je.err.code,Je.err.msg,E(R,ne-Xe.length+Je.err.line));if(Z===!0)return w("InvalidXml","Multiple possible root nodes found.",E(R,ne));A.unpairedTags.indexOf(Ce)!==-1||W.push({tagName:Ce,tagStartPos:ge}),Q=!0}for(ne++;ne<R.length;ne++)if(R[ne]==="<"){if(R[ne+1]==="!"){ne++,ne=f(R,ne);continue}if(R[ne+1]!=="?")break;if(ne=c(R,++ne),ne.err)return ne}else if(R[ne]==="&"){let Je=y(R,ne);if(Je==-1)return w("InvalidChar","char '&' is not expected.",E(R,ne));ne=Je}else if(Z===!0&&!u(R[ne]))return w("InvalidXml","Extra text at the end",E(R,ne));R[ne]==="<"&&ne--}}}return Q?W.length==1?w("InvalidTag","Unclosed tag '"+W[0].tagName+"'.",E(R,W[0].tagStartPos)):!(W.length>0)||w("InvalidXml","Invalid '"+JSON.stringify(W.map((ne=>ne.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):w("InvalidXml","Start tag expected.",1)}function u(R){return R===" "||R==="	"||R===`
`||R==="\r"}function c(R,A){let W=A;for(;A<R.length;A++)if(!(R[A]!="?"&&R[A]!=" ")){let Q=R.substr(W,A-W);if(A>5&&Q==="xml")return w("InvalidXml","XML declaration allowed only at the start of the document.",E(R,A));if(R[A]=="?"&&R[A+1]==">"){A++;break}}return A}function f(R,A){if(R.length>A+5&&R[A+1]==="-"&&R[A+2]==="-"){for(A+=3;A<R.length;A++)if(R[A]==="-"&&R[A+1]==="-"&&R[A+2]===">"){A+=2;break}}else if(R.length>A+8&&R[A+1]==="D"&&R[A+2]==="O"&&R[A+3]==="C"&&R[A+4]==="T"&&R[A+5]==="Y"&&R[A+6]==="P"&&R[A+7]==="E"){let W=1;for(A+=8;A<R.length;A++)if(R[A]==="<")W++;else if(R[A]===">"&&(W--,W===0))break}else if(R.length>A+9&&R[A+1]==="["&&R[A+2]==="C"&&R[A+3]==="D"&&R[A+4]==="A"&&R[A+5]==="T"&&R[A+6]==="A"&&R[A+7]==="["){for(A+=8;A<R.length;A++)if(R[A]==="]"&&R[A+1]==="]"&&R[A+2]===">"){A+=2;break}}return A}let d='"',h="'";function p(R,A){let W="",Q="",Z=!1;for(;A<R.length;A++){if(R[A]===d||R[A]===h)Q===""?Q=R[A]:Q!==R[A]||(Q="");else if(R[A]===">"&&Q===""){Z=!0;break}W+=R[A]}return Q===""&&{value:W,index:A,tagClosed:Z}}let m=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function g(R,A){let W=i(R,m),Q={};for(let Z=0;Z<W.length;Z++){if(W[Z][1].length===0)return w("InvalidAttr","Attribute '"+W[Z][2]+"' has no space in starting.",b(W[Z]));if(W[Z][3]!==void 0&&W[Z][4]===void 0)return w("InvalidAttr","Attribute '"+W[Z][2]+"' is without value.",b(W[Z]));if(W[Z][3]===void 0&&!A.allowBooleanAttributes)return w("InvalidAttr","boolean attribute '"+W[Z][2]+"' is not allowed.",b(W[Z]));let ne=W[Z][2];if(!S(ne))return w("InvalidAttr","Attribute '"+ne+"' is an invalid name.",b(W[Z]));if(Q.hasOwnProperty(ne))return w("InvalidAttr","Attribute '"+ne+"' is repeated.",b(W[Z]));Q[ne]=1}return!0}function y(R,A){if(R[++A]===";")return-1;if(R[A]==="#")return(function(Q,Z){let ne=/\d/;for(Q[Z]==="x"&&(Z++,ne=/[\da-fA-F]/);Z<Q.length;Z++){if(Q[Z]===";")return Z;if(!Q[Z].match(ne))break}return-1})(R,++A);let W=0;for(;A<R.length;A++,W++)if(!(R[A].match(/\w/)&&W<20)){if(R[A]===";")break;return-1}return A}function w(R,A,W){return{err:{code:R,msg:A,line:W.line||W,col:W.col}}}function S(R){return s(R)}function E(R,A){let W=R.substring(0,A).split(/\r?\n/);return{line:W.length,col:W[W.length-1].length+1}}function b(R){return R.startIndex+R[1].length}let O={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(R,A){return A},attributeValueProcessor:function(R,A){return A},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(R,A,W){return R},captureMetaData:!1},M;M=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class x{constructor(A){this.tagname=A,this.child=[],this[":@"]={}}add(A,W){A==="__proto__"&&(A="#__proto__"),this.child.push({[A]:W})}addChild(A,W){A.tagname==="__proto__"&&(A.tagname="#__proto__"),A[":@"]&&Object.keys(A[":@"]).length>0?this.child.push({[A.tagname]:A.child,":@":A[":@"]}):this.child.push({[A.tagname]:A.child}),W!==void 0&&(this.child[this.child.length-1][M]={startIndex:W})}static getMetaDataSymbol(){return M}}function I(R,A){let W={};if(R[A+3]!=="O"||R[A+4]!=="C"||R[A+5]!=="T"||R[A+6]!=="Y"||R[A+7]!=="P"||R[A+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{A+=9;let Q=1,Z=!1,ne=!1,ge="";for(;A<R.length;A++)if(R[A]!=="<"||ne)if(R[A]===">"){if(ne?R[A-1]==="-"&&R[A-2]==="-"&&(ne=!1,Q--):Q--,Q===0)break}else R[A]==="["?Z=!0:ge+=R[A];else{if(Z&&z(R,"!ENTITY",A)){let me,Ce;A+=7,[me,Ce,A]=F(R,A+1),Ce.indexOf("&")===-1&&(W[me]={regx:RegExp(`&${me};`,"g"),val:Ce})}else if(Z&&z(R,"!ELEMENT",A)){A+=8;let{index:me}=L(R,A+1);A=me}else if(Z&&z(R,"!ATTLIST",A))A+=8;else if(Z&&z(R,"!NOTATION",A)){A+=9;let{index:me}=$(R,A+1);A=me}else{if(!z(R,"!--",A))throw new Error("Invalid DOCTYPE");ne=!0}Q++,ge=""}if(Q!==0)throw new Error("Unclosed DOCTYPE")}return{entities:W,i:A}}let P=(R,A)=>{for(;A<R.length&&/\s/.test(R[A]);)A++;return A};function F(R,A){A=P(R,A);let W="";for(;A<R.length&&!/\s/.test(R[A])&&R[A]!=='"'&&R[A]!=="'";)W+=R[A],A++;if(ee(W),A=P(R,A),R.substring(A,A+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(R[A]==="%")throw new Error("Parameter entities are not supported");let Q="";return[A,Q]=D(R,A,"entity"),[W,Q,--A]}function $(R,A){A=P(R,A);let W="";for(;A<R.length&&!/\s/.test(R[A]);)W+=R[A],A++;ee(W),A=P(R,A);let Q=R.substring(A,A+6).toUpperCase();if(Q!=="SYSTEM"&&Q!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${Q}"`);A+=Q.length,A=P(R,A);let Z=null,ne=null;if(Q==="PUBLIC")[A,Z]=D(R,A,"publicIdentifier"),R[A=P(R,A)]!=='"'&&R[A]!=="'"||([A,ne]=D(R,A,"systemIdentifier"));else if(Q==="SYSTEM"&&([A,ne]=D(R,A,"systemIdentifier"),!ne))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:W,publicIdentifier:Z,systemIdentifier:ne,index:--A}}function D(R,A,W){let Q="",Z=R[A];if(Z!=='"'&&Z!=="'")throw new Error(`Expected quoted string, found "${Z}"`);for(A++;A<R.length&&R[A]!==Z;)Q+=R[A],A++;if(R[A]!==Z)throw new Error(`Unterminated ${W} value`);return[++A,Q]}function L(R,A){A=P(R,A);let W="";for(;A<R.length&&!/\s/.test(R[A]);)W+=R[A],A++;if(!ee(W))throw new Error(`Invalid element name: "${W}"`);let Q="";if(R[A=P(R,A)]==="E"&&z(R,"MPTY",A))A+=4;else if(R[A]==="A"&&z(R,"NY",A))A+=2;else{if(R[A]!=="(")throw new Error(`Invalid Element Expression, found "${R[A]}"`);for(A++;A<R.length&&R[A]!==")";)Q+=R[A],A++;if(R[A]!==")")throw new Error("Unterminated content model")}return{elementName:W,contentModel:Q.trim(),index:A}}function z(R,A,W){for(let Q=0;Q<A.length;Q++)if(A[Q]!==R[W+Q+1])return!1;return!0}function ee(R){if(s(R))return R;throw new Error(`Invalid entity name ${R}`)}let N=/^[-+]?0x[a-fA-F0-9]+$/,H=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,X={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},V=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function ue(R){return typeof R=="function"?R:Array.isArray(R)?A=>{for(let W of R)if(typeof W=="string"&&A===W||W instanceof RegExp&&W.test(A))return!0}:()=>!1}class _e{constructor(A){this.options=A,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(W,Q)=>String.fromCodePoint(Number.parseInt(Q,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(W,Q)=>String.fromCodePoint(Number.parseInt(Q,16))}},this.addExternalEntities=xe,this.parseXml=Ue,this.parseTextData=De,this.resolveNameSpace=ut,this.buildAttributesMap=Tt,this.isItStopNode=st,this.replaceEntitiesValue=kt,this.readStopNodeData=Ne,this.saveTextToParentTag=dt,this.addChild=We,this.ignoreAttributesFn=ue(this.options.ignoreAttributes)}}function xe(R){let A=Object.keys(R);for(let W=0;W<A.length;W++){let Q=A[W];this.lastEntities[Q]={regex:new RegExp("&"+Q+";","g"),val:R[Q]}}}function De(R,A,W,Q,Z,ne,ge){if(R!==void 0&&(this.options.trimValues&&!Q&&(R=R.trim()),R.length>0)){ge||(R=this.replaceEntitiesValue(R));let me=this.options.tagValueProcessor(A,R,W,Z,ne);return me==null?R:typeof me!=typeof R||me!==R?me:this.options.trimValues||R.trim()===R?je(R,this.options.parseTagValue,this.options.numberParseOptions):R}}function ut(R){if(this.options.removeNSPrefix){let A=R.split(":"),W=R.charAt(0)==="/"?"/":"";if(A[0]==="xmlns")return"";A.length===2&&(R=W+A[1])}return R}let Me=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Tt(R,A,W){if(this.options.ignoreAttributes!==!0&&typeof R=="string"){let Q=i(R,Me),Z=Q.length,ne={};for(let ge=0;ge<Z;ge++){let me=this.resolveNameSpace(Q[ge][1]);if(this.ignoreAttributesFn(me,A))continue;let Ce=Q[ge][4],Ie=this.options.attributeNamePrefix+me;if(me.length)if(this.options.transformAttributeName&&(Ie=this.options.transformAttributeName(Ie)),Ie==="__proto__"&&(Ie="#__proto__"),Ce!==void 0){this.options.trimValues&&(Ce=Ce.trim()),Ce=this.replaceEntitiesValue(Ce);let Xe=this.options.attributeValueProcessor(me,Ce,A);ne[Ie]=Xe==null?Ce:typeof Xe!=typeof Ce||Xe!==Ce?Xe:je(Ce,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(ne[Ie]=!0)}if(!Object.keys(ne).length)return;if(this.options.attributesGroupName){let ge={};return ge[this.options.attributesGroupName]=ne,ge}return ne}}let Ue=function(R){R=R.replace(/\r\n?/g,`
`);let A=new x("!xml"),W=A,Q="",Z="";for(let ne=0;ne<R.length;ne++)if(R[ne]==="<")if(R[ne+1]==="/"){let ge=se(R,">",ne,"Closing Tag is not closed."),me=R.substring(ne+2,ge).trim();if(this.options.removeNSPrefix){let Xe=me.indexOf(":");Xe!==-1&&(me=me.substr(Xe+1))}this.options.transformTagName&&(me=this.options.transformTagName(me)),W&&(Q=this.saveTextToParentTag(Q,W,Z));let Ce=Z.substring(Z.lastIndexOf(".")+1);if(me&&this.options.unpairedTags.indexOf(me)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${me}>`);let Ie=0;Ce&&this.options.unpairedTags.indexOf(Ce)!==-1?(Ie=Z.lastIndexOf(".",Z.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Ie=Z.lastIndexOf("."),Z=Z.substring(0,Ie),W=this.tagsNodeStack.pop(),Q="",ne=ge}else if(R[ne+1]==="?"){let ge=Se(R,ne,!1,"?>");if(!ge)throw new Error("Pi Tag is not closed.");if(Q=this.saveTextToParentTag(Q,W,Z),!(this.options.ignoreDeclaration&&ge.tagName==="?xml"||this.options.ignorePiTags)){let me=new x(ge.tagName);me.add(this.options.textNodeName,""),ge.tagName!==ge.tagExp&&ge.attrExpPresent&&(me[":@"]=this.buildAttributesMap(ge.tagExp,Z,ge.tagName)),this.addChild(W,me,Z,ne)}ne=ge.closeIndex+1}else if(R.substr(ne+1,3)==="!--"){let ge=se(R,"-->",ne+4,"Comment is not closed.");if(this.options.commentPropName){let me=R.substring(ne+4,ge-2);Q=this.saveTextToParentTag(Q,W,Z),W.add(this.options.commentPropName,[{[this.options.textNodeName]:me}])}ne=ge}else if(R.substr(ne+1,2)==="!D"){let ge=I(R,ne);this.docTypeEntities=ge.entities,ne=ge.i}else if(R.substr(ne+1,2)==="!["){let ge=se(R,"]]>",ne,"CDATA is not closed.")-2,me=R.substring(ne+9,ge);Q=this.saveTextToParentTag(Q,W,Z);let Ce=this.parseTextData(me,W.tagname,Z,!0,!1,!0,!0);Ce==null&&(Ce=""),this.options.cdataPropName?W.add(this.options.cdataPropName,[{[this.options.textNodeName]:me}]):W.add(this.options.textNodeName,Ce),ne=ge+2}else{let ge=Se(R,ne,this.options.removeNSPrefix),me=ge.tagName,Ce=ge.rawTagName,Ie=ge.tagExp,Xe=ge.attrExpPresent,Je=ge.closeIndex;this.options.transformTagName&&(me=this.options.transformTagName(me)),W&&Q&&W.tagname!=="!xml"&&(Q=this.saveTextToParentTag(Q,W,Z,!1));let wt=W;wt&&this.options.unpairedTags.indexOf(wt.tagname)!==-1&&(W=this.tagsNodeStack.pop(),Z=Z.substring(0,Z.lastIndexOf("."))),me!==A.tagname&&(Z+=Z?"."+me:me);let Mt=ne;if(this.isItStopNode(this.options.stopNodes,Z,me)){let Ft="";if(Ie.length>0&&Ie.lastIndexOf("/")===Ie.length-1)me[me.length-1]==="/"?(me=me.substr(0,me.length-1),Z=Z.substr(0,Z.length-1),Ie=me):Ie=Ie.substr(0,Ie.length-1),ne=ge.closeIndex;else if(this.options.unpairedTags.indexOf(me)!==-1)ne=ge.closeIndex;else{let Yi=this.readStopNodeData(R,Ce,Je+1);if(!Yi)throw new Error(`Unexpected end of ${Ce}`);ne=Yi.i,Ft=Yi.tagContent}let Er=new x(me);me!==Ie&&Xe&&(Er[":@"]=this.buildAttributesMap(Ie,Z,me)),Ft&&(Ft=this.parseTextData(Ft,me,Z,!0,Xe,!0,!0)),Z=Z.substr(0,Z.lastIndexOf(".")),Er.add(this.options.textNodeName,Ft),this.addChild(W,Er,Z,Mt)}else{if(Ie.length>0&&Ie.lastIndexOf("/")===Ie.length-1){me[me.length-1]==="/"?(me=me.substr(0,me.length-1),Z=Z.substr(0,Z.length-1),Ie=me):Ie=Ie.substr(0,Ie.length-1),this.options.transformTagName&&(me=this.options.transformTagName(me));let Ft=new x(me);me!==Ie&&Xe&&(Ft[":@"]=this.buildAttributesMap(Ie,Z,me)),this.addChild(W,Ft,Z,Mt),Z=Z.substr(0,Z.lastIndexOf("."))}else{let Ft=new x(me);this.tagsNodeStack.push(W),me!==Ie&&Xe&&(Ft[":@"]=this.buildAttributesMap(Ie,Z,me)),this.addChild(W,Ft,Z,Mt),W=Ft}Q="",ne=Je}}else Q+=R[ne];return A.child};function We(R,A,W,Q){this.options.captureMetaData||(Q=void 0);let Z=this.options.updateTag(A.tagname,W,A[":@"]);Z===!1||(typeof Z=="string"&&(A.tagname=Z),R.addChild(A,Q))}let kt=function(R){if(this.options.processEntities){for(let A in this.docTypeEntities){let W=this.docTypeEntities[A];R=R.replace(W.regx,W.val)}for(let A in this.lastEntities){let W=this.lastEntities[A];R=R.replace(W.regex,W.val)}if(this.options.htmlEntities)for(let A in this.htmlEntities){let W=this.htmlEntities[A];R=R.replace(W.regex,W.val)}R=R.replace(this.ampEntity.regex,this.ampEntity.val)}return R};function dt(R,A,W,Q){return R&&(Q===void 0&&(Q=A.child.length===0),(R=this.parseTextData(R,A.tagname,W,!1,!!A[":@"]&&Object.keys(A[":@"]).length!==0,Q))!==void 0&&R!==""&&A.add(this.options.textNodeName,R),R=""),R}function st(R,A,W){let Q="*."+W;for(let Z in R){let ne=R[Z];if(Q===ne||A===ne)return!0}return!1}function se(R,A,W,Q){let Z=R.indexOf(A,W);if(Z===-1)throw new Error(Q);return Z+A.length-1}function Se(R,A,W,Q=">"){let Z=(function(Je,wt,Mt=">"){let Ft,Er="";for(let Yi=wt;Yi<Je.length;Yi++){let Fa=Je[Yi];if(Ft)Fa===Ft&&(Ft="");else if(Fa==='"'||Fa==="'")Ft=Fa;else if(Fa===Mt[0]){if(!Mt[1])return{data:Er,index:Yi};if(Je[Yi+1]===Mt[1])return{data:Er,index:Yi}}else Fa==="	"&&(Fa=" ");Er+=Fa}})(R,A+1,Q);if(!Z)return;let ne=Z.data,ge=Z.index,me=ne.search(/\s/),Ce=ne,Ie=!0;me!==-1&&(Ce=ne.substring(0,me),ne=ne.substring(me+1).trimStart());let Xe=Ce;if(W){let Je=Ce.indexOf(":");Je!==-1&&(Ce=Ce.substr(Je+1),Ie=Ce!==Z.data.substr(Je+1))}return{tagName:Ce,tagExp:ne,closeIndex:ge,attrExpPresent:Ie,rawTagName:Xe}}function Ne(R,A,W){let Q=W,Z=1;for(;W<R.length;W++)if(R[W]==="<")if(R[W+1]==="/"){let ne=se(R,">",W,`${A} is not closed`);if(R.substring(W+2,ne).trim()===A&&(Z--,Z===0))return{tagContent:R.substring(Q,W),i:ne};W=ne}else if(R[W+1]==="?")W=se(R,"?>",W+1,"StopNode is not closed.");else if(R.substr(W+1,3)==="!--")W=se(R,"-->",W+3,"StopNode is not closed.");else if(R.substr(W+1,2)==="![")W=se(R,"]]>",W,"StopNode is not closed.")-2;else{let ne=Se(R,W,">");ne&&((ne&&ne.tagName)===A&&ne.tagExp[ne.tagExp.length-1]!=="/"&&Z++,W=ne.closeIndex)}}function je(R,A,W){if(A&&typeof R=="string"){let Q=R.trim();return Q==="true"||Q!=="false"&&(function(Z,ne={}){if(ne=Object.assign({},X,ne),!Z||typeof Z!="string")return Z;let ge=Z.trim();if(ne.skipLike!==void 0&&ne.skipLike.test(ge))return Z;if(Z==="0")return 0;if(ne.hex&&N.test(ge))return(function(Ce){if(parseInt)return parseInt(Ce,16);if(Number.parseInt)return Number.parseInt(Ce,16);if(window&&window.parseInt)return window.parseInt(Ce,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(ge);if(ge.search(/.+[eE].+/)!==-1)return(function(Ce,Ie,Xe){if(!Xe.eNotation)return Ce;let Je=Ie.match(V);if(Je){let wt=Je[1]||"",Mt=Je[3].indexOf("e")===-1?"E":"e",Ft=Je[2],Er=wt?Ce[Ft.length+1]===Mt:Ce[Ft.length]===Mt;return Ft.length>1&&Er?Ce:Ft.length!==1||!Je[3].startsWith(`.${Mt}`)&&Je[3][0]!==Mt?Xe.leadingZeros&&!Er?(Ie=(Je[1]||"")+Je[3],Number(Ie)):Ce:Number(Ie)}return Ce})(Z,ge,ne);{let Ce=H.exec(ge);if(Ce){let Ie=Ce[1]||"",Xe=Ce[2],Je=((me=Ce[3])&&me.indexOf(".")!==-1&&((me=me.replace(/0+$/,""))==="."?me="0":me[0]==="."?me="0"+me:me[me.length-1]==="."&&(me=me.substring(0,me.length-1))),me),wt=Ie?Z[Xe.length+1]===".":Z[Xe.length]===".";if(!ne.leadingZeros&&(Xe.length>1||Xe.length===1&&!wt))return Z;{let Mt=Number(ge),Ft=String(Mt);if(Mt===0||Mt===-0)return Mt;if(Ft.search(/[eE]/)!==-1)return ne.eNotation?Mt:Z;if(ge.indexOf(".")!==-1)return Ft==="0"||Ft===Je||Ft===`${Ie}${Je}`?Mt:Z;let Er=Xe?Je:ge;return Xe?Er===Ft||Ie+Er===Ft?Mt:Z:Er===Ft||Er===Ie+Ft?Mt:Z}}return Z}var me})(R,W)}return R!==void 0?R:""}let ht=x.getMetaDataSymbol();function Ve(R,A){return xt(R,A)}function xt(R,A,W){let Q,Z={};for(let ne=0;ne<R.length;ne++){let ge=R[ne],me=jn(ge),Ce="";if(Ce=W===void 0?me:W+"."+me,me===A.textNodeName)Q===void 0?Q=ge[me]:Q+=""+ge[me];else{if(me===void 0)continue;if(ge[me]){let Ie=xt(ge[me],A,Ce),Xe=vn(Ie,A);ge[ht]!==void 0&&(Ie[ht]=ge[ht]),ge[":@"]?zt(Ie,ge[":@"],Ce,A):Object.keys(Ie).length!==1||Ie[A.textNodeName]===void 0||A.alwaysCreateTextNode?Object.keys(Ie).length===0&&(A.alwaysCreateTextNode?Ie[A.textNodeName]="":Ie=""):Ie=Ie[A.textNodeName],Z[me]!==void 0&&Z.hasOwnProperty(me)?(Array.isArray(Z[me])||(Z[me]=[Z[me]]),Z[me].push(Ie)):A.isArray(me,Ce,Xe)?Z[me]=[Ie]:Z[me]=Ie}}}return typeof Q=="string"?Q.length>0&&(Z[A.textNodeName]=Q):Q!==void 0&&(Z[A.textNodeName]=Q),Z}function jn(R){let A=Object.keys(R);for(let W=0;W<A.length;W++){let Q=A[W];if(Q!==":@")return Q}}function zt(R,A,W,Q){if(A){let Z=Object.keys(A),ne=Z.length;for(let ge=0;ge<ne;ge++){let me=Z[ge];Q.isArray(me,W+"."+me,!0,!0)?R[me]=[A[me]]:R[me]=A[me]}}}function vn(R,A){let{textNodeName:W}=A,Q=Object.keys(R).length;return Q===0||!(Q!==1||!R[W]&&typeof R[W]!="boolean"&&R[W]!==0)}class $e{constructor(A){this.externalEntities={},this.options=(function(W){return Object.assign({},O,W)})(A)}parse(A,W){if(typeof A!="string"){if(!A.toString)throw new Error("XML data is accepted in String or Bytes[] form.");A=A.toString()}if(W){W===!0&&(W={});let ne=a(A,W);if(ne!==!0)throw Error(`${ne.err.msg}:${ne.err.line}:${ne.err.col}`)}let Q=new _e(this.options);Q.addExternalEntities(this.externalEntities);let Z=Q.parseXml(A);return this.options.preserveOrder||Z===void 0?Z:Ve(Z,this.options)}addEntity(A,W){if(W.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(A.indexOf("&")!==-1||A.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(W==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[A]=W}static getMetaDataSymbol(){return x.getMetaDataSymbol()}}function re(R,A){let W="";return A.format&&A.indentBy.length>0&&(W=`
`),C(R,A,"",W)}function C(R,A,W,Q){let Z="",ne=!1;for(let ge=0;ge<R.length;ge++){let me=R[ge],Ce=k(me);if(Ce===void 0)continue;let Ie="";if(Ie=W.length===0?Ce:`${W}.${Ce}`,Ce===A.textNodeName){let Mt=me[Ce];K(Ie,A)||(Mt=A.tagValueProcessor(Ce,Mt),Mt=le(Mt,A)),ne&&(Z+=Q),Z+=Mt,ne=!1;continue}if(Ce===A.cdataPropName){ne&&(Z+=Q),Z+=`<![CDATA[${me[Ce][0][A.textNodeName]}]]>`,ne=!1;continue}if(Ce===A.commentPropName){Z+=Q+`<!--${me[Ce][0][A.textNodeName]}-->`,ne=!0;continue}if(Ce[0]==="?"){let Mt=U(me[":@"],A),Ft=Ce==="?xml"?"":Q,Er=me[Ce][0][A.textNodeName];Er=Er.length!==0?" "+Er:"",Z+=Ft+`<${Ce}${Er}${Mt}?>`,ne=!0;continue}let Xe=Q;Xe!==""&&(Xe+=A.indentBy);let Je=Q+`<${Ce}${U(me[":@"],A)}`,wt=C(me[Ce],A,Ie,Xe);A.unpairedTags.indexOf(Ce)!==-1?A.suppressUnpairedNode?Z+=Je+">":Z+=Je+"/>":wt&&wt.length!==0||!A.suppressEmptyNode?wt&&wt.endsWith(">")?Z+=Je+`>${wt}${Q}</${Ce}>`:(Z+=Je+">",wt&&Q!==""&&(wt.includes("/>")||wt.includes("</"))?Z+=Q+A.indentBy+wt+Q:Z+=wt,Z+=`</${Ce}>`):Z+=Je+"/>",ne=!0}return Z}function k(R){let A=Object.keys(R);for(let W=0;W<A.length;W++){let Q=A[W];if(R.hasOwnProperty(Q)&&Q!==":@")return Q}}function U(R,A){let W="";if(R&&!A.ignoreAttributes)for(let Q in R){if(!R.hasOwnProperty(Q))continue;let Z=A.attributeValueProcessor(Q,R[Q]);Z=le(Z,A),Z===!0&&A.suppressBooleanAttributes?W+=` ${Q.substr(A.attributeNamePrefix.length)}`:W+=` ${Q.substr(A.attributeNamePrefix.length)}="${Z}"`}return W}function K(R,A){let W=(R=R.substr(0,R.length-A.textNodeName.length-1)).substr(R.lastIndexOf(".")+1);for(let Q in A.stopNodes)if(A.stopNodes[Q]===R||A.stopNodes[Q]==="*."+W)return!0;return!1}function le(R,A){if(R&&R.length>0&&A.processEntities)for(let W=0;W<A.entities.length;W++){let Q=A.entities[W];R=R.replace(Q.regex,Q.val)}return R}let Y={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(R,A){return A},attributeValueProcessor:function(R,A){return A},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ce(R){this.options=Object.assign({},Y,R),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=ue(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=qe),this.processTextOrObjNode=he,this.options.format?(this.indentate=de,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function he(R,A,W,Q){let Z=this.j2x(R,W+1,Q.concat(A));return R[this.options.textNodeName]!==void 0&&Object.keys(R).length===1?this.buildTextValNode(R[this.options.textNodeName],A,Z.attrStr,W):this.buildObjectNode(Z.val,A,Z.attrStr,W)}function de(R){return this.options.indentBy.repeat(R)}function qe(R){return!(!R.startsWith(this.options.attributeNamePrefix)||R===this.options.textNodeName)&&R.substr(this.attrPrefixLen)}ce.prototype.build=function(R){return this.options.preserveOrder?re(R,this.options):(Array.isArray(R)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(R={[this.options.arrayNodeName]:R}),this.j2x(R,0,[]).val)},ce.prototype.j2x=function(R,A,W){let Q="",Z="",ne=W.join(".");for(let ge in R)if(Object.prototype.hasOwnProperty.call(R,ge))if(R[ge]===void 0)this.isAttribute(ge)&&(Z+="");else if(R[ge]===null)this.isAttribute(ge)||ge===this.options.cdataPropName?Z+="":ge[0]==="?"?Z+=this.indentate(A)+"<"+ge+"?"+this.tagEndChar:Z+=this.indentate(A)+"<"+ge+"/"+this.tagEndChar;else if(R[ge]instanceof Date)Z+=this.buildTextValNode(R[ge],ge,"",A);else if(typeof R[ge]!="object"){let me=this.isAttribute(ge);if(me&&!this.ignoreAttributesFn(me,ne))Q+=this.buildAttrPairStr(me,""+R[ge]);else if(!me)if(ge===this.options.textNodeName){let Ce=this.options.tagValueProcessor(ge,""+R[ge]);Z+=this.replaceEntitiesValue(Ce)}else Z+=this.buildTextValNode(R[ge],ge,"",A)}else if(Array.isArray(R[ge])){let me=R[ge].length,Ce="",Ie="";for(let Xe=0;Xe<me;Xe++){let Je=R[ge][Xe];if(Je!==void 0)if(Je===null)ge[0]==="?"?Z+=this.indentate(A)+"<"+ge+"?"+this.tagEndChar:Z+=this.indentate(A)+"<"+ge+"/"+this.tagEndChar;else if(typeof Je=="object")if(this.options.oneListGroup){let wt=this.j2x(Je,A+1,W.concat(ge));Ce+=wt.val,this.options.attributesGroupName&&Je.hasOwnProperty(this.options.attributesGroupName)&&(Ie+=wt.attrStr)}else Ce+=this.processTextOrObjNode(Je,ge,A,W);else if(this.options.oneListGroup){let wt=this.options.tagValueProcessor(ge,Je);wt=this.replaceEntitiesValue(wt),Ce+=wt}else Ce+=this.buildTextValNode(Je,ge,"",A)}this.options.oneListGroup&&(Ce=this.buildObjectNode(Ce,ge,Ie,A)),Z+=Ce}else if(this.options.attributesGroupName&&ge===this.options.attributesGroupName){let me=Object.keys(R[ge]),Ce=me.length;for(let Ie=0;Ie<Ce;Ie++)Q+=this.buildAttrPairStr(me[Ie],""+R[ge][me[Ie]])}else Z+=this.processTextOrObjNode(R[ge],ge,A,W);return{attrStr:Q,val:Z}},ce.prototype.buildAttrPairStr=function(R,A){return A=this.options.attributeValueProcessor(R,""+A),A=this.replaceEntitiesValue(A),this.options.suppressBooleanAttributes&&A==="true"?" "+R:" "+R+'="'+A+'"'},ce.prototype.buildObjectNode=function(R,A,W,Q){if(R==="")return A[0]==="?"?this.indentate(Q)+"<"+A+W+"?"+this.tagEndChar:this.indentate(Q)+"<"+A+W+this.closeTag(A)+this.tagEndChar;{let Z="</"+A+this.tagEndChar,ne="";return A[0]==="?"&&(ne="?",Z=""),!W&&W!==""||R.indexOf("<")!==-1?this.options.commentPropName!==!1&&A===this.options.commentPropName&&ne.length===0?this.indentate(Q)+`<!--${R}-->`+this.newLine:this.indentate(Q)+"<"+A+W+ne+this.tagEndChar+R+this.indentate(Q)+Z:this.indentate(Q)+"<"+A+W+ne+">"+R+Z}},ce.prototype.closeTag=function(R){let A="";return this.options.unpairedTags.indexOf(R)!==-1?this.options.suppressUnpairedNode||(A="/"):A=this.options.suppressEmptyNode?"/":`></${R}`,A},ce.prototype.buildTextValNode=function(R,A,W,Q){if(this.options.cdataPropName!==!1&&A===this.options.cdataPropName)return this.indentate(Q)+`<![CDATA[${R}]]>`+this.newLine;if(this.options.commentPropName!==!1&&A===this.options.commentPropName)return this.indentate(Q)+`<!--${R}-->`+this.newLine;if(A[0]==="?")return this.indentate(Q)+"<"+A+W+"?"+this.tagEndChar;{let Z=this.options.tagValueProcessor(A,R);return Z=this.replaceEntitiesValue(Z),Z===""?this.indentate(Q)+"<"+A+W+this.closeTag(A)+this.tagEndChar:this.indentate(Q)+"<"+A+W+">"+Z+"</"+A+this.tagEndChar}},ce.prototype.replaceEntitiesValue=function(R){if(R&&R.length>0&&this.options.processEntities)for(let A=0;A<this.options.entities.length;A++){let W=this.options.entities[A];R=R.replace(W.regex,W.val)}return R};let yt={validate:a};rEe.exports=e})()});var iEe=v(P6=>{"use strict";Object.defineProperty(P6,"__esModule",{value:!0});P6.parseXML=Wxt;var Vxt=nEe(),A6=new Vxt.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});A6.addEntity("#xD","\r");A6.addEntity("#10",`
`);function Wxt(t){return A6.parse(t,!0)}});var m1=v(p1=>{"use strict";var Gxt=iEe();function Kxt(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Xxt(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var h1=class{value;constructor(e){this.value=e}toString(){return Xxt(""+this.value)}},I6=class t{name;children;attributes={};static of(e,r,n){let i=new t(e);return r!==void 0&&i.addChildNode(new h1(r)),n!==void 0&&i.withName(n),i}constructor(e,r=[]){this.name=e,this.children=r}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,n=r){if(e[r]!=null){let i=t.of(r,e[r]).withName(n);this.c(i)}}l(e,r,n,i){e[r]!=null&&i().map(o=>{o.withName(n),this.c(o)})}lc(e,r,n,i){if(e[r]!=null){let s=i(),o=new t(n);s.map(a=>{o.c(a)}),this.c(o)}}toString(){let e=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let i of Object.keys(n)){let s=n[i];s!=null&&(r+=` ${i}="${Kxt(""+s)}"`)}return r+=e?`>${this.children.map(i=>i.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(p1,"parseXML",{enumerable:!0,get:function(){return Gxt.parseXML}});p1.XmlNode=I6;p1.XmlText=h1});var sEe,oEe,aEe,of,g1=te(()=>{sEe=oe(m1());As();pr();oEe=oe(jt()),aEe=oe(Wn());tf();of=class extends Fi{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Fh(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,n){let i=Ke.of(e),s=i.getMemberSchemas();if(i.isStructSchema()&&i.isMemberSchema()&&!!Object.values(s).find(c=>!!c.getMemberTraits().eventPayload)){let c={},f=Object.keys(s)[0];return s[f].isBlobSchema()?c[f]=r:c[f]=this.read(s[f],r),c}let a=(this.serdeContext?.utf8Encoder??aEe.toUtf8)(r),u=this.parseXml(a);return this.readSchema(e,n?u[n]:u)}readSchema(e,r){let n=Ke.of(e);if(n.isUnitSchema())return;let i=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!i.sparse,o=!!i.xmlFlattened;if(n.isListSchema()){let u=n.getValueSchema(),c=[],f=u.getMergedTraits().xmlName??"member",d=o?r:(r[0]??r)[f],h=Array.isArray(d)?d:[d];for(let p of h)(p!=null||s)&&c.push(this.readSchema(u,p));return c}let a={};if(n.isMapSchema()){let u=n.getKeySchema(),c=n.getValueSchema(),f;o?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let d=u.getMergedTraits().xmlName??"key",h=c.getMergedTraits().xmlName??"value";for(let p of f){let m=p[d],g=p[h];(g!=null||s)&&(a[m]=this.readSchema(c,g))}return a}if(n.isStructSchema()){for(let[u,c]of n.structIterator()){let f=c.getMergedTraits(),d=f.httpPayload?f.xmlName??c.getName():c.getMemberTraits().xmlName??u;r[d]!=null&&(a[u]=this.readSchema(c,r[d]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(e){if(e.length){let r;try{r=(0,sEe.parseXML)(e)}catch(o){throw o&&typeof o=="object"&&Object.defineProperty(o,"$responseBodyText",{value:e}),o}let n="#text",i=Object.keys(r)[0],s=r[i];return s[n]&&(s[i]=s[n],delete s[n]),(0,oEe.getValueFromTextNode)(s)}return{}}}});var uEe,cEe,y1,lEe=te(()=>{As();pr();Rs();uEe=oe(jt()),cEe=oe(Gn());tf();wb();y1=class extends Fi{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,n=""){this.buffer===void 0&&(this.buffer="");let i=Ke.of(e);if(n&&!n.endsWith(".")&&(n+="."),i.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??cEe.toBase64)(r)));else if(i.isBooleanSchema()||i.isNumericSchema()||i.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):i.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,xo.v4)()));else if(i.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(i.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof en?r.string:String(r)));else if(i.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Hs(i,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,uEe.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(i.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${i.getName(!0)}`);if(i.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=i.getValueSchema(),o=this.settings.flattenLists||i.getMergedTraits().xmlFlattened,a=1;for(let u of r){if(u==null)continue;let c=this.getKey("member",s.getMergedTraits().xmlName),f=o?`${n}${a}`:`${n}${c}.${a}`;this.write(s,u,f),++a}}}else if(i.isMapSchema()){if(r&&typeof r=="object"){let s=i.getKeySchema(),o=i.getValueSchema(),a=i.getMergedTraits().xmlFlattened,u=1;for(let[c,f]of Object.entries(r)){if(f==null)continue;let d=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${u}.${d}`:`${n}entry.${u}.${d}`,p=this.getKey("value",o.getMergedTraits().xmlName),m=a?`${n}${u}.${p}`:`${n}entry.${u}.${p}`;this.write(s,c,h),this.write(o,f,m),++u}}}else if(i.isStructSchema()){if(r&&typeof r=="object")for(let[s,o]of hy(i,r)){if(r[s]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(s,o.getMergedTraits().xmlName),u=`${n}${a}`;this.write(o,r[s],u)}}else if(!i.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${i.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let n=r??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${lu(e)}=`}writeValue(e){this.buffer+=lu(e)}}});var af,O6=te(()=>{As();pr();dy();g1();lEe();af=class extends mc{options;serializer;deserializer;mixin=new Ao;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new y1(r),this.deserializer=new of(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":"application/x-www-form-urlencoded"}),(ca(e.input)==="unit"||!i.body)&&(i.body="");let s=e.name.split("#")[1]??e.name;return i.body=`Action=${s}&Version=${this.options.version}`+i.body,i.body.endsWith("&")&&(i.body=i.body.slice(-1)),i}async deserializeResponse(e,r,n){let i=this.deserializer,s=Ke.of(e.output),o={};if(n.statusCode>=300){let d=await Co(n.body,r);d.byteLength>0&&Object.assign(o,await i.read(15,d)),await this.handleError(e,r,n,o,this.deserializeMetadata(n))}for(let d in n.headers){let h=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=h}let a=e.name.split("#")[1]??e.name,u=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,c=await Co(n.body,r);return c.byteLength>0&&Object.assign(o,await i.read(s,c,u)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(e,r,n,i,s){let o=this.loadQueryErrorCode(n,i)??"Unknown",a=this.loadQueryError(i),u=this.loadQueryErrorMessage(i);a.message=u,a.Error={Type:a.Type,Code:a.Code,Message:u};let{errorSchema:c,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,s,this.mixin.findQueryCompatibleError),d=Ke.of(c),h=bt.for(c[1]).getErrorCtor(c)??Error,p=new h(u),m={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[g,y]of d.structIterator()){let w=y.getMergedTraits().xmlName??g,S=a[w]??i[w];m[g]=this.deserializer.readSchema(y,S)}throw this.mixin.decorateServiceException(Object.assign(p,f,{$fault:d.getMergedTraits().error,message:u},m),i)}loadQueryErrorCode(e,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var _1,fEe=te(()=>{O6();_1=class extends af{options;constructor(e){super(e),this.options=e;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var dEe,hEe,k6,pEe,v1,N6=te(()=>{dEe=oe(m1()),hEe=oe(jt());T6();k6=(t,e)=>a1(t,e).then(r=>{if(r.length){let n;try{n=(0,dEe.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let i="#text",s=Object.keys(n)[0],o=n[s];return o[i]&&(o[s]=o[i],delete o[i]),(0,hEe.getValueFromTextNode)(o)}return{}}),pEe=async(t,e)=>{let r=await k6(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},v1=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var Po,D6,w1,yy,F6=te(()=>{Po=oe(m1());As();pr();Rs();D6=oe(jt()),w1=oe(Gn());tf();wb();yy=class extends Fi{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,r){let n=Ke.of(e);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??w1.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let i=n.getMergedTraits();i.httpPayload&&!i.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,r,n){let i=e.getMergedTraits(),s=e.isMemberSchema()&&!i.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():i.xmlName??e.getName();if(!s||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);let o=Po.XmlNode.of(s),[a,u]=this.getXmlnsAttribute(e,n);for(let[c,f]of hy(e,r)){let d=r[c];if(d!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){o.addAttribute(f.getMergedTraits().xmlName??c,this.writeSimple(f,d));continue}if(f.isListSchema())this.writeList(f,d,o,u);else if(f.isMapSchema())this.writeMap(f,d,o,u);else if(f.isStructSchema())o.addChildNode(this.writeStruct(f,d,u));else{let h=Po.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,d,h,u),o.addChildNode(h)}}}return u&&o.addAttribute(a,u),o}writeList(e,r,n,i){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);let s=e.getMergedTraits(),o=e.getValueSchema(),a=o.getMergedTraits(),u=!!a.sparse,c=!!s.xmlFlattened,[f,d]=this.getXmlnsAttribute(e,i),h=(p,m)=>{if(o.isListSchema())this.writeList(o,Array.isArray(m)?m:[m],p,d);else if(o.isMapSchema())this.writeMap(o,m,p,d);else if(o.isStructSchema()){let g=this.writeStruct(o,m,d);p.addChildNode(g.withName(c?s.xmlName??e.getMemberName():a.xmlName??"member"))}else{let g=Po.XmlNode.of(c?s.xmlName??e.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,m,g,d),p.addChildNode(g)}};if(c)for(let p of r)(u||p!=null)&&h(n,p);else{let p=Po.XmlNode.of(s.xmlName??e.getMemberName());d&&p.addAttribute(f,d);for(let m of r)(u||m!=null)&&h(p,m);n.addChildNode(p)}}writeMap(e,r,n,i,s=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);let o=e.getMergedTraits(),a=e.getKeySchema(),c=a.getMergedTraits().xmlName??"key",f=e.getValueSchema(),d=f.getMergedTraits(),h=d.xmlName??"value",p=!!d.sparse,m=!!o.xmlFlattened,[g,y]=this.getXmlnsAttribute(e,i),w=(S,E,b)=>{let O=Po.XmlNode.of(c,E),[M,x]=this.getXmlnsAttribute(a,y);x&&O.addAttribute(M,x),S.addChildNode(O);let I=Po.XmlNode.of(h);f.isListSchema()?this.writeList(f,b,I,y):f.isMapSchema()?this.writeMap(f,b,I,y,!0):f.isStructSchema()?I=this.writeStruct(f,b,y):this.writeSimpleInto(f,b,I,y),S.addChildNode(I)};if(m){for(let[S,E]of Object.entries(r))if(p||E!=null){let b=Po.XmlNode.of(o.xmlName??e.getMemberName());w(b,S,E),n.addChildNode(b)}}else{let S;s||(S=Po.XmlNode.of(o.xmlName??e.getMemberName()),y&&S.addAttribute(g,y),n.addChildNode(S));for(let[E,b]of Object.entries(r))if(p||b!=null){let O=Po.XmlNode.of("entry");w(O,E,b),(s?n:S).addChildNode(O)}}}writeSimple(e,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=Ke.of(e),i=null;if(r&&typeof r=="object")if(n.isBlobSchema())i=(this.serdeContext?.base64Encoder??w1.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Hs(n,this.settings)){case 5:i=r.toISOString().replace(".000Z","Z");break;case 6:i=(0,D6.dateToUtcString)(r);break;case 7:i=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),i=(0,D6.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof en?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(i=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?i=(0,xo.v4)():i=String(r)),i===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return i}writeSimpleInto(e,r,n,i){let s=this.writeSimple(e,r),o=Ke.of(e),a=new Po.XmlText(s),[u,c]=this.getXmlnsAttribute(o,i);c&&n.addAttribute(u,c),n.addChildNode(a)}getXmlnsAttribute(e,r){let n=e.getMergedTraits(),[i,s]=n.xmlNamespace??[];return s&&s!==r?[i?`xmlns:${i}`:"xmlns",s]:[void 0,void 0]}}});var _y,L6=te(()=>{tf();g1();F6();_y=class extends Fi{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new yy(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new of(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var b1,mEe=te(()=>{As();pr();dy();N6();L6();b1=class extends Dh{codec;serializer;deserializer;mixin=new Ao;constructor(e){super(e);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new _y(r),this.serializer=new Mh(this.codec.createSerializer(),r),this.deserializer=new Lh(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n),s=Ke.of(e.input);if(!i.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);o&&(i.headers["content-type"]=o)}return typeof i.body=="string"&&i.headers["content-type"]===this.getDefaultContentType()&&!i.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(i.body='<?xml version="1.0" encoding="UTF-8"?>'+i.body),i}async deserializeResponse(e,r,n){return super.deserializeResponse(e,r,n)}async handleError(e,r,n,i,s){let o=v1(n,i)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,i,s),c=Ke.of(a),f=i.Error?.message??i.Error?.Message??i.message??i.Message??"Unknown",d=bt.for(a[1]).getErrorCtor(a)??Error,h=new d(f);await this.deserializeHttpMessage(a,r,n,i);let p={};for(let[m,g]of c.structIterator()){let y=g.getMergedTraits().xmlName??m,w=i.Error?.[y]??i[y];p[m]=this.codec.createDeserializer().readSchema(g,w)}throw this.mixin.decorateServiceException(Object.assign(h,u,{$fault:c.getMergedTraits().error,message:f},p),i)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(e){for(let[,r]of e.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var M6={};Qi(M6,{AwsEc2QueryProtocol:()=>_1,AwsJson1_0Protocol:()=>f1,AwsJson1_1Protocol:()=>d1,AwsJsonRpcProtocol:()=>nf,AwsQueryProtocol:()=>af,AwsRestJsonProtocol:()=>sf,AwsRestXmlProtocol:()=>b1,AwsSmithyRpcV2CborProtocol:()=>o1,JsonCodec:()=>rf,JsonShapeDeserializer:()=>my,JsonShapeSerializer:()=>gy,XmlCodec:()=>_y,XmlShapeDeserializer:()=>of,XmlShapeSerializer:()=>yy,_toBool:()=>qbe,_toNum:()=>$be,_toStr:()=>Mbe,awsExpectUnion:()=>eEe,loadRestJsonErrorCode:()=>py,loadRestXmlErrorCode:()=>v1,parseJsonBody:()=>bb,parseJsonErrorBody:()=>Wbe,parseXmlBody:()=>k6,parseXmlErrorBody:()=>pEe});var zh=te(()=>{Lbe();Ube();Jbe();Zbe();l1();Ybe();c1();C6();R6();tEe();Eb();fEe();O6();mEe();L6();g1();F6();N6()});var uf={};Qi(uf,{AWSSDKSigV4Signer:()=>Oz,AwsEc2QueryProtocol:()=>_1,AwsJson1_0Protocol:()=>f1,AwsJson1_1Protocol:()=>d1,AwsJsonRpcProtocol:()=>nf,AwsQueryProtocol:()=>af,AwsRestJsonProtocol:()=>sf,AwsRestXmlProtocol:()=>b1,AwsSdkSigV4ASigner:()=>mb,AwsSdkSigV4Signer:()=>Ni,AwsSmithyRpcV2CborProtocol:()=>o1,JsonCodec:()=>rf,JsonShapeDeserializer:()=>my,JsonShapeSerializer:()=>gy,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Kl,NODE_SIGV4A_CONFIG_OPTIONS:()=>Nwe,XmlCodec:()=>_y,XmlShapeDeserializer:()=>of,XmlShapeSerializer:()=>yy,_toBool:()=>qbe,_toNum:()=>$be,_toStr:()=>Mbe,awsExpectUnion:()=>eEe,emitWarningIfUnsupportedVersion:()=>Wl,getBearerTokenEnvKey:()=>BP,loadRestJsonErrorCode:()=>py,loadRestXmlErrorCode:()=>v1,parseJsonBody:()=>bb,parseJsonErrorBody:()=>Wbe,parseXmlBody:()=>k6,parseXmlErrorBody:()=>pEe,resolveAWSSDKSigV4Config:()=>sbe,resolveAwsSdkSigV4AConfig:()=>kwe,resolveAwsSdkSigV4Config:()=>vc,setCredentialFeature:()=>Gl,setFeature:()=>gwe,setTokenFeature:()=>_we,state:()=>jP,validateSigningProperties:()=>uy});var oi=te(()=>{Ro();Jz();zh()});var Vh=v(vy=>{"use strict";var Jxt=(Oi(),Wt(qh)),Zxt=Uh(),Yxt=xr(),pu=(oi(),Wt(uf)),vEe=void 0;function Qxt(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function eRt(t){let e=Jxt.normalizeProvider(t.userAgentAppId??vEe),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await e();if(!Qxt(n)){let i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?i?.warn("userAgentAppId must be a string or undefined."):n.length>50&&i?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var tRt=/\d{12}\.ddb/;async function rRt(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&pu.setFeature(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=await e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?pu.setFeature(t,"RETRY_MODE_ADAPTIVE","F"):pu.setFeature(t,"RETRY_MODE_STANDARD","E"):pu.setFeature(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match(tRt)&&pu.setFeature(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":pu.setFeature(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":pu.setFeature(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":pu.setFeature(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let s=i;s.accountId&&pu.setFeature(t,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(s.$source??{}))pu.setFeature(t,o,a)}}var gEe="user-agent",q6="x-amz-user-agent",yEe=" ",$6="/",nRt=/[^!$%&'*+\-.^_`|~\w]/g,iRt=/[^!$%&'*+\-.^_`|~\w#]/g,_Ee="-",sRt=1024;function oRt(t){let e="";for(let r in t){let n=t[r];if(e.length+n.length+1<=sRt){e.length?e+=","+n:e+=n;continue}break}return e}var wEe=t=>(e,r)=>async n=>{let{request:i}=n;if(!Yxt.HttpRequest.isInstance(i))return e(n);let{headers:s}=i,o=r?.userAgent?.map(E1)||[],a=(await t.defaultUserAgentProvider()).map(E1);await rRt(r,t,n);let u=r;a.push(`m/${oRt(Object.assign({},r.__smithy_context?.features,u.__aws_sdk_context?.features))}`);let c=t?.customUserAgent?.map(E1)||[],f=await t.userAgentAppId();f&&a.push(E1(["app",`${f}`]));let d=Zxt.getUserAgentPrefix(),h=(d?[d]:[]).concat([...a,...o,...c]).join(yEe),p=[...a.filter(m=>m.startsWith("aws-sdk-")),...c].join(yEe);return t.runtime!=="browser"?(p&&(s[q6]=s[q6]?`${s[gEe]} ${p}`:p),s[gEe]=h):s[q6]=h,e({...n,request:i})},E1=t=>{let e=t[0].split($6).map(o=>o.replace(nRt,_Ee)).join($6),r=t[1]?.replace(iRt,_Ee),n=e.indexOf($6),i=e.substring(0,n),s=e.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(o=>o&&o.length>0).reduce((o,a,u)=>{switch(u){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},bEe={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},aRt=t=>({applyToStack:e=>{e.add(wEe(t),bEe)}});vy.DEFAULT_UA_APP_ID=vEe;vy.getUserAgentMiddlewareOptions=bEe;vy.getUserAgentPlugin=aRt;vy.resolveUserAgentConfig=eRt;vy.userAgentMiddleware=wEe});var EEe=v(wy=>{"use strict";var uRt=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}},cRt=(t,e,r)=>{if(!(e in t))return;let n=parseInt(t[e],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${e}'. Expected number, got '${t[e]}'.`);return n};wy.SelectorType=void 0;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(wy.SelectorType||(wy.SelectorType={}));wy.booleanSelector=uRt;wy.numberSelector=cRt});var Ps=v(ai=>{"use strict";var cf=EEe(),S1=ss(),lRt=Vl(),CEe="AWS_USE_DUALSTACK_ENDPOINT",xEe="use_dualstack_endpoint",fRt=!1,dRt={environmentVariableSelector:t=>cf.booleanSelector(t,CEe,cf.SelectorType.ENV),configFileSelector:t=>cf.booleanSelector(t,xEe,cf.SelectorType.CONFIG),default:!1},REe="AWS_USE_FIPS_ENDPOINT",AEe="use_fips_endpoint",hRt=!1,pRt={environmentVariableSelector:t=>cf.booleanSelector(t,REe,cf.SelectorType.ENV),configFileSelector:t=>cf.booleanSelector(t,AEe,cf.SelectorType.CONFIG),default:!1},mRt=t=>{let{tls:e,endpoint:r,urlParser:n,useDualstackEndpoint:i}=t;return Object.assign(t,{tls:e??!0,endpoint:S1.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:S1.normalizeProvider(i??!1)})},gRt=async t=>{let{tls:e=!0}=t,r=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let i=await t.useDualstackEndpoint(),s=await t.useFipsEndpoint(),{hostname:o}=await t.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:s})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${e?"https:":"http:"}//${o}`)},yRt=t=>{let e=S1.normalizeProvider(t.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:i,tls:s}=t;return Object.assign(t,{tls:s??!0,endpoint:r?S1.normalizeProvider(typeof r=="string"?i(r):r):()=>gRt({...t,useDualstackEndpoint:e,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:e})},PEe="AWS_REGION",IEe="region",_Rt={environmentVariableSelector:t=>t[PEe],configFileSelector:t=>t[IEe],default:()=>{throw new Error("Region is missing")}},vRt={preferredFile:"credentials"},SEe=new Set,wRt=(t,e=lRt.isValidHostLabel)=>{if(!SEe.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else SEe.add(t)},OEe=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),bRt=t=>OEe(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,ERt=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let n=typeof e=="function"?await e():e,i=bRt(n);return wRt(i),i},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return OEe(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},TEe=(t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>t.find(({tags:n})=>e===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,SRt=(t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0),TRt=(t,{partitionHash:e})=>Object.keys(e||{}).find(r=>e[r].regions.includes(t))??"aws",CRt=(t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=t.match(i);if(s)return s[0].slice(1,-1)}},xRt=(t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:s})=>{let o=TRt(t,{partitionHash:s}),a=t in i?t:s[o]?.endpoint??t,u={useFipsEndpoint:e,useDualstackEndpoint:r},c=TEe(i[a]?.variants,u),f=TEe(s[o]?.variants,u),d=SRt(a,{regionHostname:c,partitionHostname:f});if(d===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let h=CRt(d,{signingRegion:i[a]?.signingRegion,regionRegex:s[o].regionRegex,useFipsEndpoint:e});return{partition:o,signingService:n,hostname:d,...h&&{signingRegion:h},...i[a]?.signingService&&{signingService:i[a].signingService}}};ai.CONFIG_USE_DUALSTACK_ENDPOINT=xEe;ai.CONFIG_USE_FIPS_ENDPOINT=AEe;ai.DEFAULT_USE_DUALSTACK_ENDPOINT=fRt;ai.DEFAULT_USE_FIPS_ENDPOINT=hRt;ai.ENV_USE_DUALSTACK_ENDPOINT=CEe;ai.ENV_USE_FIPS_ENDPOINT=REe;ai.NODE_REGION_CONFIG_FILE_OPTIONS=vRt;ai.NODE_REGION_CONFIG_OPTIONS=_Rt;ai.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=dRt;ai.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=pRt;ai.REGION_ENV_NAME=PEe;ai.REGION_INI_NAME=IEe;ai.getRegionInfo=xRt;ai.resolveCustomEndpointsConfig=mRt;ai.resolveEndpointsConfig=yRt;ai.resolveRegionConfig=ERt});var by=v(T1=>{"use strict";var RRt=xr(),kEe="content-length";function NEe(t){return e=>async r=>{let n=r.request;if(RRt.HttpRequest.isInstance(n)){let{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(kEe)===-1)try{let o=t(i);n.headers={...n.headers,[kEe]:String(o)}}catch{}}return e({...r,request:n})}}var DEe={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ARt=t=>({applyToStack:e=>{e.add(NEe(t.bodyLengthChecker),DEe)}});T1.contentLengthMiddleware=NEe;T1.contentLengthMiddlewareOptions=DEe;T1.getContentLengthPlugin=ARt});var j6=v(C1=>{"use strict";Object.defineProperty(C1,"__esModule",{value:!0});C1.getHomeDir=void 0;var PRt=require("os"),IRt=require("path"),U6={},ORt=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",kRt=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${IRt.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=ORt();return U6[i]||(U6[i]=(0,PRt.homedir)()),U6[i]};C1.getHomeDir=kRt});var B6=v(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.getSSOTokenFilepath=void 0;var NRt=require("crypto"),DRt=require("path"),FRt=j6(),LRt=t=>{let r=(0,NRt.createHash)("sha1").update(t).digest("hex");return(0,DRt.join)((0,FRt.getHomeDir)(),".aws","sso","cache",`${r}.json`)};x1.getSSOTokenFilepath=LRt});var FEe=v(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.getSSOTokenFromFile=lf.tokenIntercept=void 0;var MRt=require("fs/promises"),qRt=B6();lf.tokenIntercept={};var $Rt=async t=>{if(lf.tokenIntercept[t])return lf.tokenIntercept[t];let e=(0,qRt.getSSOTokenFilepath)(t),r=await(0,MRt.readFile)(e,"utf8");return JSON.parse(r)};lf.getSSOTokenFromFile=$Rt});var LEe=v(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.readFile=zs.fileIntercept=zs.filePromises=void 0;var URt=require("node:fs/promises");zs.filePromises={};zs.fileIntercept={};var jRt=(t,e)=>zs.fileIntercept[t]!==void 0?zs.fileIntercept[t]:((!zs.filePromises[t]||e?.ignoreCache)&&(zs.filePromises[t]=(0,URt.readFile)(t,"utf8")),zs.filePromises[t]);zs.readFile=jRt});var mu=v(cs=>{"use strict";var Sb=j6(),MEe=B6(),H6=FEe(),R1=require("path"),A1=ql(),Ey=LEe(),$Ee="AWS_PROFILE",UEe="default",BRt=t=>t.profile||process.env[$Ee]||UEe,Wh=".",HRt=t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(Wh);return r===-1?!1:Object.values(A1.IniSectionType).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let i=r.indexOf(Wh),s=r.substring(0,i)===A1.IniSectionType.PROFILE?r.substring(i+1):r;return e[s]=n,e},{...t.default&&{default:t.default}}),zRt="AWS_CONFIG_FILE",jEe=()=>process.env[zRt]||R1.join(Sb.getHomeDir(),".aws","config"),VRt="AWS_SHARED_CREDENTIALS_FILE",WRt=()=>process.env[VRt]||R1.join(Sb.getHomeDir(),".aws","credentials"),GRt=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,KRt=["__proto__","profile __proto__"],z6=t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let s=i.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),u=GRt.exec(a);if(u){let[,c,,f]=u;Object.values(A1.IniSectionType).includes(c)&&(r=[c,f].join(Wh))}else r=a;if(KRt.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[u,c]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(c==="")n=u;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let f=n?[n,u].join(Wh):u;e[r][f]=c}}}}return e},qEe=()=>({}),BEe=async(t={})=>{let{filepath:e=WRt(),configFilepath:r=jEe()}=t,n=Sb.getHomeDir(),i="~/",s=e;e.startsWith(i)&&(s=R1.join(n,e.slice(2)));let o=r;r.startsWith(i)&&(o=R1.join(n,r.slice(2)));let a=await Promise.all([Ey.readFile(o,{ignoreCache:t.ignoreCache}).then(z6).then(HRt).catch(qEe),Ey.readFile(s,{ignoreCache:t.ignoreCache}).then(z6).catch(qEe)]);return{configFile:a[0],credentialsFile:a[1]}},XRt=t=>Object.entries(t).filter(([e])=>e.startsWith(A1.IniSectionType.SSO_SESSION+Wh)).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(Wh)+1)]:n}),{}),JRt=()=>({}),ZRt=async(t={})=>Ey.readFile(t.configFilepath??jEe()).then(z6).then(XRt).catch(JRt),YRt=(...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e},QRt=async t=>{let e=await BEe(t);return YRt(e.configFile,e.credentialsFile)},eAt={getFileRecord(){return Ey.fileIntercept},interceptFile(t,e){Ey.fileIntercept[t]=Promise.resolve(e)},getTokenRecord(){return H6.tokenIntercept},interceptToken(t,e){H6.tokenIntercept[t]=e}};Object.defineProperty(cs,"getSSOTokenFromFile",{enumerable:!0,get:function(){return H6.getSSOTokenFromFile}});Object.defineProperty(cs,"readFile",{enumerable:!0,get:function(){return Ey.readFile}});cs.CONFIG_PREFIX_SEPARATOR=Wh;cs.DEFAULT_PROFILE=UEe;cs.ENV_PROFILE=$Ee;cs.externalDataInterceptor=eAt;cs.getProfileName=BRt;cs.loadSharedConfigFiles=BEe;cs.loadSsoSessionData=ZRt;cs.parseKnownFiles=QRt;Object.keys(Sb).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(cs,t)&&Object.defineProperty(cs,t,{enumerable:!0,get:function(){return Sb[t]}})});Object.keys(MEe).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(cs,t)&&Object.defineProperty(cs,t,{enumerable:!0,get:function(){return MEe[t]}})})});var gu=v(VEe=>{"use strict";var Tb=Di(),HEe=mu();function zEe(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var tAt=(t,e)=>async()=>{try{let r=t(process.env,e);if(r===void 0)throw new Error;return r}catch(r){throw new Tb.CredentialsProviderError(r.message||`Not found in ENV: ${zEe(t.toString())}`,{logger:e?.logger})}},rAt=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=HEe.getProfileName(r),{configFile:i,credentialsFile:s}=await HEe.loadSharedConfigFiles(r),o=s[n]||{},a=i[n]||{},u=e==="config"?{...o,...a}:{...a,...o};try{let f=t(u,e==="config"?i:s);if(f===void 0)throw new Error;return f}catch(c){throw new Tb.CredentialsProviderError(c.message||`Not found in config files w/ profile [${n}]: ${zEe(t.toString())}`,{logger:r.logger})}},nAt=t=>typeof t=="function",iAt=t=>nAt(t)?async()=>await t():Tb.fromStatic(t),sAt=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>{let{signingName:i,logger:s}=n,o={signingName:i,logger:s};return Tb.memoize(Tb.chain(tAt(t,o),rAt(e,n),iAt(r)))};VEe.loadConfig=sAt});var XEe=v(P1=>{"use strict";Object.defineProperty(P1,"__esModule",{value:!0});P1.getEndpointUrlConfig=void 0;var WEe=mu(),GEe="AWS_ENDPOINT_URL",KEe="endpoint_url",oAt=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(s=>s.toUpperCase()),n=e[[GEe,...r].join("_")];if(n)return n;let i=e[GEe];if(i)return i},configFileSelector:(e,r)=>{if(r&&e.services){let i=r[["services",e.services].join(WEe.CONFIG_PREFIX_SEPARATOR)];if(i){let s=t.split(" ").map(a=>a.toLowerCase()),o=i[[s.join("_"),KEe].join(WEe.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=e[KEe];if(n)return n},default:void 0});P1.getEndpointUrlConfig=oAt});var JEe=v(I1=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.getEndpointFromConfig=void 0;var aAt=gu(),uAt=XEe(),cAt=async t=>(0,aAt.loadConfig)((0,uAt.getEndpointUrlConfig)(t??""))();I1.getEndpointFromConfig=cAt});var yu=v(Cc=>{"use strict";var YEe=JEe(),ZEe=yc(),lAt=(Oi(),Wt(qh)),O1=ss(),fAt=Q3(),dAt=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),yAt(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gAt(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},hAt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,pAt=/(\d+\.){3}\d+/,mAt=/\.\./,gAt=t=>hAt.test(t)&&!pAt.test(t)&&!mAt.test(t),yAt=t=>{let[e,r,n,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,o=!!(s&&r&&n&&i);if(s&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},_At=(t,e,r)=>{let n=async()=>{let i=r[t]??r[e];return typeof i=="function"?i():i};return t==="credentialScope"||e==="CredentialScope"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.credentialScope??i?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.accountId??i?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:o,port:a,path:u}=i;return`${s}//${o}${a?":"+a:""}${u}`}}return i}:n},V6=t=>typeof t=="object"?"url"in t?ZEe.parseUrl(t.url):t:ZEe.parseUrl(t),QEe=async(t,e,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await YEe.getEndpointFromConfig(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(V6(o)),r.isCustomEndpoint=!0)}let i=await eSe(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},eSe=async(t,e,r)=>{let n={},i=e?.getEndpointParameterInstructions?.()||{};for(let[s,o]of Object.entries(i))switch(o.type){case"staticContextParams":n[s]=o.value;break;case"contextParams":n[s]=t[o.name];break;case"clientContextParams":case"builtInParams":n[s]=await _At(o.name,s,r)();break;case"operationContextParams":n[s]=o.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await dAt(n),n},tSe=({config:t,instructions:e})=>(r,n)=>async i=>{t.isCustomEndpoint&&lAt.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await QEe(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let u=O1.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},rSe={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:fAt.serializerMiddlewareOption.name},vAt=(t,e)=>({applyToStack:r=>{r.addRelativeTo(tSe({config:t,instructions:e}),rSe)}}),wAt=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:i}=t,s=r!=null?async()=>V6(await O1.normalizeProvider(r)()):void 0,a=Object.assign(t,{endpoint:s,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:O1.normalizeProvider(n??!1),useFipsEndpoint:O1.normalizeProvider(i??!1)}),u;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!u&&(u=YEe.getEndpointFromConfig(t.serviceId)),u),a},bAt=t=>{let{endpoint:e}=t;return e===void 0&&(t.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),t};Cc.endpointMiddleware=tSe;Cc.endpointMiddlewareOptions=rSe;Cc.getEndpointFromInstructions=QEe;Cc.getEndpointPlugin=vAt;Cc.resolveEndpointConfig=wAt;Cc.resolveEndpointRequiredConfig=bAt;Cc.resolveParams=eSe;Cc.toEndpointV1=V6});var G6=v(ff=>{"use strict";var EAt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],SAt=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],TAt=["TimeoutError","RequestTimeout","RequestTimeoutException"],CAt=[500,502,503,504],xAt=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],RAt=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],nSe=t=>t?.$retryable!==void 0,AAt=t=>EAt.includes(t.name),iSe=t=>t.$metadata?.clockSkewCorrected,sSe=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},PAt=t=>t.$metadata?.httpStatusCode===429||SAt.includes(t.name)||t.$retryable?.throttling==!0,W6=(t,e=0)=>nSe(t)||iSe(t)||TAt.includes(t.name)||xAt.includes(t?.code||"")||RAt.includes(t?.code||"")||CAt.includes(t.$metadata?.httpStatusCode||0)||sSe(t)||t.cause!==void 0&&e<=10&&W6(t.cause,e+1),IAt=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!W6(t)}return!1};ff.isBrowserNetworkError=sSe;ff.isClockSkewCorrectedError=iSe;ff.isClockSkewError=AAt;ff.isRetryableByTrait=nSe;ff.isServerError=IAt;ff.isThrottlingError=PAt;ff.isTransientError=W6});var Gh=v(pn=>{"use strict";var OAt=G6();pn.RETRY_MODES=void 0;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(pn.RETRY_MODES||(pn.RETRY_MODES={}));var K6=3,kAt=pn.RETRY_MODES.STANDARD,k1=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>t.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),OAt.isThrottlingError(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}},Cb=100,Y6=20*1e3,aSe=500,X6=500,uSe=5,cSe=10,lSe=1,NAt="amz-sdk-invocation-id",DAt="amz-sdk-request",FAt=()=>{let t=Cb;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Y6,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},oSe=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Y6,t),getRetryCost:()=>r}),xb=class{maxAttempts;mode=pn.RETRY_MODES.STANDARD;capacity=X6;retryBackoffStrategy=FAt();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return oSe({retryDelay:Cb,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?aSe:Cb);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,oSe({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(X6,this.capacity+(e.getRetryCost()??lSe))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${K6}`),K6}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?cSe:uSe}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},J6=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=pn.RETRY_MODES.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:n}=r??{};this.rateLimiter=n??new k1,this.standardRetryStrategy=new xb(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},Z6=class extends xb{computeNextBackoffDelay;constructor(e,r=Cb){super(typeof e=="function"?e:async()=>e),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(e,r){let n=await super.refreshRetryTokenForRetry(e,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};pn.AdaptiveRetryStrategy=J6;pn.ConfiguredRetryStrategy=Z6;pn.DEFAULT_MAX_ATTEMPTS=K6;pn.DEFAULT_RETRY_DELAY_BASE=Cb;pn.DEFAULT_RETRY_MODE=kAt;pn.DefaultRateLimiter=k1;pn.INITIAL_RETRY_TOKENS=X6;pn.INVOCATION_ID_HEADER=NAt;pn.MAXIMUM_RETRY_DELAY=Y6;pn.NO_RETRY_INCREMENT=lSe;pn.REQUEST_HEADER=DAt;pn.RETRY_COST=uSe;pn.StandardRetryStrategy=xb;pn.THROTTLING_RETRY_DELAY_BASE=aSe;pn.TIMEOUT_RETRY_COST=cSe});var fSe=v(N1=>{"use strict";Object.defineProperty(N1,"__esModule",{value:!0});N1.isStreamingPayload=void 0;var LAt=require("stream"),MAt=t=>t?.body instanceof LAt.Readable||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream;N1.isStreamingPayload=MAt});var da=v(Ln=>{"use strict";var an=Gh(),Sy=xr(),df=G6(),hSe=QH(),dSe=ss(),qAt=jt(),$At=fSe(),UAt=(t,e)=>{let r=t,n=an.NO_RETRY_INCREMENT,i=an.RETRY_COST,s=an.TIMEOUT_RETRY_COST,o=t,a=d=>d.name==="TimeoutError"?s:i,u=d=>a(d)<=o;return Object.freeze({hasRetryTokens:u,retrieveRetryTokens:d=>{if(!u(d))throw new Error("No retry token available");let h=a(d);return o-=h,h},releaseRetryTokens:d=>{o+=d??n,o=Math.min(o,r)}})},pSe=(t,e)=>Math.floor(Math.min(an.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t)),mSe=t=>t?df.isRetryableByTrait(t)||df.isClockSkewError(t)||df.isThrottlingError(t)||df.isTransientError(t):!1,gSe=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),D1=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=an.RETRY_MODES.STANDARD;constructor(e,r){this.maxAttemptsProvider=e,this.retryDecider=r?.retryDecider??mSe,this.delayDecider=r?.delayDecider??pSe,this.retryQuota=r?.retryQuota??UAt(an.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=an.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let i,s=0,o=0,a=await this.getMaxAttempts(),{request:u}=r;for(Sy.HttpRequest.isInstance(u)&&(u.headers[an.INVOCATION_ID_HEADER]=hSe.v4());;)try{Sy.HttpRequest.isInstance(u)&&(u.headers[an.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:c,output:f}=await e(r);return n?.afterRequest&&n.afterRequest(c),this.retryQuota.releaseRetryTokens(i),f.$metadata.attempts=s+1,f.$metadata.totalRetryDelay=o,{response:c,output:f}}catch(c){let f=gSe(c);if(s++,this.shouldRetry(f,s,a)){i=this.retryQuota.retrieveRetryTokens(f);let d=this.delayDecider(df.isThrottlingError(f)?an.THROTTLING_RETRY_DELAY_BASE:an.DEFAULT_RETRY_DELAY_BASE,s),h=jAt(f.$response),p=Math.max(h||0,d);o+=p,await new Promise(m=>setTimeout(m,p));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=s,f.$metadata.totalRetryDelay=o,f}}},jAt=t=>{if(!Sy.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Q6=class extends D1{rateLimiter;constructor(e,r){let{rateLimiter:n,...i}=r??{};super(e,i),this.rateLimiter=n??new an.DefaultRateLimiter,this.mode=an.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},eV="AWS_MAX_ATTEMPTS",tV="max_attempts",BAt={environmentVariableSelector:t=>{let e=t[eV];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${eV} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[tV];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${tV} mast be a number, got "${e}"`);return r},default:an.DEFAULT_MAX_ATTEMPTS},HAt=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:n}=t,i=dSe.normalizeProvider(n??an.DEFAULT_MAX_ATTEMPTS);return Object.assign(t,{maxAttempts:i,retryStrategy:async()=>e||(await dSe.normalizeProvider(r)()===an.RETRY_MODES.ADAPTIVE?new an.AdaptiveRetryStrategy(i):new an.StandardRetryStrategy(i))})},ySe="AWS_RETRY_MODE",_Se="retry_mode",zAt={environmentVariableSelector:t=>t[ySe],configFileSelector:t=>t[_Se],default:an.DEFAULT_RETRY_MODE},vSe=()=>t=>async e=>{let{request:r}=e;return Sy.HttpRequest.isInstance(r)&&(delete r.headers[an.INVOCATION_ID_HEADER],delete r.headers[an.REQUEST_HEADER]),t(e)},wSe={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},VAt=t=>({applyToStack:e=>{e.addRelativeTo(vSe(),wSe)}}),bSe=t=>(e,r)=>async n=>{let i=await t.retryStrategy(),s=await t.maxAttempts();if(WAt(i)){i=i;let o=await i.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,c=0,{request:f}=n,d=Sy.HttpRequest.isInstance(f);for(d&&(f.headers[an.INVOCATION_ID_HEADER]=hSe.v4());;)try{d&&(f.headers[an.REQUEST_HEADER]=`attempt=${u+1}; max=${s}`);let{response:h,output:p}=await e(n);return i.recordSuccess(o),p.$metadata.attempts=u+1,p.$metadata.totalRetryDelay=c,{response:h,output:p}}catch(h){let p=GAt(h);if(a=gSe(h),d&&$At.isStreamingPayload(f))throw(r.logger instanceof qAt.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await i.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=c,a}u=o.getRetryCount();let m=o.getRetryDelay();c+=m,await new Promise(g=>setTimeout(g,m))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},WAt=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",GAt=t=>{let e={error:t,errorType:KAt(t)},r=SSe(t.$response);return r&&(e.retryAfterHint=r),e},KAt=t=>df.isThrottlingError(t)?"THROTTLING":df.isTransientError(t)?"TRANSIENT":df.isServerError(t)?"SERVER_ERROR":"CLIENT_ERROR",ESe={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},XAt=t=>({applyToStack:e=>{e.add(bSe(t),ESe)}}),SSe=t=>{if(!Sy.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ln.AdaptiveRetryStrategy=Q6;Ln.CONFIG_MAX_ATTEMPTS=tV;Ln.CONFIG_RETRY_MODE=_Se;Ln.ENV_MAX_ATTEMPTS=eV;Ln.ENV_RETRY_MODE=ySe;Ln.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=BAt;Ln.NODE_RETRY_MODE_CONFIG_OPTIONS=zAt;Ln.StandardRetryStrategy=D1;Ln.defaultDelayDecider=pSe;Ln.defaultRetryDecider=mSe;Ln.getOmitRetryHeadersPlugin=VAt;Ln.getRetryAfterHint=SSe;Ln.getRetryPlugin=XAt;Ln.omitRetryHeadersMiddleware=vSe;Ln.omitRetryHeadersMiddlewareOptions=wSe;Ln.resolveRetryConfig=HAt;Ln.retryMiddleware=bSe;Ln.retryMiddlewareOptions=ESe});var nV=v(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.resolveHttpAuthSchemeConfig=hf.defaultCognitoIdentityProviderHttpAuthSchemeProvider=hf.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider=void 0;var JAt=(oi(),Wt(uf)),rV=ss(),ZAt=async(t,e,r)=>({operation:(0,rV.getSmithyContext)(e).operation,region:await(0,rV.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hf.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider=ZAt;function YAt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-idp",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function or(t){return{schemeId:"smithy.api#noAuth"}}var QAt=t=>{let e=[];switch(t.operation){case"AssociateSoftwareToken":{e.push(or(t));break}case"ChangePassword":{e.push(or(t));break}case"CompleteWebAuthnRegistration":{e.push(or(t));break}case"ConfirmDevice":{e.push(or(t));break}case"ConfirmForgotPassword":{e.push(or(t));break}case"ConfirmSignUp":{e.push(or(t));break}case"DeleteUser":{e.push(or(t));break}case"DeleteUserAttributes":{e.push(or(t));break}case"DeleteWebAuthnCredential":{e.push(or(t));break}case"ForgetDevice":{e.push(or(t));break}case"ForgotPassword":{e.push(or(t));break}case"GetDevice":{e.push(or(t));break}case"GetTokensFromRefreshToken":{e.push(or(t));break}case"GetUser":{e.push(or(t));break}case"GetUserAttributeVerificationCode":{e.push(or(t));break}case"GetUserAuthFactors":{e.push(or(t));break}case"GlobalSignOut":{e.push(or(t));break}case"InitiateAuth":{e.push(or(t));break}case"ListDevices":{e.push(or(t));break}case"ListWebAuthnCredentials":{e.push(or(t));break}case"ResendConfirmationCode":{e.push(or(t));break}case"RespondToAuthChallenge":{e.push(or(t));break}case"RevokeToken":{e.push(or(t));break}case"SetUserMFAPreference":{e.push(or(t));break}case"SetUserSettings":{e.push(or(t));break}case"SignUp":{e.push(or(t));break}case"StartWebAuthnRegistration":{e.push(or(t));break}case"UpdateAuthEventFeedback":{e.push(or(t));break}case"UpdateDeviceStatus":{e.push(or(t));break}case"UpdateUserAttributes":{e.push(or(t));break}case"VerifySoftwareToken":{e.push(or(t));break}case"VerifyUserAttribute":{e.push(or(t));break}default:e.push(YAt(t))}return e};hf.defaultCognitoIdentityProviderHttpAuthSchemeProvider=QAt;var ePt=t=>{let e=(0,JAt.resolveAwsSdkSigV4Config)(t);return Object.assign(e,{authSchemePreference:(0,rV.normalizeProvider)(t.authSchemePreference??[])})};hf.resolveHttpAuthSchemeConfig=ePt});var TSe=v((Wqr,tPt)=>{tPt.exports={name:"@aws-sdk/client-cognito-identity-provider",description:"AWS SDK for JavaScript Cognito Identity Provider Client for Node.js, Browser and React Native",version:"3.948.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity-provider","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity-provider","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.947.0","@aws-sdk/credential-provider-node":"3.948.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.948.0","@aws-sdk/middleware-user-agent":"3.947.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.947.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.7","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.14","@smithy/middleware-retry":"^4.4.14","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.10","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.13","@smithy/util-defaults-mode-node":"^4.2.16","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity-provider",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity-provider"}}});var iV=v(pf=>{"use strict";var rPt=(Ro(),Wt(_c)),nPt=Di(),CSe="AWS_ACCESS_KEY_ID",xSe="AWS_SECRET_ACCESS_KEY",RSe="AWS_SESSION_TOKEN",ASe="AWS_CREDENTIAL_EXPIRATION",PSe="AWS_CREDENTIAL_SCOPE",ISe="AWS_ACCOUNT_ID",iPt=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[CSe],r=process.env[xSe],n=process.env[RSe],i=process.env[ASe],s=process.env[PSe],o=process.env[ISe];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...n&&{sessionToken:n},...i&&{expiration:new Date(i)},...s&&{credentialScope:s},...o&&{accountId:o}};return rPt.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new nPt.CredentialsProviderError("Unable to find environment variable credentials.",{logger:t?.logger})};pf.ENV_ACCOUNT_ID=ISe;pf.ENV_CREDENTIAL_SCOPE=PSe;pf.ENV_EXPIRATION=ASe;pf.ENV_KEY=CSe;pf.ENV_SECRET=xSe;pf.ENV_SESSION=RSe;pf.fromEnv=iPt});var Ab=v(Li=>{"use strict";var _u=Di(),sPt=require("url"),oPt=require("buffer"),aPt=require("http"),cV=gu(),uPt=yc();function Rb(t){return new Promise((e,r)=>{let n=aPt.request({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",i=>{r(Object.assign(new _u.ProviderError("Unable to connect to instance metadata service"),i)),n.destroy()}),n.on("timeout",()=>{r(new _u.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new _u.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let o=[];i.on("data",a=>{o.push(a)}),i.on("end",()=>{e(oPt.Buffer.concat(o)),n.destroy()})}),n.end()})}var DSe=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",FSe=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}}),LSe=1e3,MSe=0,lV=({maxRetries:t=MSe,timeout:e=LSe})=>({maxRetries:t,timeout:e}),oV=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r},F1="AWS_CONTAINER_CREDENTIALS_FULL_URI",L1="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",aV="AWS_CONTAINER_AUTHORIZATION_TOKEN",cPt=(t={})=>{let{timeout:e,maxRetries:r}=lV(t);return()=>oV(async()=>{let n=await pPt({logger:t.logger}),i=JSON.parse(await lPt(e,n));if(!DSe(i))throw new _u.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return FSe(i)},r)},lPt=async(t,e)=>(process.env[aV]&&(e.headers={...e.headers,Authorization:process.env[aV]}),(await Rb({...e,timeout:t})).toString()),fPt="169.254.170.2",dPt={localhost:!0,"127.0.0.1":!0},hPt={"http:":!0,"https:":!0},pPt=async({logger:t})=>{if(process.env[L1])return{hostname:fPt,path:process.env[L1]};if(process.env[F1]){let e=sPt.parse(process.env[F1]);if(!e.hostname||!(e.hostname in dPt))throw new _u.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in hPt))throw new _u.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new _u.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${L1} or ${F1} environment variable is set`,{tryNextLink:!1,logger:t})},uV=class t extends _u.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,r=!0){super(e,r),this.tryNextLink=r,Object.setPrototypeOf(this,t.prototype)}};Li.Endpoint=void 0;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(Li.Endpoint||(Li.Endpoint={}));var mPt="AWS_EC2_METADATA_SERVICE_ENDPOINT",gPt="ec2_metadata_service_endpoint",yPt={environmentVariableSelector:t=>t[mPt],configFileSelector:t=>t[gPt],default:void 0},Ty;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(Ty||(Ty={}));var _Pt="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",vPt="ec2_metadata_service_endpoint_mode",wPt={environmentVariableSelector:t=>t[_Pt],configFileSelector:t=>t[vPt],default:Ty.IPv4},qSe=async()=>uPt.parseUrl(await bPt()||await EPt()),bPt=async()=>cV.loadConfig(yPt)(),EPt=async()=>{let t=await cV.loadConfig(wPt)();switch(t){case Ty.IPv4:return Li.Endpoint.IPv4;case Ty.IPv6:return Li.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(Ty)}`)}},SPt=300,TPt=300,CPt="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",OSe=(t,e)=>{let r=SPt+Math.floor(Math.random()*TPt),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+CPt);let i=t.originalExpiration??t.expiration;return{...t,...i?{originalExpiration:i}:{},expiration:n}},xPt=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=OSe(i,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),i=OSe(n,r);else throw s}return n=i,i}},$Se="/latest/meta-data/iam/security-credentials/",RPt="/latest/api/token",sV="AWS_EC2_METADATA_V1_DISABLED",kSe="ec2_metadata_v1_disabled",NSe="x-aws-ec2-metadata-token",APt=(t={})=>xPt(PPt(t),{logger:t.logger}),PPt=(t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:i,maxRetries:s}=lV(t),o=async(a,u)=>{if(e||u.headers?.[NSe]==null){let d=!1,h=!1,p=await cV.loadConfig({environmentVariableSelector:m=>{let g=m[sV];if(h=!!g&&g!=="false",g===void 0)throw new _u.CredentialsProviderError(`${sV} not set in env, checking config file next.`,{logger:t.logger});return h},configFileSelector:m=>{let g=m[kSe];return d=!!g&&g!=="false",d},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||p){let m=[];throw t.ec2MetadataV1Disabled&&m.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&m.push(`config file profile (${kSe})`),h&&m.push(`process environment variable (${sV})`),new uV(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${m.join(", ")}].`)}}let f=(await oV(async()=>{let d;try{d=await OPt(u)}catch(h){throw h.statusCode===401&&(e=!1),h}return d},a)).trim();return oV(async()=>{let d;try{d=await kPt(f,u,t)}catch(h){throw h.statusCode===401&&(e=!1),h}return d},a)};return async()=>{let a=await qSe();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(s,{...a,timeout:i});{let u;try{u=(await IPt({...a,timeout:i})).toString()}catch(c){if(c?.statusCode===400)throw Object.assign(c,{message:"EC2 Metadata token request returned error"});return(c.message==="TimeoutError"||[403,404,405].includes(c.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(s,{...a,timeout:i})}return o(s,{...a,headers:{[NSe]:u},timeout:i})}}},IPt=async t=>Rb({...t,path:RPt,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),OPt=async t=>(await Rb({...t,path:$Se})).toString(),kPt=async(t,e,r)=>{let n=JSON.parse((await Rb({...e,path:$Se+t})).toString());if(!DSe(n))throw new _u.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return FSe(n)};Li.DEFAULT_MAX_RETRIES=MSe;Li.DEFAULT_TIMEOUT=LSe;Li.ENV_CMDS_AUTH_TOKEN=aV;Li.ENV_CMDS_FULL_URI=F1;Li.ENV_CMDS_RELATIVE_URI=L1;Li.fromContainerMetadata=cPt;Li.fromInstanceMetadata=APt;Li.getInstanceMetadataEndpoint=qSe;Li.httpRequest=Rb;Li.providerConfigFromInit=lV});var USe=v(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});M1.checkUrl=void 0;var NPt=Di(),DPt="169.254.170.2",FPt="169.254.170.23",LPt="[fd00:ec2::23]",MPt=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===DPt||t.hostname===FPt||t.hostname===LPt)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=i=>{let s=parseInt(i,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new NPt.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}};M1.checkUrl=MPt});var jSe=v(q1=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.createGetRequest=jPt;q1.getCredentials=BPt;var fV=Di(),qPt=xr(),$Pt=jt(),UPt=gP();function jPt(t){return new qPt.HttpRequest({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}async function BPt(t,e){let n=await(0,UPt.sdkStreamMixin)(t.body).transformToString();if(t.statusCode===200){let i=JSON.parse(n);if(typeof i.AccessKeyId!="string"||typeof i.SecretAccessKey!="string"||typeof i.Token!="string"||typeof i.Expiration!="string")throw new fV.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.Token,expiration:(0,$Pt.parseRfc3339DateTime)(i.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let i={};try{i=JSON.parse(n)}catch{}throw Object.assign(new fV.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:i.Code,Message:i.Message})}throw new fV.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e})}});var BSe=v($1=>{"use strict";Object.defineProperty($1,"__esModule",{value:!0});$1.retryWrapper=void 0;var HPt=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(s=>setTimeout(s,r))}return await t()};$1.retryWrapper=HPt});var VSe=v(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0});U1.fromHttp=void 0;var zPt=(lb(),Wt(cb)),VPt=(Ro(),Wt(_c)),WPt=Bl(),HSe=Di(),GPt=zPt.__importDefault(require("fs/promises")),KPt=USe(),zSe=jSe(),XPt=BSe(),JPt="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",ZPt="http://169.254.170.2",YPt="AWS_CONTAINER_CREDENTIALS_FULL_URI",QPt="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",e1t="AWS_CONTAINER_AUTHORIZATION_TOKEN",t1t=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[JPt],n=t.awsContainerCredentialsFullUri??process.env[YPt],i=t.awsContainerAuthorizationToken??process.env[e1t],s=t.awsContainerAuthorizationTokenFile??process.env[QPt],o=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),i&&s&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${ZPt}${r}`;else throw new HSe.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);(0,KPt.checkUrl)(a,t.logger);let u=WPt.NodeHttpHandler.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return(0,XPt.retryWrapper)(async()=>{let c=(0,zSe.createGetRequest)(a);i?c.headers.Authorization=i:s&&(c.headers.Authorization=(await GPt.default.readFile(s)).toString());try{let f=await u.handle(c);return(0,zSe.getCredentials)(f.response).then(d=>(0,VPt.setCredentialFeature)(d,"CREDENTIALS_HTTP","z"))}catch(f){throw new HSe.CredentialsProviderError(String(f),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)};U1.fromHttp=t1t});var dV=v(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});j1.fromHttp=void 0;var r1t=VSe();Object.defineProperty(j1,"fromHttp",{enumerable:!0,get:function(){return r1t.fromHttp}})});function n1t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function i1t(t){return{schemeId:"smithy.api#noAuth"}}var Pb,WSe,GSe,KSe,hV=te(()=>{oi();Pb=oe(ss()),WSe=async(t,e,r)=>({operation:(0,Pb.getSmithyContext)(e).operation,region:await(0,Pb.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});GSe=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(i1t(t));break}default:e.push(n1t(t))}return e},KSe=t=>{let e=vc(t);return Object.assign(e,{authSchemePreference:(0,Pb.normalizeProvider)(t.authSchemePreference??[])})}});var XSe,JSe,pV=te(()=>{XSe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),JSe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Cy,B1=te(()=>{Cy={name:"@aws-sdk/nested-clients",version:"3.948.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.947.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.948.0","@aws-sdk/middleware-user-agent":"3.947.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.947.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.7","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.14","@smithy/middleware-retry":"^4.4.14","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.10","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.13","@smithy/util-defaults-mode-node":"^4.2.16","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var xy=v(Kh=>{"use strict";var ZSe=require("os"),mV=require("process"),o1t=Vh(),YSe={isCrtAvailable:!1},a1t=()=>YSe.isCrtAvailable?["md/crt-avail"]:null,QSe=({serviceId:t,clientVersion:e})=>async r=>{let n=[["aws-sdk-js",e],["ua","2.1"],[`os/${ZSe.platform()}`,ZSe.release()],["lang/js"],["md/nodejs",`${mV.versions.node}`]],i=a1t();i&&n.push(i),t&&n.push([`api/${t}`,e]),mV.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${mV.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},u1t=QSe,eTe="AWS_SDK_UA_APP_ID",tTe="sdk_ua_app_id",c1t="sdk-ua-app-id",l1t={environmentVariableSelector:t=>t[eTe],configFileSelector:t=>t[tTe]??t[c1t],default:o1t.DEFAULT_UA_APP_ID};Kh.NODE_APP_ID_CONFIG_OPTIONS=l1t;Kh.UA_APP_ID_ENV_NAME=eTe;Kh.UA_APP_ID_INI_NAME=tTe;Kh.createDefaultUserAgentProvider=QSe;Kh.crtAvailability=YSe;Kh.defaultUserAgent=u1t});var Ry=v(iTe=>{"use strict";var gV=Zg(),f1t=Wn(),d1t=require("buffer"),rTe=require("crypto"),yV=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(f1t.toUint8Array(nTe(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?rTe.createHmac(this.algorithmIdentifier,nTe(this.secret)):rTe.createHash(this.algorithmIdentifier)}};function nTe(t,e){return d1t.Buffer.isBuffer(t)?t:typeof t=="string"?gV.fromString(t,e):ArrayBuffer.isView(t)?gV.fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength):gV.fromArrayBuffer(t)}iTe.Hash=yV});var Ay=v(sTe=>{"use strict";var _V=require("node:fs"),h1t=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof _V.ReadStream){if(t.path!=null)return _V.lstatSync(t.path).size;if(typeof t.fd=="number")return _V.fstatSync(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)};sTe.calculateBodyLength=h1t});var Py=v(cTe=>{"use strict";var p1t=Ps(),oTe=gu(),m1t=Di(),g1t="AWS_EXECUTION_ENV",aTe="AWS_REGION",uTe="AWS_DEFAULT_REGION",y1t="AWS_EC2_METADATA_DISABLED",_1t=["in-region","cross-region","mobile","standard","legacy"],v1t="/latest/meta-data/placement/region",w1t="AWS_DEFAULTS_MODE",b1t="defaults_mode",E1t={environmentVariableSelector:t=>t[w1t],configFileSelector:t=>t[b1t],default:"legacy"},S1t=({region:t=oTe.loadConfig(p1t.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=oTe.loadConfig(E1t)}={})=>m1t.memoize(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return T1t(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${_1t.join(", ")}, got ${r}`)}}),T1t=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await C1t();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},C1t=async()=>{if(process.env[g1t]&&(process.env[aTe]||process.env[uTe]))return process.env[aTe]??process.env[uTe];if(!process.env[y1t])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>oe(Ab())),r=await t();return(await e({...r,path:v1t})).toString()}catch{}};cTe.resolveDefaultsModeConfig=S1t});var vTe,Oo,lTe,Ib,Iy,Oy,xc,vV,wV,fTe,dTe,hTe,wTe,bTe,Io,pTe,ETe,mTe,gTe,yTe,_Te,x1t,STe,TTe=te(()=>{vTe="required",Oo="argv",lTe="isSet",Ib="booleanEquals",Iy="error",Oy="endpoint",xc="tree",vV="PartitionResult",wV="getAttr",fTe={[vTe]:!1,type:"string"},dTe={[vTe]:!0,default:!1,type:"boolean"},hTe={ref:"Endpoint"},wTe={fn:Ib,[Oo]:[{ref:"UseFIPS"},!0]},bTe={fn:Ib,[Oo]:[{ref:"UseDualStack"},!0]},Io={},pTe={fn:wV,[Oo]:[{ref:vV},"supportsFIPS"]},ETe={ref:vV},mTe={fn:Ib,[Oo]:[!0,{fn:wV,[Oo]:[ETe,"supportsDualStack"]}]},gTe=[wTe],yTe=[bTe],_Te=[{ref:"Region"}],x1t={version:"1.0",parameters:{Region:fTe,UseDualStack:dTe,UseFIPS:dTe,Endpoint:fTe},rules:[{conditions:[{fn:lTe,[Oo]:[hTe]}],rules:[{conditions:gTe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Iy},{conditions:yTe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Iy},{endpoint:{url:hTe,properties:Io,headers:Io},type:Oy}],type:xc},{conditions:[{fn:lTe,[Oo]:_Te}],rules:[{conditions:[{fn:"aws.partition",[Oo]:_Te,assign:vV}],rules:[{conditions:[wTe,bTe],rules:[{conditions:[{fn:Ib,[Oo]:[!0,pTe]},mTe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Io,headers:Io},type:Oy}],type:xc},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Iy}],type:xc},{conditions:gTe,rules:[{conditions:[{fn:Ib,[Oo]:[pTe,!0]}],rules:[{conditions:[{fn:"stringEquals",[Oo]:[{fn:wV,[Oo]:[ETe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Io,headers:Io},type:Oy},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Io,headers:Io},type:Oy}],type:xc},{error:"FIPS is enabled but this partition does not support FIPS",type:Iy}],type:xc},{conditions:yTe,rules:[{conditions:[mTe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Io,headers:Io},type:Oy}],type:xc},{error:"DualStack is enabled but this partition does not support DualStack",type:Iy}],type:xc},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Io,headers:Io},type:Oy}],type:xc}],type:xc},{error:"Invalid Configuration: Missing Region",type:Iy}]},STe=x1t});var CTe,ky,R1t,xTe,RTe=te(()=>{CTe=oe(Uh()),ky=oe(Vl());TTe();R1t=new ky.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),xTe=(t,e={})=>R1t.get(t,()=>(0,ky.resolveEndpoint)(STe,{endpointParams:t,logger:e.logger}));ky.customEndpointFunctions.aws=CTe.awsEndpointFunctions});var ATe,PTe,H1,z1,ITe,OTe=te(()=>{oi();zh();Oi();ATe=oe(jt()),PTe=oe(yc()),H1=oe(Gn()),z1=oe(Wn());hV();RTe();ITe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??H1.fromBase64,base64Encoder:t?.base64Encoder??H1.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??xTe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??GSe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ni},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new la}],logger:t?.logger??new ATe.NoOpLogger,protocol:t?.protocol??new sf({defaultNamespace:"com.amazonaws.ssooidc"}),serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??PTe.parseUrl,utf8Decoder:t?.utf8Decoder??z1.fromUtf8,utf8Encoder:t?.utf8Encoder??z1.toUtf8})});var V1,gf,kTe,W1,mf,G1,K1,NTe,DTe,FTe,LTe,MTe=te(()=>{B1();oi();V1=oe(xy()),gf=oe(Ps()),kTe=oe(Ry()),W1=oe(da()),mf=oe(gu()),G1=oe(Bl()),K1=oe(jt()),NTe=oe(Ay()),DTe=oe(Py()),FTe=oe(Gh());OTe();LTe=t=>{(0,K1.emitWarningIfUnsupportedVersion)(process.version);let e=(0,DTe.resolveDefaultsModeConfig)(t),r=()=>e().then(K1.loadConfigsForDefaultMode),n=ITe(t);Wl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,mf.loadConfig)(Kl,i),bodyLengthChecker:t?.bodyLengthChecker??NTe.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,V1.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Cy.version}),maxAttempts:t?.maxAttempts??(0,mf.loadConfig)(W1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,mf.loadConfig)(gf.NODE_REGION_CONFIG_OPTIONS,{...gf.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:G1.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,mf.loadConfig)({...W1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||FTe.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??kTe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??G1.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,mf.loadConfig)(gf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,mf.loadConfig)(gf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,mf.loadConfig)(V1.NODE_APP_ID_CONFIG_OPTIONS,i)}}});var $Te=v(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});Ny.warning=void 0;Ny.stsRegionDefaultResolver=P1t;var qTe=Ps(),A1t=gu();function P1t(t={}){return(0,A1t.loadConfig)({...qTe.NODE_REGION_CONFIG_OPTIONS,async default(){return Ny.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...qTe.NODE_REGION_CONFIG_FILE_OPTIONS,...t})}Ny.warning={silence:!1}});var Xh=v(vu=>{"use strict";var Ob=Ps(),UTe=$Te(),I1t=t=>({setRegion(e){t.region=e},region(){return t.region}}),O1t=t=>({region:t.region()});Object.defineProperty(vu,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Ob.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(vu,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Ob.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(vu,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Ob.REGION_ENV_NAME}});Object.defineProperty(vu,"REGION_INI_NAME",{enumerable:!0,get:function(){return Ob.REGION_INI_NAME}});Object.defineProperty(vu,"resolveRegionConfig",{enumerable:!0,get:function(){return Ob.resolveRegionConfig}});vu.getAwsRegionExtensionConfiguration=I1t;vu.resolveAwsRegionExtensionConfiguration=O1t;Object.keys(UTe).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(vu,t)&&Object.defineProperty(vu,t,{enumerable:!0,get:function(){return UTe[t]}})})});var jTe,BTe,HTe=te(()=>{jTe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},BTe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var X1,J1,Z1,zTe,VTe=te(()=>{X1=oe(Xh()),J1=oe(xr()),Z1=oe(jt());HTe();zTe=(t,e)=>{let r=Object.assign((0,X1.getAwsRegionExtensionConfiguration)(t),(0,Z1.getDefaultExtensionConfiguration)(t),(0,J1.getHttpHandlerExtensionConfiguration)(t),jTe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,X1.resolveAwsRegionExtensionConfiguration)(r),(0,Z1.resolveDefaultRuntimeConfig)(r),(0,J1.resolveHttpHandlerRuntimeConfig)(r),BTe(r))}});var Y1,WTe,GTe,Q1,KTe,XTe,JTe,eI,bV,kb,EV=te(()=>{Y1=oe(Gg()),WTe=oe(Kg()),GTe=oe(Xg()),Q1=oe(Vh()),KTe=oe(Ps());Oi();pr();XTe=oe(by()),JTe=oe(yu()),eI=oe(da()),bV=oe(jt());hV();pV();MTe();VTe();kb=class extends bV.Client{config;constructor(...[e]){let r=LTe(e||{});super(r),this.initConfig=r;let n=XSe(r),i=(0,Q1.resolveUserAgentConfig)(n),s=(0,eI.resolveRetryConfig)(i),o=(0,KTe.resolveRegionConfig)(s),a=(0,Y1.resolveHostHeaderConfig)(o),u=(0,JTe.resolveEndpointConfig)(a),c=KSe(u),f=zTe(c,e?.extensions||[]);this.config=f,this.middlewareStack.use(Oh(this.config)),this.middlewareStack.use((0,Q1.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,eI.getRetryPlugin)(this.config)),this.middlewareStack.use((0,XTe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Y1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,WTe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,GTe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ph(this.config,{httpAuthSchemeParametersProvider:WSe,identityProviderConfigProvider:async d=>new gc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ih(this.config))}destroy(){super.destroy()}}});var ZTe,Xn,tI=te(()=>{ZTe=oe(jt()),Xn=class t extends ZTe.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Nb,Db,Fb,Lb,Mb,qb,$b,Ub,jb,Bb,Hb,SV=te(()=>{tI();Nb=class t extends Xn{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},Db=class t extends Xn{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Fb=class t extends Xn{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Lb=class t extends Xn{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Mb=class t extends Xn{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},qb=class t extends Xn{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},$b=class t extends Xn{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},Ub=class t extends Xn{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},jb=class t extends Xn{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Bb=class t extends Xn{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Hb=class t extends Xn{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var k1t,N1t,D1t,F1t,L1t,M1t,q1t,$1t,U1t,j1t,B1t,H1t,z1t,V1t,W1t,G1t,K1t,X1t,J1t,Z1t,wu,Y1t,Q1t,eIt,tIt,rIt,mn,nIt,ha,iIt,sIt,pa,oIt,YTe,QTe,aIt,uIt,cIt,eCe,lIt,yr,fIt,dIt,hIt,pIt,tCe,mIt,gIt,yIt,_It,vIt,wIt,bIt,EIt,SIt,TIt,CIt,xIt,RIt,AIt,rCe,nCe=te(()=>{pr();SV();tI();k1t="AccessDeniedException",N1t="AuthorizationPendingException",D1t="AccessToken",F1t="ClientSecret",L1t="CreateToken",M1t="CreateTokenRequest",q1t="CreateTokenResponse",$1t="CodeVerifier",U1t="ExpiredTokenException",j1t="InvalidClientException",B1t="InvalidGrantException",H1t="InvalidRequestException",z1t="InternalServerException",V1t="InvalidScopeException",W1t="IdToken",G1t="RefreshToken",K1t="SlowDownException",X1t="UnauthorizedClientException",J1t="UnsupportedGrantTypeException",Z1t="accessToken",wu="client",Y1t="clientId",Q1t="clientSecret",eIt="codeVerifier",tIt="code",rIt="deviceCode",mn="error",nIt="expiresIn",ha="error_description",iIt="grantType",sIt="http",pa="httpError",oIt="idToken",YTe="reason",QTe="refreshToken",aIt="redirectUri",uIt="scope",cIt="server",eCe="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",lIt="tokenType",yr="com.amazonaws.ssooidc",fIt=[0,yr,D1t,8,0],dIt=[0,yr,F1t,8,0],hIt=[0,yr,$1t,8,0],pIt=[0,yr,W1t,8,0],tCe=[0,yr,G1t,8,0],mIt=[-3,yr,k1t,{[mn]:wu,[pa]:400},[mn,YTe,ha],[0,0,0]];bt.for(yr).registerError(mIt,Nb);gIt=[-3,yr,N1t,{[mn]:wu,[pa]:400},[mn,ha],[0,0]];bt.for(yr).registerError(gIt,Db);yIt=[3,yr,M1t,0,[Y1t,Q1t,iIt,rIt,tIt,QTe,uIt,aIt,eIt],[0,[()=>dIt,0],0,0,0,[()=>tCe,0],64,0,[()=>hIt,0]]],_It=[3,yr,q1t,0,[Z1t,lIt,nIt,QTe,oIt],[[()=>fIt,0],0,1,[()=>tCe,0],[()=>pIt,0]]],vIt=[-3,yr,U1t,{[mn]:wu,[pa]:400},[mn,ha],[0,0]];bt.for(yr).registerError(vIt,Fb);wIt=[-3,yr,z1t,{[mn]:cIt,[pa]:500},[mn,ha],[0,0]];bt.for(yr).registerError(wIt,Lb);bIt=[-3,yr,j1t,{[mn]:wu,[pa]:401},[mn,ha],[0,0]];bt.for(yr).registerError(bIt,Mb);EIt=[-3,yr,B1t,{[mn]:wu,[pa]:400},[mn,ha],[0,0]];bt.for(yr).registerError(EIt,qb);SIt=[-3,yr,H1t,{[mn]:wu,[pa]:400},[mn,YTe,ha],[0,0,0]];bt.for(yr).registerError(SIt,$b);TIt=[-3,yr,V1t,{[mn]:wu,[pa]:400},[mn,ha],[0,0]];bt.for(yr).registerError(TIt,Ub);CIt=[-3,yr,K1t,{[mn]:wu,[pa]:400},[mn,ha],[0,0]];bt.for(yr).registerError(CIt,jb);xIt=[-3,yr,X1t,{[mn]:wu,[pa]:400},[mn,ha],[0,0]];bt.for(yr).registerError(xIt,Bb);RIt=[-3,yr,J1t,{[mn]:wu,[pa]:400},[mn,ha],[0,0]];bt.for(yr).registerError(RIt,Hb);AIt=[-3,eCe,"SSOOIDCServiceException",0,[],[]];bt.for(eCe).registerError(AIt,Xn);rCe=[9,yr,L1t,{[sIt]:["POST","/token",200]},()=>yIt,()=>_It]});var iCe,TV,zb,CV=te(()=>{iCe=oe(yu()),TV=oe(jt());pV();nCe();zb=class extends TV.Command.classBuilder().ep(JSe).m(function(e,r,n,i){return[(0,iCe.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(rCe).build(){}});var sCe,PIt,rI,oCe=te(()=>{sCe=oe(jt());CV();EV();PIt={CreateTokenCommand:zb},rI=class extends kb{};(0,sCe.createAggregatedClient)(PIt,rI)});var aCe=te(()=>{CV()});var IIt,OIt,uCe=te(()=>{IIt={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},OIt={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var xV={};Qi(xV,{$Command:()=>TV.Command,AccessDeniedException:()=>Nb,AccessDeniedExceptionReason:()=>IIt,AuthorizationPendingException:()=>Db,CreateTokenCommand:()=>zb,ExpiredTokenException:()=>Fb,InternalServerException:()=>Lb,InvalidClientException:()=>Mb,InvalidGrantException:()=>qb,InvalidRequestException:()=>$b,InvalidRequestExceptionReason:()=>OIt,InvalidScopeException:()=>Ub,SSOOIDC:()=>rI,SSOOIDCClient:()=>kb,SSOOIDCServiceException:()=>Xn,SlowDownException:()=>jb,UnauthorizedClientException:()=>Bb,UnsupportedGrantTypeException:()=>Hb,__Client:()=>bV.Client});var RV=te(()=>{EV();oCe();aCe();uCe();SV();tI()});var dCe=v(Wb=>{"use strict";var kIt=(Ro(),Wt(_c)),NIt=(Jz(),Wt(ube)),Vs=Di(),Vb=mu(),DIt=require("fs"),FIt=({logger:t,signingName:e}={})=>async()=>{if(t?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!e)throw new Vs.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:t});let r=NIt.getBearerTokenEnvKey(e);if(!(r in process.env))throw new Vs.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:t});let n={token:process.env[r]};return kIt.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},LIt=300*1e3,AV="To refresh this SSO session run 'aws sso login' with the corresponding profile.",MIt=async(t,e={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(RV(),xV)),n=s=>e.clientConfig?.[s]??e.parentClientConfig?.[s];return new r(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))},qIt=async(t,e,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(RV(),xV));return(await MIt(e,r)).send(new n({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))},cCe=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Vs.TokenProviderError(`Token is expired. ${AV}`,!1)},Jh=(t,e,r=!1)=>{if(typeof e>"u")throw new Vs.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${AV}`,!1)},{writeFile:$It}=DIt.promises,UIt=(t,e)=>{let r=Vb.getSSOTokenFilepath(t),n=JSON.stringify(e,null,2);return $It(r,n)},lCe=new Date(0),fCe=(t={})=>async({callerClientConfig:e}={})=>{let r={...t,parentClientConfig:{...e,...t.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Vb.parseKnownFiles(r),i=Vb.getProfileName({profile:r.profile??e?.profile}),s=n[i];if(s){if(!s.sso_session)throw new Vs.TokenProviderError(`Profile '${i}' is missing required property 'sso_session'.`)}else throw new Vs.TokenProviderError(`Profile '${i}' could not be found in shared credentials file.`,!1);let o=s.sso_session,u=(await Vb.loadSsoSessionData(r))[o];if(!u)throw new Vs.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let m of["sso_start_url","sso_region"])if(!u[m])throw new Vs.TokenProviderError(`Sso session '${o}' is missing required property '${m}'.`,!1);u.sso_start_url;let c=u.sso_region,f;try{f=await Vb.getSSOTokenFromFile(o)}catch{throw new Vs.TokenProviderError(`The SSO session token associated with profile=${i} was not found or is invalid. ${AV}`,!1)}Jh("accessToken",f.accessToken),Jh("expiresAt",f.expiresAt);let{accessToken:d,expiresAt:h}=f,p={token:d,expiration:new Date(h)};if(p.expiration.getTime()-Date.now()>LIt)return p;if(Date.now()-lCe.getTime()<30*1e3)return cCe(p),p;Jh("clientId",f.clientId,!0),Jh("clientSecret",f.clientSecret,!0),Jh("refreshToken",f.refreshToken,!0);try{lCe.setTime(Date.now());let m=await qIt(f,c,r);Jh("accessToken",m.accessToken),Jh("expiresIn",m.expiresIn);let g=new Date(Date.now()+m.expiresIn*1e3);try{await UIt(o,{...f,accessToken:m.accessToken,expiresAt:g.toISOString(),refreshToken:m.refreshToken})}catch{}return{token:m.accessToken,expiration:g}}catch{return cCe(p),p}},jIt=({token:t,logger:e})=>async()=>{if(e?.debug("@aws-sdk/token-providers - fromStatic"),!t||!t.token)throw new Vs.TokenProviderError("Please pass a valid token to fromStatic",!1);return t},BIt=(t={})=>Vs.memoize(Vs.chain(fCe(t),async()=>{throw new Vs.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);Wb.fromEnvSigningName=FIt;Wb.fromSso=fCe;Wb.fromStatic=jIt;Wb.nodeProvider=BIt});var IV=v(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.resolveHttpAuthSchemeConfig=yf.defaultSSOHttpAuthSchemeProvider=yf.defaultSSOHttpAuthSchemeParametersProvider=void 0;var HIt=(oi(),Wt(uf)),PV=ss(),zIt=async(t,e,r)=>({operation:(0,PV.getSmithyContext)(e).operation,region:await(0,PV.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});yf.defaultSSOHttpAuthSchemeParametersProvider=zIt;function VIt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function nI(t){return{schemeId:"smithy.api#noAuth"}}var WIt=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(nI(t));break}case"ListAccountRoles":{e.push(nI(t));break}case"ListAccounts":{e.push(nI(t));break}case"Logout":{e.push(nI(t));break}default:e.push(VIt(t))}return e};yf.defaultSSOHttpAuthSchemeProvider=WIt;var GIt=t=>{let e=(0,HIt.resolveAwsSdkSigV4Config)(t);return Object.assign(e,{authSchemePreference:(0,PV.normalizeProvider)(t.authSchemePreference??[])})};yf.resolveHttpAuthSchemeConfig=GIt});var hCe=v((nUr,KIt)=>{KIt.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.948.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.947.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.948.0","@aws-sdk/middleware-user-agent":"3.947.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.947.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.7","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.14","@smithy/middleware-retry":"^4.4.14","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.10","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.13","@smithy/util-defaults-mode-node":"^4.2.16","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var ACe=v(iI=>{"use strict";Object.defineProperty(iI,"__esModule",{value:!0});iI.ruleSet=void 0;var TCe="required",No="fn",Do="argv",Ly="ref",pCe=!0,mCe="isSet",Gb="booleanEquals",Dy="error",Fy="endpoint",Rc="tree",OV="PartitionResult",kV="getAttr",gCe={[TCe]:!1,type:"string"},yCe={[TCe]:!0,default:!1,type:"boolean"},_Ce={[Ly]:"Endpoint"},CCe={[No]:Gb,[Do]:[{[Ly]:"UseFIPS"},!0]},xCe={[No]:Gb,[Do]:[{[Ly]:"UseDualStack"},!0]},ko={},vCe={[No]:kV,[Do]:[{[Ly]:OV},"supportsFIPS"]},RCe={[Ly]:OV},wCe={[No]:Gb,[Do]:[!0,{[No]:kV,[Do]:[RCe,"supportsDualStack"]}]},bCe=[CCe],ECe=[xCe],SCe=[{[Ly]:"Region"}],XIt={version:"1.0",parameters:{Region:gCe,UseDualStack:yCe,UseFIPS:yCe,Endpoint:gCe},rules:[{conditions:[{[No]:mCe,[Do]:[_Ce]}],rules:[{conditions:bCe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Dy},{conditions:ECe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Dy},{endpoint:{url:_Ce,properties:ko,headers:ko},type:Fy}],type:Rc},{conditions:[{[No]:mCe,[Do]:SCe}],rules:[{conditions:[{[No]:"aws.partition",[Do]:SCe,assign:OV}],rules:[{conditions:[CCe,xCe],rules:[{conditions:[{[No]:Gb,[Do]:[pCe,vCe]},wCe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ko,headers:ko},type:Fy}],type:Rc},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Dy}],type:Rc},{conditions:bCe,rules:[{conditions:[{[No]:Gb,[Do]:[vCe,pCe]}],rules:[{conditions:[{[No]:"stringEquals",[Do]:[{[No]:kV,[Do]:[RCe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:ko,headers:ko},type:Fy},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ko,headers:ko},type:Fy}],type:Rc},{error:"FIPS is enabled but this partition does not support FIPS",type:Dy}],type:Rc},{conditions:ECe,rules:[{conditions:[wCe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ko,headers:ko},type:Fy}],type:Rc},{error:"DualStack is enabled but this partition does not support DualStack",type:Dy}],type:Rc},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:ko,headers:ko},type:Fy}],type:Rc}],type:Rc},{error:"Invalid Configuration: Missing Region",type:Dy}]};iI.ruleSet=XIt});var PCe=v(sI=>{"use strict";Object.defineProperty(sI,"__esModule",{value:!0});sI.defaultEndpointResolver=void 0;var JIt=Uh(),NV=Vl(),ZIt=ACe(),YIt=new NV.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),QIt=(t,e={})=>YIt.get(t,()=>(0,NV.resolveEndpoint)(ZIt.ruleSet,{endpointParams:t,logger:e.logger}));sI.defaultEndpointResolver=QIt;NV.customEndpointFunctions.aws=JIt.awsEndpointFunctions});var kCe=v(oI=>{"use strict";Object.defineProperty(oI,"__esModule",{value:!0});oI.getRuntimeConfig=void 0;var eOt=(oi(),Wt(uf)),tOt=(zh(),Wt(M6)),rOt=(Oi(),Wt(qh)),nOt=jt(),iOt=yc(),ICe=Gn(),OCe=Wn(),sOt=IV(),oOt=PCe(),aOt=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??ICe.fromBase64,base64Encoder:t?.base64Encoder??ICe.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??oOt.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??sOt.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new eOt.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new rOt.NoAuthSigner}],logger:t?.logger??new nOt.NoOpLogger,protocol:t?.protocol??new tOt.AwsRestJsonProtocol({defaultNamespace:"com.amazonaws.sso"}),serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??iOt.parseUrl,utf8Decoder:t?.utf8Decoder??OCe.fromUtf8,utf8Encoder:t?.utf8Encoder??OCe.toUtf8});oI.getRuntimeConfig=aOt});var qCe=v(uI=>{"use strict";Object.defineProperty(uI,"__esModule",{value:!0});uI.getRuntimeConfig=void 0;var uOt=(lb(),Wt(cb)),cOt=uOt.__importDefault(hCe()),NCe=(oi(),Wt(uf)),DCe=xy(),aI=Ps(),lOt=Ry(),FCe=da(),Zh=gu(),LCe=Bl(),MCe=jt(),fOt=Ay(),dOt=Py(),hOt=Gh(),pOt=kCe(),mOt=t=>{(0,MCe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,dOt.resolveDefaultsModeConfig)(t),r=()=>e().then(MCe.loadConfigsForDefaultMode),n=(0,pOt.getRuntimeConfig)(t);(0,NCe.emitWarningIfUnsupportedVersion)(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,Zh.loadConfig)(NCe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:t?.bodyLengthChecker??fOt.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,DCe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:cOt.default.version}),maxAttempts:t?.maxAttempts??(0,Zh.loadConfig)(FCe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,Zh.loadConfig)(aI.NODE_REGION_CONFIG_OPTIONS,{...aI.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:LCe.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Zh.loadConfig)({...FCe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hOt.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??lOt.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??LCe.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Zh.loadConfig)(aI.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,Zh.loadConfig)(aI.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,Zh.loadConfig)(DCe.NODE_APP_ID_CONFIG_OPTIONS,i)}};uI.getRuntimeConfig=mOt});var oxe=v(Mi=>{"use strict";var $Ce=Gg(),gOt=Kg(),yOt=Xg(),UCe=Vh(),_Ot=Ps(),Kb=(Oi(),Wt(qh)),qy=(pr(),Wt(CP)),vOt=by(),Zb=yu(),jCe=da(),ma=jt(),BCe=IV(),wOt=qCe(),HCe=Xh(),zCe=xr(),bOt=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),dI={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},EOt=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},SOt=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),TOt=(t,e)=>{let r=Object.assign(HCe.getAwsRegionExtensionConfiguration(t),ma.getDefaultExtensionConfiguration(t),zCe.getHttpHandlerExtensionConfiguration(t),EOt(t));return e.forEach(n=>n.configure(r)),Object.assign(t,HCe.resolveAwsRegionExtensionConfiguration(r),ma.resolveDefaultRuntimeConfig(r),zCe.resolveHttpHandlerRuntimeConfig(r),SOt(r))},My=class extends ma.Client{config;constructor(...[e]){let r=wOt.getRuntimeConfig(e||{});super(r),this.initConfig=r;let n=bOt(r),i=UCe.resolveUserAgentConfig(n),s=jCe.resolveRetryConfig(i),o=_Ot.resolveRegionConfig(s),a=$Ce.resolveHostHeaderConfig(o),u=Zb.resolveEndpointConfig(a),c=BCe.resolveHttpAuthSchemeConfig(u),f=TOt(c,e?.extensions||[]);this.config=f,this.middlewareStack.use(qy.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(UCe.getUserAgentPlugin(this.config)),this.middlewareStack.use(jCe.getRetryPlugin(this.config)),this.middlewareStack.use(vOt.getContentLengthPlugin(this.config)),this.middlewareStack.use($Ce.getHostHeaderPlugin(this.config)),this.middlewareStack.use(gOt.getLoggerPlugin(this.config)),this.middlewareStack.use(yOt.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Kb.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:BCe.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async d=>new Kb.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Kb.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},$y=class VCe extends ma.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,VCe.prototype)}},WCe=class GCe extends $y{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,GCe.prototype)}},KCe=class XCe extends $y{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,XCe.prototype)}},JCe=class ZCe extends $y{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,ZCe.prototype)}},YCe=class QCe extends $y{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,QCe.prototype)}},COt="AccountInfo",xOt="AccountListType",ROt="AccessTokenType",AOt="GetRoleCredentials",POt="GetRoleCredentialsRequest",IOt="GetRoleCredentialsResponse",OOt="InvalidRequestException",kOt="Logout",NOt="ListAccounts",DOt="ListAccountsRequest",FOt="ListAccountRolesRequest",LOt="ListAccountRolesResponse",MOt="ListAccountsResponse",qOt="ListAccountRoles",$Ot="LogoutRequest",UOt="RoleCredentials",jOt="RoleInfo",BOt="RoleListType",HOt="ResourceNotFoundException",zOt="SecretAccessKeyType",VOt="SessionTokenType",WOt="TooManyRequestsException",GOt="UnauthorizedException",hI="accountId",KOt="accessKeyId",XOt="accountList",JOt="accountName",pI="accessToken",exe="account_id",mI="client",gI="error",ZOt="emailAddress",YOt="expiration",yI="http",_I="httpError",vI="httpHeader",Yh="httpQuery",wI="message",txe="maxResults",rxe="max_result",bI="nextToken",nxe="next_token",QOt="roleCredentials",ekt="roleList",ixe="roleName",tkt="role_name",sxe="smithy.ts.sdk.synthetic.com.amazonaws.sso",rkt="secretAccessKey",nkt="sessionToken",EI="x-amz-sso_bearer_token",Nr="com.amazonaws.sso",SI=[0,Nr,ROt,8,0],ikt=[0,Nr,zOt,8,0],skt=[0,Nr,VOt,8,0],okt=[3,Nr,COt,0,[hI,JOt,ZOt],[0,0,0]],akt=[3,Nr,POt,0,[ixe,hI,pI],[[0,{[Yh]:tkt}],[0,{[Yh]:exe}],[()=>SI,{[vI]:EI}]]],ukt=[3,Nr,IOt,0,[QOt],[[()=>gkt,0]]],ckt=[-3,Nr,OOt,{[gI]:mI,[_I]:400},[wI],[0]];qy.TypeRegistry.for(Nr).registerError(ckt,WCe);var lkt=[3,Nr,FOt,0,[bI,txe,pI,hI],[[0,{[Yh]:nxe}],[1,{[Yh]:rxe}],[()=>SI,{[vI]:EI}],[0,{[Yh]:exe}]]],fkt=[3,Nr,LOt,0,[bI,ekt],[0,()=>Skt]],dkt=[3,Nr,DOt,0,[bI,txe,pI],[[0,{[Yh]:nxe}],[1,{[Yh]:rxe}],[()=>SI,{[vI]:EI}]]],hkt=[3,Nr,MOt,0,[bI,XOt],[0,()=>Ekt]],pkt=[3,Nr,$Ot,0,[pI],[[()=>SI,{[vI]:EI}]]],mkt=[-3,Nr,HOt,{[gI]:mI,[_I]:404},[wI],[0]];qy.TypeRegistry.for(Nr).registerError(mkt,KCe);var gkt=[3,Nr,UOt,0,[KOt,rkt,nkt,YOt],[0,[()=>ikt,0],[()=>skt,0],1]],ykt=[3,Nr,jOt,0,[ixe,hI],[0,0]],_kt=[-3,Nr,WOt,{[gI]:mI,[_I]:429},[wI],[0]];qy.TypeRegistry.for(Nr).registerError(_kt,JCe);var vkt=[-3,Nr,GOt,{[gI]:mI,[_I]:401},[wI],[0]];qy.TypeRegistry.for(Nr).registerError(vkt,YCe);var wkt="unit",bkt=[-3,sxe,"SSOServiceException",0,[],[]];qy.TypeRegistry.for(sxe).registerError(bkt,$y);var Ekt=[1,Nr,xOt,0,()=>okt],Skt=[1,Nr,BOt,0,()=>ykt],Tkt=[9,Nr,AOt,{[yI]:["GET","/federation/credentials",200]},()=>akt,()=>ukt],Ckt=[9,Nr,qOt,{[yI]:["GET","/assignment/roles",200]},()=>lkt,()=>fkt],xkt=[9,Nr,NOt,{[yI]:["GET","/assignment/accounts",200]},()=>dkt,()=>hkt],Rkt=[9,Nr,kOt,{[yI]:["POST","/logout",200]},()=>pkt,()=>wkt],cI=class extends ma.Command.classBuilder().ep(dI).m(function(e,r,n,i){return[Zb.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(Tkt).build(){},Xb=class extends ma.Command.classBuilder().ep(dI).m(function(e,r,n,i){return[Zb.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(Ckt).build(){},Jb=class extends ma.Command.classBuilder().ep(dI).m(function(e,r,n,i){return[Zb.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(xkt).build(){},lI=class extends ma.Command.classBuilder().ep(dI).m(function(e,r,n,i){return[Zb.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(Rkt).build(){},Akt={GetRoleCredentialsCommand:cI,ListAccountRolesCommand:Xb,ListAccountsCommand:Jb,LogoutCommand:lI},fI=class extends My{};ma.createAggregatedClient(Akt,fI);var Pkt=Kb.createPaginator(My,Xb,"nextToken","nextToken","maxResults"),Ikt=Kb.createPaginator(My,Jb,"nextToken","nextToken","maxResults");Object.defineProperty(Mi,"$Command",{enumerable:!0,get:function(){return ma.Command}});Object.defineProperty(Mi,"__Client",{enumerable:!0,get:function(){return ma.Client}});Mi.GetRoleCredentialsCommand=cI;Mi.InvalidRequestException=WCe;Mi.ListAccountRolesCommand=Xb;Mi.ListAccountsCommand=Jb;Mi.LogoutCommand=lI;Mi.ResourceNotFoundException=KCe;Mi.SSO=fI;Mi.SSOClient=My;Mi.SSOServiceException=$y;Mi.TooManyRequestsException=JCe;Mi.UnauthorizedException=YCe;Mi.paginateListAccountRoles=Pkt;Mi.paginateListAccounts=Ikt});var uxe=v(DV=>{"use strict";var axe=oxe();Object.defineProperty(DV,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return axe.GetRoleCredentialsCommand}});Object.defineProperty(DV,"SSOClient",{enumerable:!0,get:function(){return axe.SSOClient}})});var FV=v(CI=>{"use strict";var ga=Di(),TI=mu(),cxe=(Ro(),Wt(_c)),Okt=dCe(),fxe=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),Yb=!1,lxe=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:s,clientConfig:o,parentClientConfig:a,profile:u,filepath:c,configFilepath:f,ignoreCache:d,logger:h})=>{let p,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let $=await Okt.fromSso({profile:u,filepath:c,configFilepath:f,ignoreCache:d})();p={accessToken:$.token,expiresAt:new Date($.expiration).toISOString()}}catch($){throw new ga.CredentialsProviderError($.message,{tryNextLink:Yb,logger:h})}else try{p=await TI.getSSOTokenFromFile(t)}catch{throw new ga.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:Yb,logger:h})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new ga.CredentialsProviderError(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:Yb,logger:h});let{accessToken:g}=p,{SSOClient:y,GetRoleCredentialsCommand:w}=await Promise.resolve().then(function(){return uxe()}),S=s||new y(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n,userAgentAppId:o?.userAgentAppId??a?.userAgentAppId})),E;try{E=await S.send(new w({accountId:r,roleName:i,accessToken:g}))}catch($){throw new ga.CredentialsProviderError($,{tryNextLink:Yb,logger:h})}let{roleCredentials:{accessKeyId:b,secretAccessKey:O,sessionToken:M,expiration:x,credentialScope:I,accountId:P}={}}=E;if(!b||!O||!M||!x)throw new ga.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Yb,logger:h});let F={accessKeyId:b,secretAccessKey:O,sessionToken:M,expiration:new Date(x),...I&&{credentialScope:I},...P&&{accountId:P}};return e?cxe.setCredentialFeature(F,"CREDENTIALS_SSO","s"):cxe.setCredentialFeature(F,"CREDENTIALS_SSO_LEGACY","u"),F},dxe=(t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:i,sso_role_name:s}=t;if(!r||!n||!i||!s)throw new ga.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t},kkt=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoSession:o}=t,{ssoClient:a}=t,u=TI.getProfileName({profile:t.profile??e?.profile});if(!r&&!n&&!i&&!s&&!o){let f=(await TI.parseKnownFiles(t))[u];if(!f)throw new ga.CredentialsProviderError(`Profile ${u} was not found.`,{logger:t.logger});if(!fxe(f))throw new ga.CredentialsProviderError(`Profile ${u} is not configured with SSO credentials.`,{logger:t.logger});if(f?.sso_session){let w=(await TI.loadSsoSessionData(t))[f.sso_session],S=` configurations in profile ${u} and sso-session ${f.sso_session}`;if(i&&i!==w.sso_region)throw new ga.CredentialsProviderError("Conflicting SSO region"+S,{tryNextLink:!1,logger:t.logger});if(r&&r!==w.sso_start_url)throw new ga.CredentialsProviderError("Conflicting SSO start_url"+S,{tryNextLink:!1,logger:t.logger});f.sso_region=w.sso_region,f.sso_start_url=w.sso_start_url}let{sso_start_url:d,sso_account_id:h,sso_region:p,sso_role_name:m,sso_session:g}=dxe(f,t.logger);return lxe({ssoStartUrl:d,ssoSession:g,ssoAccountId:h,ssoRegion:p,ssoRoleName:m,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,profile:u,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!r||!n||!i||!s)throw new ga.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return lxe({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,profile:u,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}};CI.fromSSO=kkt;CI.isSsoProfile=fxe;CI.validateSsoProfile=dxe});function Nkt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Dkt(t){return{schemeId:"smithy.api#noAuth"}}var Qb,hxe,pxe,mxe,LV=te(()=>{oi();Qb=oe(ss()),hxe=async(t,e,r)=>({operation:(0,Qb.getSmithyContext)(e).operation,region:await(0,Qb.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});pxe=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(Dkt(t));break}default:e.push(Nkt(t))}return e},mxe=t=>{let e=vc(t);return Object.assign(e,{authSchemePreference:(0,Qb.normalizeProvider)(t.authSchemePreference??[])})}});var gxe,yxe,MV=te(()=>{gxe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),yxe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Cxe,$i,_xe,Qh,Uy,_f,ya,AI,qV,vxe,wxe,bxe,$V,UV,qi,jV,xI,RI,Exe,Sxe,Txe,Fkt,xxe,Rxe=te(()=>{Cxe="required",$i="argv",_xe="isSet",Qh="booleanEquals",Uy="error",_f="endpoint",ya="tree",AI="PartitionResult",qV="stringEquals",vxe={[Cxe]:!0,default:!1,type:"boolean"},wxe={[Cxe]:!1,type:"string"},bxe={ref:"Endpoint"},$V={fn:Qh,[$i]:[{ref:"UseFIPS"},!0]},UV={fn:Qh,[$i]:[{ref:"UseDualStack"},!0]},qi={},jV={fn:"getAttr",[$i]:[{ref:AI},"name"]},xI={fn:Qh,[$i]:[{ref:"UseFIPS"},!1]},RI={fn:Qh,[$i]:[{ref:"UseDualStack"},!1]},Exe={fn:"getAttr",[$i]:[{ref:AI},"supportsFIPS"]},Sxe={fn:Qh,[$i]:[!0,{fn:"getAttr",[$i]:[{ref:AI},"supportsDualStack"]}]},Txe=[{ref:"Region"}],Fkt={version:"1.0",parameters:{UseDualStack:vxe,UseFIPS:vxe,Endpoint:wxe,Region:wxe},rules:[{conditions:[{fn:_xe,[$i]:[bxe]}],rules:[{conditions:[$V],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Uy},{rules:[{conditions:[UV],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Uy},{endpoint:{url:bxe,properties:qi,headers:qi},type:_f}],type:ya}],type:ya},{rules:[{conditions:[{fn:_xe,[$i]:Txe}],rules:[{conditions:[{fn:"aws.partition",[$i]:Txe,assign:AI}],rules:[{conditions:[{fn:qV,[$i]:[jV,"aws"]},xI,RI],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:qi,headers:qi},type:_f},{conditions:[{fn:qV,[$i]:[jV,"aws-cn"]},xI,RI],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:qi,headers:qi},type:_f},{conditions:[{fn:qV,[$i]:[jV,"aws-us-gov"]},xI,RI],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:qi,headers:qi},type:_f},{conditions:[$V,UV],rules:[{conditions:[{fn:Qh,[$i]:[!0,Exe]},Sxe],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qi,headers:qi},type:_f}],type:ya},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Uy}],type:ya},{conditions:[$V,RI],rules:[{conditions:[{fn:Qh,[$i]:[Exe,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:qi,headers:qi},type:_f}],type:ya},{error:"FIPS is enabled but this partition does not support FIPS",type:Uy}],type:ya},{conditions:[xI,UV],rules:[{conditions:[Sxe],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qi,headers:qi},type:_f}],type:ya},{error:"DualStack is enabled but this partition does not support DualStack",type:Uy}],type:ya},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:qi,headers:qi},type:_f}],type:ya}],type:ya},{error:"Invalid Configuration: Missing Region",type:Uy}],type:ya}]},xxe=Fkt});var Axe,jy,Lkt,Pxe,Ixe=te(()=>{Axe=oe(Uh()),jy=oe(Vl());Rxe();Lkt=new jy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Pxe=(t,e={})=>Lkt.get(t,()=>(0,jy.resolveEndpoint)(xxe,{endpointParams:t,logger:e.logger}));jy.customEndpointFunctions.aws=Axe.awsEndpointFunctions});var Oxe,kxe,PI,II,Nxe,Dxe=te(()=>{oi();zh();Oi();Oxe=oe(jt()),kxe=oe(yc()),PI=oe(Gn()),II=oe(Wn());LV();Ixe();Nxe=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??PI.fromBase64,base64Encoder:t?.base64Encoder??PI.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Pxe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??pxe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ni},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new la}],logger:t?.logger??new Oxe.NoOpLogger,protocol:t?.protocol??new sf({defaultNamespace:"com.amazonaws.signin"}),serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??kxe.parseUrl,utf8Decoder:t?.utf8Decoder??II.fromUtf8,utf8Encoder:t?.utf8Encoder??II.toUtf8})});var OI,wf,Fxe,kI,vf,NI,DI,Lxe,Mxe,qxe,$xe,Uxe=te(()=>{B1();oi();OI=oe(xy()),wf=oe(Ps()),Fxe=oe(Ry()),kI=oe(da()),vf=oe(gu()),NI=oe(Bl()),DI=oe(jt()),Lxe=oe(Ay()),Mxe=oe(Py()),qxe=oe(Gh());Dxe();$xe=t=>{(0,DI.emitWarningIfUnsupportedVersion)(process.version);let e=(0,Mxe.resolveDefaultsModeConfig)(t),r=()=>e().then(DI.loadConfigsForDefaultMode),n=Nxe(t);Wl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,vf.loadConfig)(Kl,i),bodyLengthChecker:t?.bodyLengthChecker??Lxe.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,OI.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Cy.version}),maxAttempts:t?.maxAttempts??(0,vf.loadConfig)(kI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,vf.loadConfig)(wf.NODE_REGION_CONFIG_OPTIONS,{...wf.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:NI.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,vf.loadConfig)({...kI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qxe.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??Fxe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??NI.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,vf.loadConfig)(wf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,vf.loadConfig)(wf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,vf.loadConfig)(OI.NODE_APP_ID_CONFIG_OPTIONS,i)}}});var jxe,Bxe,Hxe=te(()=>{jxe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},Bxe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var FI,LI,MI,zxe,Vxe=te(()=>{FI=oe(Xh()),LI=oe(xr()),MI=oe(jt());Hxe();zxe=(t,e)=>{let r=Object.assign((0,FI.getAwsRegionExtensionConfiguration)(t),(0,MI.getDefaultExtensionConfiguration)(t),(0,LI.getHttpHandlerExtensionConfiguration)(t),jxe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,FI.resolveAwsRegionExtensionConfiguration)(r),(0,MI.resolveDefaultRuntimeConfig)(r),(0,LI.resolveHttpHandlerRuntimeConfig)(r),Bxe(r))}});var qI,Wxe,Gxe,$I,Kxe,Xxe,Jxe,UI,BV,eE,HV=te(()=>{qI=oe(Gg()),Wxe=oe(Kg()),Gxe=oe(Xg()),$I=oe(Vh()),Kxe=oe(Ps());Oi();pr();Xxe=oe(by()),Jxe=oe(yu()),UI=oe(da()),BV=oe(jt());LV();MV();Uxe();Vxe();eE=class extends BV.Client{config;constructor(...[e]){let r=$xe(e||{});super(r),this.initConfig=r;let n=gxe(r),i=(0,$I.resolveUserAgentConfig)(n),s=(0,UI.resolveRetryConfig)(i),o=(0,Kxe.resolveRegionConfig)(s),a=(0,qI.resolveHostHeaderConfig)(o),u=(0,Jxe.resolveEndpointConfig)(a),c=mxe(u),f=zxe(c,e?.extensions||[]);this.config=f,this.middlewareStack.use(Oh(this.config)),this.middlewareStack.use((0,$I.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,UI.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Xxe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,qI.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Wxe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Gxe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ph(this.config,{httpAuthSchemeParametersProvider:hxe,identityProviderConfigProvider:async d=>new gc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ih(this.config))}destroy(){super.destroy()}}});var Zxe,_a,jI=te(()=>{Zxe=oe(jt()),_a=class t extends Zxe.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var tE,rE,nE,iE,zV=te(()=>{jI();tE=class t extends _a{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},rE=class t extends _a{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},nE=class t extends _a{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},iE=class t extends _a{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var Mkt,qkt,$kt,Ukt,jkt,Bkt,Hkt,zkt,Vkt,Wkt,Gkt,Yxe,Qxe,VV,eRe,tRe,Kkt,bf,rRe,nRe,Xkt,WV,iRe,Ws,HI,BI,sRe,Jkt,oRe,aRe,cRe,Zkt,Ykt,uRe,ls,lRe,Qkt,eNt,tNt,rNt,nNt,iNt,sNt,oNt,aNt,uNt,fRe,dRe=te(()=>{pr();zV();jI();Mkt="AccessDeniedException",qkt="AccessToken",$kt="CreateOAuth2Token",Ukt="CreateOAuth2TokenRequest",jkt="CreateOAuth2TokenRequestBody",Bkt="CreateOAuth2TokenResponseBody",Hkt="CreateOAuth2TokenResponse",zkt="InternalServerException",Vkt="RefreshToken",Wkt="TooManyRequestsError",Gkt="ValidationException",Yxe="accessKeyId",Qxe="accessToken",VV="client",eRe="clientId",tRe="codeVerifier",Kkt="code",bf="error",rRe="expiresIn",nRe="grantType",Xkt="http",WV="httpError",iRe="idToken",Ws="jsonName",HI="message",BI="refreshToken",sRe="redirectUri",Jkt="server",oRe="secretAccessKey",aRe="sessionToken",cRe="smithy.ts.sdk.synthetic.com.amazonaws.signin",Zkt="tokenInput",Ykt="tokenOutput",uRe="tokenType",ls="com.amazonaws.signin",lRe=[0,ls,Vkt,8,0],Qkt=[-3,ls,Mkt,{[bf]:VV},[bf,HI],[0,0]];bt.for(ls).registerError(Qkt,tE);eNt=[3,ls,qkt,8,[Yxe,oRe,aRe],[[0,{[Ws]:Yxe}],[0,{[Ws]:oRe}],[0,{[Ws]:aRe}]]],tNt=[3,ls,Ukt,0,[Zkt],[[()=>rNt,16]]],rNt=[3,ls,jkt,0,[eRe,nRe,Kkt,sRe,tRe,BI],[[0,{[Ws]:eRe}],[0,{[Ws]:nRe}],0,[0,{[Ws]:sRe}],[0,{[Ws]:tRe}],[()=>lRe,{[Ws]:BI}]]],nNt=[3,ls,Hkt,0,[Ykt],[[()=>iNt,16]]],iNt=[3,ls,Bkt,0,[Qxe,uRe,rRe,BI,iRe],[[()=>eNt,{[Ws]:Qxe}],[0,{[Ws]:uRe}],[1,{[Ws]:rRe}],[()=>lRe,{[Ws]:BI}],[0,{[Ws]:iRe}]]],sNt=[-3,ls,zkt,{[bf]:Jkt,[WV]:500},[bf,HI],[0,0]];bt.for(ls).registerError(sNt,rE);oNt=[-3,ls,Wkt,{[bf]:VV,[WV]:429},[bf,HI],[0,0]];bt.for(ls).registerError(oNt,nE);aNt=[-3,ls,Gkt,{[bf]:VV,[WV]:400},[bf,HI],[0,0]];bt.for(ls).registerError(aNt,iE);uNt=[-3,cRe,"SigninServiceException",0,[],[]];bt.for(cRe).registerError(uNt,_a);fRe=[9,ls,$kt,{[Xkt]:["POST","/v1/token",200]},()=>tNt,()=>nNt]});var hRe,GV,sE,KV=te(()=>{hRe=oe(yu()),GV=oe(jt());MV();dRe();sE=class extends GV.Command.classBuilder().ep(yxe).m(function(e,r,n,i){return[(0,hRe.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(fRe).build(){}});var pRe,cNt,zI,mRe=te(()=>{pRe=oe(jt());KV();HV();cNt={CreateOAuth2TokenCommand:sE},zI=class extends eE{};(0,pRe.createAggregatedClient)(cNt,zI)});var gRe=te(()=>{KV()});var lNt,yRe=te(()=>{lNt={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var _Re={};Qi(_Re,{$Command:()=>GV.Command,AccessDeniedException:()=>tE,CreateOAuth2TokenCommand:()=>sE,InternalServerException:()=>rE,OAuth2ErrorCode:()=>lNt,Signin:()=>zI,SigninClient:()=>eE,SigninServiceException:()=>_a,TooManyRequestsError:()=>nE,ValidationException:()=>iE,__Client:()=>BV.Client});var vRe=te(()=>{HV();mRe();gRe();yRe();zV();jI()});var bRe=v(wRe=>{"use strict";var fNt=(Ro(),Wt(_c)),Ef=Di(),ZV=mu(),dNt=xr(),VI=require("node:crypto"),XV=require("node:fs"),hNt=require("node:os"),JV=require("node:path"),YV=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(e,r,n){this.profileData=e,this.init=r,this.callerClientConfig=n}async loadCredentials(){let e=await this.loadToken();if(!e)throw new Ef.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=e.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(vRe(),_Re)),{logger:i,userAgentAppId:s}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,u=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,c=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:u,requestHandler:a,logger:i,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(c.middlewareStack);let f={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let d=await c.send(new n(f)),{accessKeyId:h,secretAccessKey:p,sessionToken:m}=d.tokenOutput?.accessToken??{},{refreshToken:g,expiresIn:y}=d.tokenOutput??{};if(!h||!p||!m||!g)throw new Ef.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let w=(y??900)*1e3,S=new Date(Date.now()+w),E={...e,accessToken:{...e.accessToken,accessKeyId:h,secretAccessKey:p,sessionToken:m,expiresAt:S.toISOString()},refreshToken:g};await this.saveToken(E);let b=E.accessToken;return{accessKeyId:b.accessKeyId,secretAccessKey:b.secretAccessKey,sessionToken:b.sessionToken,accountId:b.accountId,expiration:S}}catch(d){if(d.name==="AccessDeniedException"){let h=d.error,p;switch(h){case"TOKEN_EXPIRED":p="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":p="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":p="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:p=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new Ef.CredentialsProviderError(p,{logger:this.logger,tryNextLink:!1})}throw new Ef.CredentialsProviderError(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let r;try{r=await ZV.readFile(e,{ignoreCache:this.init?.ignoreCache})}catch{r=await XV.promises.readFile(e,"utf8")}let n=JSON.parse(r),i=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!n[s]);if(n.accessToken?.accountId||i.push("accountId"),i.length>0)throw new Ef.CredentialsProviderError(`Token validation failed, missing fields: ${i.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new Ef.CredentialsProviderError(`Failed to load token from ${e}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let r=this.getTokenFilePath(),n=JV.dirname(r);try{await XV.promises.mkdir(n,{recursive:!0})}catch{}await XV.promises.writeFile(r,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??JV.join(hNt.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=VI.createHash("sha256").update(r).digest("hex");return JV.join(e,`${n}.json`)}derToRawSignature(e){let r=2;if(e[r]!==2)throw new Error("Invalid DER signature");r++;let n=e[r++],i=e.subarray(r,r+n);if(r+=n,e[r]!==2)throw new Error("Invalid DER signature");r++;let s=e[r++],o=e.subarray(r,r+s);i=i[0]===0?i.subarray(1):i,o=o[0]===0?o.subarray(1):o;let a=Buffer.concat([Buffer.alloc(32-i.length),i]),u=Buffer.concat([Buffer.alloc(32-o.length),o]);return Buffer.concat([a,u])}createDPoPInterceptor(e){e.add(r=>async n=>{if(dNt.HttpRequest.isInstance(n.request)){let i=n.request,s=`${i.protocol}//${i.hostname}${i.port?`:${i.port}`:""}${i.path}`,o=await this.generateDpop(i.method,s);i.headers={...i.headers,DPoP:o}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",r){let n=await this.loadToken();try{let i=VI.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),o=VI.createPublicKey(i).export({format:"der",type:"spki"}),a=-1;for(let S=0;S<o.length;S++)if(o[S]===4){a=S;break}let u=o.slice(a+1,a+33),c=o.slice(a+33,a+65),f={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:u.toString("base64url"),y:c.toString("base64url")}},d={jti:crypto.randomUUID(),htm:e,htu:r,iat:Math.floor(Date.now()/1e3)},h=Buffer.from(JSON.stringify(f)).toString("base64url"),p=Buffer.from(JSON.stringify(d)).toString("base64url"),m=`${h}.${p}`,g=VI.sign("sha256",Buffer.from(m),i),w=this.derToRawSignature(g).toString("base64url");return`${m}.${w}`}catch(i){throw new Ef.CredentialsProviderError(`Failed to generate Dpop proof: ${i instanceof Error?i.message:String(i)}`,{logger:this.logger,tryNextLink:!1})}}},pNt=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await ZV.parseKnownFiles(t||{}),n=ZV.getProfileName({profile:t?.profile??e?.profile}),i=r[n];if(!i?.login_session)throw new Ef.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let o=await new YV(i,t,e).loadCredentials();return fNt.setCredentialFeature(o,"CREDENTIALS_LOGIN","AD")};wRe.fromLoginCredentials=pNt});function mNt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function gNt(t){return{schemeId:"smithy.api#noAuth"}}var oE,ERe,SRe,yNt,TRe,QV=te(()=>{oi();oE=oe(ss());aE();ERe=async(t,e,r)=>({operation:(0,oE.getSmithyContext)(e).operation,region:await(0,oE.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});SRe=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(gNt(t));break}default:e.push(mNt(t))}return e},yNt=t=>Object.assign(t,{stsClientCtor:bu}),TRe=t=>{let e=yNt(t),r=vc(e);return Object.assign(r,{authSchemePreference:(0,oE.normalizeProvider)(t.authSchemePreference??[])})}});var CRe,WI,GI=te(()=>{CRe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),WI={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var LRe,Ot,ar,Sf,ui,MRe,qRe,tn,xRe,Eu,By,t5,RRe,e5,$Re,ARe,ci,PRe,URe,jRe,Ui,Gs,IRe,BRe,HRe,ORe,zRe,kRe,NRe,DRe,FRe,_Nt,VRe,WRe=te(()=>{LRe="required",Ot="type",ar="argv",Sf="booleanEquals",ui="stringEquals",MRe="sigv4",qRe="us-east-1",tn="endpoint",xRe="https://sts.{Region}.{PartitionResult#dnsSuffix}",Eu="tree",By="error",t5="getAttr",RRe={[LRe]:!1,[Ot]:"string"},e5={[LRe]:!0,default:!1,[Ot]:"boolean"},$Re={ref:"Endpoint"},ARe={fn:"isSet",[ar]:[{ref:"Region"}]},ci={ref:"Region"},PRe={fn:"aws.partition",[ar]:[ci],assign:"PartitionResult"},URe={ref:"UseFIPS"},jRe={ref:"UseDualStack"},Ui={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:MRe,signingName:"sts",signingRegion:qRe}]},headers:{}},Gs={},IRe={conditions:[{fn:ui,[ar]:[ci,"aws-global"]}],[tn]:Ui,[Ot]:tn},BRe={fn:Sf,[ar]:[URe,!0]},HRe={fn:Sf,[ar]:[jRe,!0]},ORe={fn:t5,[ar]:[{ref:"PartitionResult"},"supportsFIPS"]},zRe={ref:"PartitionResult"},kRe={fn:Sf,[ar]:[!0,{fn:t5,[ar]:[zRe,"supportsDualStack"]}]},NRe=[{fn:"isSet",[ar]:[$Re]}],DRe=[BRe],FRe=[HRe],_Nt={version:"1.0",parameters:{Region:RRe,UseDualStack:e5,UseFIPS:e5,Endpoint:RRe,UseGlobalEndpoint:e5},rules:[{conditions:[{fn:Sf,[ar]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ar]:NRe},ARe,PRe,{fn:Sf,[ar]:[URe,!1]},{fn:Sf,[ar]:[jRe,!1]}],rules:[{conditions:[{fn:ui,[ar]:[ci,"ap-northeast-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"ap-south-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"ap-southeast-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"ap-southeast-2"]}],endpoint:Ui,[Ot]:tn},IRe,{conditions:[{fn:ui,[ar]:[ci,"ca-central-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"eu-central-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"eu-north-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"eu-west-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"eu-west-2"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"eu-west-3"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"sa-east-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,qRe]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"us-east-2"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"us-west-1"]}],endpoint:Ui,[Ot]:tn},{conditions:[{fn:ui,[ar]:[ci,"us-west-2"]}],endpoint:Ui,[Ot]:tn},{endpoint:{url:xRe,properties:{authSchemes:[{name:MRe,signingName:"sts",signingRegion:"{Region}"}]},headers:Gs},[Ot]:tn}],[Ot]:Eu},{conditions:NRe,rules:[{conditions:DRe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ot]:By},{conditions:FRe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ot]:By},{endpoint:{url:$Re,properties:Gs,headers:Gs},[Ot]:tn}],[Ot]:Eu},{conditions:[ARe],rules:[{conditions:[PRe],rules:[{conditions:[BRe,HRe],rules:[{conditions:[{fn:Sf,[ar]:[!0,ORe]},kRe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gs,headers:Gs},[Ot]:tn}],[Ot]:Eu},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ot]:By}],[Ot]:Eu},{conditions:DRe,rules:[{conditions:[{fn:Sf,[ar]:[ORe,!0]}],rules:[{conditions:[{fn:ui,[ar]:[{fn:t5,[ar]:[zRe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Gs,headers:Gs},[Ot]:tn},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Gs,headers:Gs},[Ot]:tn}],[Ot]:Eu},{error:"FIPS is enabled but this partition does not support FIPS",[Ot]:By}],[Ot]:Eu},{conditions:FRe,rules:[{conditions:[kRe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gs,headers:Gs},[Ot]:tn}],[Ot]:Eu},{error:"DualStack is enabled but this partition does not support DualStack",[Ot]:By}],[Ot]:Eu},IRe,{endpoint:{url:xRe,properties:Gs,headers:Gs},[Ot]:tn}],[Ot]:Eu}],[Ot]:Eu},{error:"Invalid Configuration: Missing Region",[Ot]:By}]},VRe=_Nt});var GRe,Hy,vNt,KRe,XRe=te(()=>{GRe=oe(Uh()),Hy=oe(Vl());WRe();vNt=new Hy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),KRe=(t,e={})=>vNt.get(t,()=>(0,Hy.resolveEndpoint)(VRe,{endpointParams:t,logger:e.logger}));Hy.customEndpointFunctions.aws=GRe.awsEndpointFunctions});var JRe,ZRe,KI,XI,YRe,QRe=te(()=>{oi();zh();Oi();JRe=oe(jt()),ZRe=oe(yc()),KI=oe(Gn()),XI=oe(Wn());QV();XRe();YRe=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??KI.fromBase64,base64Encoder:t?.base64Encoder??KI.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??KRe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??SRe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Ni},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new la}],logger:t?.logger??new JRe.NoOpLogger,protocol:t?.protocol??new af({defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15"}),serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??ZRe.parseUrl,utf8Decoder:t?.utf8Decoder??XI.fromUtf8,utf8Encoder:t?.utf8Encoder??XI.toUtf8})});var JI,Cf,eAe,ZI,Tf,YI,QI,tAe,rAe,nAe,iAe,sAe=te(()=>{B1();oi();JI=oe(xy()),Cf=oe(Ps());Oi();eAe=oe(Ry()),ZI=oe(da()),Tf=oe(gu()),YI=oe(Bl()),QI=oe(jt()),tAe=oe(Ay()),rAe=oe(Py()),nAe=oe(Gh());QRe();iAe=t=>{(0,QI.emitWarningIfUnsupportedVersion)(process.version);let e=(0,rAe.resolveDefaultsModeConfig)(t),r=()=>e().then(QI.loadConfigsForDefaultMode),n=YRe(t);Wl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,Tf.loadConfig)(Kl,i),bodyLengthChecker:t?.bodyLengthChecker??tAe.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,JI.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Cy.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async o=>await t.credentialDefaultProvider(o?.__config||{})()),signer:new Ni},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new la}],maxAttempts:t?.maxAttempts??(0,Tf.loadConfig)(ZI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,Tf.loadConfig)(Cf.NODE_REGION_CONFIG_OPTIONS,{...Cf.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:YI.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Tf.loadConfig)({...ZI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||nAe.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??eAe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??YI.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Tf.loadConfig)(Cf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,Tf.loadConfig)(Cf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,Tf.loadConfig)(JI.NODE_APP_ID_CONFIG_OPTIONS,i)}}});var oAe,aAe,uAe=te(()=>{oAe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},aAe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var eO,tO,rO,cAe,lAe=te(()=>{eO=oe(Xh()),tO=oe(xr()),rO=oe(jt());uAe();cAe=(t,e)=>{let r=Object.assign((0,eO.getAwsRegionExtensionConfiguration)(t),(0,rO.getDefaultExtensionConfiguration)(t),(0,tO.getHttpHandlerExtensionConfiguration)(t),oAe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,eO.resolveAwsRegionExtensionConfiguration)(r),(0,rO.resolveDefaultRuntimeConfig)(r),(0,tO.resolveHttpHandlerRuntimeConfig)(r),aAe(r))}});var nO,fAe,dAe,iO,hAe,pAe,mAe,sO,r5,bu,aE=te(()=>{nO=oe(Gg()),fAe=oe(Kg()),dAe=oe(Xg()),iO=oe(Vh()),hAe=oe(Ps());Oi();pr();pAe=oe(by()),mAe=oe(yu()),sO=oe(da()),r5=oe(jt());QV();GI();sAe();lAe();bu=class extends r5.Client{config;constructor(...[e]){let r=iAe(e||{});super(r),this.initConfig=r;let n=CRe(r),i=(0,iO.resolveUserAgentConfig)(n),s=(0,sO.resolveRetryConfig)(i),o=(0,hAe.resolveRegionConfig)(s),a=(0,nO.resolveHostHeaderConfig)(o),u=(0,mAe.resolveEndpointConfig)(a),c=TRe(u),f=cAe(c,e?.extensions||[]);this.config=f,this.middlewareStack.use(Oh(this.config)),this.middlewareStack.use((0,iO.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,sO.getRetryPlugin)(this.config)),this.middlewareStack.use((0,pAe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,nO.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,fAe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,dAe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ph(this.config,{httpAuthSchemeParametersProvider:ERe,identityProviderConfigProvider:async d=>new gc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ih(this.config))}destroy(){super.destroy()}}});var gAe,Is,oO=te(()=>{gAe=oe(jt()),Is=class t extends gAe.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var uE,cE,lE,fE,dE,hE,pE,n5=te(()=>{oO();uE=class t extends Is{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},cE=class t extends Is{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},lE=class t extends Is{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},fE=class t extends Is{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},dE=class t extends Is{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},hE=class t extends Is{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},pE=class t extends Is{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var wNt,bNt,ENt,SNt,TNt,CNt,i5,xNt,RNt,ANt,PNt,s5,INt,yAe,ONt,kNt,NNt,DNt,FNt,LNt,MNt,qNt,_Ae,vAe,$Nt,UNt,jNt,BNt,HNt,zNt,wAe,VNt,WNt,bAe,GNt,EAe,KNt,XNt,o5,JNt,ZNt,YNt,QNt,eDt,tDt,rDt,nDt,iDt,sDt,ep,tp,oDt,rp,np,ip,aDt,SAe,uDt,_r,cDt,lDt,TAe,fDt,dDt,hDt,pDt,CAe,mDt,gDt,yDt,_Dt,vDt,wDt,bDt,EDt,SDt,TDt,CDt,xAe,xDt,RDt,RAe,AAe,a5=te(()=>{pr();n5();oO();wNt="Arn",bNt="AccessKeyId",ENt="AssumeRole",SNt="AssumedRoleId",TNt="AssumeRoleRequest",CNt="AssumeRoleResponse",i5="AssumedRoleUser",xNt="AssumeRoleWithWebIdentity",RNt="AssumeRoleWithWebIdentityRequest",ANt="AssumeRoleWithWebIdentityResponse",PNt="Audience",s5="Credentials",INt="ContextAssertion",yAe="DurationSeconds",ONt="Expiration",kNt="ExternalId",NNt="ExpiredTokenException",DNt="IDPCommunicationErrorException",FNt="IDPRejectedClaimException",LNt="InvalidIdentityTokenException",MNt="Key",qNt="MalformedPolicyDocumentException",_Ae="Policy",vAe="PolicyArns",$Nt="ProviderArn",UNt="ProvidedContexts",jNt="ProvidedContextsListType",BNt="ProvidedContext",HNt="PolicyDescriptorType",zNt="ProviderId",wAe="PackedPolicySize",VNt="PackedPolicyTooLargeException",WNt="Provider",bAe="RoleArn",GNt="RegionDisabledException",EAe="RoleSessionName",KNt="SecretAccessKey",XNt="SubjectFromWebIdentityToken",o5="SourceIdentity",JNt="SerialNumber",ZNt="SessionToken",YNt="Tags",QNt="TokenCode",eDt="TransitiveTagKeys",tDt="Tag",rDt="Value",nDt="WebIdentityToken",iDt="arn",sDt="accessKeySecretType",ep="awsQueryError",tp="client",oDt="clientTokenType",rp="error",np="httpError",ip="message",aDt="policyDescriptorListType",SAe="smithy.ts.sdk.synthetic.com.amazonaws.sts",uDt="tagListType",_r="com.amazonaws.sts",cDt=[0,_r,sDt,8,0],lDt=[0,_r,oDt,8,0],TAe=[3,_r,i5,0,[SNt,wNt],[0,0]],fDt=[3,_r,TNt,0,[bAe,EAe,vAe,_Ae,yAe,YNt,eDt,kNt,JNt,QNt,o5,UNt],[0,0,()=>xAe,0,1,()=>RDt,64,0,0,0,0,()=>xDt]],dDt=[3,_r,CNt,0,[s5,i5,wAe,o5],[[()=>CAe,0],()=>TAe,1,0]],hDt=[3,_r,RNt,0,[bAe,EAe,nDt,zNt,vAe,_Ae,yAe],[0,0,[()=>lDt,0],0,()=>xAe,0,1]],pDt=[3,_r,ANt,0,[s5,XNt,i5,wAe,WNt,PNt,o5],[[()=>CAe,0],0,()=>TAe,1,0,0,0]],CAe=[3,_r,s5,0,[bNt,KNt,ZNt,ONt],[0,[()=>cDt,0],0,4]],mDt=[-3,_r,NNt,{[rp]:tp,[np]:400,[ep]:["ExpiredTokenException",400]},[ip],[0]];bt.for(_r).registerError(mDt,uE);gDt=[-3,_r,DNt,{[rp]:tp,[np]:400,[ep]:["IDPCommunicationError",400]},[ip],[0]];bt.for(_r).registerError(gDt,pE);yDt=[-3,_r,FNt,{[rp]:tp,[np]:403,[ep]:["IDPRejectedClaim",403]},[ip],[0]];bt.for(_r).registerError(yDt,dE);_Dt=[-3,_r,LNt,{[rp]:tp,[np]:400,[ep]:["InvalidIdentityToken",400]},[ip],[0]];bt.for(_r).registerError(_Dt,hE);vDt=[-3,_r,qNt,{[rp]:tp,[np]:400,[ep]:["MalformedPolicyDocument",400]},[ip],[0]];bt.for(_r).registerError(vDt,cE);wDt=[-3,_r,VNt,{[rp]:tp,[np]:400,[ep]:["PackedPolicyTooLarge",400]},[ip],[0]];bt.for(_r).registerError(wDt,lE);bDt=[3,_r,HNt,0,[iDt],[0]],EDt=[3,_r,BNt,0,[$Nt,INt],[0,0]],SDt=[-3,_r,GNt,{[rp]:tp,[np]:403,[ep]:["RegionDisabledException",403]},[ip],[0]];bt.for(_r).registerError(SDt,fE);TDt=[3,_r,tDt,0,[MNt,rDt],[0,0]],CDt=[-3,SAe,"STSServiceException",0,[],[]];bt.for(SAe).registerError(CDt,Is);xAe=[1,_r,aDt,0,()=>bDt],xDt=[1,_r,jNt,0,()=>EDt],RDt=[1,_r,uDt,0,()=>TDt],RAe=[9,_r,ENt,0,()=>fDt,()=>dDt],AAe=[9,_r,xNt,0,()=>hDt,()=>pDt]});var PAe,IAe,sp,aO=te(()=>{PAe=oe(yu()),IAe=oe(jt());GI();a5();sp=class extends IAe.Command.classBuilder().ep(WI).m(function(e,r,n,i){return[(0,PAe.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(RAe).build(){}});var OAe,kAe,op,uO=te(()=>{OAe=oe(yu()),kAe=oe(jt());GI();a5();op=class extends kAe.Command.classBuilder().ep(WI).m(function(e,r,n,i){return[(0,OAe.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(AAe).build(){}});var NAe,ADt,cO,DAe=te(()=>{NAe=oe(jt());aO();uO();aE();ADt={AssumeRoleCommand:sp,AssumeRoleWithWebIdentityCommand:op},cO=class extends bu{};(0,NAe.createAggregatedClient)(ADt,cO)});var FAe=te(()=>{aO();uO()});var LAe,MAe,qAe,$Ae,UAe,jAe,BAe=te(()=>{Ro();LAe=oe(Xh());aO();uO();MAe=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},qAe=async(t,e,r,n={})=>{let i=typeof t=="function"?await t():t,s=typeof e=="function"?await e():e,o=await(0,LAe.stsRegionDefaultResolver)(n)();return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (credential provider clientConfig)`,`${s} (contextual client)`,`${o} (STS default: AWS_REGION, profile region, or us-east-1)`),i??s??o},$Ae=(t,e)=>{let r,n;return async(i,s)=>{if(n=i,!r){let{logger:f=t?.parentClientConfig?.logger,profile:d=t?.parentClientConfig?.profile,region:h,requestHandler:p=t?.parentClientConfig?.requestHandler,credentialProviderLogger:m,userAgentAppId:g=t?.parentClientConfig?.userAgentAppId}=t,y=await qAe(h,t?.parentClientConfig?.region,m,{logger:f,profile:d}),w=!jAe(p);r=new e({...t,userAgentAppId:g,profile:d,credentialDefaultProvider:()=>async()=>n,region:y,requestHandler:w?p:void 0,logger:f})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new sp(s));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let u=MAe(a),c={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...u&&{accountId:u}};return Gl(c,"CREDENTIALS_STS_ASSUME_ROLE","i"),c}},UAe=(t,e)=>{let r;return async n=>{if(!r){let{logger:u=t?.parentClientConfig?.logger,profile:c=t?.parentClientConfig?.profile,region:f,requestHandler:d=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:p=t?.parentClientConfig?.userAgentAppId}=t,m=await qAe(f,t?.parentClientConfig?.region,h,{logger:u,profile:c}),g=!jAe(d);r=new e({...t,userAgentAppId:p,profile:c,region:m,requestHandler:g?d:void 0,logger:u})}let{Credentials:i,AssumedRoleUser:s}=await r.send(new op(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=MAe(s),a={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...o&&{accountId:o}};return o&&Gl(a,"RESOLVED_ACCOUNT_ID","T"),Gl(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},jAe=t=>t?.metadata?.handlerProtocol==="h2"});var HAe,zAe,VAe,PDt,WAe=te(()=>{BAe();aE();HAe=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,zAe=(t={},e)=>$Ae(t,HAe(bu,e)),VAe=(t={},e)=>UAe(t,HAe(bu,e)),PDt=t=>e=>t({roleAssumer:zAe(e),roleAssumerWithWebIdentity:VAe(e),...e})});var u5={};Qi(u5,{AssumeRoleCommand:()=>sp,AssumeRoleWithWebIdentityCommand:()=>op,ExpiredTokenException:()=>uE,IDPCommunicationErrorException:()=>pE,IDPRejectedClaimException:()=>dE,InvalidIdentityTokenException:()=>hE,MalformedPolicyDocumentException:()=>cE,PackedPolicyTooLargeException:()=>lE,RegionDisabledException:()=>fE,STS:()=>cO,STSClient:()=>bu,STSServiceException:()=>Is,__Client:()=>r5.Client,decorateDefaultCredentialProvider:()=>PDt,getDefaultRoleAssumer:()=>zAe,getDefaultRoleAssumerWithWebIdentity:()=>VAe});var c5=te(()=>{aE();DAe();FAe();n5();WAe();oO()});var d5=v(GAe=>{"use strict";var f5=mu(),l5=Di(),IDt=require("child_process"),ODt=require("util"),kDt=(Ro(),Wt(_c)),NDt=(t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let s=new Date;if(new Date(e.Expiration)<s)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let n=e.AccountId;!n&&r?.[t]?.aws_account_id&&(n=r[t].aws_account_id);let i={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...n&&{accountId:n}};return kDt.setCredentialFeature(i,"CREDENTIALS_PROCESS","w"),i},DDt=async(t,e,r)=>{let n=e[t];if(e[t]){let i=n.credential_process;if(i!==void 0){let s=ODt.promisify(f5.externalDataInterceptor?.getTokenRecord?.().exec??IDt.exec);try{let{stdout:o}=await s(i),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return NDt(t,a,e)}catch(o){throw new l5.CredentialsProviderError(o.message,{logger:r})}}else throw new l5.CredentialsProviderError(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new l5.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`,{logger:r})},FDt=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await f5.parseKnownFiles(t);return DDt(f5.getProfileName({profile:t.profile??e?.profile}),r,t.logger)};GAe.fromProcess=FDt});var h5=v(Su=>{"use strict";var LDt=Su&&Su.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),MDt=Su&&Su.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),qDt=Su&&Su.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&LDt(r,e,n[i]);return MDt(r,e),r}})();Object.defineProperty(Su,"__esModule",{value:!0});Su.fromWebToken=void 0;var $Dt=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:i,providerId:s,policyArns:o,policy:a,durationSeconds:u}=t,{roleAssumerWithWebIdentity:c}=t;if(!c){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>qDt((c5(),Wt(u5))));c=f({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return c({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:i,ProviderId:s,PolicyArns:o,Policy:a,DurationSeconds:u})};Su.fromWebToken=$Dt});var XAe=v(lO=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0});lO.fromTokenFile=void 0;var UDt=(Ro(),Wt(_c)),jDt=Di(),BDt=mu(),HDt=require("fs"),zDt=h5(),KAe="AWS_WEB_IDENTITY_TOKEN_FILE",VDt="AWS_ROLE_ARN",WDt="AWS_ROLE_SESSION_NAME",GDt=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=t?.webIdentityTokenFile??process.env[KAe],n=t?.roleArn??process.env[VDt],i=t?.roleSessionName??process.env[WDt];if(!r||!n)throw new jDt.CredentialsProviderError("Web identity configuration not specified",{logger:t.logger});let s=await(0,zDt.fromWebToken)({...t,webIdentityToken:BDt.externalDataInterceptor?.getTokenRecord?.()[r]??(0,HDt.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:i})(e);return r===process.env[KAe]&&(0,UDt.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};lO.fromTokenFile=GDt});var p5=v(mE=>{"use strict";var JAe=XAe(),ZAe=h5();Object.keys(JAe).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(mE,t)&&Object.defineProperty(mE,t,{enumerable:!0,get:function(){return JAe[t]}})});Object.keys(ZAe).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(mE,t)&&Object.defineProperty(mE,t,{enumerable:!0,get:function(){return ZAe[t]}})})});var nPe=v(rPe=>{"use strict";var g5=mu(),gE=Di(),Ac=(Ro(),Wt(_c)),KDt=bRe(),XDt=(t,e,r)=>{let n={EcsContainer:async i=>{let{fromHttp:s}=await Promise.resolve().then(()=>oe(dV())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>oe(Ab()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>gE.chain(s(i??{}),o(i))().then(m5)},Ec2InstanceMetadata:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>oe(Ab()));return async()=>s(i)().then(m5)},Environment:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>oe(iV()));return async()=>s(i)().then(m5)}};if(t in n)return n[t];throw new gE.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},m5=t=>Ac.setCredentialFeature(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),JDt=(t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(ZDt(t,{profile:e,logger:r})||YDt(t,{profile:e,logger:r})),ZDt=(t,{profile:e,logger:r})=>{let n=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return n&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),n},YDt=(t,{profile:e,logger:r})=>{let n=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return n&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),n},QDt=async(t,e,r,n={},i)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=e[t],{source_profile:o,region:a}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>(c5(),u5));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(o&&o in n)throw new gE.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${g5.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${t}]`}`);let u=o?i(o,e,r,{...n,[o]:!0},YAe(e[o]??{})):(await XDt(s.credential_source,t,r.logger)(r))();if(YAe(s))return u.then(c=>Ac.setCredentialFeature(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:f}=s;if(f){if(!r.mfaCodeProvider)throw new gE.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=f,c.TokenCode=await r.mfaCodeProvider(f)}let d=await u;return r.roleAssumer(d,c).then(h=>Ac.setCredentialFeature(h,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},YAe=t=>!t.role_arn&&!!t.credential_source,eFt=t=>!!(t&&t.login_session),tFt=async(t,e)=>{let r=await KDt.fromLoginCredentials({...e,profile:t})();return Ac.setCredentialFeature(r,"CREDENTIALS_PROFILE_LOGIN","AC")},rFt=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",nFt=async(t,e)=>Promise.resolve().then(()=>oe(d5())).then(({fromProcess:r})=>r({...t,profile:e})().then(n=>Ac.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),iFt=async(t,e,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>oe(FV()));return n({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(i=>e.sso_session?Ac.setCredentialFeature(i,"CREDENTIALS_PROFILE_SSO","r"):Ac.setCredentialFeature(i,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},sFt=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),QAe=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,ePe=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return Ac.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},oFt=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,aFt=async(t,e)=>Promise.resolve().then(()=>oe(p5())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})().then(n=>Ac.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),tPe=async(t,e,r,n={},i=!1)=>{let s=e[t];if(Object.keys(n).length>0&&QAe(s))return ePe(s,r);if(i||JDt(s,{profile:t,logger:r.logger}))return QDt(t,e,r,n,tPe);if(QAe(s))return ePe(s,r);if(oFt(s))return aFt(s,r);if(rFt(s))return nFt(r,t);if(sFt(s))return await iFt(t,s,r);if(eFt(s))return tFt(t,r);throw new gE.CredentialsProviderError(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})},uFt=(t={})=>async({callerClientConfig:e}={})=>{let r={...t,parentClientConfig:{...e,...t.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await g5.parseKnownFiles(r);return tPe(g5.getProfileName({profile:t.profile??e?.profile}),n,r)};rPe.fromIni=uFt});var aPe=v(fO=>{"use strict";var y5=iV(),yE=Di(),cFt=mu(),iPe="AWS_EC2_METADATA_DISABLED",lFt=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:i}=await Promise.resolve().then(()=>oe(Ab()));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>oe(dV()));return yE.chain(s(t),n(t))}return process.env[iPe]&&process.env[iPe]!=="false"?async()=>{throw new yE.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),i(t))};function fFt(t,e){let r=dFt(t),n,i,s,o=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||e?.(s))if(s)i||(i=r(a).then(u=>{s=u,i=void 0}));else return n=r(a).then(u=>{s=u,n=void 0}),o(a);return s};return o}var dFt=t=>async e=>{let r;for(let n of t)try{return await n(e)}catch(i){if(r=i,i?.tryNextLink)continue;throw i}throw r},sPe=!1,hFt=(t={})=>fFt([async()=>{if(t.profile??process.env[cFt.ENV_PROFILE])throw process.env[y5.ENV_KEY]&&process.env[y5.ENV_SECRET]&&(sPe||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),sPe=!0)),new yE.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),y5.fromEnv(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoSession:o}=t;if(!r&&!n&&!i&&!s&&!o)throw new yE.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>oe(FV()));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>oe(nPe()));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>oe(d5()));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>oe(p5()));return r(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await lFt(t))()),async()=>{throw new yE.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],oPe),pFt=t=>t?.expiration!==void 0,oPe=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5;fO.credentialsTreatedAsExpired=oPe;fO.credentialsWillNeedRefresh=pFt;fO.defaultProvider=hFt});var EPe=v(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});dO.ruleSet=void 0;var _Pe="required",ji="fn",Bi="argv",Vy="ref",uPe=!0,cPe="isSet",wE="booleanEquals",zy="error",Tu="endpoint",Pc="tree",_5="PartitionResult",v5="getAttr",_E="stringEquals",lPe={[_Pe]:!1,type:"string"},fPe={[_Pe]:!0,default:!1,type:"boolean"},dPe={[Vy]:"Endpoint"},vPe={[ji]:wE,[Bi]:[{[Vy]:"UseFIPS"},!0]},wPe={[ji]:wE,[Bi]:[{[Vy]:"UseDualStack"},!0]},kn={},vE={[Vy]:"Region"},hPe={[ji]:v5,[Bi]:[{[Vy]:_5},"supportsFIPS"]},bPe={[Vy]:_5},pPe={[ji]:wE,[Bi]:[!0,{[ji]:v5,[Bi]:[bPe,"supportsDualStack"]}]},mPe=[vPe],gPe=[wPe],yPe=[vE],mFt={version:"1.0",parameters:{Region:lPe,UseDualStack:fPe,UseFIPS:fPe,Endpoint:lPe},rules:[{conditions:[{[ji]:cPe,[Bi]:[dPe]}],rules:[{conditions:mPe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:zy},{conditions:gPe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:zy},{endpoint:{url:dPe,properties:kn,headers:kn},type:Tu}],type:Pc},{conditions:[{[ji]:cPe,[Bi]:yPe}],rules:[{conditions:[{[ji]:"aws.partition",[Bi]:yPe,assign:_5}],rules:[{conditions:[vPe,wPe],rules:[{conditions:[{[ji]:wE,[Bi]:[uPe,hPe]},pPe],rules:[{conditions:[{[ji]:_E,[Bi]:[vE,"us-east-1"]}],endpoint:{url:"https://cognito-idp-fips.us-east-1.amazonaws.com",properties:kn,headers:kn},type:Tu},{conditions:[{[ji]:_E,[Bi]:[vE,"us-east-2"]}],endpoint:{url:"https://cognito-idp-fips.us-east-2.amazonaws.com",properties:kn,headers:kn},type:Tu},{conditions:[{[ji]:_E,[Bi]:[vE,"us-west-1"]}],endpoint:{url:"https://cognito-idp-fips.us-west-1.amazonaws.com",properties:kn,headers:kn},type:Tu},{conditions:[{[ji]:_E,[Bi]:[vE,"us-west-2"]}],endpoint:{url:"https://cognito-idp-fips.us-west-2.amazonaws.com",properties:kn,headers:kn},type:Tu},{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kn,headers:kn},type:Tu}],type:Pc},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:zy}],type:Pc},{conditions:mPe,rules:[{conditions:[{[ji]:wE,[Bi]:[hPe,uPe]}],rules:[{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dnsSuffix}",properties:kn,headers:kn},type:Tu}],type:Pc},{error:"FIPS is enabled but this partition does not support FIPS",type:zy}],type:Pc},{conditions:gPe,rules:[{conditions:[pPe],rules:[{conditions:[{[ji]:_E,[Bi]:["aws",{[ji]:v5,[Bi]:[bPe,"name"]}]}],endpoint:{url:"https://cognito-idp.{Region}.amazonaws.com",properties:kn,headers:kn},type:Tu},{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:kn,headers:kn},type:Tu}],type:Pc},{error:"DualStack is enabled but this partition does not support DualStack",type:zy}],type:Pc},{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dnsSuffix}",properties:kn,headers:kn},type:Tu}],type:Pc}],type:Pc},{error:"Invalid Configuration: Missing Region",type:zy}]};dO.ruleSet=mFt});var SPe=v(hO=>{"use strict";Object.defineProperty(hO,"__esModule",{value:!0});hO.defaultEndpointResolver=void 0;var gFt=Uh(),w5=Vl(),yFt=EPe(),_Ft=new w5.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),vFt=(t,e={})=>_Ft.get(t,()=>(0,w5.resolveEndpoint)(yFt.ruleSet,{endpointParams:t,logger:e.logger}));hO.defaultEndpointResolver=vFt;w5.customEndpointFunctions.aws=gFt.awsEndpointFunctions});var xPe=v(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});pO.getRuntimeConfig=void 0;var wFt=(oi(),Wt(uf)),bFt=(zh(),Wt(M6)),EFt=(Oi(),Wt(qh)),SFt=jt(),TFt=yc(),TPe=Gn(),CPe=Wn(),CFt=nV(),xFt=SPe(),RFt=t=>({apiVersion:"2016-04-18",base64Decoder:t?.base64Decoder??TPe.fromBase64,base64Encoder:t?.base64Encoder??TPe.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??xFt.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??CFt.defaultCognitoIdentityProviderHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new wFt.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new EFt.NoAuthSigner}],logger:t?.logger??new SFt.NoOpLogger,protocol:t?.protocol??new bFt.AwsJson1_1Protocol({defaultNamespace:"com.amazonaws.cognitoidentityprovider",serviceTarget:"AWSCognitoIdentityProviderService",awsQueryCompatible:!1}),serviceId:t?.serviceId??"Cognito Identity Provider",urlParser:t?.urlParser??TFt.parseUrl,utf8Decoder:t?.utf8Decoder??CPe.fromUtf8,utf8Encoder:t?.utf8Encoder??CPe.toUtf8});pO.getRuntimeConfig=RFt});var kPe=v(gO=>{"use strict";Object.defineProperty(gO,"__esModule",{value:!0});gO.getRuntimeConfig=void 0;var AFt=(lb(),Wt(cb)),PFt=AFt.__importDefault(TSe()),RPe=(oi(),Wt(uf)),IFt=aPe(),APe=xy(),mO=Ps(),OFt=Ry(),PPe=da(),ap=gu(),IPe=Bl(),OPe=jt(),kFt=Ay(),NFt=Py(),DFt=Gh(),FFt=xPe(),LFt=t=>{(0,OPe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,NFt.resolveDefaultsModeConfig)(t),r=()=>e().then(OPe.loadConfigsForDefaultMode),n=(0,FFt.getRuntimeConfig)(t);(0,RPe.emitWarningIfUnsupportedVersion)(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,ap.loadConfig)(RPe.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:t?.bodyLengthChecker??kFt.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??IFt.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,APe.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:PFt.default.version}),maxAttempts:t?.maxAttempts??(0,ap.loadConfig)(PPe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,ap.loadConfig)(mO.NODE_REGION_CONFIG_OPTIONS,{...mO.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:IPe.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,ap.loadConfig)({...PPe.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||DFt.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??OFt.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??IPe.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,ap.loadConfig)(mO.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,ap.loadConfig)(mO.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,ap.loadConfig)(APe.NODE_APP_ID_CONFIG_OPTIONS,i)}};gO.getRuntimeConfig=LFt});var cke=v(G=>{"use strict";var NPe=Gg(),MFt=Kg(),qFt=Xg(),DPe=Vh(),$Ft=Ps(),Fo=(Oi(),Wt(qh)),tt=(pr(),Wt(CP)),UFt=by(),be=yu(),FPe=da(),ve=jt(),LPe=nV(),jFt=kPe(),MPe=Xh(),qPe=xr(),BFt=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"cognito-idp"}),Ee={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},HFt=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},zFt=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),VFt=(t,e)=>{let r=Object.assign(MPe.getAwsRegionExtensionConfiguration(t),ve.getDefaultExtensionConfiguration(t),qPe.getHttpHandlerExtensionConfiguration(t),HFt(t));return e.forEach(n=>n.configure(r)),Object.assign(t,MPe.resolveAwsRegionExtensionConfiguration(r),ve.resolveDefaultRuntimeConfig(r),qPe.resolveHttpHandlerRuntimeConfig(r),zFt(r))},Ks=class extends ve.Client{config;constructor(...[e]){let r=jFt.getRuntimeConfig(e||{});super(r),this.initConfig=r;let n=BFt(r),i=DPe.resolveUserAgentConfig(n),s=FPe.resolveRetryConfig(i),o=$Ft.resolveRegionConfig(s),a=NPe.resolveHostHeaderConfig(o),u=be.resolveEndpointConfig(a),c=LPe.resolveHttpAuthSchemeConfig(u),f=VFt(c,e?.extensions||[]);this.config=f,this.middlewareStack.use(tt.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(DPe.getUserAgentPlugin(this.config)),this.middlewareStack.use(FPe.getRetryPlugin(this.config)),this.middlewareStack.use(UFt.getContentLengthPlugin(this.config)),this.middlewareStack.use(NPe.getHostHeaderPlugin(this.config)),this.middlewareStack.use(MFt.getLoggerPlugin(this.config)),this.middlewareStack.use(qFt.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Fo.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:LPe.defaultCognitoIdentityProviderHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async d=>new Fo.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Fo.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},rt=class $Pe extends ve.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,$Pe.prototype)}},UPe=class jPe extends rt{name="InternalErrorException";$fault="server";constructor(e){super({name:"InternalErrorException",$fault:"server",...e}),Object.setPrototypeOf(this,jPe.prototype)}},BPe=class HPe extends rt{name="InvalidParameterException";$fault="client";reasonCode;constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,HPe.prototype),this.reasonCode=e.reasonCode}},zPe=class VPe extends rt{name="NotAuthorizedException";$fault="client";constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,VPe.prototype)}},WPe=class GPe extends rt{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,GPe.prototype)}},KPe=class XPe extends rt{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,XPe.prototype)}},JPe=class ZPe extends rt{name="UserImportInProgressException";$fault="client";constructor(e){super({name:"UserImportInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,ZPe.prototype)}},YPe=class QPe extends rt{name="UserNotFoundException";$fault="client";constructor(e){super({name:"UserNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,QPe.prototype)}},e1e=class t1e extends rt{name="InvalidLambdaResponseException";$fault="client";constructor(e){super({name:"InvalidLambdaResponseException",$fault:"client",...e}),Object.setPrototypeOf(this,t1e.prototype)}},r1e=class n1e extends rt{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,n1e.prototype)}},i1e=class s1e extends rt{name="TooManyFailedAttemptsException";$fault="client";constructor(e){super({name:"TooManyFailedAttemptsException",$fault:"client",...e}),Object.setPrototypeOf(this,s1e.prototype)}},o1e=class a1e extends rt{name="UnexpectedLambdaException";$fault="client";constructor(e){super({name:"UnexpectedLambdaException",$fault:"client",...e}),Object.setPrototypeOf(this,a1e.prototype)}},u1e=class c1e extends rt{name="UserLambdaValidationException";$fault="client";constructor(e){super({name:"UserLambdaValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,c1e.prototype)}},l1e=class f1e extends rt{name="CodeDeliveryFailureException";$fault="client";constructor(e){super({name:"CodeDeliveryFailureException",$fault:"client",...e}),Object.setPrototypeOf(this,f1e.prototype)}},d1e=class h1e extends rt{name="InvalidPasswordException";$fault="client";constructor(e){super({name:"InvalidPasswordException",$fault:"client",...e}),Object.setPrototypeOf(this,h1e.prototype)}},p1e=class m1e extends rt{name="InvalidSmsRoleAccessPolicyException";$fault="client";constructor(e){super({name:"InvalidSmsRoleAccessPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,m1e.prototype)}},g1e=class y1e extends rt{name="InvalidSmsRoleTrustRelationshipException";$fault="client";constructor(e){super({name:"InvalidSmsRoleTrustRelationshipException",$fault:"client",...e}),Object.setPrototypeOf(this,y1e.prototype)}},_1e=class v1e extends rt{name="PreconditionNotMetException";$fault="client";constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),Object.setPrototypeOf(this,v1e.prototype)}},w1e=class b1e extends rt{name="UnsupportedUserStateException";$fault="client";constructor(e){super({name:"UnsupportedUserStateException",$fault:"client",...e}),Object.setPrototypeOf(this,b1e.prototype)}},E1e=class S1e extends rt{name="UsernameExistsException";$fault="client";constructor(e){super({name:"UsernameExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,S1e.prototype)}},T1e=class C1e extends rt{name="AliasExistsException";$fault="client";constructor(e){super({name:"AliasExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,C1e.prototype)}},x1e=class R1e extends rt{name="InvalidUserPoolConfigurationException";$fault="client";constructor(e){super({name:"InvalidUserPoolConfigurationException",$fault:"client",...e}),Object.setPrototypeOf(this,R1e.prototype)}},A1e=class P1e extends rt{name="InvalidEmailRoleAccessPolicyException";$fault="client";constructor(e){super({name:"InvalidEmailRoleAccessPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,P1e.prototype)}},I1e=class O1e extends rt{name="MFAMethodNotFoundException";$fault="client";constructor(e){super({name:"MFAMethodNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,O1e.prototype)}},k1e=class N1e extends rt{name="PasswordResetRequiredException";$fault="client";constructor(e){super({name:"PasswordResetRequiredException",$fault:"client",...e}),Object.setPrototypeOf(this,N1e.prototype)}},D1e=class F1e extends rt{name="UnsupportedOperationException";$fault="client";constructor(e){super({name:"UnsupportedOperationException",$fault:"client",...e}),Object.setPrototypeOf(this,F1e.prototype)}},L1e=class M1e extends rt{name="UserNotConfirmedException";$fault="client";constructor(e){super({name:"UserNotConfirmedException",$fault:"client",...e}),Object.setPrototypeOf(this,M1e.prototype)}},q1e=class $1e extends rt{name="UserPoolAddOnNotEnabledException";$fault="client";constructor(e){super({name:"UserPoolAddOnNotEnabledException",$fault:"client",...e}),Object.setPrototypeOf(this,$1e.prototype)}},U1e=class j1e extends rt{name="CodeMismatchException";$fault="client";constructor(e){super({name:"CodeMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,j1e.prototype)}},B1e=class H1e extends rt{name="ExpiredCodeException";$fault="client";constructor(e){super({name:"ExpiredCodeException",$fault:"client",...e}),Object.setPrototypeOf(this,H1e.prototype)}},z1e=class V1e extends rt{name="PasswordHistoryPolicyViolationException";$fault="client";constructor(e){super({name:"PasswordHistoryPolicyViolationException",$fault:"client",...e}),Object.setPrototypeOf(this,V1e.prototype)}},W1e=class G1e extends rt{name="SoftwareTokenMFANotFoundException";$fault="client";constructor(e){super({name:"SoftwareTokenMFANotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,G1e.prototype)}},K1e=class X1e extends rt{name="ConcurrentModificationException";$fault="client";constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e}),Object.setPrototypeOf(this,X1e.prototype)}},J1e=class Z1e extends rt{name="ForbiddenException";$fault="client";constructor(e){super({name:"ForbiddenException",$fault:"client",...e}),Object.setPrototypeOf(this,Z1e.prototype)}},Y1e=class Q1e extends rt{name="WebAuthnChallengeNotFoundException";$fault="client";constructor(e){super({name:"WebAuthnChallengeNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,Q1e.prototype)}},eIe=class tIe extends rt{name="WebAuthnClientMismatchException";$fault="client";constructor(e){super({name:"WebAuthnClientMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,tIe.prototype)}},rIe=class nIe extends rt{name="WebAuthnCredentialNotSupportedException";$fault="client";constructor(e){super({name:"WebAuthnCredentialNotSupportedException",$fault:"client",...e}),Object.setPrototypeOf(this,nIe.prototype)}},iIe=class sIe extends rt{name="WebAuthnNotEnabledException";$fault="client";constructor(e){super({name:"WebAuthnNotEnabledException",$fault:"client",...e}),Object.setPrototypeOf(this,sIe.prototype)}},oIe=class aIe extends rt{name="WebAuthnOriginNotAllowedException";$fault="client";constructor(e){super({name:"WebAuthnOriginNotAllowedException",$fault:"client",...e}),Object.setPrototypeOf(this,aIe.prototype)}},uIe=class cIe extends rt{name="WebAuthnRelyingPartyMismatchException";$fault="client";constructor(e){super({name:"WebAuthnRelyingPartyMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,cIe.prototype)}},lIe=class fIe extends rt{name="DeviceKeyExistsException";$fault="client";constructor(e){super({name:"DeviceKeyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,fIe.prototype)}},dIe=class hIe extends rt{name="GroupExistsException";$fault="client";constructor(e){super({name:"GroupExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,hIe.prototype)}},pIe=class mIe extends rt{name="DuplicateProviderException";$fault="client";constructor(e){super({name:"DuplicateProviderException",$fault:"client",...e}),Object.setPrototypeOf(this,mIe.prototype)}},gIe=class yIe extends rt{name="ManagedLoginBrandingExistsException";$fault="client";constructor(e){super({name:"ManagedLoginBrandingExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,yIe.prototype)}},_Ie=class vIe extends rt{name="TermsExistsException";$fault="client";constructor(e){super({name:"TermsExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,vIe.prototype)}},wIe=class bIe extends rt{name="FeatureUnavailableInTierException";$fault="client";constructor(e){super({name:"FeatureUnavailableInTierException",$fault:"client",...e}),Object.setPrototypeOf(this,bIe.prototype)}},EIe=class SIe extends rt{name="TierChangeNotAllowedException";$fault="client";constructor(e){super({name:"TierChangeNotAllowedException",$fault:"client",...e}),Object.setPrototypeOf(this,SIe.prototype)}},TIe=class CIe extends rt{name="UserPoolTaggingException";$fault="client";constructor(e){super({name:"UserPoolTaggingException",$fault:"client",...e}),Object.setPrototypeOf(this,CIe.prototype)}},xIe=class RIe extends rt{name="InvalidOAuthFlowException";$fault="client";constructor(e){super({name:"InvalidOAuthFlowException",$fault:"client",...e}),Object.setPrototypeOf(this,RIe.prototype)}},AIe=class PIe extends rt{name="ScopeDoesNotExistException";$fault="client";constructor(e){super({name:"ScopeDoesNotExistException",$fault:"client",...e}),Object.setPrototypeOf(this,PIe.prototype)}},IIe=class OIe extends rt{name="UnsupportedIdentityProviderException";$fault="client";constructor(e){super({name:"UnsupportedIdentityProviderException",$fault:"client",...e}),Object.setPrototypeOf(this,OIe.prototype)}},kIe=class NIe extends rt{name="RefreshTokenReuseException";$fault="client";constructor(e){super({name:"RefreshTokenReuseException",$fault:"client",...e}),Object.setPrototypeOf(this,NIe.prototype)}},DIe=class FIe extends rt{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,FIe.prototype)}},LIe=class MIe extends rt{name="UnsupportedTokenTypeException";$fault="client";constructor(e){super({name:"UnsupportedTokenTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,MIe.prototype)}},qIe=class $Ie extends rt{name="WebAuthnConfigurationMissingException";$fault="client";constructor(e){super({name:"WebAuthnConfigurationMissingException",$fault:"client",...e}),Object.setPrototypeOf(this,$Ie.prototype)}},UIe=class jIe extends rt{name="EnableSoftwareTokenMFAException";$fault="client";constructor(e){super({name:"EnableSoftwareTokenMFAException",$fault:"client",...e}),Object.setPrototypeOf(this,jIe.prototype)}},BIe="Actions",WFt="ApplicationArn",GFt="AllowAdminCreateUserOnly",KFt="AdminAddUserToGroup",XFt="AdminAddUserToGroupRequest",HIe="AliasAttributes",JFt="AuthenticatorAttachment",zIe="AvailableChallenges",ZFt="AddCustomAttributes",YFt="AddCustomAttributesRequest",QFt="AddCustomAttributesResponse",eLt="AdminConfirmSignUp",tLt="AdminConfirmSignUpRequest",rLt="AdminConfirmSignUpResponse",nLt="AnalyticsConfigurationType",iLt="AdminCreateUser",T5="AdminCreateUserConfig",sLt="AdminCreateUserConfigType",oLt="AdminCreateUserRequest",aLt="AdminCreateUserResponse",C5="AnalyticsConfiguration",uLt="AdminDisableProviderForUser",cLt="AdminDisableProviderForUserRequest",lLt="AdminDisableProviderForUserResponse",fLt="AttributeDataType",dLt="AdminDeleteUser",hLt="AdminDeleteUserAttributes",pLt="AdminDeleteUserAttributesRequest",mLt="AdminDeleteUserAttributesResponse",gLt="AdminDeleteUserRequest",yLt="AdminDisableUserRequest",_Lt="AdminDisableUserResponse",vLt="AdminDisableUser",wLt="AuthEvents",bLt="AliasExistsException",ELt="AnalyticsEndpointId",SLt="AuthEventType",TLt="AuthEventsType",CLt="AdminEnableUser",xLt="AdminEnableUserRequest",RLt="AdminEnableUserResponse",VIe="AuthFlow",ALt="AllowedFirstAuthFactors",PLt="AdminForgetDevice",ILt="AdminForgetDeviceRequest",OLt="AdminGetDevice",kLt="AdminGetDeviceRequest",NLt="AdminGetDeviceResponse",DLt="AdminGetUser",FLt="AdminGetUserRequest",LLt="AdminGetUserResponse",MLt="ApplicationId",qLt="AdminInitiateAuth",$Lt="AdminInitiateAuthRequest",ULt="AdminInitiateAuthResponse",jLt="AdminListDevices",BLt="AdminListDevicesRequest",HLt="AdminListDevicesResponse",zLt="AdminListGroupsForUser",VLt="AdminListGroupsForUserRequest",WLt="AdminListGroupsForUserResponse",GLt="AdminLinkProviderForUser",KLt="AdminLinkProviderForUserRequest",XLt="AdminLinkProviderForUserResponse",JLt="AssetListType",ZLt="AttributeListType",YLt="AdminListUserAuthEvents",QLt="AdminListUserAuthEventsRequest",eMt="AdminListUserAuthEventsResponse",Ic="AnalyticsMetadata",tMt="AnalyticsMetadataType",x5="AttributeMapping",wN="AttributeName",R5="AllowedOAuthFlows",A5="AllowedOAuthFlowsUserPoolClient",P5="AllowedOAuthScopes",WIe="AuthParameters",rMt="AuthParametersType",IE="AuthenticationResult",I5="AccountRecoverySetting",nMt="AccountRecoverySettingType",iMt="AuthenticationResultType",sMt="AdminRespondToAuthChallenge",oMt="AdminRespondToAuthChallengeRequest",aMt="AdminRespondToAuthChallengeResponse",uMt="AdminRemoveUserFromGroup",cMt="AdminRemoveUserFromGroupRequest",lMt="AdminResetUserPassword",fMt="AdminResetUserPasswordRequest",dMt="AdminResetUserPasswordResponse",hMt="AttributesRequireVerificationBeforeUpdate",pMt="AdvancedSecurityAdditionalFlows",mMt="AdvancedSecurityAdditionalFlowsType",gMt="AdvancedSecurityMode",yMt="AssociateSoftwareToken",_Mt="AssociateSoftwareTokenRequest",vMt="AssociateSoftwareTokenResponse",wMt="AdminSetUserMFAPreference",bMt="AdminSetUserMFAPreferenceRequest",EMt="AdminSetUserMFAPreferenceResponse",SMt="AdminSetUserPassword",TMt="AdminSetUserPasswordRequest",CMt="AdminSetUserPasswordResponse",xMt="AdminSetUserSettings",RMt="AdminSetUserSettingsRequest",AMt="AdminSetUserSettingsResponse",O5="AuthSessionValidity",PMt="AssetType",IMt="AccountTakeoverActionsType",OMt="AccountTakeoverActionType",kMt="AttributesToGet",GIe="AccountTakeoverRiskConfiguration",NMt="AccountTakeoverRiskConfigurationType",k5="AccessTokenValidity",rn="AccessToken",DMt="AttributeType",FMt="AuthenticatorTransports",LMt="AdminUpdateAuthEventFeedback",MMt="AdminUpdateAuthEventFeedbackRequest",qMt="AdminUpdateAuthEventFeedbackResponse",$Mt="AdminUpdateDeviceStatus",UMt="AdminUpdateDeviceStatusRequest",jMt="AdminUpdateDeviceStatusResponse",BMt="AdminUserGlobalSignOut",HMt="AdminUserGlobalSignOutRequest",zMt="AdminUserGlobalSignOutResponse",VMt="AdminUpdateUserAttributes",WMt="AdminUpdateUserAttributesRequest",GMt="AdminUpdateUserAttributesResponse",N5="AutoVerifiedAttributes",KMt="AttributeValueType",XMt="AWSAccountId",JMt="Arn",D5="Assets",ZMt="Attributes",YMt="Bytes",QMt="BucketArn",eqt="BlockEmail",tqt="BlockedIPRangeList",rqt="Category",nqt="CustomAttributes",iqt="CreateAuthChallenge",sqt="CustomAttributesListType",oqt="CustomAuthMode",aqt="CertificateArn",uqt="CreatedAt",KIe="ConfirmationCode",cqt="CompromisedCredentialsActionsType",lqt="CompromisedCredentialsDetected",fqt="CredentialCreationOptions",XIe="CompromisedCredentialsRiskConfiguration",dqt="CompromisedCredentialsRiskConfigurationType",JIe="ContextData",F5="CustomDomainConfig",hqt="CustomDomainConfigType",bN="CodeDeliveryDetails",pqt="CodeDeliveryDetailsList",mqt="CodeDeliveryDetailsListType",gqt="CodeDeliveryDetailsType",yqt="CodeDeliveryFailureException",_qt="ConfirmDeviceRequest",vqt="ConfirmDeviceResponse",wqt="ContextDataType",bqt="CompletionDate",Eqt="ConfirmDevice",Lo="CreationDate",Sqt="CustomDomain",Tqt="CustomEmailLambdaVersionConfigType",Cqt="CustomEmailSender",ZIe="CloudFrontDomain",xqt="CloudFrontDistribution",Rqt="ConfirmForgotPassword",Aqt="ConfirmForgotPasswordRequest",Pqt="ConfirmForgotPasswordResponse",Iqt="CreateGroup",Oqt="CreateGroupRequest",kqt="CreateGroupResponse",$r="ClientId",Nqt="CreateIdentityProvider",Dqt="CreateIdentityProviderRequest",Fqt="CreateIdentityProviderResponse",Lqt="ClientIdType",YIe="CredentialId",Hi="ClientMetadata",Mqt="CodeMismatchException",qqt="ConcurrentModificationException",$qt="CreateManagedLoginBranding",Uqt="CreateManagedLoginBrandingRequest",jqt="CreateManagedLoginBrandingResponse",Bqt="ColorMode",Hqt="CompletionMessage",zqt="CustomMessage",up="ChallengeName",EN="ClientName",SN="ChallengeParameters",Vqt="ChangePasswordRequest",Wqt="ChangePasswordResponse",Gqt="ChangePassword",L5="ChallengeResponses",Kqt="ChallengeResponseListType",Xqt="ChallengeRequiredOnNewDevice",Jqt="CreateResourceServer",Zqt="CreateResourceServerRequest",Yqt="CreateResourceServerResponse",Qqt="ChallengeResponseType",e$t="ChallengeResponsesType",t$t="ChallengeResponse",r$t="ConfigurationSet",n$t="CustomSMSLambdaVersionConfigType",i$t="CustomSMSSender",QIe="CSS",s$t="CSSVersion",o$t="ClientSecretType",a$t="ConfirmSignUp",u$t="ConfirmSignUpRequest",c$t="ConfirmSignUpResponse",l$t="CSVHeader",f$t="CaseSensitive",M5="ClientSecret",d$t="CreateTerms",h$t="CreateTermsRequest",p$t="CreateTermsResponse",m$t="ConfiguredUserAuthFactors",g$t="CreateUserImportJob",y$t="CreateUserImportJobRequest",_$t="CreateUserImportJobResponse",v$t="CreateUserPool",w$t="CreateUserPoolClient",b$t="CreateUserPoolClientRequest",E$t="CreateUserPoolClientResponse",S$t="CreateUserPoolDomain",T$t="CreateUserPoolDomainRequest",C$t="CreateUserPoolDomainResponse",x$t="CreateUserPoolRequest",R$t="CreateUserPoolResponse",q5="CallbackURLs",A$t="CompleteWebAuthnRegistration",P$t="CompleteWebAuthnRegistrationRequest",I$t="CompleteWebAuthnRegistrationResponse",O$t="CloudWatchLogsConfiguration",k$t="CloudWatchLogsConfigurationType",eOe="CloudWatchLogsRoleArn",N$t="Certificate",D$t="City",F$t="Country",L$t="Code",M$t="Credential",q$t="Credentials",tOe="Device",$$t="DeviceAttributes",U$t="DefineAuthChallenge",$5="DeviceConfiguration",j$t="DeviceCreateDate",B$t="DeviceConfigurationType",H$t="DomainDescription",z$t="DesiredDeliveryMediums",V$t="DomainDescriptionType",W$t="DefaultEmailOption",G$t="DeleteGroup",K$t="DeviceGroupKey",X$t="DeleteGroupRequest",J$t="DeleteIdentityProvider",Z$t="DeleteIdentityProviderRequest",Y$t="DescribeIdentityProviderRequest",Q$t="DescribeIdentityProviderResponse",eUt="DescribeIdentityProvider",xu="DeviceKey",tUt="DeviceKeyExistsException",rUt="DeviceLastAuthenticatedDate",nUt="DeviceLastModifiedDate",iUt="DeviceListType",rOe="DeliveryMedium",sUt="DeleteManagedLoginBranding",oUt="DescribeManagedLoginBrandingByClient",aUt="DescribeManagedLoginBrandingByClientRequest",uUt="DescribeManagedLoginBrandingByClientResponse",cUt="DeleteManagedLoginBrandingRequest",lUt="DescribeManagedLoginBrandingRequest",fUt="DescribeManagedLoginBrandingResponse",dUt="DescribeManagedLoginBranding",nOe="DeviceName",hUt="DeveloperOnlyAttribute",pUt="DeviceOnlyRememberedOnUserPrompt",U5="DeletionProtection",mUt="DuplicateProviderException",gUt="DescribeRiskConfiguration",yUt="DescribeRiskConfigurationRequest",_Ut="DescribeRiskConfigurationResponse",iOe="DeviceRememberedStatus",vUt="DeleteResourceServerRequest",wUt="DescribeResourceServerRequest",bUt="DescribeResourceServerResponse",EUt="DeleteResourceServer",SUt="DescribeResourceServer",j5="DefaultRedirectURI",TUt="DeviceSecretVerifierConfig",CUt="DeviceSecretVerifierConfigType",xUt="DeviceType",RUt="DeleteTermsRequest",AUt="DescribeTermsRequest",PUt="DescribeTermsResponse",IUt="DeleteTerms",OUt="DescribeTerms",kUt="DestinationUser",NUt="DeleteUserAttributes",DUt="DeleteUserAttributesRequest",FUt="DeleteUserAttributesResponse",LUt="DescribeUserImportJob",MUt="DescribeUserImportJobRequest",qUt="DescribeUserImportJobResponse",$Ut="DeleteUserPool",UUt="DeleteUserPoolClient",jUt="DeleteUserPoolClientRequest",BUt="DescribeUserPoolClientRequest",HUt="DescribeUserPoolClientResponse",zUt="DescribeUserPoolClient",VUt="DeleteUserPoolDomain",WUt="DeleteUserPoolDomainRequest",GUt="DeleteUserPoolDomainResponse",KUt="DescribeUserPoolDomainRequest",XUt="DescribeUserPoolDomainResponse",JUt="DescribeUserPoolDomain",ZUt="DeleteUserPoolRequest",YUt="DescribeUserPoolRequest",QUt="DescribeUserPoolResponse",e2t="DescribeUserPool",t2t="DeleteUserRequest",r2t="DeleteUser",n2t="DeleteWebAuthnCredential",i2t="DeleteWebAuthnCredentialRequest",s2t="DeleteWebAuthnCredentialResponse",sOe="Devices",o2t="Destination",B5="Description",Gy="Domain",Ky="Enabled",oOe="EventAction",H5="ExplicitAuthFlows",z5="EmailConfiguration",a2t="EventContextData",u2t="EventContextDataType",c2t="ExpiredCodeException",l2t="EmailConfigurationFailure",f2t="EmailConfigurationType",aOe="EncodedData",d2t="EventFeedback",h2t="EventFeedbackType",p2t="EventFilter",V5="EventId",uOe="ExternalId",m2t="ExpiresIn",cOe="EmailMessage",g2t="EmailMessageByLink",W5="EmailMfaConfiguration",y2t="EmailMfaConfigType",lOe="EmailMfaSettings",_2t="EmailMfaSettingsType",v2t="EstimatedNumberOfUsers",G5="EnablePropagateAdditionalUserContextData",w2t="EventResponse",b2t="EventRiskType",E2t="EventRisk",S2t="EventSource",T2t="EmailSendingAccount",C2t="EmailSubjectByLink",x2t="EnableSoftwareTokenMFAException",fOe="EmailSubject",R2t="EventType",K5="EnableTokenRevocation",X5="EmailVerificationMessage",J5="EmailVerificationSubject",TN="Enforcement",A2t="Extension",dOe="From",hOe="ForceAliasCreation",P2t="FirehoseConfiguration",I2t="FriendlyCredentialName",O2t="FirehoseConfigurationType",k2t="FeedbackDate",N2t="FriendlyDeviceName",D2t="ForgetDeviceRequest",F2t="ForgetDevice",L2t="ForbiddenException",M2t="ForgotPassword",q2t="ForgotPasswordRequest",$2t="ForgotPasswordResponse",U2t="FeedbackToken",j2t="FailedUsers",B2t="FeatureUnavailableInTierException",Z5="FeedbackValue",H2t="Feature",z2t="Filter",pOe="Groups",V2t="GetCSVHeader",W2t="GetCSVHeaderRequest",G2t="GetCSVHeaderResponse",K2t="GetDevice",X2t="GetDeviceRequest",J2t="GetDeviceResponse",Z2t="GroupExistsException",Y2t="GetGroup",Q2t="GetGroupRequest",ejt="GetGroupResponse",tjt="GetIdentityProviderByIdentifier",rjt="GetIdentityProviderByIdentifierRequest",njt="GetIdentityProviderByIdentifierResponse",ijt="GetLogDeliveryConfiguration",sjt="GetLogDeliveryConfigurationRequest",ojt="GetLogDeliveryConfigurationResponse",ajt="GroupListType",xf="GroupName",ujt="GenerateSecret",cjt="GetSigningCertificate",ljt="GetSigningCertificateRequest",fjt="GetSigningCertificateResponse",djt="GlobalSignOut",hjt="GlobalSignOutRequest",pjt="GlobalSignOutResponse",mjt="GroupType",gjt="GetTokensFromRefreshToken",yjt="GetTokensFromRefreshTokenRequest",_jt="GetTokensFromRefreshTokenResponse",vjt="GetUser",wjt="GetUserAuthFactors",bjt="GetUserAuthFactorsRequest",Ejt="GetUserAuthFactorsResponse",Sjt="GetUserAttributeVerificationCode",Tjt="GetUserAttributeVerificationCodeRequest",Cjt="GetUserAttributeVerificationCodeResponse",xjt="GetUICustomization",Rjt="GetUICustomizationRequest",Ajt="GetUICustomizationResponse",Pjt="GetUserPoolMfaConfig",Ijt="GetUserPoolMfaConfigRequest",Ojt="GetUserPoolMfaConfigResponse",kjt="GetUserRequest",Njt="GetUserResponse",Y5="Group",Djt="HighAction",Fjt="HtmlBody",Ljt="HttpHeaders",Mjt="HttpHeaderList",qjt="HttpHeader",OE="Identifier",Q5="IpAddress",$jt="InitiateAuthRequest",Ujt="InitiateAuthResponse",jjt="InitiateAuth",Bjt="InternalErrorException",Hjt="InvalidEmailRoleAccessPolicyException",zjt="ImageFile",e8="IdpIdentifiers",Vjt="IdpIdentifier",Wjt="InvalidLambdaResponseException",Gjt="InviteMessageTemplate",Kjt="InvalidOAuthFlowException",CN="IdentityProvider",Xjt="InvalidParameterException",Jjt="InvalidPasswordException",Zjt="IdentityProviderType",Yjt="InvalidSmsRoleAccessPolicyException",Qjt="InvalidSmsRoleTrustRelationshipException",mOe="IdToken",t8="IdTokenValidity",eBt="ImageUrl",tBt="InvalidUserPoolConfigurationException",rBt="ImportedUsers",gOe="Id",xN="JobId",yOe="JobName",nBt="KMSKeyID",Xy="Limit",iBt="LowAction",r8="LambdaArn",RN="LambdaConfig",sBt="LogConfigurationListType",oBt="LambdaConfigType",aBt="LogConfigurationType",_Oe="LogConfigurations",uBt="ListDevices",vOe="LogDeliveryConfiguration",cBt="LogDeliveryConfigurationType",lBt="ListDevicesRequest",fBt="ListDevicesResponse",dBt="LimitExceededException",hBt="ListGroups",pBt="LogGroupArn",mBt="ListGroupsRequest",gBt="ListGroupsResponse",yBt="ListIdentityProviders",_Bt="ListIdentityProvidersRequest",vBt="ListIdentityProvidersResponse",wBt="LogLevel",va="LastModifiedDate",bBt="ListResourceServers",EBt="ListResourceServersRequest",SBt="ListResourceServersResponse",TBt="ListTerms",CBt="ListTagsForResource",xBt="ListTagsForResourceRequest",RBt="ListTagsForResourceResponse",ABt="ListTermsRequest",PBt="ListTermsResponse",IBt="ListUsers",OBt="ListUsersInGroup",kBt="ListUsersInGroupRequest",NBt="ListUsersInGroupResponse",DBt="ListUserImportJobs",FBt="ListUserImportJobsRequest",LBt="ListUserImportJobsResponse",MBt="ListUserPools",qBt="ListUserPoolClients",$Bt="ListUserPoolClientsRequest",UBt="ListUserPoolClientsResponse",jBt="ListUserPoolsRequest",BBt="ListUserPoolsResponse",HBt="ListUsersRequest",n8="LogoutURLs",zBt="ListUsersResponse",i8="LambdaVersion",VBt="ListWebAuthnCredentials",WBt="ListWebAuthnCredentialsRequest",GBt="ListWebAuthnCredentialsResponse",s8="Links",KBt="Message",XBt="MediumAction",JBt="MessageAction",Jy="MfaConfiguration",ZBt="MfaEmail",YBt="MFAMethodNotFoundException",kE="MFAOptions",QBt="MFAOptionListType",e4t="MFAOptionType",t4t="MinimumLength",AN="ManagedLoginBranding",r4t="ManagedLoginBrandingExistsException",PN="ManagedLoginBrandingId",n4t="ManagedLoginBrandingType",NE="ManagedLoginVersion",i4t="MaxLength",s4t="MinLength",Rf="MaxResults",o4t="MessageTemplateType",a4t="MinValue",u4t="MaxValue",c4t="Mutable",l4t="Notify",f4t="NumberAttributeConstraints",d4t="NumberAttributeConstraintsType",h4t="NotAuthorizedException",p4t="NoActionEmail",m4t="NotifyConfiguration",g4t="NotifyConfigurationType",y4t="NewDeviceMetadata",_4t="NewDeviceMetadataType",v4t="NotifyEmailType",Nn="NextToken",Af="Name",o8="Password",w4t="PreAuthentication",b4t="ProviderAttributeName",E4t="ProviderAttributeValue",S4t="PostAuthentication",T4t="PostConfirmation",a8="ProviderDetails",C4t="ProviderDescription",x4t="PasswordHistoryPolicyViolationException",R4t="PasswordHistorySize",A4t="ProvidersListType",u8="PreferredMfa",c8="PreferredMfaSetting",cp="ProviderName",P4t="PreconditionNotMetException",wOe="PoolName",I4t="PreviousPassword",O4t="PasswordPolicyType",k4t="PasswordPolicy",N4t="ProposedPassword",D4t="PasswordResetRequiredException",F4t="PreSignUp",L4t="PreSignedUrl",M4t="PasswordType",q4t="PreTokenGeneration",$4t="PreTokenGenerationConfig",U4t="PreTokenGenerationVersionConfigType",Pf="PaginationToken",l8="ProviderType",f8="PreventUserExistenceErrors",j4t="ProviderUserIdentifierType",B4t="PasswordVerifier",H4t="Permanent",d8="Policies",h8="Precedence",z4t="Priority",V4t="Provider",W4t="Providers",G4t="Required",IN="RoleArn",p8="ReadAttributes",m8="ResourceArn",bOe="RiskConfiguration",K4t="ResendConfirmationCode",X4t="ResendConfirmationCodeRequest",J4t="ResendConfirmationCodeResponse",Z4t="RiskConfigurationType",Y4t="RiskDecision",EOe="RiskExceptionConfiguration",Q4t="RiskExceptionConfigurationType",e3t="RetryGracePeriodSeconds",t3t="ResourceId",r3t="RiskLevel",n3t="RequireLowercase",i3t="RecoveryMechanisms",SOe="ReturnMergedResources",s3t="RecoveryMechanismsType",o3t="RequireNumbers",a3t="ResourceNotFoundException",u3t="RecoveryOptionType",TOe="RelyingPartyId",g8="ResourceServer",c3t="ResourceServersListType",l3t="ResourceServerScopeListType",f3t="ResourceServerScopeType",d3t="ResourceServerType",h3t="ResourceServers",p3t="RequireSymbols",y8="RefreshToken",m3t="RespondToAuthChallenge",g3t="RespondToAuthChallengeRequest",y3t="RespondToAuthChallengeResponse",_3t="ReplyToEmailAddress",_8="RefreshTokenRotation",v3t="RefreshTokenReuseException",w3t="RefreshTokenRotationType",b3t="RevokeTokenRequest",E3t="RevokeTokenResponse",v8="RefreshTokenValidity",S3t="ReplyTo",T3t="RevokeToken",C3t="RequireUppercase",fs="Session",COe="SourceArn",x3t="StringAttributeConstraints",R3t="StringAttributeConstraintsType",A3t="SchemaAttributesListType",ON="SmsAuthenticationMessage",P3t="SchemaAttributeType",I3t="SchemaAttributes",O3t="StreamArn",k3t="S3Bucket",N3t="SecretCode",D3t="SnsCallerArn",F3t="SmsConfigurationFailure",L3t="SecretCodeType",M3t="SmsConfigurationType",q3t="S3ConfigurationType",kN="SmsConfiguration",$3t="S3Configuration",U3t="ScopeDescription",j3t="ScopeDoesNotExistException",B3t="StartDate",DE="SecretHash",H3t="SecretHashType",w8="SupportedIdentityProviders",z3t="SkippedIPRangeList",V3t="SignInPolicyType",W3t="SignInPolicy",G3t="SetLogDeliveryConfiguration",K3t="SetLogDeliveryConfigurationRequest",X3t="SetLogDeliveryConfigurationResponse",J3t="SmsMessage",b8="SmsMfaConfiguration",Z3t="SmsMfaConfigType",Y3t="SMSMessage",xOe="SMSMfaSettings",Q3t="SMSMfaSettingsType",eHt="ServerName",tHt="ScopeName",rHt="ServerPath",nHt="SnsRegion",iHt="SetRiskConfiguration",sHt="SetRiskConfigurationRequest",oHt="SetRiskConfigurationResponse",aHt="SessionType",E8="SoftwareTokenMfaConfiguration",uHt="SoftwareTokenMfaConfigType",cHt="SoftwareTokenMFANotFoundException",lHt="SoftwareTokenMFAUserCodeType",ROe="SoftwareTokenMfaSettings",fHt="SoftwareTokenMfaSettingsType",dHt="SourceUser",hHt="SetUICustomization",pHt="SetUICustomizationRequest",mHt="SetUICustomizationResponse",gHt="StartUserImportJob",yHt="StartUserImportJobRequest",_Ht="StartUserImportJobResponse",vHt="StopUserImportJobRequest",wHt="StopUserImportJobResponse",bHt="StopUserImportJob",EHt="SetUserMFAPreference",SHt="SetUserMFAPreferenceRequest",THt="SetUserMFAPreferenceResponse",CHt="SetUserPoolMfaConfig",xHt="SetUserPoolMfaConfigRequest",RHt="SetUserPoolMfaConfigResponse",AHt="SignUpRequest",PHt="SignUpResponse",IHt="SetUserSettings",OHt="SetUserSettingsRequest",kHt="SetUserSettingsResponse",NHt="SignUp",DHt="SkippedUsers",S8="SmsVerificationMessage",FHt="StartWebAuthnRegistration",LHt="StartWebAuthnRegistrationRequest",MHt="StartWebAuthnRegistrationResponse",qHt="Salt",T8="Scopes",$Ht="Schema",C8="Settings",FE="Status",AOe="Subject",NN="Terms",UHt="TextBody",jHt="TierChangeNotAllowedException",BHt="TermsDescriptionListType",HHt="TermsDescriptionType",zHt="TermsExistsException",LE="TermsId",VHt="TagKeys",WHt="TooManyFailedAttemptsException",GHt="TooManyRequestsException",KHt="TokenModelType",DN="TermsName",XHt="TemporaryPassword",JHt="TemporaryPasswordValidityDays",ZHt="TagResource",YHt="TagResourceRequest",QHt="TagResourceResponse",x8="TermsSource",ezt="TokenType",tzt="TermsType",R8="TokenValidityUnits",rzt="TokenValidityUnitsType",POe="Tags",nzt="Timezone",izt="Token",ur="Username",Zy="UserAttributes",szt="UpdateAuthEventFeedback",ozt="UpdateAuthEventFeedbackRequest",azt="UpdateAuthEventFeedbackResponse",IOe="UserAttributeNames",A8="UserAttributeUpdateSettings",uzt="UserAttributeUpdateSettingsType",czt="UnusedAccountValidityDays",OOe="UsernameAttributes",kOe="UsernameConfiguration",NOe="UserCreateDate",lzt="UserContextDataType",lp="UserContextData",fzt="UserConfirmationNecessary",P8="UseCognitoProvidedValues",dzt="UsernameConfigurationType",hzt="UserConfirmed",pzt="UserCode",mzt="UserDataShared",gzt="UpdateDeviceStatusRequest",yzt="UpdateDeviceStatusResponse",_zt="UpdateDeviceStatus",vzt="UnauthorizedException",wzt="UsernameExistsException",bzt="UpdateGroup",Ezt="UpdateGroupRequest",Szt="UpdateGroupResponse",DOe="UICustomization",Tzt="UICustomizationType",Czt="UserImportInProgressException",FN="UserImportJob",xzt="UserImportJobsListType",Rzt="UserImportJobType",Azt="UserImportJobs",Pzt="UpdateIdentityProvider",Izt="UnsupportedIdentityProviderException",Ozt="UpdateIdentityProviderRequest",kzt="UpdateIdentityProviderResponse",Nzt="UnexpectedLambdaException",FOe="UserLastModifiedDate",Dzt="UsersListType",Fzt="UserLambdaValidationException",Lzt="UserMigration",I8="UserMFASettingList",Mzt="UpdateManagedLoginBranding",qzt="UpdateManagedLoginBrandingRequest",$zt="UpdateManagedLoginBrandingResponse",Uzt="UserNotConfirmedException",jzt="UserNotFoundException",Bzt="UnsupportedOperationException",LOe="UserPool",O8="UserPoolAddOns",Hzt="UserPoolAddOnNotEnabledException",zzt="UserPoolAddOnsType",k8="UserPoolClient",Vzt="UserPoolClientDescription",Wzt="UserPoolClientListType",Gzt="UserPoolClientType",Kzt="UserPoolClients",Xzt="UserPoolDescriptionType",Pe="UserPoolId",Jzt="UserPoolListType",Zzt="UserPoolPolicyType",N8="UserPoolTags",Yzt="UserPoolTaggingException",D8="UserPoolTier",Qzt="UserPoolType",e6t="UserPools",t6t="UntagResource",r6t="UntagResourceRequest",n6t="UntagResourceResponse",i6t="UpdateResourceServer",s6t="UpdateResourceServerRequest",o6t="UpdateResourceServerResponse",MOe="UserStatus",a6t="UserSub",u6t="UsernameType",c6t="UpdateTermsRequest",l6t="UpdateTermsResponse",f6t="UnsupportedTokenTypeException",d6t="UpdateTerms",h6t="UserType",p6t="UpdateUserAttributes",m6t="UpdateUserAttributesRequest",g6t="UpdateUserAttributesResponse",y6t="UpdateUserPool",_6t="UpdateUserPoolClient",v6t="UpdateUserPoolClientRequest",w6t="UpdateUserPoolClientResponse",b6t="UpdateUserPoolDomain",E6t="UpdateUserPoolDomainRequest",S6t="UpdateUserPoolDomainResponse",T6t="UpdateUserPoolRequest",C6t="UpdateUserPoolResponse",x6t="UnsupportedUserStateException",R6t="UserVerification",qOe="User",$Oe="Users",A6t="Value",P6t="VerifyAuthChallengeResponse",UOe="ValidationData",F8="VerificationMessageTemplate",I6t="VerificationMessageTemplateType",O6t="VerifySoftwareToken",k6t="VerifySoftwareTokenRequest",N6t="VerifySoftwareTokenResponse",D6t="VerifyUserAttribute",F6t="VerifyUserAttributeRequest",L6t="VerifyUserAttributeResponse",M6t="Version",L8="WriteAttributes",M8="WebAuthnConfiguration",q6t="WebAuthnCredentialDescription",$6t="WebAuthnCredentialDescriptionListType",U6t="WebAuthnClientMismatchException",j6t="WebAuthnConfigurationMissingException",B6t="WebAuthnChallengeNotFoundException",H6t="WebAuthnCredentialNotSupportedException",z6t="WebAuthnConfigurationType",V6t="WebAuthnNotEnabledException",W6t="WebAuthnOriginNotAllowedException",G6t="WebAuthnRelyingPartyMismatchException",lt="client",ot="error",ft="httpError",K6t="headerName",X6t="headerValue",at="message",J6t="reasonCode",Z6t="server",jOe="smithy.ts.sdk.synthetic.com.amazonaws.cognitoidentityprovider",T="com.amazonaws.cognitoidentityprovider",Y6t=[0,T,KMt,8,0],Ur=[0,T,Lqt,8,0],q8=[0,T,o$t,8,0],Wy=[0,T,M4t,8,0],Q6t=[0,T,L3t,8,0],ME=[0,T,H3t,8,0],ds=[0,T,aHt,8,0],eVt=[0,T,lHt,8,0],Ar=[0,T,KHt,8,0],cr=[0,T,u6t,8,0],$8=[3,T,nMt,0,[i3t],[()=>QGt]],tVt=[3,T,IMt,0,[iBt,XBt,Djt],[()=>b5,()=>b5,()=>b5]],b5=[3,T,OMt,0,[l4t,oOe],[2,0]],BOe=[3,T,NMt,0,[m4t,BIe],[()=>QWt,()=>tVt]],rVt=[3,T,YFt,0,[Pe,nqt],[0,()=>JGt]],nVt=[3,T,QFt,0,[],[]],iVt=[3,T,XFt,0,[Pe,ur,xf],[0,[()=>cr,0],0]],sVt=[3,T,tLt,0,[Pe,ur,Hi],[0,[()=>cr,0],128]],oVt=[3,T,rLt,0,[],[]],U8=[3,T,sLt,0,[GFt,czt,Gjt],[2,1,()=>KWt]],aVt=[3,T,oLt,0,[Pe,ur,Zy,UOe,XHt,hOe,JBt,z$t,Hi],[0,[()=>cr,0],[()=>Cu,0],[()=>Cu,0],[()=>Wy,0],2,0,64,128]],uVt=[3,T,aLt,0,[qOe],[[()=>tke,0]]],cVt=[3,T,pLt,0,[Pe,ur,IOe],[0,[()=>cr,0],64]],lVt=[3,T,mLt,0,[],[]],fVt=[3,T,gLt,0,[Pe,ur],[0,[()=>cr,0]]],dVt=[3,T,cLt,0,[Pe,qOe],[0,()=>S5]],hVt=[3,T,lLt,0,[],[]],pVt=[3,T,yLt,0,[Pe,ur],[0,[()=>cr,0]]],mVt=[3,T,_Lt,0,[],[]],gVt=[3,T,xLt,0,[Pe,ur],[0,[()=>cr,0]]],yVt=[3,T,RLt,0,[],[]],_Vt=[3,T,ILt,0,[Pe,ur,xu],[0,[()=>cr,0],0]],vVt=[3,T,kLt,0,[xu,Pe,ur],[0,0,[()=>cr,0]]],wVt=[3,T,NLt,0,[tOe],[[()=>z8,0]]],bVt=[3,T,FLt,0,[Pe,ur],[0,[()=>cr,0]]],EVt=[3,T,LLt,0,[ur,Zy,NOe,FOe,Ky,MOe,kE,c8,I8],[[()=>cr,0],[()=>Cu,0],4,4,2,0,()=>jE,0,64]],SVt=[3,T,$Lt,0,[Pe,$r,VIe,WIe,Hi,Ic,JIe,fs],[0,[()=>Ur,0],0,[()=>ake,0],128,()=>Oc,()=>zOe,[()=>ds,0]]],TVt=[3,T,ULt,0,[up,fs,SN,IE,zIe],[0,[()=>ds,0],128,[()=>qE,0],64]],CVt=[3,T,KLt,0,[Pe,kUt,dHt],[0,()=>S5,()=>S5]],xVt=[3,T,XLt,0,[],[]],RVt=[3,T,BLt,0,[Pe,ur,Xy,Pf],[0,[()=>cr,0],1,0]],AVt=[3,T,HLt,0,[sOe,Pf],[[()=>rke,0],0]],PVt=[3,T,VLt,0,[ur,Pe,Xy,Nn],[[()=>cr,0],0,1,0]],IVt=[3,T,WLt,0,[pOe,Nn],[()=>nke,0]],OVt=[3,T,QLt,0,[Pe,ur,Rf,Nn],[0,[()=>cr,0],1,0]],kVt=[3,T,eMt,0,[wLt,Nn],[()=>GGt,0]],NVt=[3,T,cMt,0,[Pe,ur,xf],[0,[()=>cr,0],0]],DVt=[3,T,fMt,0,[Pe,ur,Hi],[0,[()=>cr,0],128]],FVt=[3,T,dMt,0,[],[]],LVt=[3,T,oMt,0,[Pe,$r,up,L5,fs,Ic,JIe,Hi],[0,[()=>Ur,0],0,[()=>uke,0],[()=>ds,0],()=>Oc,()=>zOe,128]],MVt=[3,T,aMt,0,[up,fs,SN,IE],[0,[()=>ds,0],128,[()=>qE,0]]],qVt=[3,T,bMt,0,[xOe,ROe,lOe,ur,Pe],[()=>JOe,()=>ZOe,()=>VOe,[()=>cr,0],0]],$Vt=[3,T,EMt,0,[],[]],UVt=[3,T,TMt,0,[Pe,ur,o8,H4t],[0,[()=>cr,0],[()=>Wy,0],2]],jVt=[3,T,CMt,0,[],[]],BVt=[3,T,RMt,0,[Pe,ur,kE],[0,[()=>cr,0],()=>jE]],HVt=[3,T,AMt,0,[],[]],zVt=[3,T,MMt,0,[Pe,ur,V5,Z5],[0,[()=>cr,0],0,0]],VVt=[3,T,qMt,0,[],[]],WVt=[3,T,UMt,0,[Pe,ur,xu,iOe],[0,[()=>cr,0],0,0]],GVt=[3,T,jMt,0,[],[]],KVt=[3,T,WMt,0,[Pe,ur,Zy,Hi],[0,[()=>cr,0],[()=>Cu,0],128]],XVt=[3,T,GMt,0,[],[]],JVt=[3,T,HMt,0,[Pe,ur],[0,[()=>cr,0]]],ZVt=[3,T,zMt,0,[],[]],YVt=[3,T,mMt,0,[oqt],[0]],QVt=[-3,T,bLt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(QVt,T1e);var j8=[3,T,nLt,0,[MLt,WFt,IN,uOe,mzt],[0,0,0,0,2]],Oc=[3,T,tMt,0,[ELt],[0]],e5t=[3,T,PMt,0,[rqt,Bqt,A2t,YMt,t3t],[0,0,0,21,0]],t5t=[3,T,_Mt,0,[rn,fs],[[()=>Ar,0],[()=>ds,0]]],r5t=[3,T,vMt,0,[N3t,fs],[[()=>Q6t,0],[()=>ds,0]]],n5t=[3,T,DMt,0,[Af,A6t],[0,[()=>Y6t,0]]],qE=[3,T,iMt,0,[rn,m2t,ezt,y8,mOe,y4t],[[()=>Ar,0],1,0,[()=>Ar,0],[()=>Ar,0],()=>ZWt]],i5t=[3,T,SLt,0,[V5,R2t,Lo,w2t,E2t,L5,a2t,d2t],[0,0,4,0,()=>A8t,()=>KGt,()=>x8t,()=>R8t]],s5t=[3,T,Qqt,0,[up,t$t],[0,0]],o5t=[3,T,Vqt,0,[I4t,N4t,rn],[[()=>Wy,0],[()=>Wy,0],[()=>Ar,0]]],a5t=[3,T,Wqt,0,[],[]],u5t=[3,T,k$t,0,[pBt],[0]],$E=[3,T,gqt,0,[o2t,rOe,wN],[0,0,0]],c5t=[-3,T,yqt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(c5t,l1e);var l5t=[-3,T,Mqt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(l5t,U1e);var f5t=[3,T,P$t,0,[rn,M$t],[[()=>Ar,0],15]],d5t=[3,T,I$t,0,[],[]],h5t=[3,T,cqt,0,[oOe],[0]],HOe=[3,T,dqt,0,[p2t,BIe],[64,()=>h5t]],p5t=[-3,T,qqt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(p5t,K1e);var m5t=[3,T,_qt,0,[rn,xu,TUt,nOe],[[()=>Ar,0],0,()=>E8t,0]],g5t=[3,T,vqt,0,[fzt],[2]],y5t=[3,T,Aqt,0,[$r,DE,ur,KIe,o8,Ic,lp,Hi],[[()=>Ur,0],[()=>ME,0],[()=>cr,0],0,[()=>Wy,0],()=>Oc,[()=>fp,0],128]],_5t=[3,T,Pqt,0,[],[]],v5t=[3,T,u$t,0,[$r,DE,ur,KIe,hOe,Ic,lp,Hi,fs],[[()=>Ur,0],[()=>ME,0],[()=>cr,0],0,2,()=>Oc,[()=>fp,0],128,[()=>ds,0]]],w5t=[3,T,c$t,0,[fs],[[()=>ds,0]]],zOe=[3,T,wqt,0,[Q5,eHt,rHt,Ljt,aOe],[0,0,0,()=>ZGt,0]],b5t=[3,T,Oqt,0,[xf,Pe,B5,IN,h8],[0,0,0,0,1]],E5t=[3,T,kqt,0,[Y5],[()=>LN]],S5t=[3,T,Dqt,0,[Pe,cp,l8,a8,x5,e8],[0,0,0,128,128,64]],T5t=[3,T,Fqt,0,[CN],[()=>MN]],C5t=[3,T,Uqt,0,[Pe,$r,P8,C8,D5],[0,[()=>Ur,0],2,15,()=>iW]],x5t=[3,T,jqt,0,[AN],[()=>$N]],R5t=[3,T,Zqt,0,[Pe,OE,Af,T8],[0,0,0,()=>sW]],A5t=[3,T,Yqt,0,[g8],[()=>UN]],P5t=[3,T,h$t,0,[Pe,$r,DN,x8,TN,s8],[0,[()=>Ur,0],0,0,0,128]],I5t=[3,T,p$t,0,[NN],[[()=>J8,0]]],O5t=[3,T,y$t,0,[yOe,Pe,eOe],[0,0,0]],k5t=[3,T,_$t,0,[FN],[()=>UE]],N5t=[3,T,b$t,0,[Pe,EN,ujt,v8,k5,t8,R8,p8,L8,H5,w8,q5,n8,j5,R5,P5,A5,C5,f8,K5,G5,O5,_8],[0,0,2,1,1,1,()=>Z8,64,64,64,64,64,64,0,64,64,2,()=>j8,0,2,2,1,()=>G8]],D5t=[3,T,E$t,0,[k8],[[()=>eW,0]]],F5t=[3,T,T$t,0,[Gy,Pe,NE,F5],[0,0,1,()=>B8]],L5t=[3,T,C$t,0,[NE,ZIe],[1,0]],M5t=[3,T,x$t,0,[wOe,d8,U5,RN,N5,HIe,OOe,S8,X5,J5,F8,ON,Jy,A8,$5,z5,kN,N8,T5,$Ht,O8,kOe,I5,D8],[0,()=>tW,0,()=>qN,64,64,64,0,0,0,()=>rW,0,0,()=>Y8,()=>H8,()=>V8,()=>jN,128,()=>U8,()=>ske,()=>Q8,()=>QOe,()=>$8,0]],q5t=[3,T,R$t,0,[LOe],[()=>eke]],B8=[3,T,hqt,0,[aqt],[0]],$5t=[3,T,Tqt,0,[i8,r8],[0,0]],U5t=[3,T,n$t,0,[i8,r8],[0,0]],j5t=[3,T,X$t,0,[xf,Pe],[0,0]],B5t=[3,T,Z$t,0,[Pe,cp],[0,0]],H5t=[3,T,cUt,0,[PN,Pe],[0,0]],z5t=[3,T,vUt,0,[Pe,OE],[0,0]],V5t=[3,T,RUt,0,[LE,Pe],[0,0]],W5t=[3,T,DUt,0,[IOe,rn],[64,[()=>Ar,0]]],G5t=[3,T,FUt,0,[],[]],K5t=[3,T,jUt,0,[Pe,$r],[0,[()=>Ur,0]]],X5t=[3,T,WUt,0,[Gy,Pe],[0,0]],J5t=[3,T,GUt,0,[],[]],Z5t=[3,T,ZUt,0,[Pe],[0]],Y5t=[3,T,t2t,0,[rn],[[()=>Ar,0]]],Q5t=[3,T,i2t,0,[rn,YIe],[[()=>Ar,0],0]],e8t=[3,T,s2t,0,[],[]],t8t=[3,T,Y$t,0,[Pe,cp],[0,0]],r8t=[3,T,Q$t,0,[CN],[()=>MN]],n8t=[3,T,aUt,0,[Pe,$r,SOe],[0,[()=>Ur,0],2]],i8t=[3,T,uUt,0,[AN],[()=>$N]],s8t=[3,T,lUt,0,[Pe,PN,SOe],[0,0,2]],o8t=[3,T,fUt,0,[AN],[()=>$N]],a8t=[3,T,wUt,0,[Pe,OE],[0,0]],u8t=[3,T,bUt,0,[g8],[()=>UN]],c8t=[3,T,yUt,0,[Pe,$r],[0,[()=>Ur,0]]],l8t=[3,T,_Ut,0,[bOe],[[()=>GOe,0]]],f8t=[3,T,AUt,0,[LE,Pe],[0,0]],d8t=[3,T,PUt,0,[NN],[[()=>J8,0]]],h8t=[3,T,MUt,0,[Pe,xN],[0,0]],p8t=[3,T,qUt,0,[FN],[()=>UE]],m8t=[3,T,BUt,0,[Pe,$r],[0,[()=>Ur,0]]],g8t=[3,T,HUt,0,[k8],[[()=>eW,0]]],y8t=[3,T,KUt,0,[Gy],[0]],_8t=[3,T,XUt,0,[H$t],[()=>S8t]],v8t=[3,T,YUt,0,[Pe],[0]],w8t=[3,T,QUt,0,[LOe],[()=>eke]],H8=[3,T,B$t,0,[Xqt,pUt],[2,2]],b8t=[-3,T,tUt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(b8t,lIe);var E8t=[3,T,CUt,0,[B4t,qHt],[0,0]],z8=[3,T,xUt,0,[xu,$$t,j$t,nUt,rUt],[0,[()=>Cu,0],4,4,4]],S8t=[3,T,V$t,0,[Pe,XMt,Gy,k3t,xqt,M6t,FE,F5,NE],[0,0,0,0,0,0,0,()=>B8,1]],T8t=[-3,T,mUt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(T8t,pIe);var V8=[3,T,f2t,0,[COe,_3t,T2t,dOe,r$t],[0,0,0,0,0]],W8=[3,T,y2t,0,[KBt,AOe],[0,0]],VOe=[3,T,_2t,0,[Ky,u8],[2,2]],C8t=[-3,T,x2t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(C8t,UIe);var x8t=[3,T,u2t,0,[Q5,nOe,nzt,D$t,F$t],[0,0,0,0,0]],R8t=[3,T,h2t,0,[Z5,V4t,k2t],[0,0,4]],A8t=[3,T,b2t,0,[Y4t,r3t,lqt],[0,0,2]],P8t=[-3,T,c2t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(P8t,B1e);var I8t=[-3,T,B2t,{[ot]:lt,[ft]:403},[at],[0]];tt.TypeRegistry.for(T).registerError(I8t,wIe);var O8t=[3,T,O2t,0,[O3t],[0]],k8t=[-3,T,L2t,{[ot]:lt,[ft]:403},[at],[0]];tt.TypeRegistry.for(T).registerError(k8t,J1e);var N8t=[3,T,D2t,0,[rn,xu],[[()=>Ar,0],0]],D8t=[3,T,q2t,0,[$r,DE,lp,ur,Ic,Hi],[[()=>Ur,0],[()=>ME,0],[()=>fp,0],[()=>cr,0],()=>Oc,128]],F8t=[3,T,$2t,0,[bN],[()=>$E]],L8t=[3,T,W2t,0,[Pe],[0]],M8t=[3,T,G2t,0,[Pe,l$t],[0,64]],q8t=[3,T,X2t,0,[xu,rn],[0,[()=>Ar,0]]],$8t=[3,T,J2t,0,[tOe],[[()=>z8,0]]],U8t=[3,T,Q2t,0,[xf,Pe],[0,0]],j8t=[3,T,ejt,0,[Y5],[()=>LN]],B8t=[3,T,rjt,0,[Pe,Vjt],[0,0]],H8t=[3,T,njt,0,[CN],[()=>MN]],z8t=[3,T,sjt,0,[Pe],[0]],V8t=[3,T,ojt,0,[vOe],[()=>WOe]],W8t=[3,T,ljt,0,[Pe],[0]],G8t=[3,T,fjt,0,[N$t],[0]],K8t=[3,T,yjt,0,[y8,$r,M5,xu,Hi],[[()=>Ar,0],[()=>Ur,0],[()=>q8,0],0,128]],X8t=[3,T,_jt,0,[IE],[[()=>qE,0]]],J8t=[3,T,Rjt,0,[Pe,$r],[0,[()=>Ur,0]]],Z8t=[3,T,Ajt,0,[DOe],[[()=>YOe,0]]],Y8t=[3,T,Tjt,0,[rn,wN,Hi],[[()=>Ar,0],0,128]],Q8t=[3,T,Cjt,0,[bN],[()=>$E]],eWt=[3,T,bjt,0,[rn],[[()=>Ar,0]]],tWt=[3,T,Ejt,0,[ur,c8,I8,m$t],[[()=>cr,0],0,64,64]],rWt=[3,T,Ijt,0,[Pe],[0]],nWt=[3,T,Ojt,0,[b8,E8,W5,Jy,M8],[()=>K8,()=>X8,()=>W8,0,()=>nW]],iWt=[3,T,kjt,0,[rn],[[()=>Ar,0]]],sWt=[3,T,Njt,0,[ur,Zy,kE,c8,I8],[[()=>cr,0],[()=>Cu,0],()=>jE,0,64]],oWt=[3,T,hjt,0,[rn],[[()=>Ar,0]]],aWt=[3,T,pjt,0,[],[]],uWt=[-3,T,Z2t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(uWt,dIe);var LN=[3,T,mjt,0,[xf,Pe,B5,IN,h8,va,Lo],[0,0,0,0,1,4,4]],cWt=[3,T,qjt,0,[K6t,X6t],[0,0]],MN=[3,T,Zjt,0,[Pe,cp,l8,a8,x5,e8,va,Lo],[0,0,0,128,128,64,4,4]],lWt=[3,T,$jt,0,[VIe,WIe,Hi,$r,Ic,lp,fs],[0,[()=>ake,0],128,[()=>Ur,0],()=>Oc,[()=>fp,0],[()=>ds,0]]],fWt=[3,T,Ujt,0,[up,fs,SN,IE,zIe],[0,[()=>ds,0],128,[()=>qE,0],64]],dWt=[-3,T,Bjt,{[ot]:Z6t},[at],[0]];tt.TypeRegistry.for(T).registerError(dWt,UPe);var hWt=[-3,T,Hjt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(hWt,A1e);var pWt=[-3,T,Wjt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(pWt,e1e);var mWt=[-3,T,Kjt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(mWt,xIe);var gWt=[-3,T,Xjt,{[ot]:lt,[ft]:400},[at,J6t],[0,0]];tt.TypeRegistry.for(T).registerError(gWt,BPe);var yWt=[-3,T,Jjt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(yWt,d1e);var _Wt=[-3,T,Yjt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(_Wt,p1e);var vWt=[-3,T,Qjt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(vWt,g1e);var wWt=[-3,T,tBt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(wWt,x1e);var qN=[3,T,oBt,0,[F4t,zqt,T4t,w4t,S4t,U$t,iqt,P6t,q4t,Lzt,$4t,i$t,Cqt,nBt],[0,0,0,0,0,0,0,0,0,0,()=>s9t,()=>U5t,()=>$5t,0]],bWt=[-3,T,dBt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(bWt,r1e);var EWt=[3,T,lBt,0,[rn,Xy,Pf],[[()=>Ar,0],1,0]],SWt=[3,T,fBt,0,[sOe,Pf],[[()=>rke,0],0]],TWt=[3,T,mBt,0,[Pe,Xy,Nn],[0,1,0]],CWt=[3,T,gBt,0,[pOe,Nn],[()=>nke,0]],xWt=[3,T,_Bt,0,[Pe,Rf,Nn],[0,1,0]],RWt=[3,T,vBt,0,[W4t,Nn],[()=>YGt,0]],AWt=[3,T,EBt,0,[Pe,Rf,Nn],[0,1,0]],PWt=[3,T,SBt,0,[h3t,Nn],[()=>e7t,0]],IWt=[3,T,xBt,0,[m8],[0]],OWt=[3,T,RBt,0,[POe],[128]],kWt=[3,T,ABt,0,[Pe,Rf,Nn],[0,1,0]],NWt=[3,T,PBt,0,[NN,Nn],[()=>t7t,0]],DWt=[3,T,FBt,0,[Pe,Rf,Pf],[0,1,0]],FWt=[3,T,LBt,0,[Azt,Pf],[()=>r7t,0]],LWt=[3,T,$Bt,0,[Pe,Rf,Nn],[0,1,0]],MWt=[3,T,UBt,0,[Kzt,Nn],[[()=>n7t,0],0]],qWt=[3,T,jBt,0,[Nn,Rf],[0,1]],$Wt=[3,T,BBt,0,[e6t,Nn],[()=>i7t,0]],UWt=[3,T,kBt,0,[Pe,xf,Xy,Nn],[0,0,1,0]],jWt=[3,T,NBt,0,[$Oe,Nn],[[()=>oke,0],0]],BWt=[3,T,HBt,0,[Pe,kMt,Xy,Pf,z2t],[0,64,1,0,0]],HWt=[3,T,zBt,0,[$Oe,Pf],[[()=>oke,0],0]],zWt=[3,T,WBt,0,[rn,Nn,Rf],[[()=>Ar,0],0,1]],VWt=[3,T,GBt,0,[q$t,Nn],[()=>s7t,0]],WWt=[3,T,aBt,0,[wBt,S2t,O$t,$3t,P2t],[0,0,()=>u5t,()=>y9t,()=>O8t]],WOe=[3,T,cBt,0,[Pe,_Oe],[0,()=>ike]],GWt=[-3,T,r4t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(GWt,gIe);var $N=[3,T,n4t,0,[PN,Pe,P8,C8,D5,Lo,va],[0,0,2,15,()=>iW,4,4]],KWt=[3,T,o4t,0,[Y3t,cOe,fOe],[0,0,0]],XWt=[-3,T,YBt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(XWt,I1e);var JWt=[3,T,e4t,0,[rOe,wN],[0,0]],ZWt=[3,T,_4t,0,[xu,K$t],[0,0]],YWt=[-3,T,h4t,{[ot]:lt,[ft]:403},[at],[0]];tt.TypeRegistry.for(T).registerError(YWt,zPe);var QWt=[3,T,g4t,0,[dOe,S3t,COe,eqt,p4t,ZBt],[0,0,0,()=>E5,()=>E5,()=>E5]],E5=[3,T,v4t,0,[AOe,Fjt,UHt],[0,0,0]],e9t=[3,T,d4t,0,[a4t,u4t],[0,0]],t9t=[-3,T,x4t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(t9t,z1e);var r9t=[3,T,O4t,0,[t4t,C3t,n3t,o3t,p3t,R4t,JHt],[1,2,2,2,2,1,1]],n9t=[-3,T,D4t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(n9t,k1e);var i9t=[-3,T,P4t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(i9t,_1e);var s9t=[3,T,U4t,0,[i8,r8],[0,0]],o9t=[3,T,C4t,0,[cp,l8,va,Lo],[0,0,4,4]],S5=[3,T,j4t,0,[cp,b4t,E4t],[0,0,0]],a9t=[3,T,u3t,0,[z4t,Af],[1,0]],u9t=[-3,T,v3t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(u9t,kIe);var G8=[3,T,w3t,0,[H2t,e3t],[0,1]],c9t=[3,T,X4t,0,[$r,DE,lp,ur,Ic,Hi],[[()=>Ur,0],[()=>ME,0],[()=>fp,0],[()=>cr,0],()=>Oc,128]],l9t=[3,T,J4t,0,[bN],[()=>$E]],f9t=[-3,T,a3t,{[ot]:lt,[ft]:404},[at],[0]];tt.TypeRegistry.for(T).registerError(f9t,WPe);var d9t=[3,T,f3t,0,[tHt,U3t],[0,0]],UN=[3,T,d3t,0,[Pe,OE,Af,T8],[0,0,0,()=>sW]],h9t=[3,T,g3t,0,[$r,up,fs,L5,Ic,lp,Hi],[[()=>Ur,0],0,[()=>ds,0],[()=>uke,0],()=>Oc,[()=>fp,0],128]],p9t=[3,T,y3t,0,[up,fs,SN,IE],[0,[()=>ds,0],128,[()=>qE,0]]],m9t=[3,T,b3t,0,[izt,$r,M5],[[()=>Ar,0],[()=>Ur,0],[()=>q8,0]]],g9t=[3,T,E3t,0,[],[]],GOe=[3,T,Z4t,0,[Pe,$r,XIe,GIe,EOe,va],[0,[()=>Ur,0],()=>HOe,()=>BOe,()=>KOe,4]],KOe=[3,T,Q4t,0,[tqt,z3t],[64,64]],y9t=[3,T,q3t,0,[QMt],[0]],XOe=[3,T,P3t,0,[Af,fLt,hUt,c4t,G4t,f4t,x3t],[0,0,2,2,2,()=>e9t,()=>j9t]],_9t=[-3,T,j3t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(_9t,AIe);var v9t=[3,T,K3t,0,[Pe,_Oe],[0,()=>ike]],w9t=[3,T,X3t,0,[vOe],[()=>WOe]],b9t=[3,T,sHt,0,[Pe,$r,XIe,GIe,EOe],[0,[()=>Ur,0],()=>HOe,()=>BOe,()=>KOe]],E9t=[3,T,oHt,0,[bOe],[[()=>GOe,0]]],S9t=[3,T,pHt,0,[Pe,$r,QIe,zjt],[0,[()=>Ur,0],0,21]],T9t=[3,T,mHt,0,[DOe],[[()=>YOe,0]]],C9t=[3,T,SHt,0,[xOe,ROe,lOe,rn],[()=>JOe,()=>ZOe,()=>VOe,[()=>Ar,0]]],x9t=[3,T,THt,0,[],[]],R9t=[3,T,xHt,0,[Pe,b8,E8,W5,Jy,M8],[0,()=>K8,()=>X8,()=>W8,0,()=>nW]],A9t=[3,T,RHt,0,[b8,E8,W5,Jy,M8],[()=>K8,()=>X8,()=>W8,0,()=>nW]],P9t=[3,T,OHt,0,[rn,kE],[[()=>Ar,0],()=>jE]],I9t=[3,T,kHt,0,[],[]],O9t=[3,T,V3t,0,[ALt],[64]],k9t=[3,T,AHt,0,[$r,DE,ur,o8,Zy,UOe,Ic,lp,Hi],[[()=>Ur,0],[()=>ME,0],[()=>cr,0],[()=>Wy,0],[()=>Cu,0],[()=>Cu,0],()=>Oc,[()=>fp,0],128]],N9t=[3,T,PHt,0,[hzt,bN,a6t,fs],[2,()=>$E,0,[()=>ds,0]]],jN=[3,T,M3t,0,[D3t,uOe,nHt],[0,0,0]],K8=[3,T,Z3t,0,[ON,kN],[0,()=>jN]],JOe=[3,T,Q3t,0,[Ky,u8],[2,2]],X8=[3,T,uHt,0,[Ky],[2]],D9t=[-3,T,cHt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(D9t,W1e);var ZOe=[3,T,fHt,0,[Ky,u8],[2,2]],F9t=[3,T,yHt,0,[Pe,xN],[0,0]],L9t=[3,T,_Ht,0,[FN],[()=>UE]],M9t=[3,T,LHt,0,[rn],[[()=>Ar,0]]],q9t=[3,T,MHt,0,[fqt],[15]],$9t=[3,T,vHt,0,[Pe,xN],[0,0]],U9t=[3,T,wHt,0,[FN],[()=>UE]],j9t=[3,T,R3t,0,[s4t,i4t],[0,0]],B9t=[3,T,YHt,0,[m8,POe],[0,128]],H9t=[3,T,QHt,0,[],[]],z9t=[3,T,HHt,0,[LE,DN,TN,Lo,va],[0,0,0,4,4]],V9t=[-3,T,zHt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(V9t,_Ie);var J8=[3,T,tzt,0,[LE,Pe,$r,DN,x8,TN,s8,Lo,va],[0,0,[()=>Ur,0],0,0,0,128,4,4]],W9t=[-3,T,jHt,{[ot]:lt,[ft]:403},[at],[0]];tt.TypeRegistry.for(T).registerError(W9t,EIe);var Z8=[3,T,rzt,0,[rn,mOe,y8],[0,0,0]],G9t=[-3,T,WHt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(G9t,i1e);var K9t=[-3,T,GHt,{[ot]:lt,[ft]:429},[at],[0]];tt.TypeRegistry.for(T).registerError(K9t,KPe);var YOe=[3,T,Tzt,0,[Pe,$r,eBt,QIe,s$t,va,Lo],[0,[()=>Ur,0],0,0,0,4,4]],X9t=[-3,T,vzt,{[ot]:lt,[ft]:401},[at],[0]];tt.TypeRegistry.for(T).registerError(X9t,DIe);var J9t=[-3,T,Nzt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(J9t,o1e);var Z9t=[-3,T,Izt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(Z9t,IIe);var Y9t=[-3,T,Bzt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(Y9t,D1e);var Q9t=[-3,T,f6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(Q9t,LIe);var eGt=[-3,T,x6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(eGt,w1e);var tGt=[3,T,r6t,0,[m8,VHt],[0,64]],rGt=[3,T,n6t,0,[],[]],nGt=[3,T,ozt,0,[Pe,ur,V5,U2t,Z5],[0,[()=>cr,0],0,[()=>Ar,0],0]],iGt=[3,T,azt,0,[],[]],sGt=[3,T,gzt,0,[rn,xu,iOe],[[()=>Ar,0],0,0]],oGt=[3,T,yzt,0,[],[]],aGt=[3,T,Ezt,0,[xf,Pe,B5,IN,h8],[0,0,0,0,1]],uGt=[3,T,Szt,0,[Y5],[()=>LN]],cGt=[3,T,Ozt,0,[Pe,cp,a8,x5,e8],[0,0,128,128,64]],lGt=[3,T,kzt,0,[CN],[()=>MN]],fGt=[3,T,qzt,0,[Pe,PN,P8,C8,D5],[0,0,2,15,()=>iW]],dGt=[3,T,$zt,0,[AN],[()=>$N]],hGt=[3,T,s6t,0,[Pe,OE,Af,T8],[0,0,0,()=>sW]],pGt=[3,T,o6t,0,[g8],[()=>UN]],mGt=[3,T,c6t,0,[LE,Pe,DN,x8,TN,s8],[0,0,0,0,0,128]],gGt=[3,T,l6t,0,[NN],[[()=>J8,0]]],yGt=[3,T,m6t,0,[Zy,rn,Hi],[[()=>Cu,0],[()=>Ar,0],128]],_Gt=[3,T,g6t,0,[pqt],[()=>XGt]],vGt=[3,T,v6t,0,[Pe,$r,EN,v8,k5,t8,R8,p8,L8,H5,w8,q5,n8,j5,R5,P5,A5,C5,f8,K5,G5,O5,_8],[0,[()=>Ur,0],0,1,1,1,()=>Z8,64,64,64,64,64,64,0,64,64,2,()=>j8,0,2,2,1,()=>G8]],wGt=[3,T,w6t,0,[k8],[[()=>eW,0]]],bGt=[3,T,E6t,0,[Gy,Pe,NE,F5],[0,0,1,()=>B8]],EGt=[3,T,S6t,0,[NE,ZIe],[1,0]],SGt=[3,T,T6t,0,[Pe,d8,U5,RN,N5,S8,X5,J5,F8,ON,A8,Jy,$5,z5,kN,N8,T5,O8,I5,wOe,D8],[0,()=>tW,0,()=>qN,64,0,0,0,()=>rW,0,()=>Y8,0,()=>H8,()=>V8,()=>jN,128,()=>U8,()=>Q8,()=>$8,0,0]],TGt=[3,T,C6t,0,[],[]],Y8=[3,T,uzt,0,[hMt],[64]],fp=[3,T,lzt,8,[Q5,aOe],[0,0]],CGt=[-3,T,Czt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(CGt,JPe);var UE=[3,T,Rzt,0,[yOe,xN,Pe,L4t,Lo,B3t,bqt,FE,eOe,rBt,DHt,j2t,Hqt],[0,0,0,0,4,4,4,0,0,1,1,1,0]],xGt=[-3,T,Fzt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(xGt,u1e);var QOe=[3,T,dzt,0,[f$t],[2]],RGt=[-3,T,wzt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(RGt,E1e);var AGt=[-3,T,Uzt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(AGt,L1e);var PGt=[-3,T,jzt,{[ot]:lt,[ft]:404},[at],[0]];tt.TypeRegistry.for(T).registerError(PGt,YPe);var IGt=[-3,T,Hzt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(IGt,q1e);var Q8=[3,T,zzt,0,[gMt,pMt],[0,()=>YVt]],OGt=[3,T,Vzt,0,[$r,Pe,EN],[[()=>Ur,0],0,0]],eW=[3,T,Gzt,0,[Pe,EN,$r,M5,va,Lo,v8,k5,t8,R8,p8,L8,H5,w8,q5,n8,j5,R5,P5,A5,C5,f8,K5,G5,O5,_8],[0,0,[()=>Ur,0],[()=>q8,0],4,4,1,1,1,()=>Z8,64,64,64,64,64,64,0,64,64,2,()=>j8,0,2,2,1,()=>G8]],kGt=[3,T,Xzt,0,[gOe,Af,RN,FE,va,Lo],[0,0,()=>qN,0,4,4]],tW=[3,T,Zzt,0,[k4t,W3t],[()=>r9t,()=>O9t]],NGt=[-3,T,Yzt,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(NGt,TIe);var eke=[3,T,Qzt,0,[gOe,Af,d8,U5,RN,FE,va,Lo,I3t,N5,HIe,OOe,S8,X5,J5,F8,ON,A8,Jy,$5,v2t,z5,kN,N8,F3t,l2t,Gy,Sqt,T5,O8,kOe,JMt,I5,D8],[0,0,()=>tW,0,()=>qN,0,4,4,()=>ske,64,64,64,0,0,0,()=>rW,0,()=>Y8,0,()=>H8,1,()=>V8,()=>jN,128,0,0,0,0,()=>U8,()=>Q8,()=>QOe,0,()=>$8,0]],tke=[3,T,h6t,0,[ur,ZMt,NOe,FOe,Ky,MOe,kE],[[()=>cr,0],[()=>Cu,0],4,4,2,0,()=>jE]],rW=[3,T,I6t,0,[J3t,cOe,fOe,g2t,C2t,W$t],[0,0,0,0,0,0]],DGt=[3,T,k6t,0,[rn,fs,pzt,N2t],[[()=>Ar,0],[()=>ds,0],[()=>eVt,0],0]],FGt=[3,T,N6t,0,[FE,fs],[0,[()=>ds,0]]],LGt=[3,T,F6t,0,[rn,wN,L$t],[[()=>Ar,0],0,0]],MGt=[3,T,L6t,0,[],[]],qGt=[-3,T,B6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(qGt,Y1e);var $Gt=[-3,T,U6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError($Gt,eIe);var UGt=[-3,T,j6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(UGt,qIe);var nW=[3,T,z6t,0,[TOe,R6t],[0,0]],jGt=[3,T,q6t,0,[YIe,I2t,TOe,JFt,FMt,uqt],[0,0,0,0,64,4]],BGt=[-3,T,H6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(BGt,rIe);var HGt=[-3,T,V6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(HGt,iIe);var zGt=[-3,T,W6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(zGt,oIe);var VGt=[-3,T,G6t,{[ot]:lt,[ft]:400},[at],[0]];tt.TypeRegistry.for(T).registerError(VGt,uIe);var Xs="unit",WGt=[-3,jOe,"CognitoIdentityProviderServiceException",0,[],[]];tt.TypeRegistry.for(jOe).registerError(WGt,rt);var iW=[1,T,JLt,0,()=>e5t],Cu=[1,T,ZLt,0,[()=>n5t,0]],GGt=[1,T,TLt,0,()=>i5t],KGt=[1,T,Kqt,0,()=>s5t],XGt=[1,T,mqt,0,()=>$E],JGt=[1,T,sqt,0,()=>XOe],rke=[1,T,iUt,0,[()=>z8,0]],nke=[1,T,ajt,0,()=>LN],ZGt=[1,T,Mjt,0,()=>cWt],ike=[1,T,sBt,0,()=>WWt],jE=[1,T,QBt,0,()=>JWt],YGt=[1,T,A4t,0,()=>o9t],QGt=[1,T,s3t,0,()=>a9t],sW=[1,T,l3t,0,()=>d9t],e7t=[1,T,c3t,0,()=>UN],ske=[1,T,A3t,0,()=>XOe],t7t=[1,T,BHt,0,()=>z9t],r7t=[1,T,xzt,0,()=>UE],n7t=[1,T,Wzt,0,[()=>OGt,0]],i7t=[1,T,Jzt,0,()=>kGt],oke=[1,T,Dzt,0,[()=>tke,0]],s7t=[1,T,$6t,0,()=>jGt],ake=[2,T,rMt,8,0,0],uke=[2,T,e$t,8,0,0],o7t=[9,T,ZFt,0,()=>rVt,()=>nVt],a7t=[9,T,KFt,0,()=>iVt,()=>Xs],u7t=[9,T,eLt,0,()=>sVt,()=>oVt],c7t=[9,T,iLt,0,()=>aVt,()=>uVt],l7t=[9,T,dLt,0,()=>fVt,()=>Xs],f7t=[9,T,hLt,0,()=>cVt,()=>lVt],d7t=[9,T,uLt,0,()=>dVt,()=>hVt],h7t=[9,T,vLt,0,()=>pVt,()=>mVt],p7t=[9,T,CLt,0,()=>gVt,()=>yVt],m7t=[9,T,PLt,0,()=>_Vt,()=>Xs],g7t=[9,T,OLt,0,()=>vVt,()=>wVt],y7t=[9,T,DLt,0,()=>bVt,()=>EVt],_7t=[9,T,qLt,0,()=>SVt,()=>TVt],v7t=[9,T,GLt,0,()=>CVt,()=>xVt],w7t=[9,T,jLt,0,()=>RVt,()=>AVt],b7t=[9,T,zLt,0,()=>PVt,()=>IVt],E7t=[9,T,YLt,0,()=>OVt,()=>kVt],S7t=[9,T,uMt,0,()=>NVt,()=>Xs],T7t=[9,T,lMt,0,()=>DVt,()=>FVt],C7t=[9,T,sMt,0,()=>LVt,()=>MVt],x7t=[9,T,wMt,0,()=>qVt,()=>$Vt],R7t=[9,T,SMt,0,()=>UVt,()=>jVt],A7t=[9,T,xMt,0,()=>BVt,()=>HVt],P7t=[9,T,LMt,0,()=>zVt,()=>VVt],I7t=[9,T,$Mt,0,()=>WVt,()=>GVt],O7t=[9,T,VMt,0,()=>KVt,()=>XVt],k7t=[9,T,BMt,0,()=>JVt,()=>ZVt],N7t=[9,T,yMt,0,()=>t5t,()=>r5t],D7t=[9,T,Gqt,0,()=>o5t,()=>a5t],F7t=[9,T,A$t,0,()=>f5t,()=>d5t],L7t=[9,T,Eqt,0,()=>m5t,()=>g5t],M7t=[9,T,Rqt,0,()=>y5t,()=>_5t],q7t=[9,T,a$t,0,()=>v5t,()=>w5t],$7t=[9,T,Iqt,0,()=>b5t,()=>E5t],U7t=[9,T,Nqt,0,()=>S5t,()=>T5t],j7t=[9,T,$qt,0,()=>C5t,()=>x5t],B7t=[9,T,Jqt,0,()=>R5t,()=>A5t],H7t=[9,T,d$t,0,()=>P5t,()=>I5t],z7t=[9,T,g$t,0,()=>O5t,()=>k5t],V7t=[9,T,v$t,0,()=>M5t,()=>q5t],W7t=[9,T,w$t,0,()=>N5t,()=>D5t],G7t=[9,T,S$t,0,()=>F5t,()=>L5t],K7t=[9,T,G$t,0,()=>j5t,()=>Xs],X7t=[9,T,J$t,0,()=>B5t,()=>Xs],J7t=[9,T,sUt,0,()=>H5t,()=>Xs],Z7t=[9,T,EUt,0,()=>z5t,()=>Xs],Y7t=[9,T,IUt,0,()=>V5t,()=>Xs],Q7t=[9,T,r2t,0,()=>Y5t,()=>Xs],eKt=[9,T,NUt,0,()=>W5t,()=>G5t],tKt=[9,T,$Ut,0,()=>Z5t,()=>Xs],rKt=[9,T,UUt,0,()=>K5t,()=>Xs],nKt=[9,T,VUt,0,()=>X5t,()=>J5t],iKt=[9,T,n2t,0,()=>Q5t,()=>e8t],sKt=[9,T,eUt,0,()=>t8t,()=>r8t],oKt=[9,T,dUt,0,()=>s8t,()=>o8t],aKt=[9,T,oUt,0,()=>n8t,()=>i8t],uKt=[9,T,SUt,0,()=>a8t,()=>u8t],cKt=[9,T,gUt,0,()=>c8t,()=>l8t],lKt=[9,T,OUt,0,()=>f8t,()=>d8t],fKt=[9,T,LUt,0,()=>h8t,()=>p8t],dKt=[9,T,e2t,0,()=>v8t,()=>w8t],hKt=[9,T,zUt,0,()=>m8t,()=>g8t],pKt=[9,T,JUt,0,()=>y8t,()=>_8t],mKt=[9,T,F2t,0,()=>N8t,()=>Xs],gKt=[9,T,M2t,0,()=>D8t,()=>F8t],yKt=[9,T,V2t,0,()=>L8t,()=>M8t],_Kt=[9,T,K2t,0,()=>q8t,()=>$8t],vKt=[9,T,Y2t,0,()=>U8t,()=>j8t],wKt=[9,T,tjt,0,()=>B8t,()=>H8t],bKt=[9,T,ijt,0,()=>z8t,()=>V8t],EKt=[9,T,cjt,0,()=>W8t,()=>G8t],SKt=[9,T,gjt,0,()=>K8t,()=>X8t],TKt=[9,T,xjt,0,()=>J8t,()=>Z8t],CKt=[9,T,vjt,0,()=>iWt,()=>sWt],xKt=[9,T,Sjt,0,()=>Y8t,()=>Q8t],RKt=[9,T,wjt,0,()=>eWt,()=>tWt],AKt=[9,T,Pjt,0,()=>rWt,()=>nWt],PKt=[9,T,djt,0,()=>oWt,()=>aWt],IKt=[9,T,jjt,0,()=>lWt,()=>fWt],OKt=[9,T,uBt,0,()=>EWt,()=>SWt],kKt=[9,T,hBt,0,()=>TWt,()=>CWt],NKt=[9,T,yBt,0,()=>xWt,()=>RWt],DKt=[9,T,bBt,0,()=>AWt,()=>PWt],FKt=[9,T,CBt,0,()=>IWt,()=>OWt],LKt=[9,T,TBt,0,()=>kWt,()=>NWt],MKt=[9,T,DBt,0,()=>DWt,()=>FWt],qKt=[9,T,qBt,0,()=>LWt,()=>MWt],$Kt=[9,T,MBt,0,()=>qWt,()=>$Wt],UKt=[9,T,IBt,0,()=>BWt,()=>HWt],jKt=[9,T,OBt,0,()=>UWt,()=>jWt],BKt=[9,T,VBt,0,()=>zWt,()=>VWt],HKt=[9,T,K4t,0,()=>c9t,()=>l9t],zKt=[9,T,m3t,0,()=>h9t,()=>p9t],VKt=[9,T,T3t,0,()=>m9t,()=>g9t],WKt=[9,T,G3t,0,()=>v9t,()=>w9t],GKt=[9,T,iHt,0,()=>b9t,()=>E9t],KKt=[9,T,hHt,0,()=>S9t,()=>T9t],XKt=[9,T,EHt,0,()=>C9t,()=>x9t],JKt=[9,T,CHt,0,()=>R9t,()=>A9t],ZKt=[9,T,IHt,0,()=>P9t,()=>I9t],YKt=[9,T,NHt,0,()=>k9t,()=>N9t],QKt=[9,T,gHt,0,()=>F9t,()=>L9t],eXt=[9,T,FHt,0,()=>M9t,()=>q9t],tXt=[9,T,bHt,0,()=>$9t,()=>U9t],rXt=[9,T,ZHt,0,()=>B9t,()=>H9t],nXt=[9,T,t6t,0,()=>tGt,()=>rGt],iXt=[9,T,szt,0,()=>nGt,()=>iGt],sXt=[9,T,_zt,0,()=>sGt,()=>oGt],oXt=[9,T,bzt,0,()=>aGt,()=>uGt],aXt=[9,T,Pzt,0,()=>cGt,()=>lGt],uXt=[9,T,Mzt,0,()=>fGt,()=>dGt],cXt=[9,T,i6t,0,()=>hGt,()=>pGt],lXt=[9,T,d6t,0,()=>mGt,()=>gGt],fXt=[9,T,p6t,0,()=>yGt,()=>_Gt],dXt=[9,T,y6t,0,()=>SGt,()=>TGt],hXt=[9,T,_6t,0,()=>vGt,()=>wGt],pXt=[9,T,b6t,0,()=>bGt,()=>EGt],mXt=[9,T,O6t,0,()=>DGt,()=>FGt],gXt=[9,T,D6t,0,()=>LGt,()=>MGt],yO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AddCustomAttributes",{}).n("CognitoIdentityProviderClient","AddCustomAttributesCommand").sc(o7t).build(){},_O=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminAddUserToGroup",{}).n("CognitoIdentityProviderClient","AdminAddUserToGroupCommand").sc(a7t).build(){},vO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminConfirmSignUp",{}).n("CognitoIdentityProviderClient","AdminConfirmSignUpCommand").sc(u7t).build(){},wO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminCreateUser",{}).n("CognitoIdentityProviderClient","AdminCreateUserCommand").sc(c7t).build(){},bO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDeleteUserAttributes",{}).n("CognitoIdentityProviderClient","AdminDeleteUserAttributesCommand").sc(f7t).build(){},EO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDeleteUser",{}).n("CognitoIdentityProviderClient","AdminDeleteUserCommand").sc(l7t).build(){},SO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDisableProviderForUser",{}).n("CognitoIdentityProviderClient","AdminDisableProviderForUserCommand").sc(d7t).build(){},TO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminDisableUser",{}).n("CognitoIdentityProviderClient","AdminDisableUserCommand").sc(h7t).build(){},CO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminEnableUser",{}).n("CognitoIdentityProviderClient","AdminEnableUserCommand").sc(p7t).build(){},xO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminForgetDevice",{}).n("CognitoIdentityProviderClient","AdminForgetDeviceCommand").sc(m7t).build(){},RO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminGetDevice",{}).n("CognitoIdentityProviderClient","AdminGetDeviceCommand").sc(g7t).build(){},AO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminGetUser",{}).n("CognitoIdentityProviderClient","AdminGetUserCommand").sc(y7t).build(){},PO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminInitiateAuth",{}).n("CognitoIdentityProviderClient","AdminInitiateAuthCommand").sc(_7t).build(){},IO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminLinkProviderForUser",{}).n("CognitoIdentityProviderClient","AdminLinkProviderForUserCommand").sc(v7t).build(){},OO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListDevices",{}).n("CognitoIdentityProviderClient","AdminListDevicesCommand").sc(w7t).build(){},bE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListGroupsForUser",{}).n("CognitoIdentityProviderClient","AdminListGroupsForUserCommand").sc(b7t).build(){},EE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminListUserAuthEvents",{}).n("CognitoIdentityProviderClient","AdminListUserAuthEventsCommand").sc(E7t).build(){},kO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminRemoveUserFromGroup",{}).n("CognitoIdentityProviderClient","AdminRemoveUserFromGroupCommand").sc(S7t).build(){},NO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminResetUserPassword",{}).n("CognitoIdentityProviderClient","AdminResetUserPasswordCommand").sc(T7t).build(){},DO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminRespondToAuthChallenge",{}).n("CognitoIdentityProviderClient","AdminRespondToAuthChallengeCommand").sc(C7t).build(){},FO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserMFAPreference",{}).n("CognitoIdentityProviderClient","AdminSetUserMFAPreferenceCommand").sc(x7t).build(){},LO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserPassword",{}).n("CognitoIdentityProviderClient","AdminSetUserPasswordCommand").sc(R7t).build(){},MO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminSetUserSettings",{}).n("CognitoIdentityProviderClient","AdminSetUserSettingsCommand").sc(A7t).build(){},qO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateAuthEventFeedback",{}).n("CognitoIdentityProviderClient","AdminUpdateAuthEventFeedbackCommand").sc(P7t).build(){},$O=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateDeviceStatus",{}).n("CognitoIdentityProviderClient","AdminUpdateDeviceStatusCommand").sc(I7t).build(){},UO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUpdateUserAttributes",{}).n("CognitoIdentityProviderClient","AdminUpdateUserAttributesCommand").sc(O7t).build(){},jO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AdminUserGlobalSignOut",{}).n("CognitoIdentityProviderClient","AdminUserGlobalSignOutCommand").sc(k7t).build(){},BO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","AssociateSoftwareToken",{}).n("CognitoIdentityProviderClient","AssociateSoftwareTokenCommand").sc(N7t).build(){},HO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ChangePassword",{}).n("CognitoIdentityProviderClient","ChangePasswordCommand").sc(D7t).build(){},zO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CompleteWebAuthnRegistration",{}).n("CognitoIdentityProviderClient","CompleteWebAuthnRegistrationCommand").sc(F7t).build(){},VO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmDevice",{}).n("CognitoIdentityProviderClient","ConfirmDeviceCommand").sc(L7t).build(){},WO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmForgotPassword",{}).n("CognitoIdentityProviderClient","ConfirmForgotPasswordCommand").sc(M7t).build(){},GO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ConfirmSignUp",{}).n("CognitoIdentityProviderClient","ConfirmSignUpCommand").sc(q7t).build(){},KO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateGroup",{}).n("CognitoIdentityProviderClient","CreateGroupCommand").sc($7t).build(){},XO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateIdentityProvider",{}).n("CognitoIdentityProviderClient","CreateIdentityProviderCommand").sc(U7t).build(){},JO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateManagedLoginBranding",{}).n("CognitoIdentityProviderClient","CreateManagedLoginBrandingCommand").sc(j7t).build(){},ZO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateResourceServer",{}).n("CognitoIdentityProviderClient","CreateResourceServerCommand").sc(B7t).build(){},YO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateTerms",{}).n("CognitoIdentityProviderClient","CreateTermsCommand").sc(H7t).build(){},QO=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserImportJob",{}).n("CognitoIdentityProviderClient","CreateUserImportJobCommand").sc(z7t).build(){},ek=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPoolClient",{}).n("CognitoIdentityProviderClient","CreateUserPoolClientCommand").sc(W7t).build(){},tk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPool",{}).n("CognitoIdentityProviderClient","CreateUserPoolCommand").sc(V7t).build(){},rk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","CreateUserPoolDomain",{}).n("CognitoIdentityProviderClient","CreateUserPoolDomainCommand").sc(G7t).build(){},nk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteGroup",{}).n("CognitoIdentityProviderClient","DeleteGroupCommand").sc(K7t).build(){},ik=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteIdentityProvider",{}).n("CognitoIdentityProviderClient","DeleteIdentityProviderCommand").sc(X7t).build(){},sk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteManagedLoginBranding",{}).n("CognitoIdentityProviderClient","DeleteManagedLoginBrandingCommand").sc(J7t).build(){},ok=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteResourceServer",{}).n("CognitoIdentityProviderClient","DeleteResourceServerCommand").sc(Z7t).build(){},ak=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteTerms",{}).n("CognitoIdentityProviderClient","DeleteTermsCommand").sc(Y7t).build(){},uk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserAttributes",{}).n("CognitoIdentityProviderClient","DeleteUserAttributesCommand").sc(eKt).build(){},ck=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUser",{}).n("CognitoIdentityProviderClient","DeleteUserCommand").sc(Q7t).build(){},lk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPoolClient",{}).n("CognitoIdentityProviderClient","DeleteUserPoolClientCommand").sc(rKt).build(){},fk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPool",{}).n("CognitoIdentityProviderClient","DeleteUserPoolCommand").sc(tKt).build(){},dk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteUserPoolDomain",{}).n("CognitoIdentityProviderClient","DeleteUserPoolDomainCommand").sc(nKt).build(){},hk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DeleteWebAuthnCredential",{}).n("CognitoIdentityProviderClient","DeleteWebAuthnCredentialCommand").sc(iKt).build(){},pk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeIdentityProvider",{}).n("CognitoIdentityProviderClient","DescribeIdentityProviderCommand").sc(sKt).build(){},mk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeManagedLoginBrandingByClient",{}).n("CognitoIdentityProviderClient","DescribeManagedLoginBrandingByClientCommand").sc(aKt).build(){},gk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeManagedLoginBranding",{}).n("CognitoIdentityProviderClient","DescribeManagedLoginBrandingCommand").sc(oKt).build(){},yk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeResourceServer",{}).n("CognitoIdentityProviderClient","DescribeResourceServerCommand").sc(uKt).build(){},_k=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeRiskConfiguration",{}).n("CognitoIdentityProviderClient","DescribeRiskConfigurationCommand").sc(cKt).build(){},vk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeTerms",{}).n("CognitoIdentityProviderClient","DescribeTermsCommand").sc(lKt).build(){},wk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserImportJob",{}).n("CognitoIdentityProviderClient","DescribeUserImportJobCommand").sc(fKt).build(){},bk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPoolClient",{}).n("CognitoIdentityProviderClient","DescribeUserPoolClientCommand").sc(hKt).build(){},Ek=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPool",{}).n("CognitoIdentityProviderClient","DescribeUserPoolCommand").sc(dKt).build(){},Sk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","DescribeUserPoolDomain",{}).n("CognitoIdentityProviderClient","DescribeUserPoolDomainCommand").sc(pKt).build(){},Tk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ForgetDevice",{}).n("CognitoIdentityProviderClient","ForgetDeviceCommand").sc(mKt).build(){},Ck=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ForgotPassword",{}).n("CognitoIdentityProviderClient","ForgotPasswordCommand").sc(gKt).build(){},xk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetCSVHeader",{}).n("CognitoIdentityProviderClient","GetCSVHeaderCommand").sc(yKt).build(){},Rk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetDevice",{}).n("CognitoIdentityProviderClient","GetDeviceCommand").sc(_Kt).build(){},Ak=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetGroup",{}).n("CognitoIdentityProviderClient","GetGroupCommand").sc(vKt).build(){},Pk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetIdentityProviderByIdentifier",{}).n("CognitoIdentityProviderClient","GetIdentityProviderByIdentifierCommand").sc(wKt).build(){},Ik=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetLogDeliveryConfiguration",{}).n("CognitoIdentityProviderClient","GetLogDeliveryConfigurationCommand").sc(bKt).build(){},Ok=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetSigningCertificate",{}).n("CognitoIdentityProviderClient","GetSigningCertificateCommand").sc(EKt).build(){},kk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetTokensFromRefreshToken",{}).n("CognitoIdentityProviderClient","GetTokensFromRefreshTokenCommand").sc(SKt).build(){},Nk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUICustomization",{}).n("CognitoIdentityProviderClient","GetUICustomizationCommand").sc(TKt).build(){},Dk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserAttributeVerificationCode",{}).n("CognitoIdentityProviderClient","GetUserAttributeVerificationCodeCommand").sc(xKt).build(){},Fk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserAuthFactors",{}).n("CognitoIdentityProviderClient","GetUserAuthFactorsCommand").sc(RKt).build(){},Lk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUser",{}).n("CognitoIdentityProviderClient","GetUserCommand").sc(CKt).build(){},Mk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GetUserPoolMfaConfig",{}).n("CognitoIdentityProviderClient","GetUserPoolMfaConfigCommand").sc(AKt).build(){},qk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","GlobalSignOut",{}).n("CognitoIdentityProviderClient","GlobalSignOutCommand").sc(PKt).build(){},$k=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","InitiateAuth",{}).n("CognitoIdentityProviderClient","InitiateAuthCommand").sc(IKt).build(){},Uk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListDevices",{}).n("CognitoIdentityProviderClient","ListDevicesCommand").sc(OKt).build(){},SE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListGroups",{}).n("CognitoIdentityProviderClient","ListGroupsCommand").sc(kKt).build(){},TE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListIdentityProviders",{}).n("CognitoIdentityProviderClient","ListIdentityProvidersCommand").sc(NKt).build(){},CE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListResourceServers",{}).n("CognitoIdentityProviderClient","ListResourceServersCommand").sc(DKt).build(){},jk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListTagsForResource",{}).n("CognitoIdentityProviderClient","ListTagsForResourceCommand").sc(FKt).build(){},Bk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListTerms",{}).n("CognitoIdentityProviderClient","ListTermsCommand").sc(LKt).build(){},Hk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserImportJobs",{}).n("CognitoIdentityProviderClient","ListUserImportJobsCommand").sc(MKt).build(){},xE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserPoolClients",{}).n("CognitoIdentityProviderClient","ListUserPoolClientsCommand").sc(qKt).build(){},RE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUserPools",{}).n("CognitoIdentityProviderClient","ListUserPoolsCommand").sc($Kt).build(){},AE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUsers",{}).n("CognitoIdentityProviderClient","ListUsersCommand").sc(UKt).build(){},PE=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListUsersInGroup",{}).n("CognitoIdentityProviderClient","ListUsersInGroupCommand").sc(jKt).build(){},zk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ListWebAuthnCredentials",{}).n("CognitoIdentityProviderClient","ListWebAuthnCredentialsCommand").sc(BKt).build(){},Vk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","ResendConfirmationCode",{}).n("CognitoIdentityProviderClient","ResendConfirmationCodeCommand").sc(HKt).build(){},Wk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","RespondToAuthChallenge",{}).n("CognitoIdentityProviderClient","RespondToAuthChallengeCommand").sc(zKt).build(){},Gk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","RevokeToken",{}).n("CognitoIdentityProviderClient","RevokeTokenCommand").sc(VKt).build(){},Kk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetLogDeliveryConfiguration",{}).n("CognitoIdentityProviderClient","SetLogDeliveryConfigurationCommand").sc(WKt).build(){},Xk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetRiskConfiguration",{}).n("CognitoIdentityProviderClient","SetRiskConfigurationCommand").sc(GKt).build(){},Jk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUICustomization",{}).n("CognitoIdentityProviderClient","SetUICustomizationCommand").sc(KKt).build(){},Zk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserMFAPreference",{}).n("CognitoIdentityProviderClient","SetUserMFAPreferenceCommand").sc(XKt).build(){},Yk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserPoolMfaConfig",{}).n("CognitoIdentityProviderClient","SetUserPoolMfaConfigCommand").sc(JKt).build(){},Qk=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SetUserSettings",{}).n("CognitoIdentityProviderClient","SetUserSettingsCommand").sc(ZKt).build(){},eN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","SignUp",{}).n("CognitoIdentityProviderClient","SignUpCommand").sc(YKt).build(){},tN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StartUserImportJob",{}).n("CognitoIdentityProviderClient","StartUserImportJobCommand").sc(QKt).build(){},rN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StartWebAuthnRegistration",{}).n("CognitoIdentityProviderClient","StartWebAuthnRegistrationCommand").sc(eXt).build(){},nN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","StopUserImportJob",{}).n("CognitoIdentityProviderClient","StopUserImportJobCommand").sc(tXt).build(){},iN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","TagResource",{}).n("CognitoIdentityProviderClient","TagResourceCommand").sc(rXt).build(){},sN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UntagResource",{}).n("CognitoIdentityProviderClient","UntagResourceCommand").sc(nXt).build(){},oN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateAuthEventFeedback",{}).n("CognitoIdentityProviderClient","UpdateAuthEventFeedbackCommand").sc(iXt).build(){},aN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateDeviceStatus",{}).n("CognitoIdentityProviderClient","UpdateDeviceStatusCommand").sc(sXt).build(){},uN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateGroup",{}).n("CognitoIdentityProviderClient","UpdateGroupCommand").sc(oXt).build(){},cN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateIdentityProvider",{}).n("CognitoIdentityProviderClient","UpdateIdentityProviderCommand").sc(aXt).build(){},lN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateManagedLoginBranding",{}).n("CognitoIdentityProviderClient","UpdateManagedLoginBrandingCommand").sc(uXt).build(){},fN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateResourceServer",{}).n("CognitoIdentityProviderClient","UpdateResourceServerCommand").sc(cXt).build(){},dN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateTerms",{}).n("CognitoIdentityProviderClient","UpdateTermsCommand").sc(lXt).build(){},hN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserAttributes",{}).n("CognitoIdentityProviderClient","UpdateUserAttributesCommand").sc(fXt).build(){},pN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPoolClient",{}).n("CognitoIdentityProviderClient","UpdateUserPoolClientCommand").sc(hXt).build(){},mN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPool",{}).n("CognitoIdentityProviderClient","UpdateUserPoolCommand").sc(dXt).build(){},gN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","UpdateUserPoolDomain",{}).n("CognitoIdentityProviderClient","UpdateUserPoolDomainCommand").sc(pXt).build(){},yN=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","VerifySoftwareToken",{}).n("CognitoIdentityProviderClient","VerifySoftwareTokenCommand").sc(mXt).build(){},_N=class extends ve.Command.classBuilder().ep(Ee).m(function(e,r,n,i){return[be.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityProviderService","VerifyUserAttribute",{}).n("CognitoIdentityProviderClient","VerifyUserAttributeCommand").sc(gXt).build(){},yXt={AddCustomAttributesCommand:yO,AdminAddUserToGroupCommand:_O,AdminConfirmSignUpCommand:vO,AdminCreateUserCommand:wO,AdminDeleteUserCommand:EO,AdminDeleteUserAttributesCommand:bO,AdminDisableProviderForUserCommand:SO,AdminDisableUserCommand:TO,AdminEnableUserCommand:CO,AdminForgetDeviceCommand:xO,AdminGetDeviceCommand:RO,AdminGetUserCommand:AO,AdminInitiateAuthCommand:PO,AdminLinkProviderForUserCommand:IO,AdminListDevicesCommand:OO,AdminListGroupsForUserCommand:bE,AdminListUserAuthEventsCommand:EE,AdminRemoveUserFromGroupCommand:kO,AdminResetUserPasswordCommand:NO,AdminRespondToAuthChallengeCommand:DO,AdminSetUserMFAPreferenceCommand:FO,AdminSetUserPasswordCommand:LO,AdminSetUserSettingsCommand:MO,AdminUpdateAuthEventFeedbackCommand:qO,AdminUpdateDeviceStatusCommand:$O,AdminUpdateUserAttributesCommand:UO,AdminUserGlobalSignOutCommand:jO,AssociateSoftwareTokenCommand:BO,ChangePasswordCommand:HO,CompleteWebAuthnRegistrationCommand:zO,ConfirmDeviceCommand:VO,ConfirmForgotPasswordCommand:WO,ConfirmSignUpCommand:GO,CreateGroupCommand:KO,CreateIdentityProviderCommand:XO,CreateManagedLoginBrandingCommand:JO,CreateResourceServerCommand:ZO,CreateTermsCommand:YO,CreateUserImportJobCommand:QO,CreateUserPoolCommand:tk,CreateUserPoolClientCommand:ek,CreateUserPoolDomainCommand:rk,DeleteGroupCommand:nk,DeleteIdentityProviderCommand:ik,DeleteManagedLoginBrandingCommand:sk,DeleteResourceServerCommand:ok,DeleteTermsCommand:ak,DeleteUserCommand:ck,DeleteUserAttributesCommand:uk,DeleteUserPoolCommand:fk,DeleteUserPoolClientCommand:lk,DeleteUserPoolDomainCommand:dk,DeleteWebAuthnCredentialCommand:hk,DescribeIdentityProviderCommand:pk,DescribeManagedLoginBrandingCommand:gk,DescribeManagedLoginBrandingByClientCommand:mk,DescribeResourceServerCommand:yk,DescribeRiskConfigurationCommand:_k,DescribeTermsCommand:vk,DescribeUserImportJobCommand:wk,DescribeUserPoolCommand:Ek,DescribeUserPoolClientCommand:bk,DescribeUserPoolDomainCommand:Sk,ForgetDeviceCommand:Tk,ForgotPasswordCommand:Ck,GetCSVHeaderCommand:xk,GetDeviceCommand:Rk,GetGroupCommand:Ak,GetIdentityProviderByIdentifierCommand:Pk,GetLogDeliveryConfigurationCommand:Ik,GetSigningCertificateCommand:Ok,GetTokensFromRefreshTokenCommand:kk,GetUICustomizationCommand:Nk,GetUserCommand:Lk,GetUserAttributeVerificationCodeCommand:Dk,GetUserAuthFactorsCommand:Fk,GetUserPoolMfaConfigCommand:Mk,GlobalSignOutCommand:qk,InitiateAuthCommand:$k,ListDevicesCommand:Uk,ListGroupsCommand:SE,ListIdentityProvidersCommand:TE,ListResourceServersCommand:CE,ListTagsForResourceCommand:jk,ListTermsCommand:Bk,ListUserImportJobsCommand:Hk,ListUserPoolClientsCommand:xE,ListUserPoolsCommand:RE,ListUsersCommand:AE,ListUsersInGroupCommand:PE,ListWebAuthnCredentialsCommand:zk,ResendConfirmationCodeCommand:Vk,RespondToAuthChallengeCommand:Wk,RevokeTokenCommand:Gk,SetLogDeliveryConfigurationCommand:Kk,SetRiskConfigurationCommand:Xk,SetUICustomizationCommand:Jk,SetUserMFAPreferenceCommand:Zk,SetUserPoolMfaConfigCommand:Yk,SetUserSettingsCommand:Qk,SignUpCommand:eN,StartUserImportJobCommand:tN,StartWebAuthnRegistrationCommand:rN,StopUserImportJobCommand:nN,TagResourceCommand:iN,UntagResourceCommand:sN,UpdateAuthEventFeedbackCommand:oN,UpdateDeviceStatusCommand:aN,UpdateGroupCommand:uN,UpdateIdentityProviderCommand:cN,UpdateManagedLoginBrandingCommand:lN,UpdateResourceServerCommand:fN,UpdateTermsCommand:dN,UpdateUserAttributesCommand:hN,UpdateUserPoolCommand:mN,UpdateUserPoolClientCommand:pN,UpdateUserPoolDomainCommand:gN,VerifySoftwareTokenCommand:yN,VerifyUserAttributeCommand:_N},vN=class extends Ks{};ve.createAggregatedClient(yXt,vN);var _Xt=Fo.createPaginator(Ks,bE,"NextToken","NextToken","Limit"),vXt=Fo.createPaginator(Ks,EE,"NextToken","NextToken","MaxResults"),wXt=Fo.createPaginator(Ks,SE,"NextToken","NextToken","Limit"),bXt=Fo.createPaginator(Ks,TE,"NextToken","NextToken","MaxResults"),EXt=Fo.createPaginator(Ks,CE,"NextToken","NextToken","MaxResults"),SXt=Fo.createPaginator(Ks,xE,"NextToken","NextToken","MaxResults"),TXt=Fo.createPaginator(Ks,RE,"NextToken","NextToken","MaxResults"),CXt=Fo.createPaginator(Ks,PE,"NextToken","NextToken","Limit"),xXt=Fo.createPaginator(Ks,AE,"PaginationToken","PaginationToken","Limit"),RXt={ADMIN_ONLY:"admin_only",VERIFIED_EMAIL:"verified_email",VERIFIED_PHONE_NUMBER:"verified_phone_number"},AXt={BLOCK:"BLOCK",MFA_IF_CONFIGURED:"MFA_IF_CONFIGURED",MFA_REQUIRED:"MFA_REQUIRED",NO_ACTION:"NO_ACTION"},PXt={BOOLEAN:"Boolean",DATETIME:"DateTime",NUMBER:"Number",STRING:"String"},IXt={EMAIL:"EMAIL",SMS:"SMS"},OXt={RESEND:"RESEND",SUPPRESS:"SUPPRESS"},kXt={ARCHIVED:"ARCHIVED",COMPROMISED:"COMPROMISED",CONFIRMED:"CONFIRMED",EXTERNAL_PROVIDER:"EXTERNAL_PROVIDER",FORCE_CHANGE_PASSWORD:"FORCE_CHANGE_PASSWORD",RESET_REQUIRED:"RESET_REQUIRED",UNCONFIRMED:"UNCONFIRMED",UNKNOWN:"UNKNOWN"},NXt={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",ADMIN_USER_PASSWORD_AUTH:"ADMIN_USER_PASSWORD_AUTH",CUSTOM_AUTH:"CUSTOM_AUTH",REFRESH_TOKEN:"REFRESH_TOKEN",REFRESH_TOKEN_AUTH:"REFRESH_TOKEN_AUTH",USER_AUTH:"USER_AUTH",USER_PASSWORD_AUTH:"USER_PASSWORD_AUTH",USER_SRP_AUTH:"USER_SRP_AUTH"},DXt={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",CUSTOM_CHALLENGE:"CUSTOM_CHALLENGE",DEVICE_PASSWORD_VERIFIER:"DEVICE_PASSWORD_VERIFIER",DEVICE_SRP_AUTH:"DEVICE_SRP_AUTH",EMAIL_OTP:"EMAIL_OTP",MFA_SETUP:"MFA_SETUP",NEW_PASSWORD_REQUIRED:"NEW_PASSWORD_REQUIRED",PASSWORD:"PASSWORD",PASSWORD_SRP:"PASSWORD_SRP",PASSWORD_VERIFIER:"PASSWORD_VERIFIER",SELECT_CHALLENGE:"SELECT_CHALLENGE",SELECT_MFA_TYPE:"SELECT_MFA_TYPE",SMS_MFA:"SMS_MFA",SMS_OTP:"SMS_OTP",SOFTWARE_TOKEN_MFA:"SOFTWARE_TOKEN_MFA",WEB_AUTHN:"WEB_AUTHN"},FXt={Mfa:"Mfa",Password:"Password"},LXt={Failure:"Failure",Success:"Success"},MXt={INVALID:"Invalid",VALID:"Valid"},qXt={Fail:"Fail",InProgress:"InProgress",Pass:"Pass"},$Xt={AccountTakeover:"AccountTakeover",Block:"Block",NoRisk:"NoRisk"},UXt={High:"High",Low:"Low",Medium:"Medium"},jXt={ForgotPassword:"ForgotPassword",PasswordChange:"PasswordChange",ResendCode:"ResendCode",SignIn:"SignIn",SignUp:"SignUp"},BXt={NOT_REMEMBERED:"not_remembered",REMEMBERED:"remembered"},HXt={AUDIT:"AUDIT",ENFORCED:"ENFORCED"},zXt={AUDIT:"AUDIT",ENFORCED:"ENFORCED",OFF:"OFF"},VXt={EMAIL:"email",PHONE_NUMBER:"phone_number",PREFERRED_USERNAME:"preferred_username"},WXt={EMAIL_OTP:"EMAIL_OTP",PASSWORD:"PASSWORD",SMS_OTP:"SMS_OTP",WEB_AUTHN:"WEB_AUTHN"},GXt={AUTH_APP_GRAPHIC:"AUTH_APP_GRAPHIC",EMAIL_GRAPHIC:"EMAIL_GRAPHIC",FAVICON_ICO:"FAVICON_ICO",FAVICON_SVG:"FAVICON_SVG",FORM_BACKGROUND:"FORM_BACKGROUND",FORM_LOGO:"FORM_LOGO",IDP_BUTTON_ICON:"IDP_BUTTON_ICON",PAGE_BACKGROUND:"PAGE_BACKGROUND",PAGE_FOOTER_BACKGROUND:"PAGE_FOOTER_BACKGROUND",PAGE_FOOTER_LOGO:"PAGE_FOOTER_LOGO",PAGE_HEADER_BACKGROUND:"PAGE_HEADER_BACKGROUND",PAGE_HEADER_LOGO:"PAGE_HEADER_LOGO",PASSKEY_GRAPHIC:"PASSKEY_GRAPHIC",PASSWORD_GRAPHIC:"PASSWORD_GRAPHIC",SMS_GRAPHIC:"SMS_GRAPHIC"},KXt={ICO:"ICO",JPEG:"JPEG",PNG:"PNG",SVG:"SVG",WEBP:"WEBP"},XXt={DARK:"DARK",DYNAMIC:"DYNAMIC",LIGHT:"LIGHT"},JXt={EMAIL:"email",PHONE_NUMBER:"phone_number"},ZXt={Facebook:"Facebook",Google:"Google",LoginWithAmazon:"LoginWithAmazon",OIDC:"OIDC",SAML:"SAML",SignInWithApple:"SignInWithApple"},YXt={NONE:"NONE"},QXt={LINK:"LINK"},eJt={Created:"Created",Expired:"Expired",Failed:"Failed",InProgress:"InProgress",Pending:"Pending",Stopped:"Stopped",Stopping:"Stopping",Succeeded:"Succeeded"},tJt={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},rJt={COGNITO_DEFAULT:"COGNITO_DEFAULT",DEVELOPER:"DEVELOPER"},nJt={V1_0:"V1_0"},iJt={V1_0:"V1_0"},sJt={V1_0:"V1_0",V2_0:"V2_0",V3_0:"V3_0"},oJt={OFF:"OFF",ON:"ON",OPTIONAL:"OPTIONAL"},aJt={EMAIL:"email",PHONE_NUMBER:"phone_number"},uJt={ESSENTIALS:"ESSENTIALS",LITE:"LITE",PLUS:"PLUS"},cJt={CONFIRM_WITH_CODE:"CONFIRM_WITH_CODE",CONFIRM_WITH_LINK:"CONFIRM_WITH_LINK"},lJt={Disabled:"Disabled",Enabled:"Enabled"},fJt={client_credentials:"client_credentials",code:"code",implicit:"implicit"},dJt={ADMIN_NO_SRP_AUTH:"ADMIN_NO_SRP_AUTH",ALLOW_ADMIN_USER_PASSWORD_AUTH:"ALLOW_ADMIN_USER_PASSWORD_AUTH",ALLOW_CUSTOM_AUTH:"ALLOW_CUSTOM_AUTH",ALLOW_REFRESH_TOKEN_AUTH:"ALLOW_REFRESH_TOKEN_AUTH",ALLOW_USER_AUTH:"ALLOW_USER_AUTH",ALLOW_USER_PASSWORD_AUTH:"ALLOW_USER_PASSWORD_AUTH",ALLOW_USER_SRP_AUTH:"ALLOW_USER_SRP_AUTH",CUSTOM_AUTH_FLOW_ONLY:"CUSTOM_AUTH_FLOW_ONLY",USER_PASSWORD_AUTH:"USER_PASSWORD_AUTH"},hJt={ENABLED:"ENABLED",LEGACY:"LEGACY"},pJt={DISABLED:"DISABLED",ENABLED:"ENABLED"},mJt={DAYS:"days",HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds"},gJt={BLOCK:"BLOCK",NO_ACTION:"NO_ACTION"},yJt={PASSWORD_CHANGE:"PASSWORD_CHANGE",SIGN_IN:"SIGN_IN",SIGN_UP:"SIGN_UP"},_Jt={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",FAILED:"FAILED",UPDATING:"UPDATING"},vJt={USER_AUTH_EVENTS:"userAuthEvents",USER_NOTIFICATION:"userNotification"},wJt={ERROR:"ERROR",INFO:"INFO"},bJt={PREFERRED:"preferred",REQUIRED:"required"},EJt={ERROR:"ERROR",SUCCESS:"SUCCESS"};Object.defineProperty(G,"$Command",{enumerable:!0,get:function(){return ve.Command}});Object.defineProperty(G,"__Client",{enumerable:!0,get:function(){return ve.Client}});G.AccountTakeoverEventActionType=AXt;G.AddCustomAttributesCommand=yO;G.AdminAddUserToGroupCommand=_O;G.AdminConfirmSignUpCommand=vO;G.AdminCreateUserCommand=wO;G.AdminDeleteUserAttributesCommand=bO;G.AdminDeleteUserCommand=EO;G.AdminDisableProviderForUserCommand=SO;G.AdminDisableUserCommand=TO;G.AdminEnableUserCommand=CO;G.AdminForgetDeviceCommand=xO;G.AdminGetDeviceCommand=RO;G.AdminGetUserCommand=AO;G.AdminInitiateAuthCommand=PO;G.AdminLinkProviderForUserCommand=IO;G.AdminListDevicesCommand=OO;G.AdminListGroupsForUserCommand=bE;G.AdminListUserAuthEventsCommand=EE;G.AdminRemoveUserFromGroupCommand=kO;G.AdminResetUserPasswordCommand=NO;G.AdminRespondToAuthChallengeCommand=DO;G.AdminSetUserMFAPreferenceCommand=FO;G.AdminSetUserPasswordCommand=LO;G.AdminSetUserSettingsCommand=MO;G.AdminUpdateAuthEventFeedbackCommand=qO;G.AdminUpdateDeviceStatusCommand=$O;G.AdminUpdateUserAttributesCommand=UO;G.AdminUserGlobalSignOutCommand=jO;G.AdvancedSecurityEnabledModeType=HXt;G.AdvancedSecurityModeType=zXt;G.AliasAttributeType=VXt;G.AliasExistsException=T1e;G.AssetCategoryType=GXt;G.AssetExtensionType=KXt;G.AssociateSoftwareTokenCommand=BO;G.AttributeDataType=PXt;G.AuthFactorType=WXt;G.AuthFlowType=NXt;G.ChallengeName=FXt;G.ChallengeNameType=DXt;G.ChallengeResponse=LXt;G.ChangePasswordCommand=HO;G.CodeDeliveryFailureException=l1e;G.CodeMismatchException=U1e;G.CognitoIdentityProvider=vN;G.CognitoIdentityProviderClient=Ks;G.CognitoIdentityProviderServiceException=rt;G.ColorSchemeModeType=XXt;G.CompleteWebAuthnRegistrationCommand=zO;G.CompromisedCredentialsEventActionType=gJt;G.ConcurrentModificationException=K1e;G.ConfirmDeviceCommand=VO;G.ConfirmForgotPasswordCommand=WO;G.ConfirmSignUpCommand=GO;G.CreateGroupCommand=KO;G.CreateIdentityProviderCommand=XO;G.CreateManagedLoginBrandingCommand=JO;G.CreateResourceServerCommand=ZO;G.CreateTermsCommand=YO;G.CreateUserImportJobCommand=QO;G.CreateUserPoolClientCommand=ek;G.CreateUserPoolCommand=tk;G.CreateUserPoolDomainCommand=rk;G.CustomEmailSenderLambdaVersionType=nJt;G.CustomSMSSenderLambdaVersionType=iJt;G.DefaultEmailOptionType=cJt;G.DeleteGroupCommand=nk;G.DeleteIdentityProviderCommand=ik;G.DeleteManagedLoginBrandingCommand=sk;G.DeleteResourceServerCommand=ok;G.DeleteTermsCommand=ak;G.DeleteUserAttributesCommand=uk;G.DeleteUserCommand=ck;G.DeleteUserPoolClientCommand=lk;G.DeleteUserPoolCommand=fk;G.DeleteUserPoolDomainCommand=dk;G.DeleteWebAuthnCredentialCommand=hk;G.DeletionProtectionType=tJt;G.DeliveryMediumType=IXt;G.DescribeIdentityProviderCommand=pk;G.DescribeManagedLoginBrandingByClientCommand=mk;G.DescribeManagedLoginBrandingCommand=gk;G.DescribeResourceServerCommand=yk;G.DescribeRiskConfigurationCommand=_k;G.DescribeTermsCommand=vk;G.DescribeUserImportJobCommand=wk;G.DescribeUserPoolClientCommand=bk;G.DescribeUserPoolCommand=Ek;G.DescribeUserPoolDomainCommand=Sk;G.DeviceKeyExistsException=lIe;G.DeviceRememberedStatusType=BXt;G.DomainStatusType=_Jt;G.DuplicateProviderException=pIe;G.EmailSendingAccountType=rJt;G.EnableSoftwareTokenMFAException=UIe;G.EventFilterType=yJt;G.EventResponseType=qXt;G.EventSourceName=vJt;G.EventType=jXt;G.ExpiredCodeException=B1e;G.ExplicitAuthFlowsType=dJt;G.FeatureType=pJt;G.FeatureUnavailableInTierException=wIe;G.FeedbackValueType=MXt;G.ForbiddenException=J1e;G.ForgetDeviceCommand=Tk;G.ForgotPasswordCommand=Ck;G.GetCSVHeaderCommand=xk;G.GetDeviceCommand=Rk;G.GetGroupCommand=Ak;G.GetIdentityProviderByIdentifierCommand=Pk;G.GetLogDeliveryConfigurationCommand=Ik;G.GetSigningCertificateCommand=Ok;G.GetTokensFromRefreshTokenCommand=kk;G.GetUICustomizationCommand=Nk;G.GetUserAttributeVerificationCodeCommand=Dk;G.GetUserAuthFactorsCommand=Fk;G.GetUserCommand=Lk;G.GetUserPoolMfaConfigCommand=Mk;G.GlobalSignOutCommand=qk;G.GroupExistsException=dIe;G.IdentityProviderTypeType=ZXt;G.InitiateAuthCommand=$k;G.InternalErrorException=UPe;G.InvalidEmailRoleAccessPolicyException=A1e;G.InvalidLambdaResponseException=e1e;G.InvalidOAuthFlowException=xIe;G.InvalidParameterException=BPe;G.InvalidPasswordException=d1e;G.InvalidSmsRoleAccessPolicyException=p1e;G.InvalidSmsRoleTrustRelationshipException=g1e;G.InvalidUserPoolConfigurationException=x1e;G.LimitExceededException=r1e;G.ListDevicesCommand=Uk;G.ListGroupsCommand=SE;G.ListIdentityProvidersCommand=TE;G.ListResourceServersCommand=CE;G.ListTagsForResourceCommand=jk;G.ListTermsCommand=Bk;G.ListUserImportJobsCommand=Hk;G.ListUserPoolClientsCommand=xE;G.ListUserPoolsCommand=RE;G.ListUsersCommand=AE;G.ListUsersInGroupCommand=PE;G.ListWebAuthnCredentialsCommand=zk;G.LogLevel=wJt;G.MFAMethodNotFoundException=I1e;G.ManagedLoginBrandingExistsException=gIe;G.MessageActionType=OXt;G.NotAuthorizedException=zPe;G.OAuthFlowType=fJt;G.PasswordHistoryPolicyViolationException=z1e;G.PasswordResetRequiredException=k1e;G.PreTokenGenerationLambdaVersionType=sJt;G.PreconditionNotMetException=_1e;G.PreventUserExistenceErrorTypes=hJt;G.RecoveryOptionNameType=RXt;G.RefreshTokenReuseException=kIe;G.ResendConfirmationCodeCommand=Vk;G.ResourceNotFoundException=WPe;G.RespondToAuthChallengeCommand=Wk;G.RevokeTokenCommand=Gk;G.RiskDecisionType=$Xt;G.RiskLevelType=UXt;G.ScopeDoesNotExistException=AIe;G.SetLogDeliveryConfigurationCommand=Kk;G.SetRiskConfigurationCommand=Xk;G.SetUICustomizationCommand=Jk;G.SetUserMFAPreferenceCommand=Zk;G.SetUserPoolMfaConfigCommand=Yk;G.SetUserSettingsCommand=Qk;G.SignUpCommand=eN;G.SoftwareTokenMFANotFoundException=W1e;G.StartUserImportJobCommand=tN;G.StartWebAuthnRegistrationCommand=rN;G.StatusType=lJt;G.StopUserImportJobCommand=nN;G.TagResourceCommand=iN;G.TermsEnforcementType=YXt;G.TermsExistsException=_Ie;G.TermsSourceType=QXt;G.TierChangeNotAllowedException=EIe;G.TimeUnitsType=mJt;G.TooManyFailedAttemptsException=i1e;G.TooManyRequestsException=KPe;G.UnauthorizedException=DIe;G.UnexpectedLambdaException=o1e;G.UnsupportedIdentityProviderException=IIe;G.UnsupportedOperationException=D1e;G.UnsupportedTokenTypeException=LIe;G.UnsupportedUserStateException=w1e;G.UntagResourceCommand=sN;G.UpdateAuthEventFeedbackCommand=oN;G.UpdateDeviceStatusCommand=aN;G.UpdateGroupCommand=uN;G.UpdateIdentityProviderCommand=cN;G.UpdateManagedLoginBrandingCommand=lN;G.UpdateResourceServerCommand=fN;G.UpdateTermsCommand=dN;G.UpdateUserAttributesCommand=hN;G.UpdateUserPoolClientCommand=pN;G.UpdateUserPoolCommand=mN;G.UpdateUserPoolDomainCommand=gN;G.UserImportInProgressException=JPe;G.UserImportJobStatusType=eJt;G.UserLambdaValidationException=u1e;G.UserNotConfirmedException=L1e;G.UserNotFoundException=YPe;G.UserPoolAddOnNotEnabledException=q1e;G.UserPoolMfaType=oJt;G.UserPoolTaggingException=TIe;G.UserPoolTierType=uJt;G.UserStatusType=kXt;G.UserVerificationType=bJt;G.UsernameAttributeType=aJt;G.UsernameExistsException=E1e;G.VerifiedAttributeType=JXt;G.VerifySoftwareTokenCommand=yN;G.VerifySoftwareTokenResponseType=EJt;G.VerifyUserAttributeCommand=_N;G.WebAuthnChallengeNotFoundException=Y1e;G.WebAuthnClientMismatchException=eIe;G.WebAuthnConfigurationMissingException=qIe;G.WebAuthnCredentialNotSupportedException=rIe;G.WebAuthnNotEnabledException=iIe;G.WebAuthnOriginNotAllowedException=oIe;G.WebAuthnRelyingPartyMismatchException=uIe;G.paginateAdminListGroupsForUser=_Xt;G.paginateAdminListUserAuthEvents=vXt;G.paginateListGroups=wXt;G.paginateListIdentityProviders=bXt;G.paginateListResourceServers=EXt;G.paginateListUserPoolClients=SXt;G.paginateListUserPools=TXt;G.paginateListUsers=xXt;G.paginateListUsersInGroup=CXt});var lke=v(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.cognitoService=Yy.CognitoService=void 0;var If=cke(),dp=new If.CognitoIdentityProviderClient({region:process.env.COGNITO_REGION||"us-east-1"}),hp=process.env.COGNITO_USER_POOL_ID,BN=class{async createUser(e,r){let n=new If.AdminCreateUserCommand({UserPoolId:hp,Username:e,UserAttributes:[{Name:"email",Value:e},{Name:"email_verified",Value:"true"}],TemporaryPassword:r,MessageAction:r?"SUPPRESS":void 0});return(await dp.send(n)).User}async enableUser(e){let r=new If.AdminEnableUserCommand({UserPoolId:hp,Username:e});await dp.send(r)}async disableUser(e){let r=new If.AdminDisableUserCommand({UserPoolId:hp,Username:e});await dp.send(r)}async updateUserAttributes(e,r){let n=[];if(r.role&&n.push({Name:"custom:role",Value:r.role}),r.tenantId&&n.push({Name:"custom:tenant_id",Value:r.tenantId}),n.length===0)return;let i=new If.AdminUpdateUserAttributesCommand({UserPoolId:hp,Username:e,UserAttributes:n});await dp.send(i)}async addUserToGroup(e,r){let n=new If.AdminAddUserToGroupCommand({UserPoolId:hp,Username:e,GroupName:r});await dp.send(n)}async removeUserFromGroup(e,r){let n=new If.AdminRemoveUserFromGroupCommand({UserPoolId:hp,Username:e,GroupName:r});await dp.send(n)}async getUser(e){let r=new If.AdminGetUserCommand({UserPoolId:hp,Username:e});return dp.send(r)}getRoleGroup(e){return{PLATFORM_ADMIN:"platform-admins",CLIENT_ADMIN:"client-admins",TEAM_MEMBER:"team-members"}[e]||"team-members"}};Yy.CognitoService=BN;Yy.cognitoService=new BN});var fke=v(HN=>{"use strict";Object.defineProperty(HN,"__esModule",{value:!0});HN.UserService=void 0;var Mo=GA(),qo=lke(),oW=class{async list(e){let{clientId:r,role:n,status:i,page:s,limit:o}=e,a={};r&&(a.clientId=r),n&&(a.role=n),i&&(a.status=i);let[u,c]=await Promise.all([Mo.prisma.user.count({where:a}),Mo.prisma.user.findMany({where:a,include:{client:{select:{id:!0,name:!0}}},skip:(s-1)*o,take:o,orderBy:{createdAt:"desc"}})]);return{items:c,pagination:{page:s,limit:o,total:u,pages:Math.ceil(u/o)}}}async getById(e){return Mo.prisma.user.findUnique({where:{id:e},include:{client:!0,auditLogs:{take:10,orderBy:{createdAt:"desc"}}}})}async invite(e){let r=await qo.cognitoService.createUser(e.email);return await qo.cognitoService.updateUserAttributes(e.email,{role:e.role,tenantId:e.clientId||void 0}),await qo.cognitoService.addUserToGroup(e.email,qo.cognitoService.getRoleGroup(e.role)),Mo.prisma.user.create({data:{cognitoSub:r?.Username||"",email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role,clientId:e.clientId,status:"PENDING_VERIFICATION"}})}async update(e,r){let n=await Mo.prisma.user.findUnique({where:{id:e}});if(!n)throw new Error("User not found");return r.role&&r.role!==n.role&&(await qo.cognitoService.removeUserFromGroup(n.email,qo.cognitoService.getRoleGroup(n.role)),await qo.cognitoService.addUserToGroup(n.email,qo.cognitoService.getRoleGroup(r.role)),await qo.cognitoService.updateUserAttributes(n.email,{role:r.role})),Mo.prisma.user.update({where:{id:e},data:{firstName:r.firstName,lastName:r.lastName,role:r.role,clientId:r.clientId}})}async approve(e,r){let n=await Mo.prisma.user.findUnique({where:{id:e}});if(!n)throw new Error("User not found");return await qo.cognitoService.enableUser(n.email),Mo.prisma.user.update({where:{id:e},data:{status:"ACTIVE",approvedAt:new Date,approvedBy:r}})}async disable(e){let r=await Mo.prisma.user.findUnique({where:{id:e}});if(!r)throw new Error("User not found");return await qo.cognitoService.disableUser(r.email),Mo.prisma.user.update({where:{id:e},data:{status:"DISABLED"}})}async enable(e){let r=await Mo.prisma.user.findUnique({where:{id:e}});if(!r)throw new Error("User not found");return await qo.cognitoService.enableUser(r.email),Mo.prisma.user.update({where:{id:e},data:{status:"ACTIVE"}})}};HN.UserService=oW});var hke=v(zN=>{"use strict";Object.defineProperty(zN,"__esModule",{value:!0});zN.userRoutes=void 0;var dke=VA(),pp=WA(),SJt=fke(),wa=new SJt.UserService,TJt=async t=>{t.get("/",{preHandler:(0,pp.requireClientAdmin)()},async e=>{let{clientId:r,role:n,status:i,page:s="1",limit:o="20"}=e.query,a=e.user.role==="PLATFORM_ADMIN"?r:e.user.tenantId;return wa.list({clientId:a,role:n,status:i,page:parseInt(s,10),limit:parseInt(o,10)})}),t.get("/:id",{preHandler:(0,pp.requireClientAdmin)()},async(e,r)=>{let n=await wa.getById(e.params.id);return n?e.user.role!=="PLATFORM_ADMIN"&&n.clientId!==e.user.tenantId?r.status(403).send({error:"Forbidden",message:"Cannot access users from other tenants",statusCode:403}):n:r.status(404).send({error:"Not Found",message:"User not found",statusCode:404})}),t.post("/invite",{preHandler:(0,pp.requireClientAdmin)()},async(e,r)=>{let n=dke.createUserSchema.parse(e.body);if(e.user.role==="CLIENT_ADMIN"){if(n.clientId&&n.clientId!==e.user.tenantId)return r.status(403).send({error:"Forbidden",message:"Cannot invite users to other tenants",statusCode:403});if(n.clientId=e.user.tenantId,n.role==="PLATFORM_ADMIN")return r.status(403).send({error:"Forbidden",message:"Cannot create platform admin users",statusCode:403})}let i=await wa.invite(n);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"user.invited",entityType:"User",entityId:i.id,newValues:{email:n.email,role:n.role}}}),r.status(201).send(i)}),t.put("/:id",{preHandler:(0,pp.requireClientAdmin)()},async(e,r)=>{let n=dke.updateUserSchema.parse(e.body),i=await wa.getById(e.params.id);if(!i)return r.status(404).send({error:"Not Found",message:"User not found",statusCode:404});if(e.user.role==="CLIENT_ADMIN"){if(i.clientId!==e.user.tenantId)return r.status(403).send({error:"Forbidden",message:"Cannot update users from other tenants",statusCode:403});if(n.role==="PLATFORM_ADMIN")return r.status(403).send({error:"Forbidden",message:"Cannot promote users to platform admin",statusCode:403})}let s=await wa.update(e.params.id,n);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"user.updated",entityType:"User",entityId:s.id,oldValues:{role:i.role,firstName:i.firstName,lastName:i.lastName},newValues:n}}),s}),t.post("/:id/approve",{preHandler:(0,pp.requirePlatformAdmin)()},async(e,r)=>{let n=await wa.getById(e.params.id);if(!n)return r.status(404).send({error:"Not Found",message:"User not found",statusCode:404});if(n.status!=="PENDING_VERIFICATION")return r.status(400).send({error:"Bad Request",message:"User is not pending approval",statusCode:400});let i=await wa.approve(e.params.id,e.user.sub);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"user.approved",entityType:"User",entityId:i.id,oldValues:{status:"PENDING_VERIFICATION"},newValues:{status:"ACTIVE"}}}),i}),t.post("/:id/disable",{preHandler:(0,pp.requireClientAdmin)()},async(e,r)=>{let n=await wa.getById(e.params.id);if(!n)return r.status(404).send({error:"Not Found",message:"User not found",statusCode:404});if(e.user.role==="CLIENT_ADMIN"&&n.clientId!==e.user.tenantId)return r.status(403).send({error:"Forbidden",message:"Cannot disable users from other tenants",statusCode:403});if(n.cognitoSub===e.user.sub)return r.status(400).send({error:"Bad Request",message:"Cannot disable your own account",statusCode:400});let i=await wa.disable(e.params.id);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"user.disabled",entityType:"User",entityId:i.id,oldValues:{status:n.status},newValues:{status:"DISABLED"}}}),i}),t.post("/:id/enable",{preHandler:(0,pp.requireClientAdmin)()},async(e,r)=>{let n=await wa.getById(e.params.id);if(!n)return r.status(404).send({error:"Not Found",message:"User not found",statusCode:404});if(e.user.role==="CLIENT_ADMIN"&&n.clientId!==e.user.tenantId)return r.status(403).send({error:"Forbidden",message:"Cannot enable users from other tenants",statusCode:403});if(n.status!=="DISABLED")return r.status(400).send({error:"Bad Request",message:"User is not disabled",statusCode:400});let i=await wa.enable(e.params.id);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"user.enabled",entityType:"User",entityId:i.id,oldValues:{status:"DISABLED"},newValues:{status:"ACTIVE"}}}),i})};zN.userRoutes=TJt});var gn=v((Ajr,mke)=>{var{toString:pke}=Object.prototype,CJt=/["&<>]/,kc={each:function(e,r){e&&(Array.isArray(e)?e.forEach(r):Object.keys(e).forEach(n=>{r(e[n],n)}))},some:function(e,r){return e?Array.isArray(e)?e.some(r):Object.keys(e).some(n=>r(e[n],n)):!1},every:function(e,r){return e?Array.isArray(e)?e.every(r):Object.keys(e).every(n=>r(e[n],n)):!0},map:function(e,r){return e?Array.isArray(e)?e.map(r):Object.keys(e).map(n=>r(e[n],n)):[]},keyBy(t,e){return t.reduce((r,n)=>(r[n[e]]=n,r),{})},isEqual:function(e,r){let n=typeof e,i=typeof r,s=Array.isArray(e),o=Array.isArray(r),a;if(n!==i)return!1;switch(typeof e){case"object":if(s||o)return s&&o?e.length===r.length&&e.every((u,c)=>{let f=r[c];return kc.isEqual(u,f)}):!1;if(e===null||r===null)return e===r;if(a=Object.keys(e),Object.keys(r).length!==a.length)return!1;for(let u of a)if(!r.hasOwnProperty(u))return!1;return kc.every(e,(u,c)=>{let f=r[c];return kc.isEqual(u,f)});default:return e===r}},escapeHtml(t){let e=CJt.exec(t);if(!e)return t;let r="",n="",i=0,s=e.index;for(;s<t.length;s++){switch(t.charAt(s)){case'"':n="&quot;";break;case"&":n="&amp;";break;case"'":n="&apos;";break;case"<":n="&lt;";break;case">":n="&gt;";break;default:continue}i!==s&&(r+=t.substring(i,s)),i=s+1,r+=n}return i!==s?r+t.substring(i,s):r},strcmp(t,e){return t<e?-1:t>e?1:0},isUndefined(t){return pke.call(t)==="[object Undefined]"},isObject(t){return pke.call(t)==="[object Object]"},deepMerge(){let t=arguments[0]||{},{length:e}=arguments,r,n,i;function s(o,a){r=t[a],i=Array.isArray(o),kc.isObject(o)||i?(i?(i=!1,n=r&&Array.isArray(r)?r:[]):n=r&&kc.isObject(r)?r:{},t[a]=kc.deepMerge(n,o)):kc.isUndefined(o)||(t[a]=o)}for(let o=0;o<e;o++)kc.each(arguments[o],s);return t}};mke.exports=kc});var un=v((Pjr,gke)=>{var xJt=/^[A-Z]+\d+$/,BE={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level(t){return t<=26?1:t<=676?2:3},_fill(t){let e,r,n,i,s,o=1;if(t>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&t>=1){for(;o<=26;)e=this._dictionary[o-1],this._n2l[o]=e,this._l2n[e]=o,o++;this._l2nFill=1}if(this._l2nFill<2&&t>=2){for(o=27;o<=702;)r=o-27,n=r%26,i=Math.floor(r/26),e=this._dictionary[i]+this._dictionary[n],this._n2l[o]=e,this._l2n[e]=o,o++;this._l2nFill=2}if(this._l2nFill<3&&t>=3){for(o=703;o<=16384;)r=o-703,n=r%26,i=Math.floor(r/26)%26,s=Math.floor(r/676),e=this._dictionary[s]+this._dictionary[i]+this._dictionary[n],this._n2l[o]=e,this._l2n[e]=o,o++;this._l2nFill=3}},l2n(t){if(this._l2n[t]||this._fill(t.length),!this._l2n[t])throw new Error(`Out of bounds. Invalid column letter: ${t}`);return this._l2n[t]},n2l(t){if(t<1||t>16384)throw new Error(`${t} is out of bounds. Excel supports columns from 1 to 16384`);return this._n2l[t]||this._fill(this._level(t)),this._n2l[t]},_hash:{},validateAddress(t){if(!xJt.test(t))throw new Error(`Invalid Address: ${t}`);return!0},decodeAddress(t){let e=t.length<5&&this._hash[t];if(e)return e;let r=!1,n="",i=0,s=!1,o="",a=0;for(let c=0,f;c<t.length;c++)if(f=t.charCodeAt(c),!s&&f>=65&&f<=90)r=!0,n+=t[c],i=i*26+f-64;else if(f>=48&&f<=57)s=!0,o+=t[c],a=a*10+f-48;else if(s&&r&&f!==36)break;if(!r)i=void 0;else if(i>16384)throw new Error(`Out of bounds. Invalid column letter: ${n}`);s||(a=void 0),t=n+o;let u={address:t,col:i,row:a,$col$row:`$${n}$${o}`};return i<=100&&a<=100&&(this._hash[t]=u,this._hash[u.$col$row]=u),u},getAddress(t,e){if(e){let r=this.n2l(e)+t;return this.decodeAddress(r)}return this.decodeAddress(t)},decode(t){let e=t.split(":");if(e.length===2){let r=this.decodeAddress(e[0]),n=this.decodeAddress(e[1]),i={top:Math.min(r.row,n.row),left:Math.min(r.col,n.col),bottom:Math.max(r.row,n.row),right:Math.max(r.col,n.col)};return i.tl=this.n2l(i.left)+i.top,i.br=this.n2l(i.right)+i.bottom,i.dimensions=`${i.tl}:${i.br}`,i}return this.decodeAddress(t)},decodeEx(t){let e=t.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),r=e[1]||e[2],n=e[3],i=n.split(":");if(i.length>1){let o=this.decodeAddress(i[0]),a=this.decodeAddress(i[1]),u=Math.min(o.row,a.row),c=Math.min(o.col,a.col),f=Math.max(o.row,a.row),d=Math.max(o.col,a.col);return o=this.n2l(c)+u,a=this.n2l(d)+f,{top:u,left:c,bottom:f,right:d,sheetName:r,tl:{address:o,col:c,row:u,$col$row:`$${this.n2l(c)}$${u}`,sheetName:r},br:{address:a,col:d,row:f,$col$row:`$${this.n2l(d)}$${f}`,sheetName:r},dimensions:`${o}:${a}`}}if(n.startsWith("#"))return r?{sheetName:r,error:n}:{error:n};let s=this.decodeAddress(n);return r?{sheetName:r,...s}:s},encodeAddress(t,e){return BE.n2l(e)+t},encode(){switch(arguments.length){case 2:return BE.encodeAddress(arguments[0],arguments[1]);case 4:return`${BE.encodeAddress(arguments[0],arguments[1])}:${BE.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(t,e){let[r,n,,i,s]=t,[o,a]=e;return o>=r&&o<=i&&a>=n&&a<=s}};gke.exports=BE});var Nc=v((Ijr,yke)=>{var Ru=un(),aW=class t{constructor(){this.decode(arguments)}setTLBR(e,r,n,i,s){if(arguments.length<4){let o=Ru.decodeAddress(e),a=Ru.decodeAddress(r);this.model={top:Math.min(o.row,a.row),left:Math.min(o.col,a.col),bottom:Math.max(o.row,a.row),right:Math.max(o.col,a.col),sheetName:n},this.setTLBR(o.row,o.col,a.row,a.col,s)}else this.model={top:Math.min(e,n),left:Math.min(r,i),bottom:Math.max(e,n),right:Math.max(r,i),sheetName:s}}decode(e){switch(e.length){case 5:this.setTLBR(e[0],e[1],e[2],e[3],e[4]);break;case 4:this.setTLBR(e[0],e[1],e[2],e[3]);break;case 3:this.setTLBR(e[0],e[1],e[2]);break;case 2:this.setTLBR(e[0],e[1]);break;case 1:{let r=e[0];if(r instanceof t)this.model={top:r.model.top,left:r.model.left,bottom:r.model.bottom,right:r.model.right,sheetName:r.sheetName};else if(r instanceof Array)this.decode(r);else if(r.top&&r.left&&r.bottom&&r.right)this.model={top:r.top,left:r.left,bottom:r.bottom,right:r.right,sheetName:r.sheetName};else{let n=Ru.decodeEx(r);n.top?this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName}:this.model={top:n.row,left:n.col,bottom:n.row,right:n.col,sheetName:n.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error(`Invalid number of arguments to _getDimensions() - ${e.length}`)}}get top(){return this.model.top||1}set top(e){this.model.top=e}get left(){return this.model.left||1}set left(e){this.model.left=e}get bottom(){return this.model.bottom||1}set bottom(e){this.model.bottom=e}get right(){return this.model.right||1}set right(e){this.model.right=e}get sheetName(){return this.model.sheetName}set sheetName(e){this.model.sheetName=e}get _serialisedSheetName(){let{sheetName:e}=this.model;return e?/^[a-zA-Z0-9]*$/.test(e)?`${e}!`:`'${e}'!`:""}expand(e,r,n,i){(!this.model.top||e<this.top)&&(this.top=e),(!this.model.left||r<this.left)&&(this.left=r),(!this.model.bottom||n>this.bottom)&&(this.bottom=n),(!this.model.right||i>this.right)&&(this.right=i)}expandRow(e){if(e){let{dimensions:r,number:n}=e;r&&this.expand(n,r.min,n,r.max)}}expandToAddress(e){let r=Ru.decodeEx(e);this.expand(r.row,r.col,r.row,r.col)}get tl(){return Ru.n2l(this.left)+this.top}get $t$l(){return`$${Ru.n2l(this.left)}$${this.top}`}get br(){return Ru.n2l(this.right)+this.bottom}get $b$r(){return`$${Ru.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(e){return!(e.sheetName&&this.sheetName&&e.sheetName!==this.sheetName||e.bottom<this.top||e.top>this.bottom||e.right<this.left||e.left>this.right)}contains(e){let r=Ru.decodeEx(e);return this.containsEx(r)}containsEx(e){return e.sheetName&&this.sheetName&&e.sheetName!==this.sheetName?!1:e.row>=this.top&&e.row<=this.bottom&&e.col>=this.left&&e.col<=this.right}forEachAddress(e){for(let r=this.left;r<=this.right;r++)for(let n=this.top;n<=this.bottom;n++)e(Ru.encodeAddress(n,r),n,r)}};yke.exports=aW});var ba=v((Ojr,_ke)=>{"use strict";_ke.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}});var wke=v((kjr,vke)=>{var VN=un(),RJt=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,AJt=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;function PJt(t,e,r){let n=VN.decode(e),i=VN.decode(r);return t.replace(RJt,(s,o,a,u,c)=>{if(c)return s;let f=AJt.exec(u);if(f){let d=f[1],h=f[2].toUpperCase(),p=f[3],m=f[4];if(h.length>3||h.length===3&&h>"XFD")return s;let g=VN.l2n(h),y=parseInt(m,10);return d||(g+=i.col-n.col),p||(y+=i.row-n.row),(o||"")+(d||"")+VN.n2l(g)+(p||"")+y}return s})}vke.exports={slideFormula:PJt}});var Eke=v((Njr,bke)=>{var IJt=gn(),WN=class t{constructor(e){this.note=e}get model(){let e=null;switch(typeof this.note){case"string":e={type:"note",note:{texts:[{text:this.note}]}};break;default:e={type:"note",note:this.note};break}return IJt.deepMerge({},t.DEFAULT_CONFIGS,e)}set model(e){let{note:r}=e,{texts:n}=r;n.length===1&&Object.keys(n[0]).length===1?this.note=n[0].text:this.note=r}static fromModel(e){let r=new t;return r.model=e,r}};WN.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}};bke.exports=WN});var Cke=v((Djr,Tke)=>{var OJt=un(),kJt=gn(),Ea=ba(),{slideFormula:NJt}=wke(),Ske=Eke(),ze=class t{constructor(e,r,n){if(!e||!r)throw new Error("A Cell needs a Row");this._row=e,this._column=r,OJt.validateAddress(n),this._address=n,this._value=Of.create(t.Types.Null,this),this.style=this._mergeStyle(e.style,r.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(e){this.style.numFmt=e}get font(){return this.style.font}set font(e){this.style.font=e}get alignment(){return this.style.alignment}set alignment(e){this.style.alignment=e}get border(){return this.style.border}set border(e){this.style.border=e}get fill(){return this.style.fill}set fill(e){this.style.fill=e}get protection(){return this.style.protection}set protection(e){this.style.protection=e}_mergeStyle(e,r,n){let i=e&&e.numFmt||r&&r.numFmt;i&&(n.numFmt=i);let s=e&&e.font||r&&r.font;s&&(n.font=s);let o=e&&e.alignment||r&&r.alignment;o&&(n.alignment=o);let a=e&&e.border||r&&r.border;a&&(n.border=a);let u=e&&e.fill||r&&r.fill;u&&(n.fill=u);let c=e&&e.protection||r&&r.protection;return c&&(n.protection=c),n}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===t.Types.Merge}merge(e,r){this._value.release(),this._value=Of.create(t.Types.Merge,this,e),r||(this.style=e.style)}unmerge(){this.type===t.Types.Merge&&(this._value.release(),this._value=Of.create(t.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(e){return this._value.type!==t.Types.Merge?!1:this._value.isMergedTo(e)}get master(){return this.type===t.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===t.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(e){if(this.type===t.Types.Merge){this._value.master.value=e;return}this._value.release(),this._value=Of.create(Of.getType(e),this,e)}get note(){return this._comment&&this._comment.note}set note(e){this._comment=new Ske(e)}get text(){return this._value.toString()}get html(){return kJt.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(e){this.type===t.Types.String&&(this._value=Of.create(t.Types.Hyperlink,this,{text:this._value.value,hyperlink:e}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:e}=this._row;return{sheetName:e.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(e){this.names=[e]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(e){let{definedNames:r}=this.workbook;r.removeAllNames(this.fullAddress),e.forEach(n=>{r.addEx(this.fullAddress,n)})}addName(e){this.workbook.definedNames.addEx(this.fullAddress,e)}removeName(e){this.workbook.definedNames.removeEx(this.fullAddress,e)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(e){this._dataValidations.add(this.address,e)}get model(){let{model:e}=this._value;return e.style=this.style,this._comment&&(e.comment=this._comment.model),e}set model(e){if(this._value.release(),this._value=Of.create(e.type,this),this._value.model=e,e.comment)switch(e.comment.type){case"note":this._comment=Ske.fromModel(e.comment);break}e.style?this.style=e.style:this.style={}}};ze.Types=Ea.ValueType;var uW=class{constructor(e){this.model={address:e.address,type:ze.Types.Null}}get value(){return null}set value(e){}get type(){return ze.Types.Null}get effectiveType(){return ze.Types.Null}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return""}release(){}toString(){return""}},cW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.Number,value:r}}get value(){return this.model.value}set value(e){this.model.value=e}get type(){return ze.Types.Number}get effectiveType(){return ze.Types.Number}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}},lW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.String,value:r}}get value(){return this.model.value}set value(e){this.model.value=e}get type(){return ze.Types.String}get effectiveType(){return ze.Types.String}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}},fW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.String,value:r}}get value(){return this.model.value}set value(e){this.model.value=e}toString(){return this.model.value.richText.map(e=>e.text).join("")}get type(){return ze.Types.RichText}get effectiveType(){return ze.Types.RichText}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}},dW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.Date,value:r}}get value(){return this.model.value}set value(e){this.model.value=e}get type(){return ze.Types.Date}get effectiveType(){return ze.Types.Date}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}},hW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.Hyperlink,text:r?r.text:void 0,hyperlink:r?r.hyperlink:void 0},r&&r.tooltip&&(this.model.tooltip=r.tooltip)}get value(){let e={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(e.tooltip=this.model.tooltip),e}set value(e){this.model={text:e.text,hyperlink:e.hyperlink},e.tooltip&&(this.model.tooltip=e.tooltip)}get text(){return this.model.text}set text(e){this.model.text=e}get hyperlink(){return this.model.hyperlink}set hyperlink(e){this.model.hyperlink=e}get type(){return ze.Types.Hyperlink}get effectiveType(){return ze.Types.Hyperlink}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}},pW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.Merge,master:r?r.address:void 0},this._master=r,r&&r.addMergeRef()}get value(){return this._master.value}set value(e){e instanceof ze?(this._master&&this._master.releaseMergeRef(),e.addMergeRef(),this._master=e):this._master.value=e}isMergedTo(e){return e===this._master}get master(){return this._master}get type(){return ze.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}},mW=class{constructor(e,r){this.cell=e,this.model={address:e.address,type:ze.Types.Formula,shareType:r?r.shareType:void 0,ref:r?r.ref:void 0,formula:r?r.formula:void 0,sharedFormula:r?r.sharedFormula:void 0,result:r?r.result:void 0}}_copyModel(e){let r={},n=i=>{let s=e[i];s&&(r[i]=s)};return n("formula"),n("result"),n("ref"),n("shareType"),n("sharedFormula"),r}get value(){return this._copyModel(this.model)}set value(e){this.model=this._copyModel(e)}validate(e){switch(Of.getType(e)){case ze.Types.Null:case ze.Types.String:case ze.Types.Number:case ze.Types.Date:break;case ze.Types.Hyperlink:case ze.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){let e=this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),r=this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g);return{ranges:e,cells:r}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(e){this.model.formula=e}get formulaType(){return this.model.formula?Ea.FormulaType.Master:this.model.sharedFormula?Ea.FormulaType.Shared:Ea.FormulaType.None}get result(){return this.model.result}set result(e){this.model.result=e}get type(){return ze.Types.Formula}get effectiveType(){let e=this.model.result;return e==null?Ea.ValueType.Null:e instanceof String||typeof e=="string"?Ea.ValueType.String:typeof e=="number"?Ea.ValueType.Number:e instanceof Date?Ea.ValueType.Date:e.text&&e.hyperlink?Ea.ValueType.Hyperlink:e.formula?Ea.ValueType.Formula:Ea.ValueType.Null}get address(){return this.model.address}set address(e){this.model.address=e}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:e}=this.cell,r=e.findCell(this.model.sharedFormula);this._translatedFormula=r&&NJt(r.formula,r.address,this.model.address)}return this._translatedFormula}toCsvString(){return`${this.model.result||""}`}release(){}toString(){return this.model.result?this.model.result.toString():""}},gW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.SharedString,value:r}}get value(){return this.model.value}set value(e){this.model.value=e}get type(){return ze.Types.SharedString}get effectiveType(){return ze.Types.SharedString}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}},yW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.Boolean,value:r}}get value(){return this.model.value}set value(e){this.model.value=e}get type(){return ze.Types.Boolean}get effectiveType(){return ze.Types.Boolean}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}},_W=class{constructor(e,r){this.model={address:e.address,type:ze.Types.Error,value:r}}get value(){return this.model.value}set value(e){this.model.value=e}get type(){return ze.Types.Error}get effectiveType(){return ze.Types.Error}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}},vW=class{constructor(e,r){this.model={address:e.address,type:ze.Types.String,value:JSON.stringify(r),rawValue:r}}get value(){return this.model.rawValue}set value(e){this.model.rawValue=e,this.model.value=JSON.stringify(e)}get type(){return ze.Types.String}get effectiveType(){return ze.Types.String}get address(){return this.model.address}set address(e){this.model.address=e}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}},Of={getType(t){return t==null?ze.Types.Null:t instanceof String||typeof t=="string"?ze.Types.String:typeof t=="number"?ze.Types.Number:typeof t=="boolean"?ze.Types.Boolean:t instanceof Date?ze.Types.Date:t.text&&t.hyperlink?ze.Types.Hyperlink:t.formula||t.sharedFormula?ze.Types.Formula:t.richText?ze.Types.RichText:t.sharedString?ze.Types.SharedString:t.error?ze.Types.Error:ze.Types.JSON},types:[{t:ze.Types.Null,f:uW},{t:ze.Types.Number,f:cW},{t:ze.Types.String,f:lW},{t:ze.Types.Date,f:dW},{t:ze.Types.Hyperlink,f:hW},{t:ze.Types.Formula,f:mW},{t:ze.Types.Merge,f:pW},{t:ze.Types.JSON,f:vW},{t:ze.Types.SharedString,f:gW},{t:ze.Types.RichText,f:fW},{t:ze.Types.Boolean,f:yW},{t:ze.Types.Error,f:_W}].reduce((t,e)=>(t[e.t]=e.f,t),[]),create(t,e,r){let n=this.types[t];if(!n)throw new Error(`Could not create Value of type ${t}`);return new n(e,r)}};Tke.exports=ze});var KN=v((Fjr,Rke)=>{"use strict";var DJt=gn(),GN=ba(),mp=un(),xke=Cke(),wW=class{constructor(e,r){this._worksheet=e,this._number=r,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(e){return this._cells[e-1]}getCellEx(e){let r=this._cells[e.col-1];if(!r){let n=this._worksheet.getColumn(e.col);r=new xke(this,n,e.address),this._cells[e.col-1]=r}return r}getCell(e){if(typeof e=="string"){let r=this._worksheet.getColumnKey(e);r?e=r.number:e=mp.l2n(e)}return this._cells[e-1]||this.getCellEx({address:mp.encodeAddress(this._number,e),row:this._number,col:e})}splice(e,r,...n){let i=e+r,s=n.length-r,o=this._cells.length,a,u,c;if(s<0)for(a=e+n.length;a<=o;a++)c=this._cells[a-1],u=this._cells[a-s-1],u?(c=this.getCell(a),c.value=u.value,c.style=u.style,c._comment=u._comment):c&&(c.value=null,c.style={},c._comment=void 0);else if(s>0)for(a=o;a>=i;a--)u=this._cells[a-1],u?(c=this.getCell(a+s),c.value=u.value,c.style=u.style,c._comment=u._comment):this._cells[a+s-1]=void 0;for(a=0;a<n.length;a++)c=this.getCell(e+a),c.value=n[a],c.style={},c._comment=void 0}eachCell(e,r){if(r||(r=e,e=null),e&&e.includeEmpty){let n=this._cells.length;for(let i=1;i<=n;i++)r(this.getCell(i),i)}else this._cells.forEach((n,i)=>{n&&n.type!==GN.ValueType.Null&&r(n,i+1)})}addPageBreak(e,r){let n=this._worksheet,i=Math.max(0,e-1)||0,s=Math.max(0,r-1)||16838,o={id:this._number,max:s,man:1};i&&(o.min=i),n.rowBreaks.push(o)}get values(){let e=[];return this._cells.forEach(r=>{r&&r.type!==GN.ValueType.Null&&(e[r.col]=r.value)}),e}set values(e){if(this._cells=[],e)if(e instanceof Array){let r=0;e.hasOwnProperty("0")&&(r=1),e.forEach((n,i)=>{n!==void 0&&(this.getCellEx({address:mp.encodeAddress(this._number,i+r),row:this._number,col:i+r}).value=n)})}else this._worksheet.eachColumnKey((r,n)=>{e[n]!==void 0&&(this.getCellEx({address:mp.encodeAddress(this._number,r.number),row:this._number,col:r.number}).value=e[n])})}get hasValues(){return DJt.some(this._cells,e=>e&&e.type!==GN.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let e=0;return this.eachCell(()=>{e++}),e}get dimensions(){let e=0,r=0;return this._cells.forEach(n=>{n&&n.type!==GN.ValueType.Null&&((!e||e>n.col)&&(e=n.col),r<n.col&&(r=n.col))}),e>0?{min:e,max:r}:null}_applyStyle(e,r){return this.style[e]=r,this._cells.forEach(n=>{n&&(n[e]=r)}),r}get numFmt(){return this.style.numFmt}set numFmt(e){this._applyStyle("numFmt",e)}get font(){return this.style.font}set font(e){this._applyStyle("font",e)}get alignment(){return this.style.alignment}set alignment(e){this._applyStyle("alignment",e)}get protection(){return this.style.protection}set protection(e){this._applyStyle("protection",e)}get border(){return this.style.border}set border(e){this._applyStyle("border",e)}get fill(){return this.style.fill}set fill(e){this._applyStyle("fill",e)}get hidden(){return!!this._hidden}set hidden(e){this._hidden=e}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(e){this._outlineLevel=e}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let e=[],r=0,n=0;return this._cells.forEach(i=>{if(i){let s=i.model;s&&((!r||r>i.col)&&(r=i.col),n<i.col&&(n=i.col),e.push(s))}}),this.height||e.length?{cells:e,number:this.number,min:r,max:n,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(e){if(e.number!==this._number)throw new Error("Invalid row number in model");this._cells=[];let r;e.cells.forEach(n=>{switch(n.type){case xke.Types.Merge:break;default:{let i;if(n.address)i=mp.decodeAddress(n.address);else if(r){let{row:o}=r,a=r.col+1;i={row:o,col:a,address:mp.encodeAddress(o,a),$col$row:`$${mp.n2l(a)}$${o}`}}r=i;let s=this.getCellEx(i);s.model=n;break}}}),e.height?this.height=e.height:delete this.height,this.hidden=e.hidden,this.outlineLevel=e.outlineLevel||0,this.style=e.style&&JSON.parse(JSON.stringify(e.style))||{}}};Rke.exports=wW});var XN=v((Ljr,Ake)=>{"use strict";var FJt=gn(),LJt=ba(),MJt=un(),bW=9,EW=class t{constructor(e,r,n){this._worksheet=e,this._number=r,n!==!1&&(this.defn=n)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return MJt.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==bW}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(e){e?(this.key=e.key,this.width=e.width!==void 0?e.width:bW,this.outlineLevel=e.outlineLevel,e.style?this.style=e.style:this.style={},this.header=e.header,this._hidden=!!e.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(e){e!==void 0?(this._header=e,this.headers.forEach((r,n)=>{this._worksheet.getCell(n+1,this.number).value=r})):this._header=void 0}get key(){return this._key}set key(e){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=e,e&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(e){this._hidden=e}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(e){this._outlineLevel=e}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(e){return this.width===e.width&&this.hidden===e.hidden&&this.outlineLevel===e.outlineLevel&&FJt.isEqual(this.style,e.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let e=this.style;return!(e&&(e.font||e.numFmt||e.alignment||e.border||e.fill||e.protection))}get headerCount(){return this.headers.length}eachCell(e,r){let n=this.number;r||(r=e,e=null),this._worksheet.eachRow(e,(i,s)=>{r(i.getCell(n),s)})}get values(){let e=[];return this.eachCell((r,n)=>{r&&r.type!==LJt.ValueType.Null&&(e[n]=r.value)}),e}set values(e){if(!e)return;let r=this.number,n=0;e.hasOwnProperty("0")&&(n=1),e.forEach((i,s)=>{this._worksheet.getCell(s+n,r).value=i})}_applyStyle(e,r){return this.style[e]=r,this.eachCell(n=>{n[e]=r}),r}get numFmt(){return this.style.numFmt}set numFmt(e){this._applyStyle("numFmt",e)}get font(){return this.style.font}set font(e){this._applyStyle("font",e)}get alignment(){return this.style.alignment}set alignment(e){this._applyStyle("alignment",e)}get protection(){return this.style.protection}set protection(e){this._applyStyle("protection",e)}get border(){return this.style.border}set border(e){this._applyStyle("border",e)}get fill(){return this.style.fill}set fill(e){this._applyStyle("fill",e)}static toModel(e){let r=[],n=null;return e&&e.forEach((i,s)=>{i.isDefault?n&&(n=null):!n||!i.equivalentTo(n)?(n={min:s+1,max:s+1,width:i.width!==void 0?i.width:bW,style:i.style,isCustomWidth:i.isCustomWidth,hidden:i.hidden,outlineLevel:i.outlineLevel,collapsed:i.collapsed},r.push(n)):n.max=s+1}),r.length?r:void 0}static fromModel(e,r){r=r||[];let n=[],i=1,s=0;for(r=r.sort(function(o,a){return o.min-a.min});s<r.length;){let o=r[s++];for(;i<o.min;)n.push(new t(e,i++));for(;i<=o.max;)n.push(new t(e,i++,o))}return n.length?n:null}};Ake.exports=EW});var Ike=v((Mjr,Pke)=>{"use strict";var qJt=un(),SW=class t{constructor(e,r,n=0){if(this.worksheet=e,!r)this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0;else if(typeof r=="string"){let i=qJt.decodeAddress(r);this.nativeCol=i.col+n,this.nativeColOff=0,this.nativeRow=i.row+n,this.nativeRowOff=0}else r.nativeCol!==void 0?(this.nativeCol=r.nativeCol||0,this.nativeColOff=r.nativeColOff||0,this.nativeRow=r.nativeRow||0,this.nativeRowOff=r.nativeRowOff||0):r.col!==void 0?(this.col=r.col+n,this.row=r.row+n):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0)}static asInstance(e){return e instanceof t||e==null?e:new t(e)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(e){this.nativeCol=Math.floor(e),this.nativeColOff=Math.floor((e-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(e){this.nativeRow=Math.floor(e),this.nativeRowOff=Math.floor((e-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(this.worksheet.getColumn(this.nativeCol+1).width*1e4):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(this.worksheet.getRow(this.nativeRow+1).height*1e4):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(e){this.nativeCol=e.nativeCol,this.nativeColOff=e.nativeColOff,this.nativeRow=e.nativeRow,this.nativeRowOff=e.nativeRowOff}};Pke.exports=SW});var kke=v((qjr,Oke)=>{var $Jt=un(),JN=Ike(),TW=class{constructor(e,r){this.worksheet=e,this.model=r}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model({type:e,imageId:r,range:n,hyperlinks:i}){if(this.type=e,this.imageId=r,e==="image")if(typeof n=="string"){let s=$Jt.decode(n);this.range={tl:new JN(this.worksheet,{col:s.left,row:s.top},-1),br:new JN(this.worksheet,{col:s.right,row:s.bottom},0),editAs:"oneCell"}}else this.range={tl:new JN(this.worksheet,n.tl,0),br:n.br&&new JN(this.worksheet,n.br,0),ext:n.ext,editAs:n.editAs,hyperlinks:i||n.hyperlinks}}};Oke.exports=TW});var Dke=v(($jr,Nke)=>{var ZN=un(),CW=class{constructor(e,r,n){this.table=e,this.column=r,this.index=n}_set(e,r){this.table.cacheState(),this.column[e]=r}get name(){return this.column.name}set name(e){this._set("name",e)}get filterButton(){return this.column.filterButton}set filterButton(e){this.column.filterButton=e}get style(){return this.column.style}set style(e){this.column.style=e}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(e){this._set("totalsRowLabel",e)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(e){this._set("totalsRowFunction",e)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(e){this._set("totalsRowResult",e)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(e){this._set("totalsRowFormula",e)}},xW=class{constructor(e,r){this.worksheet=e,r&&(this.table=r,this.validate(),this.store())}getFormula(e){switch(e.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${e.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${e.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${e.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${e.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${e.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${e.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${e.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${e.name}])`;case"custom":return e.totalsRowFormula;default:throw new Error(`Invalid Totals Row Function: ${e.totalsRowFunction}`)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:e}=this,r=(c,f,d)=>{c[f]===void 0&&(c[f]=d)};r(e,"headerRow",!0),r(e,"totalsRow",!1),r(e,"style",{}),r(e.style,"theme","TableStyleMedium2"),r(e.style,"showFirstColumn",!1),r(e.style,"showLastColumn",!1),r(e.style,"showRowStripes",!1),r(e.style,"showColumnStripes",!1);let n=(c,f)=>{if(!c)throw new Error(f)};n(e.ref,"Table must have ref"),n(e.columns,"Table must have column definitions"),n(e.rows,"Table must have row definitions"),e.tl=ZN.decodeAddress(e.ref);let{row:i,col:s}=e.tl;n(i>0,"Table must be on valid row"),n(s>0,"Table must be on valid col");let{width:o,filterHeight:a,tableHeight:u}=this;e.autoFilterRef=ZN.encode(i,s,i+a-1,s+o-1),e.tableRef=ZN.encode(i,s,i+u-1,s+o-1),e.columns.forEach((c,f)=>{n(c.name,`Column ${f} must have a name`),f===0?r(c,"totalsRowLabel","Total"):(r(c,"totalsRowFunction","none"),c.totalsRowFormula=this.getFormula(c))})}store(){let e=(a,u)=>{u&&Object.keys(u).forEach(c=>{a[c]=u[c]})},{worksheet:r,table:n}=this,{row:i,col:s}=n.tl,o=0;if(n.headerRow){let a=r.getRow(i+o++);n.columns.forEach((u,c)=>{let{style:f,name:d}=u,h=a.getCell(s+c);h.value=d,e(h,f)})}if(n.rows.forEach(a=>{let u=r.getRow(i+o++);a.forEach((c,f)=>{let d=u.getCell(s+f);d.value=c,e(d,n.columns[f].style)})}),n.totalsRow){let a=r.getRow(i+o++);n.columns.forEach((u,c)=>{let f=a.getCell(s+c);c===0?f.value=u.totalsRowLabel:this.getFormula(u)?f.value={formula:u.totalsRowFormula,result:u.totalsRowResult}:f.value=null,e(f,u.style)})}}load(e){let{table:r}=this,{row:n,col:i}=r.tl,s=0;if(r.headerRow){let o=e.getRow(n+s++);r.columns.forEach((a,u)=>{let c=o.getCell(i+u);c.value=a.name})}if(r.rows.forEach(o=>{let a=e.getRow(n+s++);o.forEach((u,c)=>{let f=a.getCell(i+c);f.value=u})}),r.totalsRow){let o=e.getRow(n+s++);r.columns.forEach((a,u)=>{let c=o.getCell(i+u);u===0?c.value=a.totalsRowLabel:this.getFormula(a)&&(c.value={formula:a.totalsRowFormula,result:a.totalsRowResult})})}}get model(){return this.table}set model(e){this.table=e}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let e=ZN.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let r=0;r<this._cache.tableHeight;r++){let n=this.worksheet.getRow(e.row+r);for(let i=0;i<this._cache.width;i++){let s=n.getCell(e.col+i);s.value=null}}else{for(let r=this.tableHeight;r<this._cache.tableHeight;r++){let n=this.worksheet.getRow(e.row+r);for(let i=0;i<this._cache.width;i++){let s=n.getCell(e.col+i);s.value=null}}for(let r=0;r<this.tableHeight;r++){let n=this.worksheet.getRow(e.row+r);for(let i=this.width;i<this._cache.width;i++){let s=n.getCell(e.col+i);s.value=null}}}this.store()}addRow(e,r){this.cacheState(),r===void 0?this.table.rows.push(e):this.table.rows.splice(r,0,e)}removeRows(e,r=1){this.cacheState(),this.table.rows.splice(e,r)}getColumn(e){let r=this.table.columns[e];return new CW(this,r,e)}addColumn(e,r,n){this.cacheState(),n===void 0?(this.table.columns.push(e),this.table.rows.forEach((i,s)=>{i.push(r[s])})):(this.table.columns.splice(n,0,e),this.table.rows.forEach((i,s)=>{i.splice(n,0,r[s])}))}removeColumns(e,r=1){this.cacheState(),this.table.columns.splice(e,r),this.table.rows.forEach(n=>{n.splice(e,r)})}_assign(e,r,n){this.cacheState(),e[r]=n}get ref(){return this.table.ref}set ref(e){this._assign(this.table,"ref",e)}get name(){return this.table.name}set name(e){this.table.name=e}get displayName(){return this.table.displyName||this.table.name}set displayNamename(e){this.table.displayName=e}get headerRow(){return this.table.headerRow}set headerRow(e){this._assign(this.table,"headerRow",e)}get totalsRow(){return this.table.totalsRow}set totalsRow(e){this._assign(this.table,"totalsRow",e)}get theme(){return this.table.style.name}set theme(e){this.table.style.name=e}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(e){this.table.style.showFirstColumn=e}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(e){this.table.style.showLastColumn=e}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(e){this.table.style.showRowStripes=e}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(e){this.table.style.showColumnStripes=e}};Nke.exports=xW});var AW=v((Ujr,Fke)=>{var RW=class{constructor(e){this.model=e||{}}add(e,r){return this.model[e]=r}find(e){return this.model[e]}remove(e){this.model[e]=void 0}};Fke.exports=RW});var IW=v((jjr,Lke)=>{"use strict";var PW=require("crypto"),UJt={hash(t,...e){let r=PW.createHash(t);return r.update(Buffer.concat(e)),r.digest()},convertPasswordToHash(t,e,r,n){if(e=e.toLowerCase(),PW.getHashes().indexOf(e)<0)throw new Error(`Hash algorithm '${e}' not supported!`);let s=Buffer.from(t,"utf16le"),o=this.hash(e,Buffer.from(r,"base64"),s);for(let a=0;a<n;a++){let u=Buffer.alloc(4);u.writeUInt32LE(a,0),o=this.hash(e,o,u)}return o.toString("base64")},randomBytes(t){return PW.randomBytes(t)}};Lke.exports=UJt});var $ke=v(qke=>{var Mke=(t,e)=>({...t,...e.reduce((r,n)=>(t[n]&&(r[n]={...t[n]}),r),{})}),Au=(t,e,r,n=[])=>{t[r]&&(e[r]=Mke(t[r],n))},jJt=t=>Object.keys(t).length===0,BJt=t=>{if(!t)return t;if(jJt(t))return{};let e={...t};return Au(t,e,"font",["color"]),Au(t,e,"alignment"),Au(t,e,"protection"),t.border&&(Au(t,e,"border"),Au(t.border,e.border,"top",["color"]),Au(t.border,e.border,"left",["color"]),Au(t.border,e.border,"bottom",["color"]),Au(t.border,e.border,"right",["color"]),Au(t.border,e.border,"diagonal",["color"])),t.fill&&(Au(t,e,"fill",["fgColor","bgColor","center"]),t.fill.stops&&(e.fill.stops=t.fill.stops.map(r=>Mke(r,["color"])))),e};qke.copyStyle=BJt});var Wke=v((Hjr,Vke)=>{var HE=gn(),zE=un(),VE=Nc(),Uke=KN(),YN=XN(),HJt=ba(),OW=kke(),jke=Dke(),Bke=AW(),Hke=IW(),{copyStyle:zke}=$ke(),kW=class{constructor(e){e=e||{},this._workbook=e.workbook,this.id=e.id,this.orderNo=e.orderNo,this.name=e.name,this.state=e.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},e.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!!(e.pageSetup&&(e.pageSetup.fitToWidth||e.pageSetup.fitToHeight)&&!e.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},e.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},e.headerFooter),this.dataValidations=new Bke,this.views=e.views||[],this.autoFilter=e.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(e){if(e===void 0&&(e=`sheet${this.id}`),this._name!==e){if(typeof e!="string")throw new Error("The name has to be a string.");if(e==="")throw new Error("The name can't be empty.");if(e==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(e))throw new Error(`Worksheet name ${e} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(e))throw new Error(`The first or last character of worksheet name cannot be a single quotation mark: ${e}`);if(e&&e.length>31&&(console.warn(`Worksheet name ${e} exceeds 31 chars. This will be truncated`),e=e.substring(0,31)),this._workbook._worksheets.find(r=>r&&r.name.toLowerCase()===e.toLowerCase()))throw new Error(`Worksheet name already exists: ${e}`);this._name=e}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let e=new VE;return this._rows.forEach(r=>{if(r){let n=r.dimensions;n&&e.expand(r.number,n.min,r.number,n.max)}}),e}get columns(){return this._columns}set columns(e){this._headerRowCount=e.reduce((i,s)=>{let o=s.header&&1||s.headers&&s.headers.length||0;return Math.max(i,o)},0);let r=1,n=this._columns=[];e.forEach(i=>{let s=new YN(this,r++,!1);n.push(s),s.defn=i})}getColumnKey(e){return this._keys[e]}setColumnKey(e,r){this._keys[e]=r}deleteColumnKey(e){delete this._keys[e]}eachColumnKey(e){HE.each(this._keys,e)}getColumn(e){if(typeof e=="string"){let r=this._keys[e];if(r)return r;e=zE.l2n(e)}if(this._columns||(this._columns=[]),e>this._columns.length){let r=this._columns.length+1;for(;r<=e;)this._columns.push(new YN(this,r++))}return this._columns[e-1]}spliceColumns(e,r,...n){let s=this._rows.length;if(n.length>0)for(let c=0;c<s;c++){let f=[e,r];n.forEach(h=>{f.push(h[c]||null)});let d=this.getRow(c+1);d.splice.apply(d,f)}else this._rows.forEach(c=>{c&&c.splice(e,r)});let o=n.length-r,a=e+r,u=this._columns.length;if(o<0)for(let c=e+n.length;c<=u;c++)this.getColumn(c).defn=this.getColumn(c-o).defn;else if(o>0)for(let c=u;c>=a;c--)this.getColumn(c+o).defn=this.getColumn(c).defn;for(let c=e;c<e+n.length;c++)this.getColumn(c).defn=null;this.workbook.definedNames.spliceColumns(this.name,e,r,n.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let e=0;return this.eachRow(r=>{e=Math.max(e,r.cellCount)}),e}get actualColumnCount(){let e=[],r=0;return this.eachRow(n=>{n.eachCell(({col:i})=>{e[i]||(e[i]=!0,r++)})}),r}_commitRow(){}get _lastRowNumber(){let e=this._rows,r=e.length;for(;r>0&&e[r-1]===void 0;)r--;return r}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(e){return this._rows[e-1]}findRows(e,r){return this._rows.slice(e-1,e-1+r)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let e=0;return this.eachRow(()=>{e++}),e}getRow(e){let r=this._rows[e-1];return r||(r=this._rows[e-1]=new Uke(this,e)),r}getRows(e,r){if(r<1)return;let n=[];for(let i=e;i<e+r;i++)n.push(this.getRow(i));return n}addRow(e,r="n"){let n=this._nextRow,i=this.getRow(n);return i.values=e,this._setStyleOption(n,r[0]==="i"?r:"n"),i}addRows(e,r="n"){let n=[];return e.forEach(i=>{n.push(this.addRow(i,r))}),n}insertRow(e,r,n="n"){return this.spliceRows(e,0,r),this._setStyleOption(e,n),this.getRow(e)}insertRows(e,r,n="n"){if(this.spliceRows(e,0,...r),n!=="n")for(let i=0;i<r.length;i++)n[0]==="o"&&this.findRow(r.length+e+i)!==void 0?this._copyStyle(r.length+e+i,e+i,n[1]==="+"):n[0]==="i"&&this.findRow(e-1)!==void 0&&this._copyStyle(e-1,e+i,n[1]==="+");return this.getRows(e,r.length)}_setStyleOption(e,r="n"){r[0]==="o"&&this.findRow(e+1)!==void 0?this._copyStyle(e+1,e,r[1]==="+"):r[0]==="i"&&this.findRow(e-1)!==void 0&&this._copyStyle(e-1,e,r[1]==="+")}_copyStyle(e,r,n=!1){let i=this.getRow(e),s=this.getRow(r);s.style=zke(i.style),i.eachCell({includeEmpty:n},(o,a)=>{s.getCell(a).style=zke(o.style)}),s.height=i.height}duplicateRow(e,r,n=!1){let i=this._rows[e-1],s=new Array(r).fill(i.values);this.spliceRows(e+1,n?0:r,...s);for(let o=0;o<r;o++){let a=this._rows[e+o];a.style=i.style,a.height=i.height,i.eachCell({includeEmpty:!0},(u,c)=>{a.getCell(c).style=u.style})}}spliceRows(e,r,...n){let i=e+r,s=n.length,o=s-r,a=this._rows.length,u,c;if(o<0)for(e===a&&(this._rows[a-1]=void 0),u=i;u<=a;u++)if(c=this._rows[u-1],c){let f=this.getRow(u+o);f.values=c.values,f.style=c.style,f.height=c.height,c.eachCell({includeEmpty:!0},(d,h)=>{f.getCell(h).style=d.style}),this._rows[u-1]=void 0}else this._rows[u+o-1]=void 0;else if(o>0)for(u=a;u>=i;u--)if(c=this._rows[u-1],c){let f=this.getRow(u+o);f.values=c.values,f.style=c.style,f.height=c.height,c.eachCell({includeEmpty:!0},(d,h)=>{if(f.getCell(h).style=d.style,d._value.constructor.name==="MergeValue"){let p=this.getRow(d._row._number+s).getCell(h),m=d._value._master,g=this.getRow(m._row._number+s).getCell(m._column._number);p.merge(g)}})}else this._rows[u+o-1]=void 0;for(u=0;u<s;u++){let f=this.getRow(e+u);f.style={},f.values=n[u]}this.workbook.definedNames.spliceRows(this.name,e,r,s)}eachRow(e,r){if(r||(r=e,e=void 0),e&&e.includeEmpty){let n=this._rows.length;for(let i=1;i<=n;i++)r(this.getRow(i),i)}else this._rows.forEach(n=>{n&&n.hasValues&&r(n,n.number)})}getSheetValues(){let e=[];return this._rows.forEach(r=>{r&&(e[r.number]=r.values)}),e}findCell(e,r){let n=zE.getAddress(e,r),i=this._rows[n.row-1];return i?i.findCell(n.col):void 0}getCell(e,r){let n=zE.getAddress(e,r);return this.getRow(n.row).getCellEx(n)}mergeCells(...e){let r=new VE(e);this._mergeCellsInternal(r)}mergeCellsWithoutStyle(...e){let r=new VE(e);this._mergeCellsInternal(r,!0)}_mergeCellsInternal(e,r){HE.each(this._merges,i=>{if(i.intersects(e))throw new Error("Cannot merge already merged cells")});let n=this.getCell(e.top,e.left);for(let i=e.top;i<=e.bottom;i++)for(let s=e.left;s<=e.right;s++)(i>e.top||s>e.left)&&this.getCell(i,s).merge(n,r);this._merges[n.address]=e}_unMergeMaster(e){let r=this._merges[e.address];if(r){for(let n=r.top;n<=r.bottom;n++)for(let i=r.left;i<=r.right;i++)this.getCell(n,i).unmerge();delete this._merges[e.address]}}get hasMerges(){return HE.some(this._merges,Boolean)}unMergeCells(...e){let r=new VE(e);for(let n=r.top;n<=r.bottom;n++)for(let i=r.left;i<=r.right;i++){let s=this.findCell(n,i);s&&(s.type===HJt.ValueType.Merge?this._unMergeMaster(s.master):this._merges[s.address]&&this._unMergeMaster(s))}}fillFormula(e,r,n,i="shared"){let s=zE.decode(e),{top:o,left:a,bottom:u,right:c}=s,f=c-a+1,d=zE.encodeAddress(o,a),h=i==="shared",p;typeof n=="function"?p=n:Array.isArray(n)?Array.isArray(n[0])?p=(g,y)=>n[g-o][y-a]:p=(g,y)=>n[(g-o)*f+(y-a)]:p=()=>{};let m=!0;for(let g=o;g<=u;g++)for(let y=a;y<=c;y++)m?(this.getCell(g,y).value={shareType:i,formula:r,ref:e,result:p(g,y)},m=!1):this.getCell(g,y).value=h?{sharedFormula:d,result:p(g,y)}:p(g,y)}addImage(e,r){let n={type:"image",imageId:e,range:r};this._media.push(new OW(this,n))}getImages(){return this._media.filter(e=>e.type==="image")}addBackgroundImage(e){let r={type:"background",imageId:e};this._media.push(new OW(this,r))}getBackgroundImageId(){let e=this._media.find(r=>r.type==="background");return e&&e.imageId}protect(e,r){return new Promise(n=>{this.sheetProtection={sheet:!0},r&&"spinCount"in r&&(r.spinCount=Number.isFinite(r.spinCount)?Math.round(Math.max(0,r.spinCount)):1e5),e&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=Hke.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=r&&"spinCount"in r?r.spinCount:1e5,this.sheetProtection.hashValue=Hke.convertPasswordToHash(e,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),r&&(this.sheetProtection=Object.assign(this.sheetProtection,r),!e&&"spinCount"in r&&delete this.sheetProtection.spinCount),n()})}unprotect(){this.sheetProtection=null}addTable(e){let r=new jke(this,e);return this.tables[e.name]=r,r}getTable(e){return this.tables[e]}removeTable(e){delete this.tables[e]}getTables(){return Object.values(this.tables)}addConditionalFormatting(e){this.conditionalFormattings.push(e)}removeConditionalFormatting(e){typeof e=="number"?this.conditionalFormattings.splice(e,1):e instanceof Function?this.conditionalFormattings=this.conditionalFormattings.filter(e):this.conditionalFormattings=[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(e){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=e}get model(){let e={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(i=>i.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(i=>i.model),conditionalFormattings:this.conditionalFormattings};e.cols=YN.toModel(this.columns);let r=e.rows=[],n=e.dimensions=new VE;return this._rows.forEach(i=>{let s=i&&i.model;s&&(n.expand(s.number,s.min,s.number,s.max),r.push(s))}),e.merges=[],HE.each(this._merges,i=>{e.merges.push(i.range)}),e}_parseRows(e){this._rows=[],e.rows.forEach(r=>{let n=new Uke(this,r.number);this._rows[n.number-1]=n,n.model=r})}_parseMergeCells(e){HE.each(e.mergeCells,r=>{this.mergeCellsWithoutStyle(r)})}set model(e){this.name=e.name,this._columns=YN.fromModel(this,e.cols),this._parseRows(e),this._parseMergeCells(e),this.dataValidations=new Bke(e.dataValidations),this.properties=e.properties,this.pageSetup=e.pageSetup,this.headerFooter=e.headerFooter,this.views=e.views,this.autoFilter=e.autoFilter,this._media=e.media.map(r=>new OW(this,r)),this.sheetProtection=e.sheetProtection,this.tables=e.tables.reduce((r,n)=>{let i=new jke;return i.model=n,r[n.name]=i,r},{}),this.conditionalFormattings=e.conditionalFormattings}};Vke.exports=kW});var Xke=v((zjr,Kke)=>{var Gke=gn(),QN=un(),NW=class{constructor(e){this.template=e,this.sheets={}}addCell(e){this.addCellEx(QN.decodeEx(e))}getCell(e){return this.findCellEx(QN.decodeEx(e),!0)}findCell(e){return this.findCellEx(QN.decodeEx(e),!1)}findCellAt(e,r,n){let i=this.sheets[e],s=i&&i[r];return s&&s[n]}addCellEx(e){if(e.top)for(let r=e.top;r<=e.bottom;r++)for(let n=e.left;n<=e.right;n++)this.getCellAt(e.sheetName,r,n);else this.findCellEx(e,!0)}getCellEx(e){return this.findCellEx(e,!0)}findCellEx(e,r){let n=this.findSheet(e,r),i=this.findSheetRow(n,e,r);return this.findRowCell(i,e,r)}getCellAt(e,r,n){let i=this.sheets[e]||(this.sheets[e]=[]),s=i[r]||(i[r]=[]);return s[n]||(s[n]={sheetName:e,address:QN.n2l(n)+r,row:r,col:n})}removeCellEx(e){let r=this.findSheet(e);if(!r)return;let n=this.findSheetRow(r,e);n&&delete n[e.col]}forEachInSheet(e,r){let n=this.sheets[e];n&&n.forEach((i,s)=>{i&&i.forEach((o,a)=>{o&&r(o,s,a)})})}forEach(e){Gke.each(this.sheets,(r,n)=>{this.forEachInSheet(n,e)})}map(e){let r=[];return this.forEach(n=>{r.push(e(n))}),r}findSheet(e,r){let n=e.sheetName;if(this.sheets[n])return this.sheets[n];if(r)return this.sheets[n]=[]}findSheetRow(e,r,n){let{row:i}=r;if(e&&e[i])return e[i];if(n)return e[i]=[]}findRowCell(e,r,n){let{col:i}=r;if(e&&e[i])return e[i];if(n)return e[i]=this.template?Object.assign(r,JSON.parse(JSON.stringify(this.template))):r}spliceRows(e,r,n,i){let s=this.sheets[e];if(s){let o=[];for(let a=0;a<i;a++)o.push([]);s.splice(r,n,...o)}}spliceColumns(e,r,n,i){let s=this.sheets[e];if(s){let o=[];for(let a=0;a<i;a++)o.push(null);Gke.each(s,a=>{a.splice(r,n,...o)})}}};Kke.exports=NW});var FW=v((Vjr,Zke)=>{"use strict";var Qy=gn(),WE=un(),Jke=Xke(),zJt=Nc(),VJt=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/,DW=class{constructor(){this.matrixMap={}}getMatrix(e){return this.matrixMap[e]||(this.matrixMap[e]=new Jke)}add(e,r){let n=WE.decodeEx(e);this.addEx(n,r)}addEx(e,r){let n=this.getMatrix(r);if(e.top)for(let i=e.left;i<=e.right;i++)for(let s=e.top;s<=e.bottom;s++){let o={sheetName:e.sheetName,address:WE.n2l(i)+s,row:s,col:i};n.addCellEx(o)}else n.addCellEx(e)}remove(e,r){let n=WE.decodeEx(e);this.removeEx(n,r)}removeEx(e,r){this.getMatrix(r).removeCellEx(e)}removeAllNames(e){Qy.each(this.matrixMap,r=>{r.removeCellEx(e)})}forEach(e){Qy.each(this.matrixMap,(r,n)=>{r.forEach(i=>{e(n,i)})})}getNames(e){return this.getNamesEx(WE.decodeEx(e))}getNamesEx(e){return Qy.map(this.matrixMap,(r,n)=>r.findCellEx(e)&&n).filter(Boolean)}_explore(e,r){r.mark=!1;let{sheetName:n}=r,i=new zJt(r.row,r.col,r.row,r.col,n),s,o;function a(c,f){let d=e.findCellAt(n,c,r.col);return!d||!d.mark?!1:(i[f]=c,d.mark=!1,!0)}for(o=r.row-1;a(o,"top");o--);for(o=r.row+1;a(o,"bottom");o++);function u(c,f){let d=[];for(o=i.top;o<=i.bottom;o++){let h=e.findCellAt(n,o,c);if(h&&h.mark)d.push(h);else return!1}i[f]=c;for(let h=0;h<d.length;h++)d[h].mark=!1;return!0}for(s=r.col-1;u(s,"left");s--);for(s=r.col+1;u(s,"right");s++);return i}getRanges(e,r){if(r=r||this.matrixMap[e],!r)return{name:e,ranges:[]};r.forEach(i=>{i.mark=!0});let n=r.map(i=>i.mark&&this._explore(r,i)).filter(Boolean).map(i=>i.$shortRange);return{name:e,ranges:n}}normaliseMatrix(e,r){e.forEachInSheet(r,(n,i,s)=>{n&&(n.row!==i||n.col!==s)&&(n.row=i,n.col=s,n.address=WE.n2l(s)+i)})}spliceRows(e,r,n,i){Qy.each(this.matrixMap,s=>{s.spliceRows(e,r,n,i),this.normaliseMatrix(s,e)})}spliceColumns(e,r,n,i){Qy.each(this.matrixMap,s=>{s.spliceColumns(e,r,n,i),this.normaliseMatrix(s,e)})}get model(){return Qy.map(this.matrixMap,(e,r)=>this.getRanges(r,e)).filter(e=>e.ranges.length)}set model(e){let r=this.matrixMap={};e.forEach(n=>{let i=r[n.name]=new Jke;n.ranges.forEach(s=>{VJt.test(s.split("!").pop()||"")&&i.addCell(s)})})}};Zke.exports=DW});var GE=v((Wjr,LW)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?LW.exports={nextTick:WJt}:LW.exports=process;function WJt(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var Qke=v((Gjr,Yke)=>{var GJt={}.toString;Yke.exports=Array.isArray||function(t){return GJt.call(t)=="[object Array]"}});var MW=v((Kjr,eNe)=>{eNe.exports=require("stream")});var KE=v((qW,rNe)=>{var eD=require("buffer"),Dc=eD.Buffer;function tNe(t,e){for(var r in t)e[r]=t[r]}Dc.from&&Dc.alloc&&Dc.allocUnsafe&&Dc.allocUnsafeSlow?rNe.exports=eD:(tNe(eD,qW),qW.Buffer=e_);function e_(t,e,r){return Dc(t,e,r)}tNe(Dc,e_);e_.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Dc(t,e,r)};e_.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Dc(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};e_.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Dc(t)};e_.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return eD.SlowBuffer(t)}});var t_=v(zi=>{function KJt(t){return Array.isArray?Array.isArray(t):tD(t)==="[object Array]"}zi.isArray=KJt;function XJt(t){return typeof t=="boolean"}zi.isBoolean=XJt;function JJt(t){return t===null}zi.isNull=JJt;function ZJt(t){return t==null}zi.isNullOrUndefined=ZJt;function YJt(t){return typeof t=="number"}zi.isNumber=YJt;function QJt(t){return typeof t=="string"}zi.isString=QJt;function eZt(t){return typeof t=="symbol"}zi.isSymbol=eZt;function tZt(t){return t===void 0}zi.isUndefined=tZt;function rZt(t){return tD(t)==="[object RegExp]"}zi.isRegExp=rZt;function nZt(t){return typeof t=="object"&&t!==null}zi.isObject=nZt;function iZt(t){return tD(t)==="[object Date]"}zi.isDate=iZt;function sZt(t){return tD(t)==="[object Error]"||t instanceof Error}zi.isError=sZt;function oZt(t){return typeof t=="function"}zi.isFunction=oZt;function aZt(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}zi.isPrimitive=aZt;zi.isBuffer=require("buffer").Buffer.isBuffer;function tD(t){return Object.prototype.toString.call(t)}});var nNe=v((Jjr,$W)=>{typeof Object.create=="function"?$W.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$W.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var jr=v((Zjr,jW)=>{try{if(UW=require("util"),typeof UW.inherits!="function")throw"";jW.exports=UW.inherits}catch{jW.exports=nNe()}var UW});var sNe=v((Yjr,BW)=>{"use strict";function uZt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var iNe=KE().Buffer,XE=require("util");function cZt(t,e,r){t.copy(e,r)}BW.exports=(function(){function t(){uZt(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return iNe.alloc(0);for(var n=iNe.allocUnsafe(r>>>0),i=this.head,s=0;i;)cZt(i.data,n,s),s+=i.data.length,i=i.next;return n},t})();XE&&XE.inspect&&XE.inspect.custom&&(BW.exports.prototype[XE.inspect.custom]=function(){var t=XE.inspect({length:this.length});return this.constructor.name+" "+t})});var HW=v((Qjr,oNe)=>{"use strict";var rD=GE();function lZt(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,rD.nextTick(nD,this,t)):rD.nextTick(nD,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,rD.nextTick(nD,r,s)):rD.nextTick(nD,r,s):e&&e(s)}),this)}function fZt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function nD(t,e){t.emit("error",e)}oNe.exports={destroy:lZt,undestroy:fZt}});var zW=v((eBr,aNe)=>{aNe.exports=require("util").deprecate});var WW=v((tBr,mNe)=>{"use strict";var gp=GE();mNe.exports=Dn;function cNe(t){var e=this;this.next=null,this.entry=null,this.finish=function(){PZt(e,t)}}var dZt=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:gp.nextTick,r_;Dn.WritableState=ZE;var lNe=Object.create(t_());lNe.inherits=jr();var hZt={deprecate:zW()},fNe=MW(),sD=KE().Buffer,pZt=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function mZt(t){return sD.from(t)}function gZt(t){return sD.isBuffer(t)||t instanceof pZt}var dNe=HW();lNe.inherits(Dn,fNe);function yZt(){}function ZE(t,e){r_=r_||yp(),t=t||{};var r=e instanceof r_;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){TZt(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new cNe(this)}ZE.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(ZE.prototype,"buffer",{get:hZt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var iD;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(iD=Function.prototype[Symbol.hasInstance],Object.defineProperty(Dn,Symbol.hasInstance,{value:function(t){return iD.call(this,t)?!0:this!==Dn?!1:t&&t._writableState instanceof ZE}})):iD=function(t){return t instanceof this};function Dn(t){if(r_=r_||yp(),!iD.call(Dn,this)&&!(this instanceof r_))return new Dn(t);this._writableState=new ZE(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),fNe.call(this)}Dn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function _Zt(t,e){var r=new Error("write after end");t.emit("error",r),gp.nextTick(e,r)}function vZt(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),gp.nextTick(n,s),i=!1),i}Dn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&gZt(t);return s&&!sD.isBuffer(t)&&(t=mZt(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=yZt),n.ended?_Zt(this,r):(s||vZt(this,n,t,r))&&(n.pendingcb++,i=bZt(this,n,s,t,e,r)),i};Dn.prototype.cork=function(){var t=this._writableState;t.corked++};Dn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&hNe(this,t))};Dn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function wZt(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=sD.from(e,r)),e}Object.defineProperty(Dn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bZt(t,e,r,n,i,s){if(!r){var o=wZt(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else VW(t,e,!1,a,n,i,s);return u}function VW(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function EZt(t,e,r,n,i){--e.pendingcb,r?(gp.nextTick(i,n),gp.nextTick(JE,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),JE(t,e))}function SZt(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function TZt(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(SZt(r),e)EZt(t,r,n,e,i);else{var s=pNe(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&hNe(t,r),n?dZt(uNe,t,r,s,i):uNe(t,r,s,i)}}function uNe(t,e,r,n){r||CZt(t,e),e.pendingcb--,n(),JE(t,e)}function CZt(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function hNe(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,VW(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new cNe(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback,d=e.objectMode?1:u.length;if(VW(t,e,!1,d,u,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Dn.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Dn.prototype._writev=null;Dn.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||AZt(this,n,r)};function pNe(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function xZt(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),JE(t,e)})}function RZt(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,gp.nextTick(xZt,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function JE(t,e){var r=pNe(e);return r&&(RZt(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function AZt(t,e,r){e.ending=!0,JE(t,e),r&&(e.finished?gp.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function PZt(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Dn.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Dn.prototype.destroy=dNe.destroy;Dn.prototype._undestroy=dNe.undestroy;Dn.prototype._destroy=function(t,e){this.end(),e(t)}});var yp=v((rBr,vNe)=>{"use strict";var gNe=GE(),IZt=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};vNe.exports=Fc;var yNe=Object.create(t_());yNe.inherits=jr();var _Ne=XW(),KW=WW();yNe.inherits(Fc,_Ne);for(GW=IZt(KW.prototype),oD=0;oD<GW.length;oD++)aD=GW[oD],Fc.prototype[aD]||(Fc.prototype[aD]=KW.prototype[aD]);var GW,aD,oD;function Fc(t){if(!(this instanceof Fc))return new Fc(t);_Ne.call(this,t),KW.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",OZt)}Object.defineProperty(Fc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function OZt(){this.allowHalfOpen||this._writableState.ended||gNe.nextTick(kZt,this)}function kZt(t){t.end()}Object.defineProperty(Fc.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Fc.prototype._destroy=function(t,e){this.push(null),this.end(),gNe.nextTick(e,t)}});var YW=v(bNe=>{"use strict";var ZW=KE().Buffer,wNe=ZW.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function NZt(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function DZt(t){var e=NZt(t);if(typeof e!="string"&&(ZW.isEncoding===wNe||!wNe(t)))throw new Error("Unknown encoding: "+t);return e||t}bNe.StringDecoder=YE;function YE(t){this.encoding=DZt(t);var e;switch(this.encoding){case"utf16le":this.text=UZt,this.end=jZt,e=4;break;case"utf8":this.fillLast=MZt,e=4;break;case"base64":this.text=BZt,this.end=HZt,e=3;break;default:this.write=zZt,this.end=VZt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ZW.allocUnsafe(e)}YE.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};YE.prototype.end=$Zt;YE.prototype.text=qZt;YE.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function JW(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function FZt(t,e,r){var n=e.length-1;if(n<r)return 0;var i=JW(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=JW(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=JW(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function LZt(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function MZt(t){var e=this.lastTotal-this.lastNeed,r=LZt(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function qZt(t,e){var r=FZt(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function $Zt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function UZt(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function jZt(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function BZt(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function HZt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function zZt(t){return t.toString(this.encoding)}function VZt(t){return t&&t.length?this.write(t):""}});var XW=v((sBr,NNe)=>{"use strict";var i_=GE();NNe.exports=Kr;var WZt=Qke(),QE;Kr.ReadableState=ANe;var iBr=require("events").EventEmitter,CNe=function(t,e){return t.listeners(e).length},n9=MW(),eS=KE().Buffer,GZt=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function KZt(t){return eS.from(t)}function XZt(t){return eS.isBuffer(t)||t instanceof GZt}var xNe=Object.create(t_());xNe.inherits=jr();var QW=require("util"),mr=void 0;QW&&QW.debuglog?mr=QW.debuglog("stream"):mr=function(){};var JZt=sNe(),RNe=HW(),n_;xNe.inherits(Kr,n9);var e9=["error","close","destroy","pause","resume"];function ZZt(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):WZt(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function ANe(t,e){QE=QE||yp(),t=t||{};var r=e instanceof QE;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new JZt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(n_||(n_=YW().StringDecoder),this.decoder=new n_(t.encoding),this.encoding=t.encoding)}function Kr(t){if(QE=QE||yp(),!(this instanceof Kr))return new Kr(t);this._readableState=new ANe(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),n9.call(this)}Object.defineProperty(Kr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Kr.prototype.destroy=RNe.destroy;Kr.prototype._undestroy=RNe.undestroy;Kr.prototype._destroy=function(t,e){this.push(null),e(t)};Kr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=eS.from(t,e),e=""),n=!0),PNe(this,t,e,!1,n)};Kr.prototype.unshift=function(t){return PNe(this,t,null,!0,!1)};function PNe(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,tYt(t,s);else{var o;i||(o=YZt(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==eS.prototype&&(e=KZt(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):t9(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?t9(t,s,e,!1):INe(t,s)):t9(t,s,e,!1))):n||(s.reading=!1)}return QZt(s)}function t9(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&uD(t)),INe(t,e)}function YZt(t,e){var r;return!XZt(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function QZt(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Kr.prototype.isPaused=function(){return this._readableState.flowing===!1};Kr.prototype.setEncoding=function(t){return n_||(n_=YW().StringDecoder),this._readableState.decoder=new n_(t),this._readableState.encoding=t,this};var ENe=8388608;function eYt(t){return t>=ENe?t=ENe:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function SNe(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=eYt(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Kr.prototype.read=function(t){mr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return mr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?r9(this):uD(this),null;if(t=SNe(t,e),t===0&&e.ended)return e.length===0&&r9(this),null;var n=e.needReadable;mr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,mr("length less than watermark",n)),e.ended||e.reading?(n=!1,mr("reading or ended",n)):n&&(mr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=SNe(r,e)));var i;return t>0?i=ONe(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&r9(this)),i!==null&&this.emit("data",i),i};function tYt(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,uD(t)}}function uD(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(mr("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i_.nextTick(TNe,t):TNe(t))}function TNe(t){mr("emit readable"),t.emit("readable"),i9(t)}function INe(t,e){e.readingMore||(e.readingMore=!0,i_.nextTick(rYt,t,e))}function rYt(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(mr("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Kr.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Kr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,mr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:y;n.endEmitted?i_.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(w,S){mr("onunpipe"),w===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,f())}function a(){mr("onend"),t.end()}var u=nYt(r);t.on("drain",u);var c=!1;function f(){mr("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",u),t.removeListener("error",p),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",h),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var d=!1;r.on("data",h);function h(w){mr("ondata"),d=!1;var S=t.write(w);S===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&kNe(n.pipes,t)!==-1)&&!c&&(mr("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function p(w){mr("onerror",w),y(),t.removeListener("error",p),CNe(t,"error")===0&&t.emit("error",w)}ZZt(t,"error",p);function m(){t.removeListener("finish",g),y()}t.once("close",m);function g(){mr("onfinish"),t.removeListener("close",m),y()}t.once("finish",g);function y(){mr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(mr("pipe resume"),r.resume()),t};function nYt(t){return function(){var e=t._readableState;mr("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&CNe(t,"data")&&(e.flowing=!0,i9(t))}}Kr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=kNe(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Kr.prototype.on=function(t,e){var r=n9.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&uD(this):i_.nextTick(iYt,this))}return r};Kr.prototype.addListener=Kr.prototype.on;function iYt(t){mr("readable nexttick read 0"),t.read(0)}Kr.prototype.resume=function(){var t=this._readableState;return t.flowing||(mr("resume"),t.flowing=!0,sYt(this,t)),this};function sYt(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i_.nextTick(oYt,t,e))}function oYt(t,e){e.reading||(mr("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),i9(t),e.flowing&&!e.reading&&t.read(0)}Kr.prototype.pause=function(){return mr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(mr("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function i9(t){var e=t._readableState;for(mr("flow",e.flowing);e.flowing&&t.read()!==null;);}Kr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(mr("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(mr("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(o){return function(){return t[o].apply(t,arguments)}})(i));for(var s=0;s<e9.length;s++)t.on(e9[s],this.emit.bind(this,e9[s]));return this._read=function(o){mr("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Kr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Kr._fromList=ONe;function ONe(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=aYt(t,e.buffer,e.decoder),r}function aYt(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?uYt(t,e):cYt(t,e),n}function uYt(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function cYt(t,e){var r=eS.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function r9(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i_.nextTick(lYt,e,t))}function lYt(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function kNe(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var s9=v((oBr,LNe)=>{"use strict";LNe.exports=Lc;var cD=yp(),FNe=Object.create(t_());FNe.inherits=jr();FNe.inherits(Lc,cD);function fYt(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Lc(t){if(!(this instanceof Lc))return new Lc(t);cD.call(this,t),this._transformState={afterTransform:fYt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",dYt)}function dYt(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){DNe(t,e,r)}):DNe(this,null,null)}Lc.prototype.push=function(t,e){return this._transformState.needTransform=!1,cD.prototype.push.call(this,t,e)};Lc.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Lc.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Lc.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Lc.prototype._destroy=function(t,e){var r=this;cD.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function DNe(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var UNe=v((aBr,$Ne)=>{"use strict";$Ne.exports=tS;var MNe=s9(),qNe=Object.create(t_());qNe.inherits=jr();qNe.inherits(tS,MNe);function tS(t){if(!(this instanceof tS))return new tS(t);MNe.call(this,t)}tS.prototype._transform=function(t,e,r){r(null,t)}});var Os=v((li,lD)=>{var Pu=require("stream");process.env.READABLE_STREAM==="disable"&&Pu?(lD.exports=Pu,li=lD.exports=Pu.Readable,li.Readable=Pu.Readable,li.Writable=Pu.Writable,li.Duplex=Pu.Duplex,li.Transform=Pu.Transform,li.PassThrough=Pu.PassThrough,li.Stream=Pu):(li=lD.exports=XW(),li.Stream=Pu||li,li.Readable=li,li.Writable=WW(),li.Duplex=yp(),li.Transform=s9(),li.PassThrough=UNe())});var Mc=v(Js=>{"use strict";Js.base64=!0;Js.array=!0;Js.string=!0;Js.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u";Js.nodebuffer=typeof Buffer<"u";Js.uint8array=typeof Uint8Array<"u";if(typeof ArrayBuffer>"u")Js.blob=!1;else{o9=new ArrayBuffer(0);try{Js.blob=new Blob([o9],{type:"application/zip"}).size===0}catch{try{jNe=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,a9=new jNe,a9.append(o9),Js.blob=a9.getBlob("application/zip").size===0}catch{Js.blob=!1}}}var o9,jNe,a9;try{Js.nodestream=!!Os().Readable}catch{Js.nodestream=!1}});var c9=v(u9=>{"use strict";var hYt=cn(),pYt=Mc(),Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u9.encode=function(t){for(var e=[],r,n,i,s,o,a,u,c=0,f=t.length,d=f,h=hYt.getTypeOf(t)!=="string";c<t.length;)d=f-c,h?(r=t[c++],n=c<f?t[c++]:0,i=c<f?t[c++]:0):(r=t.charCodeAt(c++),n=c<f?t.charCodeAt(c++):0,i=c<f?t.charCodeAt(c++):0),s=r>>2,o=(r&3)<<4|n>>4,a=d>1?(n&15)<<2|i>>6:64,u=d>2?i&63:64,e.push(Iu.charAt(s)+Iu.charAt(o)+Iu.charAt(a)+Iu.charAt(u));return e.join("")};u9.decode=function(t){var e,r,n,i,s,o,a,u=0,c=0,f="data:";if(t.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9+/=]/g,"");var d=t.length*3/4;if(t.charAt(t.length-1)===Iu.charAt(64)&&d--,t.charAt(t.length-2)===Iu.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");var h;for(pYt.uint8array?h=new Uint8Array(d|0):h=new Array(d|0);u<t.length;)i=Iu.indexOf(t.charAt(u++)),s=Iu.indexOf(t.charAt(u++)),o=Iu.indexOf(t.charAt(u++)),a=Iu.indexOf(t.charAt(u++)),e=i<<2|s>>4,r=(s&15)<<4|o>>2,n=(o&3)<<6|a,h[c++]=e,o!==64&&(h[c++]=r),a!==64&&(h[c++]=n);return h}});var rS=v((lBr,BNe)=>{"use strict";BNe.exports={isNode:typeof Buffer<"u",newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if(typeof t=="number")throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&typeof t.on=="function"&&typeof t.pause=="function"&&typeof t.resume=="function"}}});var WNe=v((fBr,VNe)=>{"use strict";var HNe=global.MutationObserver||global.WebKitMutationObserver,s_;process.browser?HNe?(l9=0,zNe=new HNe(nS),f9=global.document.createTextNode(""),zNe.observe(f9,{characterData:!0}),s_=function(){f9.data=l9=++l9%2}):!global.setImmediate&&typeof global.MessageChannel<"u"?(d9=new global.MessageChannel,d9.port1.onmessage=nS,s_=function(){d9.port2.postMessage(0)}):"document"in global&&"onreadystatechange"in global.document.createElement("script")?s_=function(){var t=global.document.createElement("script");t.onreadystatechange=function(){nS(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t)}:s_=function(){setTimeout(nS,0)}:s_=function(){process.nextTick(nS)};var l9,zNe,f9,d9,h9,iS=[];function nS(){h9=!0;for(var t,e,r=iS.length;r;){for(e=iS,iS=[],t=-1;++t<r;)e[t]();r=iS.length}h9=!1}VNe.exports=mYt;function mYt(t){iS.push(t)===1&&!h9&&s_()}});var QNe=v((dBr,YNe)=>{"use strict";var GNe=WNe();function o_(){}var Vi={},KNe=["REJECTED"],p9=["FULFILLED"],XNe=["PENDING"];process.browser||(sS=["UNHANDLED"]);var sS;YNe.exports=kf;function kf(t){if(typeof t!="function")throw new TypeError("resolver must be a function");this.state=XNe,this.queue=[],this.outcome=void 0,process.browser||(this.handled=sS),t!==o_&&JNe(this,t)}kf.prototype.finally=function(t){if(typeof t!="function")return this;var e=this.constructor;return this.then(r,n);function r(i){function s(){return i}return e.resolve(t()).then(s)}function n(i){function s(){throw i}return e.resolve(t()).then(s)}};kf.prototype.catch=function(t){return this.then(null,t)};kf.prototype.then=function(t,e){if(typeof t!="function"&&this.state===p9||typeof e!="function"&&this.state===KNe)return this;var r=new this.constructor(o_);if(process.browser||this.handled===sS&&(this.handled=null),this.state!==XNe){var n=this.state===p9?t:e;m9(r,n,this.outcome)}else this.queue.push(new oS(r,t,e));return r};function oS(t,e,r){this.promise=t,typeof e=="function"&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}oS.prototype.callFulfilled=function(t){Vi.resolve(this.promise,t)};oS.prototype.otherCallFulfilled=function(t){m9(this.promise,this.onFulfilled,t)};oS.prototype.callRejected=function(t){Vi.reject(this.promise,t)};oS.prototype.otherCallRejected=function(t){m9(this.promise,this.onRejected,t)};function m9(t,e,r){GNe(function(){var n;try{n=e(r)}catch(i){return Vi.reject(t,i)}n===t?Vi.reject(t,new TypeError("Cannot resolve promise with itself")):Vi.resolve(t,n)})}Vi.resolve=function(t,e){var r=ZNe(gYt,e);if(r.status==="error")return Vi.reject(t,r.value);var n=r.value;if(n)JNe(t,n);else{t.state=p9,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t};Vi.reject=function(t,e){t.state=KNe,t.outcome=e,process.browser||t.handled===sS&&GNe(function(){t.handled===sS&&process.emit("unhandledRejection",e,t)});for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t};function gYt(t){var e=t&&t.then;if(t&&(typeof t=="object"||typeof t=="function")&&typeof e=="function")return function(){e.apply(t,arguments)}}function JNe(t,e){var r=!1;function n(a){r||(r=!0,Vi.reject(t,a))}function i(a){r||(r=!0,Vi.resolve(t,a))}function s(){e(i,n)}var o=ZNe(s);o.status==="error"&&n(o.value)}function ZNe(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}kf.resolve=yYt;function yYt(t){return t instanceof this?t:Vi.resolve(new this(o_),t)}kf.reject=_Yt;function _Yt(t){var e=new this(o_);return Vi.reject(e,t)}kf.all=vYt;function vYt(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),s=0,o=-1,a=new this(o_);++o<r;)u(t[o],o);return a;function u(c,f){e.resolve(c).then(d,function(h){n||(n=!0,Vi.reject(a,h))});function d(h){i[f]=h,++s===r&&!n&&(n=!0,Vi.resolve(a,i))}}}kf.race=wYt;function wYt(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=-1,s=new this(o_);++i<r;)o(t[i]);return s;function o(a){e.resolve(a).then(function(u){n||(n=!0,Vi.resolve(s,u))},function(u){n||(n=!0,Vi.reject(s,u))})}}});var a_=v((hBr,eDe)=>{"use strict";var g9=null;typeof Promise<"u"?g9=Promise:g9=QNe();eDe.exports={Promise:g9}});var y9=v(tDe=>{(function(t,e){"use strict";if(t.setImmediate)return;var r=1,n={},i=!1,s=t.document,o;function a(S){typeof S!="function"&&(S=new Function(""+S));for(var E=new Array(arguments.length-1),b=0;b<E.length;b++)E[b]=arguments[b+1];var O={callback:S,args:E};return n[r]=O,o(r),r++}function u(S){delete n[S]}function c(S){var E=S.callback,b=S.args;switch(b.length){case 0:E();break;case 1:E(b[0]);break;case 2:E(b[0],b[1]);break;case 3:E(b[0],b[1],b[2]);break;default:E.apply(e,b);break}}function f(S){if(i)setTimeout(f,0,S);else{var E=n[S];if(E){i=!0;try{c(E)}finally{u(S),i=!1}}}}function d(){o=function(S){process.nextTick(function(){f(S)})}}function h(){if(t.postMessage&&!t.importScripts){var S=!0,E=t.onmessage;return t.onmessage=function(){S=!1},t.postMessage("","*"),t.onmessage=E,S}}function p(){var S="setImmediate$"+Math.random()+"$",E=function(b){b.source===t&&typeof b.data=="string"&&b.data.indexOf(S)===0&&f(+b.data.slice(S.length))};t.addEventListener?t.addEventListener("message",E,!1):t.attachEvent("onmessage",E),o=function(b){t.postMessage(S+b,"*")}}function m(){var S=new MessageChannel;S.port1.onmessage=function(E){var b=E.data;f(b)},o=function(E){S.port2.postMessage(E)}}function g(){var S=s.documentElement;o=function(E){var b=s.createElement("script");b.onreadystatechange=function(){f(E),b.onreadystatechange=null,S.removeChild(b),b=null},S.appendChild(b)}}function y(){o=function(S){setTimeout(f,0,S)}}var w=Object.getPrototypeOf&&Object.getPrototypeOf(t);w=w&&w.setTimeout?w:t,{}.toString.call(t.process)==="[object process]"?d():h()?p():t.MessageChannel?m():s&&"onreadystatechange"in s.createElement("script")?g():y(),w.setImmediate=a,w.clearImmediate=u})(typeof self>"u"?typeof global>"u"?tDe:global:self)});var cn=v(Fn=>{"use strict";var Nf=Mc(),bYt=c9(),u_=rS(),_9=a_();y9();function EYt(t){var e=null;return Nf.uint8array?e=new Uint8Array(t.length):e=new Array(t.length),dD(t,e)}Fn.newBlob=function(t,e){Fn.checkSupport("blob");try{return new Blob([t],{type:e})}catch{try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,n=new r;return n.append(t),n.getBlob(e)}catch{throw new Error("Bug : can't construct the Blob.")}}};function aS(t){return t}function dD(t,e){for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)&255;return e}var fD={stringifyByChunk:function(t,e,r){var n=[],i=0,s=t.length;if(s<=r)return String.fromCharCode.apply(null,t);for(;i<s;)e==="array"||e==="nodebuffer"?n.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+r,s)))),i+=r;return n.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:(function(){try{return Nf.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return Nf.nodebuffer&&String.fromCharCode.apply(null,u_.allocBuffer(1)).length===1}catch{return!1}})()}};function uS(t){var e=65536,r=Fn.getTypeOf(t),n=!0;if(r==="uint8array"?n=fD.applyCanBeUsed.uint8array:r==="nodebuffer"&&(n=fD.applyCanBeUsed.nodebuffer),n)for(;e>1;)try{return fD.stringifyByChunk(t,r,e)}catch{e=Math.floor(e/2)}return fD.stringifyByChar(t)}Fn.applyFromCharCode=uS;function hD(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}var Df={};Df.string={string:aS,array:function(t){return dD(t,new Array(t.length))},arraybuffer:function(t){return Df.string.uint8array(t).buffer},uint8array:function(t){return dD(t,new Uint8Array(t.length))},nodebuffer:function(t){return dD(t,u_.allocBuffer(t.length))}};Df.array={string:uS,array:aS,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u_.newBufferFrom(t)}};Df.arraybuffer={string:function(t){return uS(new Uint8Array(t))},array:function(t){return hD(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:aS,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u_.newBufferFrom(new Uint8Array(t))}};Df.uint8array={string:uS,array:function(t){return hD(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:aS,nodebuffer:function(t){return u_.newBufferFrom(t)}};Df.nodebuffer={string:uS,array:function(t){return hD(t,new Array(t.length))},arraybuffer:function(t){return Df.nodebuffer.uint8array(t).buffer},uint8array:function(t){return hD(t,new Uint8Array(t.length))},nodebuffer:aS};Fn.transformTo=function(t,e){if(e||(e=""),!t)return e;Fn.checkSupport(t);var r=Fn.getTypeOf(e),n=Df[r][t](e);return n};Fn.resolve=function(t){for(var e=t.split("/"),r=[],n=0;n<e.length;n++){var i=e[n];i==="."||i===""&&n!==0&&n!==e.length-1||(i===".."?r.pop():r.push(i))}return r.join("/")};Fn.getTypeOf=function(t){if(typeof t=="string")return"string";if(Object.prototype.toString.call(t)==="[object Array]")return"array";if(Nf.nodebuffer&&u_.isBuffer(t))return"nodebuffer";if(Nf.uint8array&&t instanceof Uint8Array)return"uint8array";if(Nf.arraybuffer&&t instanceof ArrayBuffer)return"arraybuffer"};Fn.checkSupport=function(t){var e=Nf[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")};Fn.MAX_VALUE_16BITS=65535;Fn.MAX_VALUE_32BITS=-1;Fn.pretty=function(t){var e="",r,n;for(n=0;n<(t||"").length;n++)r=t.charCodeAt(n),e+="\\x"+(r<16?"0":"")+r.toString(16).toUpperCase();return e};Fn.delay=function(t,e,r){setImmediate(function(){t.apply(r||null,e||[])})};Fn.inherits=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r};Fn.extend=function(){var t={},e,r;for(e=0;e<arguments.length;e++)for(r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&typeof t[r]>"u"&&(t[r]=arguments[e][r]);return t};Fn.prepareContent=function(t,e,r,n,i){var s=_9.Promise.resolve(e).then(function(o){var a=Nf.blob&&(o instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o))!==-1);return a&&typeof FileReader<"u"?new _9.Promise(function(u,c){var f=new FileReader;f.onload=function(d){u(d.target.result)},f.onerror=function(d){c(d.target.error)},f.readAsArrayBuffer(o)}):o});return s.then(function(o){var a=Fn.getTypeOf(o);return a?(a==="arraybuffer"?o=Fn.transformTo("uint8array",o):a==="string"&&(i?o=bYt.decode(o):r&&n!==!0&&(o=EYt(o))),o):_9.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}});var Zs=v((gBr,nDe)=>{"use strict";function rDe(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}rDe.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return this.isFinished?!1:(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(r){e.processChunk(r)}),t.on("end",function(){e.end()}),t.on("error",function(r){e.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}};nDe.exports=rDe});var l_=v(Ff=>{"use strict";var c_=cn(),_p=Mc(),SYt=rS(),pD=Zs(),cS=new Array(256);for(qc=0;qc<256;qc++)cS[qc]=qc>=252?6:qc>=248?5:qc>=240?4:qc>=224?3:qc>=192?2:1;var qc;cS[254]=cS[254]=1;var TYt=function(t){var e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(_p.uint8array?e=new Uint8Array(a):e=new Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e},CYt=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+cS[t[r]]>e?r:e},xYt=function(t){var e,r,n,i,s=t.length,o=new Array(s*2);for(r=0,e=0;e<s;){if(n=t[e++],n<128){o[r++]=n;continue}if(i=cS[n],i>4){o[r++]=65533,e+=i-1;continue}for(n&=i===2?31:i===3?15:7;i>1&&e<s;)n=n<<6|t[e++]&63,i--;if(i>1){o[r++]=65533;continue}n<65536?o[r++]=n:(n-=65536,o[r++]=55296|n>>10&1023,o[r++]=56320|n&1023)}return o.length!==r&&(o.subarray?o=o.subarray(0,r):o.length=r),c_.applyFromCharCode(o)};Ff.utf8encode=function(e){return _p.nodebuffer?SYt.newBufferFrom(e,"utf-8"):TYt(e)};Ff.utf8decode=function(e){return _p.nodebuffer?c_.transformTo("nodebuffer",e).toString("utf-8"):(e=c_.transformTo(_p.uint8array?"uint8array":"array",e),xYt(e))};function mD(){pD.call(this,"utf-8 decode"),this.leftOver=null}c_.inherits(mD,pD);mD.prototype.processChunk=function(t){var e=c_.transformTo(_p.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(_p.uint8array){var r=e;e=new Uint8Array(r.length+this.leftOver.length),e.set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=CYt(e),i=e;n!==e.length&&(_p.uint8array?(i=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(i=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:Ff.utf8decode(i),meta:t.meta})};mD.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Ff.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};Ff.Utf8DecodeWorker=mD;function v9(){pD.call(this,"utf-8 encode")}c_.inherits(v9,pD);v9.prototype.processChunk=function(t){this.push({data:Ff.utf8encode(t.data),meta:t.meta})};Ff.Utf8EncodeWorker=v9});var aDe=v((_Br,oDe)=>{"use strict";var iDe=Zs(),sDe=cn();function w9(t){iDe.call(this,"ConvertWorker to "+t),this.destType=t}sDe.inherits(w9,iDe);w9.prototype.processChunk=function(t){this.push({data:sDe.transformTo(this.destType,t.data),meta:t.meta})};oDe.exports=w9});var lDe=v((vBr,cDe)=>{"use strict";var uDe=Os().Readable,RYt=cn();RYt.inherits(b9,uDe);function b9(t,e,r){uDe.call(this,e),this._helper=t;var n=this;t.on("data",function(i,s){n.push(i)||n._helper.pause(),r&&r(s)}).on("error",function(i){n.emit("error",i)}).on("end",function(){n.push(null)})}b9.prototype._read=function(){this._helper.resume()};cDe.exports=b9});var E9=v((wBr,hDe)=>{"use strict";var vp=cn(),AYt=aDe(),PYt=Zs(),IYt=c9(),OYt=Mc(),kYt=a_(),fDe=null;if(OYt.nodestream)try{fDe=lDe()}catch{}function NYt(t,e,r){switch(t){case"blob":return vp.newBlob(vp.transformTo("arraybuffer",e),r);case"base64":return IYt.encode(e);default:return vp.transformTo(t,e)}}function DYt(t,e){var r,n=0,i=null,s=0;for(r=0;r<e.length;r++)s+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(s),r=0;r<e.length;r++)i.set(e[r],n),n+=e[r].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function FYt(t,e){return new kYt.Promise(function(r,n){var i=[],s=t._internalType,o=t._outputType,a=t._mimeType;t.on("data",function(u,c){i.push(u),e&&e(c)}).on("error",function(u){i=[],n(u)}).on("end",function(){try{var u=NYt(o,DYt(s,i),a);r(u)}catch(c){n(c)}i=[]}).resume()})}function dDe(t,e,r){var n=e;switch(e){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string";break}try{this._internalType=n,this._outputType=e,this._mimeType=r,vp.checkSupport(n),this._worker=t.pipe(new AYt(n)),t.lock()}catch(i){this._worker=new PYt("error"),this._worker.error(i)}}dDe.prototype={accumulate:function(t){return FYt(this,t)},on:function(t,e){var r=this;return t==="data"?this._worker.on(t,function(n){e.call(r,n.data,n.meta)}):this._worker.on(t,function(){vp.delay(e,arguments,r)}),this},resume:function(){return vp.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(vp.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new fDe(this,{objectMode:this._outputType!=="nodebuffer"},t)}};hDe.exports=dDe});var S9=v(Sa=>{"use strict";Sa.base64=!1;Sa.binary=!1;Sa.dir=!1;Sa.createFolders=!0;Sa.date=null;Sa.compression=null;Sa.compressionOptions=null;Sa.comment=null;Sa.unixPermissions=null;Sa.dosPermissions=null});var T9=v((EBr,pDe)=>{"use strict";var gD=cn(),yD=Zs(),LYt=16*1024;function f_(t){yD.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(r){e.dataIsReady=!0,e.data=r,e.max=r&&r.length||0,e.type=gD.getTypeOf(r),e.isPaused||e._tickAndRepeat()},function(r){e.error(r)})}gD.inherits(f_,yD);f_.prototype.cleanUp=function(){yD.prototype.cleanUp.call(this),this.data=null};f_.prototype.resume=function(){return yD.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,gD.delay(this._tickAndRepeat,[],this)),!0):!1};f_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(gD.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};f_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=LYt,e=null,r=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,r);break;case"uint8array":e=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":e=this.data.slice(this.index,r);break}return this.index=r,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})};pDe.exports=f_});var _D=v((SBr,gDe)=>{"use strict";var MYt=cn();function qYt(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var mDe=qYt();function $Yt(t,e,r,n){var i=mDe,s=n+r;t=t^-1;for(var o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1}function UYt(t,e,r,n){var i=mDe,s=n+r;t=t^-1;for(var o=n;o<s;o++)t=t>>>8^i[(t^e.charCodeAt(o))&255];return t^-1}gDe.exports=function(e,r){if(typeof e>"u"||!e.length)return 0;var n=MYt.getTypeOf(e)!=="string";return n?$Yt(r|0,e,e.length,0):UYt(r|0,e,e.length,0)}});var x9=v((TBr,_De)=>{"use strict";var yDe=Zs(),jYt=_D(),BYt=cn();function C9(){yDe.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}BYt.inherits(C9,yDe);C9.prototype.processChunk=function(t){this.streamInfo.crc32=jYt(t.data,this.streamInfo.crc32||0),this.push(t)};_De.exports=C9});var wDe=v((CBr,vDe)=>{"use strict";var HYt=cn(),R9=Zs();function A9(t){R9.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}HYt.inherits(A9,R9);A9.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}R9.prototype.processChunk.call(this,t)};vDe.exports=A9});var vD=v((xBr,SDe)=>{"use strict";var bDe=a_(),EDe=T9(),zYt=x9(),P9=wDe();function I9(t,e,r,n,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=i}I9.prototype={getContentWorker:function(){var t=new EDe(bDe.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new P9("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new EDe(bDe.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};I9.createWorkerFrom=function(t,e,r){return t.pipe(new zYt).pipe(new P9("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new P9("compressedSize")).withStreamInfo("compression",e)};SDe.exports=I9});var RDe=v((RBr,xDe)=>{"use strict";var VYt=E9(),WYt=T9(),O9=l_(),k9=vD(),TDe=Zs(),N9=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};N9.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");r=t.toLowerCase();var n=r==="string"||r==="text";(r==="binarystring"||r==="text")&&(r="string"),e=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(e=e.pipe(new O9.Utf8EncodeWorker)),!i&&n&&(e=e.pipe(new O9.Utf8DecodeWorker))}catch(s){e=new TDe("error"),e.error(s)}return new VYt(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof k9&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new O9.Utf8EncodeWorker)),k9.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof k9?this._data.getContentWorker():this._data instanceof TDe?this._data:new WYt(this._data)}};var CDe=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],GYt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(wD=0;wD<CDe.length;wD++)N9.prototype[CDe[wD]]=GYt;var wD;xDe.exports=N9});var $c=v(hs=>{"use strict";var KYt=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function XYt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}hs.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)XYt(r,n)&&(t[n]=r[n])}}return t};hs.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var JYt={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+n),i);return}for(var s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){var e,r,n,i,s,o;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)s=t[e],o.set(s,i),i+=s.length;return o}},ZYt={arraySet:function(t,e,r,n,i){for(var s=0;s<n;s++)t[i+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};hs.setTyped=function(t){t?(hs.Buf8=Uint8Array,hs.Buf16=Uint16Array,hs.Buf32=Int32Array,hs.assign(hs,JYt)):(hs.Buf8=Array,hs.Buf16=Array,hs.Buf32=Array,hs.assign(hs,ZYt))};hs.setTyped(KYt)});var JDe=v(p_=>{"use strict";var YYt=$c(),QYt=4,ADe=0,PDe=1,eQt=2;function h_(t){for(var e=t.length;--e>=0;)t[e]=0}var tQt=0,FDe=1,rQt=2,nQt=3,iQt=258,U9=29,mS=256,fS=mS+1+U9,d_=30,j9=19,LDe=2*fS+1,wp=15,D9=16,sQt=7,B9=256,MDe=16,qDe=17,$De=18,q9=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],bD=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],oQt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],UDe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],aQt=512,Uc=new Array((fS+2)*2);h_(Uc);var lS=new Array(d_*2);h_(lS);var dS=new Array(aQt);h_(dS);var hS=new Array(iQt-nQt+1);h_(hS);var H9=new Array(U9);h_(H9);var ED=new Array(d_);h_(ED);function F9(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var jDe,BDe,HDe;function L9(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function zDe(t){return t<256?dS[t]:dS[256+(t>>>7)]}function pS(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function ks(t,e,r){t.bi_valid>D9-r?(t.bi_buf|=e<<t.bi_valid&65535,pS(t,t.bi_buf),t.bi_buf=e>>D9-t.bi_valid,t.bi_valid+=r-D9):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function Ou(t,e,r){ks(t,r[e*2],r[e*2+1])}function VDe(t,e){var r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function uQt(t){t.bi_valid===16?(pS(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function cQt(t,e){var r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length,c,f,d,h,p,m,g=0;for(h=0;h<=wp;h++)t.bl_count[h]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<LDe;c++)f=t.heap[c],h=r[r[f*2+1]*2+1]+1,h>u&&(h=u,g++),r[f*2+1]=h,!(f>n)&&(t.bl_count[h]++,p=0,f>=a&&(p=o[f-a]),m=r[f*2],t.opt_len+=m*(h+p),s&&(t.static_len+=m*(i[f*2+1]+p)));if(g!==0){do{for(h=u-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[u]--,g-=2}while(g>0);for(h=u;h!==0;h--)for(f=t.bl_count[h];f!==0;)d=t.heap[--c],!(d>n)&&(r[d*2+1]!==h&&(t.opt_len+=(h-r[d*2+1])*r[d*2],r[d*2+1]=h),f--)}}function WDe(t,e,r){var n=new Array(wp+1),i=0,s,o;for(s=1;s<=wp;s++)n[s]=i=i+r[s-1]<<1;for(o=0;o<=e;o++){var a=t[o*2+1];a!==0&&(t[o*2]=VDe(n[a]++,a))}}function lQt(){var t,e,r,n,i,s=new Array(wp+1);for(r=0,n=0;n<U9-1;n++)for(H9[n]=r,t=0;t<1<<q9[n];t++)hS[r++]=n;for(hS[r-1]=n,i=0,n=0;n<16;n++)for(ED[n]=i,t=0;t<1<<bD[n];t++)dS[i++]=n;for(i>>=7;n<d_;n++)for(ED[n]=i<<7,t=0;t<1<<bD[n]-7;t++)dS[256+i++]=n;for(e=0;e<=wp;e++)s[e]=0;for(t=0;t<=143;)Uc[t*2+1]=8,t++,s[8]++;for(;t<=255;)Uc[t*2+1]=9,t++,s[9]++;for(;t<=279;)Uc[t*2+1]=7,t++,s[7]++;for(;t<=287;)Uc[t*2+1]=8,t++,s[8]++;for(WDe(Uc,fS+1,s),t=0;t<d_;t++)lS[t*2+1]=5,lS[t*2]=VDe(t,5);jDe=new F9(Uc,q9,mS+1,fS,wp),BDe=new F9(lS,bD,0,d_,wp),HDe=new F9(new Array(0),oQt,0,j9,sQt)}function GDe(t){var e;for(e=0;e<fS;e++)t.dyn_ltree[e*2]=0;for(e=0;e<d_;e++)t.dyn_dtree[e*2]=0;for(e=0;e<j9;e++)t.bl_tree[e*2]=0;t.dyn_ltree[B9*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function KDe(t){t.bi_valid>8?pS(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function fQt(t,e,r,n){KDe(t),n&&(pS(t,r),pS(t,~r)),YYt.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function IDe(t,e,r,n){var i=e*2,s=r*2;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]}function M9(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&IDe(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!IDe(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function ODe(t,e,r){var n,i,s=0,o,a;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+s*2]<<8|t.pending_buf[t.d_buf+s*2+1],i=t.pending_buf[t.l_buf+s],s++,n===0?Ou(t,i,e):(o=hS[i],Ou(t,o+mS+1,e),a=q9[o],a!==0&&(i-=H9[o],ks(t,i,a)),n--,o=zDe(n),Ou(t,o,r),a=bD[o],a!==0&&(n-=ED[o],ks(t,n,a)));while(s<t.last_lit);Ou(t,B9,e)}function $9(t,e){var r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems,o,a,u=-1,c;for(t.heap_len=0,t.heap_max=LDe,o=0;o<s;o++)r[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)M9(t,r,o);c=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],M9(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[c*2]=r[o*2]+r[a*2],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[o*2+1]=r[a*2+1]=c,t.heap[1]=c++,M9(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],cQt(t,e),WDe(r,u,t.bl_count)}function kDe(t,e,r){var n,i=-1,s,o=e[1],a=0,u=7,c=4;for(o===0&&(u=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=e[(n+1)*2+1],!(++a<u&&s===o)&&(a<c?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[MDe*2]++):a<=10?t.bl_tree[qDe*2]++:t.bl_tree[$De*2]++,a=0,i=s,o===0?(u=138,c=3):s===o?(u=6,c=3):(u=7,c=4))}function NDe(t,e,r){var n,i=-1,s,o=e[1],a=0,u=7,c=4;for(o===0&&(u=138,c=3),n=0;n<=r;n++)if(s=o,o=e[(n+1)*2+1],!(++a<u&&s===o)){if(a<c)do Ou(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ou(t,s,t.bl_tree),a--),Ou(t,MDe,t.bl_tree),ks(t,a-3,2)):a<=10?(Ou(t,qDe,t.bl_tree),ks(t,a-3,3)):(Ou(t,$De,t.bl_tree),ks(t,a-11,7));a=0,i=s,o===0?(u=138,c=3):s===o?(u=6,c=3):(u=7,c=4)}}function dQt(t){var e;for(kDe(t,t.dyn_ltree,t.l_desc.max_code),kDe(t,t.dyn_dtree,t.d_desc.max_code),$9(t,t.bl_desc),e=j9-1;e>=3&&t.bl_tree[UDe[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function hQt(t,e,r,n){var i;for(ks(t,e-257,5),ks(t,r-1,5),ks(t,n-4,4),i=0;i<n;i++)ks(t,t.bl_tree[UDe[i]*2+1],3);NDe(t,t.dyn_ltree,e-1),NDe(t,t.dyn_dtree,r-1)}function pQt(t){var e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return ADe;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return PDe;for(r=32;r<mS;r++)if(t.dyn_ltree[r*2]!==0)return PDe;return ADe}var DDe=!1;function mQt(t){DDe||(lQt(),DDe=!0),t.l_desc=new L9(t.dyn_ltree,jDe),t.d_desc=new L9(t.dyn_dtree,BDe),t.bl_desc=new L9(t.bl_tree,HDe),t.bi_buf=0,t.bi_valid=0,GDe(t)}function XDe(t,e,r,n){ks(t,(tQt<<1)+(n?1:0),3),fQt(t,e,r,!0)}function gQt(t){ks(t,FDe<<1,3),Ou(t,B9,Uc),uQt(t)}function yQt(t,e,r,n){var i,s,o=0;t.level>0?(t.strm.data_type===eQt&&(t.strm.data_type=pQt(t)),$9(t,t.l_desc),$9(t,t.d_desc),o=dQt(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&e!==-1?XDe(t,e,r,n):t.strategy===QYt||s===i?(ks(t,(FDe<<1)+(n?1:0),3),ODe(t,Uc,lS)):(ks(t,(rQt<<1)+(n?1:0),3),hQt(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),ODe(t,t.dyn_ltree,t.dyn_dtree)),GDe(t),n&&KDe(t)}function _Qt(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(hS[r]+mS+1)*2]++,t.dyn_dtree[zDe(e)*2]++),t.last_lit===t.lit_bufsize-1}p_._tr_init=mQt;p_._tr_stored_block=XDe;p_._tr_flush_block=yQt;p_._tr_tally=_Qt;p_._tr_align=gQt});var z9=v((IBr,ZDe)=>{"use strict";function vQt(t,e,r,n){for(var i=t&65535|0,s=t>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}ZDe.exports=vQt});var V9=v((OBr,YDe)=>{"use strict";function wQt(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var bQt=wQt();function EQt(t,e,r,n){var i=bQt,s=n+r;t^=-1;for(var o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1}YDe.exports=EQt});var SD=v((kBr,QDe)=>{"use strict";QDe.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var uFe=v(Du=>{"use strict";var ps=$c(),$o=JDe(),nFe=z9(),Lf=V9(),SQt=SD(),Tp=0,TQt=1,CQt=3,jf=4,eFe=5,Nu=0,tFe=1,Uo=-2,xQt=-3,W9=-5,RQt=-1,AQt=1,TD=2,PQt=3,IQt=4,OQt=0,kQt=2,AD=8,NQt=9,DQt=15,FQt=8,LQt=29,MQt=256,K9=MQt+1+LQt,qQt=30,$Qt=19,UQt=2*K9+1,jQt=15,Jt=3,$f=258,Ta=$f+Jt+1,BQt=32,PD=42,X9=69,CD=73,xD=91,RD=103,bp=113,yS=666,Mn=1,_S=2,Ep=3,y_=4,HQt=3;function Uf(t,e){return t.msg=SQt[e],e}function rFe(t){return(t<<1)-(t>4?9:0)}function qf(t){for(var e=t.length;--e>=0;)t[e]=0}function Mf(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(ps.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function fi(t,e){$o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Mf(t.strm)}function lr(t,e){t.pending_buf[t.pending++]=e}function gS(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function zQt(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,ps.arraySet(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=nFe(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Lf(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function iFe(t,e){var r=t.max_chain_length,n=t.strstart,i,s,o=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-Ta?t.strstart-(t.w_size-Ta):0,c=t.window,f=t.w_mask,d=t.prev,h=t.strstart+$f,p=c[n+o-1],m=c[n+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(c[i+o]!==m||c[i+o-1]!==p||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<h);if(s=$f-(h-n),n=h-$f,s>o){if(t.match_start=e,o=s,s>=a)break;p=c[n+o-1],m=c[n+o]}}while((e=d[e&f])>u&&--r!==0);return o<=t.lookahead?o:t.lookahead}function Sp(t){var e=t.w_size,r,n,i,s,o;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ta)){ps.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);s+=e}if(t.strm.avail_in===0)break;if(n=zQt(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=Jt)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+Jt-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<Jt)););}while(t.lookahead<Ta&&t.strm.avail_in!==0)}function VQt(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Sp(t),t.lookahead===0&&e===Tp)return Mn;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,fi(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Ta&&(fi(t,!1),t.strm.avail_out===0))return Mn}return t.insert=0,e===jf?(fi(t,!0),t.strm.avail_out===0?Ep:y_):(t.strstart>t.block_start&&(fi(t,!1),t.strm.avail_out===0),Mn)}function G9(t,e){for(var r,n;;){if(t.lookahead<Ta){if(Sp(t),t.lookahead<Ta&&e===Tp)return Mn;if(t.lookahead===0)break}if(r=0,t.lookahead>=Jt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Jt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Ta&&(t.match_length=iFe(t,r)),t.match_length>=Jt)if(n=$o._tr_tally(t,t.strstart-t.match_start,t.match_length-Jt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Jt){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Jt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=$o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(fi(t,!1),t.strm.avail_out===0))return Mn}return t.insert=t.strstart<Jt-1?t.strstart:Jt-1,e===jf?(fi(t,!0),t.strm.avail_out===0?Ep:y_):t.last_lit&&(fi(t,!1),t.strm.avail_out===0)?Mn:_S}function m_(t,e){for(var r,n,i;;){if(t.lookahead<Ta){if(Sp(t),t.lookahead<Ta&&e===Tp)return Mn;if(t.lookahead===0)break}if(r=0,t.lookahead>=Jt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Jt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Jt-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Ta&&(t.match_length=iFe(t,r),t.match_length<=5&&(t.strategy===AQt||t.match_length===Jt&&t.strstart-t.match_start>4096)&&(t.match_length=Jt-1)),t.prev_length>=Jt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Jt,n=$o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-Jt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Jt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Jt-1,t.strstart++,n&&(fi(t,!1),t.strm.avail_out===0))return Mn}else if(t.match_available){if(n=$o._tr_tally(t,0,t.window[t.strstart-1]),n&&fi(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Mn}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=$o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Jt-1?t.strstart:Jt-1,e===jf?(fi(t,!0),t.strm.avail_out===0?Ep:y_):t.last_lit&&(fi(t,!1),t.strm.avail_out===0)?Mn:_S}function WQt(t,e){for(var r,n,i,s,o=t.window;;){if(t.lookahead<=$f){if(Sp(t),t.lookahead<=$f&&e===Tp)return Mn;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Jt&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=t.strstart+$f;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=$f-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Jt?(r=$o._tr_tally(t,1,t.match_length-Jt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=$o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(fi(t,!1),t.strm.avail_out===0))return Mn}return t.insert=0,e===jf?(fi(t,!0),t.strm.avail_out===0?Ep:y_):t.last_lit&&(fi(t,!1),t.strm.avail_out===0)?Mn:_S}function GQt(t,e){for(var r;;){if(t.lookahead===0&&(Sp(t),t.lookahead===0)){if(e===Tp)return Mn;break}if(t.match_length=0,r=$o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(fi(t,!1),t.strm.avail_out===0))return Mn}return t.insert=0,e===jf?(fi(t,!0),t.strm.avail_out===0?Ep:y_):t.last_lit&&(fi(t,!1),t.strm.avail_out===0)?Mn:_S}function ku(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var g_;g_=[new ku(0,0,0,0,VQt),new ku(4,4,8,4,G9),new ku(4,5,16,8,G9),new ku(4,6,32,32,G9),new ku(4,4,16,16,m_),new ku(8,16,32,32,m_),new ku(8,16,128,128,m_),new ku(8,32,128,256,m_),new ku(32,128,258,1024,m_),new ku(32,258,258,4096,m_)];function KQt(t){t.window_size=2*t.w_size,qf(t.head),t.max_lazy_match=g_[t.level].max_lazy,t.good_match=g_[t.level].good_length,t.nice_match=g_[t.level].nice_length,t.max_chain_length=g_[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Jt-1,t.match_available=0,t.ins_h=0}function XQt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=AD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ps.Buf16(UQt*2),this.dyn_dtree=new ps.Buf16((2*qQt+1)*2),this.bl_tree=new ps.Buf16((2*$Qt+1)*2),qf(this.dyn_ltree),qf(this.dyn_dtree),qf(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ps.Buf16(jQt+1),this.heap=new ps.Buf16(2*K9+1),qf(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ps.Buf16(2*K9+1),qf(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function sFe(t){var e;return!t||!t.state?Uf(t,Uo):(t.total_in=t.total_out=0,t.data_type=kQt,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?PD:bp,t.adler=e.wrap===2?0:1,e.last_flush=Tp,$o._tr_init(e),Nu)}function oFe(t){var e=sFe(t);return e===Nu&&KQt(t.state),e}function JQt(t,e){return!t||!t.state||t.state.wrap!==2?Uo:(t.state.gzhead=e,Nu)}function aFe(t,e,r,n,i,s){if(!t)return Uo;var o=1;if(e===RQt&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>NQt||r!==AD||n<8||n>15||e<0||e>9||s<0||s>IQt)return Uf(t,Uo);n===8&&(n=9);var a=new XQt;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Jt-1)/Jt),a.window=new ps.Buf8(a.w_size*2),a.head=new ps.Buf16(a.hash_size),a.prev=new ps.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new ps.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=s,a.method=r,oFe(t)}function ZQt(t,e){return aFe(t,e,AD,DQt,FQt,OQt)}function YQt(t,e){var r,n,i,s;if(!t||!t.state||e>eFe||e<0)return t?Uf(t,Uo):Uo;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===yS&&e!==jf)return Uf(t,t.avail_out===0?W9:Uo);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===PD)if(n.wrap===2)t.adler=0,lr(n,31),lr(n,139),lr(n,8),n.gzhead?(lr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),lr(n,n.gzhead.time&255),lr(n,n.gzhead.time>>8&255),lr(n,n.gzhead.time>>16&255),lr(n,n.gzhead.time>>24&255),lr(n,n.level===9?2:n.strategy>=TD||n.level<2?4:0),lr(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(lr(n,n.gzhead.extra.length&255),lr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Lf(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=X9):(lr(n,0),lr(n,0),lr(n,0),lr(n,0),lr(n,0),lr(n,n.level===9?2:n.strategy>=TD||n.level<2?4:0),lr(n,HQt),n.status=bp);else{var o=AD+(n.w_bits-8<<4)<<8,a=-1;n.strategy>=TD||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,o|=a<<6,n.strstart!==0&&(o|=BQt),o+=31-o%31,n.status=bp,gS(n,o),n.strstart!==0&&(gS(n,t.adler>>>16),gS(n,t.adler&65535)),t.adler=1}if(n.status===X9)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lf(t.adler,n.pending_buf,n.pending-i,i)),Mf(t),i=n.pending,n.pending===n.pending_buf_size));)lr(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Lf(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=CD)}else n.status=CD;if(n.status===CD)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lf(t.adler,n.pending_buf,n.pending-i,i)),Mf(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,lr(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lf(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=xD)}else n.status=xD;if(n.status===xD)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lf(t.adler,n.pending_buf,n.pending-i,i)),Mf(t),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,lr(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lf(t.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=RD)}else n.status=RD;if(n.status===RD&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Mf(t),n.pending+2<=n.pending_buf_size&&(lr(n,t.adler&255),lr(n,t.adler>>8&255),t.adler=0,n.status=bp)):n.status=bp),n.pending!==0){if(Mf(t),t.avail_out===0)return n.last_flush=-1,Nu}else if(t.avail_in===0&&rFe(e)<=rFe(r)&&e!==jf)return Uf(t,W9);if(n.status===yS&&t.avail_in!==0)return Uf(t,W9);if(t.avail_in!==0||n.lookahead!==0||e!==Tp&&n.status!==yS){var u=n.strategy===TD?GQt(n,e):n.strategy===PQt?WQt(n,e):g_[n.level].func(n,e);if((u===Ep||u===y_)&&(n.status=yS),u===Mn||u===Ep)return t.avail_out===0&&(n.last_flush=-1),Nu;if(u===_S&&(e===TQt?$o._tr_align(n):e!==eFe&&($o._tr_stored_block(n,0,0,!1),e===CQt&&(qf(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Mf(t),t.avail_out===0))return n.last_flush=-1,Nu}return e!==jf?Nu:n.wrap<=0?tFe:(n.wrap===2?(lr(n,t.adler&255),lr(n,t.adler>>8&255),lr(n,t.adler>>16&255),lr(n,t.adler>>24&255),lr(n,t.total_in&255),lr(n,t.total_in>>8&255),lr(n,t.total_in>>16&255),lr(n,t.total_in>>24&255)):(gS(n,t.adler>>>16),gS(n,t.adler&65535)),Mf(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Nu:tFe)}function QQt(t){var e;return!t||!t.state?Uo:(e=t.state.status,e!==PD&&e!==X9&&e!==CD&&e!==xD&&e!==RD&&e!==bp&&e!==yS?Uf(t,Uo):(t.state=null,e===bp?Uf(t,xQt):Nu))}function eer(t,e){var r=e.length,n,i,s,o,a,u,c,f;if(!t||!t.state||(n=t.state,o=n.wrap,o===2||o===1&&n.status!==PD||n.lookahead))return Uo;for(o===1&&(t.adler=nFe(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(o===0&&(qf(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new ps.Buf8(n.w_size),ps.arraySet(f,e,r-n.w_size,n.w_size,0),e=f,r=n.w_size),a=t.avail_in,u=t.next_in,c=t.input,t.avail_in=r,t.next_in=0,t.input=e,Sp(n);n.lookahead>=Jt;){i=n.strstart,s=n.lookahead-(Jt-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+Jt-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--s);n.strstart=i,n.lookahead=Jt-1,Sp(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Jt-1,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=a,n.wrap=o,Nu}Du.deflateInit=ZQt;Du.deflateInit2=aFe;Du.deflateReset=oFe;Du.deflateResetKeep=sFe;Du.deflateSetHeader=JQt;Du.deflate=YQt;Du.deflateEnd=QQt;Du.deflateSetDictionary=eer;Du.deflateInfo="pako deflate (from Nodeca project)"});var J9=v(__=>{"use strict";var ID=$c(),cFe=!0,lFe=!0;try{String.fromCharCode.apply(null,[0])}catch{cFe=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lFe=!1}var vS=new ID.Buf8(256);for(jc=0;jc<256;jc++)vS[jc]=jc>=252?6:jc>=248?5:jc>=240?4:jc>=224?3:jc>=192?2:1;var jc;vS[254]=vS[254]=1;__.string2buf=function(t){var e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new ID.Buf8(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};function fFe(t,e){if(e<65534&&(t.subarray&&lFe||!t.subarray&&cFe))return String.fromCharCode.apply(null,ID.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}__.buf2binstring=function(t){return fFe(t,t.length)};__.binstring2buf=function(t){for(var e=new ID.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e};__.buf2string=function(t,e){var r,n,i,s,o=e||t.length,a=new Array(o*2);for(n=0,r=0;r<o;){if(i=t[r++],i<128){a[n++]=i;continue}if(s=vS[i],s>4){a[n++]=65533,r+=s-1;continue}for(i&=s===2?31:s===3?15:7;s>1&&r<o;)i=i<<6|t[r++]&63,s--;if(s>1){a[n++]=65533;continue}i<65536?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|i&1023)}return fFe(a,n)};__.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+vS[t[r]]>e?r:e}});var Z9=v((FBr,dFe)=>{"use strict";function ter(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}dFe.exports=ter});var gFe=v(ES=>{"use strict";var wS=uFe(),bS=$c(),Q9=J9(),eG=SD(),rer=Z9(),mFe=Object.prototype.toString,ner=0,Y9=4,v_=0,hFe=1,pFe=2,ier=-1,ser=0,oer=8;function Cp(t){if(!(this instanceof Cp))return new Cp(t);this.options=bS.assign({level:ier,method:oer,chunkSize:16384,windowBits:15,memLevel:8,strategy:ser,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rer,this.strm.avail_out=0;var r=wS.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==v_)throw new Error(eG[r]);if(e.header&&wS.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(typeof e.dictionary=="string"?n=Q9.string2buf(e.dictionary):mFe.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=wS.deflateSetDictionary(this.strm,n),r!==v_)throw new Error(eG[r]);this._dict_set=!0}}Cp.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i,s;if(this.ended)return!1;s=e===~~e?e:e===!0?Y9:ner,typeof t=="string"?r.input=Q9.string2buf(t):mFe.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new bS.Buf8(n),r.next_out=0,r.avail_out=n),i=wS.deflate(r,s),i!==hFe&&i!==v_)return this.onEnd(i),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(s===Y9||s===pFe))&&(this.options.to==="string"?this.onData(Q9.buf2binstring(bS.shrinkBuf(r.output,r.next_out))):this.onData(bS.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&i!==hFe);return s===Y9?(i=wS.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===v_):(s===pFe&&(this.onEnd(v_),r.avail_out=0),!0)};Cp.prototype.onData=function(t){this.chunks.push(t)};Cp.prototype.onEnd=function(t){t===v_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bS.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function tG(t,e){var r=new Cp(e);if(r.push(t,!0),r.err)throw r.msg||eG[r.err];return r.result}function aer(t,e){return e=e||{},e.raw=!0,tG(t,e)}function uer(t,e){return e=e||{},e.gzip=!0,tG(t,e)}ES.Deflate=Cp;ES.deflate=tG;ES.deflateRaw=aer;ES.gzip=uer});var _Fe=v((MBr,yFe)=>{"use strict";var OD=30,cer=12;yFe.exports=function(e,r){var n,i,s,o,a,u,c,f,d,h,p,m,g,y,w,S,E,b,O,M,x,I,P,F,$;n=e.state,i=e.next_in,F=e.input,s=i+(e.avail_in-5),o=e.next_out,$=e.output,a=o-(r-e.avail_out),u=o+(e.avail_out-257),c=n.dmax,f=n.wsize,d=n.whave,h=n.wnext,p=n.window,m=n.hold,g=n.bits,y=n.lencode,w=n.distcode,S=(1<<n.lenbits)-1,E=(1<<n.distbits)-1;e:do{g<15&&(m+=F[i++]<<g,g+=8,m+=F[i++]<<g,g+=8),b=y[m&S];t:for(;;){if(O=b>>>24,m>>>=O,g-=O,O=b>>>16&255,O===0)$[o++]=b&65535;else if(O&16){M=b&65535,O&=15,O&&(g<O&&(m+=F[i++]<<g,g+=8),M+=m&(1<<O)-1,m>>>=O,g-=O),g<15&&(m+=F[i++]<<g,g+=8,m+=F[i++]<<g,g+=8),b=w[m&E];r:for(;;){if(O=b>>>24,m>>>=O,g-=O,O=b>>>16&255,O&16){if(x=b&65535,O&=15,g<O&&(m+=F[i++]<<g,g+=8,g<O&&(m+=F[i++]<<g,g+=8)),x+=m&(1<<O)-1,x>c){e.msg="invalid distance too far back",n.mode=OD;break e}if(m>>>=O,g-=O,O=o-a,x>O){if(O=x-O,O>d&&n.sane){e.msg="invalid distance too far back",n.mode=OD;break e}if(I=0,P=p,h===0){if(I+=f-O,O<M){M-=O;do $[o++]=p[I++];while(--O);I=o-x,P=$}}else if(h<O){if(I+=f+h-O,O-=h,O<M){M-=O;do $[o++]=p[I++];while(--O);if(I=0,h<M){O=h,M-=O;do $[o++]=p[I++];while(--O);I=o-x,P=$}}}else if(I+=h-O,O<M){M-=O;do $[o++]=p[I++];while(--O);I=o-x,P=$}for(;M>2;)$[o++]=P[I++],$[o++]=P[I++],$[o++]=P[I++],M-=3;M&&($[o++]=P[I++],M>1&&($[o++]=P[I++]))}else{I=o-x;do $[o++]=$[I++],$[o++]=$[I++],$[o++]=$[I++],M-=3;while(M>2);M&&($[o++]=$[I++],M>1&&($[o++]=$[I++]))}}else if((O&64)===0){b=w[(b&65535)+(m&(1<<O)-1)];continue r}else{e.msg="invalid distance code",n.mode=OD;break e}break}}else if((O&64)===0){b=y[(b&65535)+(m&(1<<O)-1)];continue t}else if(O&32){n.mode=cer;break e}else{e.msg="invalid literal/length code",n.mode=OD;break e}break}}while(i<s&&o<u);M=g>>3,i-=M,g-=M<<3,m&=(1<<g)-1,e.next_in=i,e.next_out=o,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=o<u?257+(u-o):257-(o-u),n.hold=m,n.bits=g}});var CFe=v((qBr,TFe)=>{"use strict";var vFe=$c(),w_=15,wFe=852,bFe=592,EFe=0,rG=1,SFe=2,ler=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],fer=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],der=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],her=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];TFe.exports=function(e,r,n,i,s,o,a,u){var c=u.bits,f=0,d=0,h=0,p=0,m=0,g=0,y=0,w=0,S=0,E=0,b,O,M,x,I,P=null,F=0,$,D=new vFe.Buf16(w_+1),L=new vFe.Buf16(w_+1),z=null,ee=0,N,H,X;for(f=0;f<=w_;f++)D[f]=0;for(d=0;d<i;d++)D[r[n+d]]++;for(m=c,p=w_;p>=1&&D[p]===0;p--);if(m>p&&(m=p),p===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,u.bits=1,0;for(h=1;h<p&&D[h]===0;h++);for(m<h&&(m=h),w=1,f=1;f<=w_;f++)if(w<<=1,w-=D[f],w<0)return-1;if(w>0&&(e===EFe||p!==1))return-1;for(L[1]=0,f=1;f<w_;f++)L[f+1]=L[f]+D[f];for(d=0;d<i;d++)r[n+d]!==0&&(a[L[r[n+d]]++]=d);if(e===EFe?(P=z=a,$=19):e===rG?(P=ler,F-=257,z=fer,ee-=257,$=256):(P=der,z=her,$=-1),E=0,d=0,f=h,I=o,g=m,y=0,M=-1,S=1<<m,x=S-1,e===rG&&S>wFe||e===SFe&&S>bFe)return 1;for(;;){N=f-y,a[d]<$?(H=0,X=a[d]):a[d]>$?(H=z[ee+a[d]],X=P[F+a[d]]):(H=96,X=0),b=1<<f-y,O=1<<g,h=O;do O-=b,s[I+(E>>y)+O]=N<<24|H<<16|X|0;while(O!==0);for(b=1<<f-1;E&b;)b>>=1;if(b!==0?(E&=b-1,E+=b):E=0,d++,--D[f]===0){if(f===p)break;f=r[n+a[d]]}if(f>m&&(E&x)!==M){for(y===0&&(y=m),I+=h,g=f-y,w=1<<g;g+y<p&&(w-=D[g+y],!(w<=0));)g++,w<<=1;if(S+=1<<g,e===rG&&S>wFe||e===SFe&&S>bFe)return 1;M=E&x,s[M]=m<<24|g<<16|I-o|0}}return E!==0&&(s[I+E]=f-y<<24|64<<16|0),u.bits=m,0}});var oLe=v(Ca=>{"use strict";var Ys=$c(),uG=z9(),Fu=V9(),per=_Fe(),SS=CFe(),mer=0,ZFe=1,YFe=2,xFe=4,ger=5,kD=6,xp=0,yer=1,_er=2,jo=-2,QFe=-3,cG=-4,ver=-5,RFe=8,eLe=1,AFe=2,PFe=3,IFe=4,OFe=5,kFe=6,NFe=7,DFe=8,FFe=9,LFe=10,FD=11,Bc=12,nG=13,MFe=14,iG=15,qFe=16,$Fe=17,UFe=18,jFe=19,ND=20,DD=21,BFe=22,HFe=23,zFe=24,VFe=25,WFe=26,sG=27,GFe=28,KFe=29,nn=30,lG=31,wer=32,ber=852,Eer=592,Ser=15,Ter=Ser;function XFe(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function Cer(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ys.Buf16(320),this.work=new Ys.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function tLe(t){var e;return!t||!t.state?jo:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=eLe,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Ys.Buf32(ber),e.distcode=e.distdyn=new Ys.Buf32(Eer),e.sane=1,e.back=-1,xp)}function rLe(t){var e;return!t||!t.state?jo:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,tLe(t))}function nLe(t,e){var r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?jo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,rLe(t))}function iLe(t,e){var r,n;return t?(n=new Cer,t.state=n,n.window=null,r=nLe(t,e),r!==xp&&(t.state=null),r):jo}function xer(t){return iLe(t,Ter)}var JFe=!0,oG,aG;function Rer(t){if(JFe){var e;for(oG=new Ys.Buf32(512),aG=new Ys.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(SS(ZFe,t.lens,0,288,oG,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;SS(YFe,t.lens,0,32,aG,0,t.work,{bits:5}),JFe=!1}t.lencode=oG,t.lenbits=9,t.distcode=aG,t.distbits=5}function sLe(t,e,r,n){var i,s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Ys.Buf8(s.wsize)),n>=s.wsize?(Ys.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),Ys.arraySet(s.window,e,r-n,i,s.wnext),n-=i,n?(Ys.arraySet(s.window,e,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function Aer(t,e){var r,n,i,s,o,a,u,c,f,d,h,p,m,g,y=0,w,S,E,b,O,M,x,I,P=new Ys.Buf8(4),F,$,D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return jo;r=t.state,r.mode===Bc&&(r.mode=nG),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,c=r.hold,f=r.bits,d=a,h=u,I=xp;e:for(;;)switch(r.mode){case eLe:if(r.wrap===0){r.mode=nG;break}for(;f<16;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(r.wrap&2&&c===35615){r.check=0,P[0]=c&255,P[1]=c>>>8&255,r.check=Fu(r.check,P,2,0),c=0,f=0,r.mode=AFe;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=nn;break}if((c&15)!==RFe){t.msg="unknown compression method",r.mode=nn;break}if(c>>>=4,f-=4,x=(c&15)+8,r.wbits===0)r.wbits=x;else if(x>r.wbits){t.msg="invalid window size",r.mode=nn;break}r.dmax=1<<x,t.adler=r.check=1,r.mode=c&512?LFe:Bc,c=0,f=0;break;case AFe:for(;f<16;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(r.flags=c,(r.flags&255)!==RFe){t.msg="unknown compression method",r.mode=nn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=nn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(P[0]=c&255,P[1]=c>>>8&255,r.check=Fu(r.check,P,2,0)),c=0,f=0,r.mode=PFe;case PFe:for(;f<32;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}r.head&&(r.head.time=c),r.flags&512&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,r.check=Fu(r.check,P,4,0)),c=0,f=0,r.mode=IFe;case IFe:for(;f<16;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(P[0]=c&255,P[1]=c>>>8&255,r.check=Fu(r.check,P,2,0)),c=0,f=0,r.mode=OFe;case OFe:if(r.flags&1024){for(;f<16;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(P[0]=c&255,P[1]=c>>>8&255,r.check=Fu(r.check,P,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=kFe;case kFe:if(r.flags&1024&&(p=r.length,p>a&&(p=a),p&&(r.head&&(x=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Ys.arraySet(r.head.extra,n,s,p,x)),r.flags&512&&(r.check=Fu(r.check,n,p,s)),a-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=NFe;case NFe:if(r.flags&2048){if(a===0)break e;p=0;do x=n[s+p++],r.head&&x&&r.length<65536&&(r.head.name+=String.fromCharCode(x));while(x&&p<a);if(r.flags&512&&(r.check=Fu(r.check,n,p,s)),a-=p,s+=p,x)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=DFe;case DFe:if(r.flags&4096){if(a===0)break e;p=0;do x=n[s+p++],r.head&&x&&r.length<65536&&(r.head.comment+=String.fromCharCode(x));while(x&&p<a);if(r.flags&512&&(r.check=Fu(r.check,n,p,s)),a-=p,s+=p,x)break e}else r.head&&(r.head.comment=null);r.mode=FFe;case FFe:if(r.flags&512){for(;f<16;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=nn;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Bc;break;case LFe:for(;f<32;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}t.adler=r.check=XFe(c),c=0,f=0,r.mode=FD;case FD:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=c,r.bits=f,_er;t.adler=r.check=1,r.mode=Bc;case Bc:if(e===ger||e===kD)break e;case nG:if(r.last){c>>>=f&7,f-=f&7,r.mode=sG;break}for(;f<3;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}switch(r.last=c&1,c>>>=1,f-=1,c&3){case 0:r.mode=MFe;break;case 1:if(Rer(r),r.mode=ND,e===kD){c>>>=2,f-=2;break e}break;case 2:r.mode=$Fe;break;case 3:t.msg="invalid block type",r.mode=nn}c>>>=2,f-=2;break;case MFe:for(c>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=nn;break}if(r.length=c&65535,c=0,f=0,r.mode=iG,e===kD)break e;case iG:r.mode=qFe;case qFe:if(p=r.length,p){if(p>a&&(p=a),p>u&&(p=u),p===0)break e;Ys.arraySet(i,n,s,p,o),a-=p,s+=p,u-=p,o+=p,r.length-=p;break}r.mode=Bc;break;case $Fe:for(;f<14;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(r.nlen=(c&31)+257,c>>>=5,f-=5,r.ndist=(c&31)+1,c>>>=5,f-=5,r.ncode=(c&15)+4,c>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=nn;break}r.have=0,r.mode=UFe;case UFe:for(;r.have<r.ncode;){for(;f<3;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}r.lens[D[r.have++]]=c&7,c>>>=3,f-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},I=SS(mer,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,I){t.msg="invalid code lengths set",r.mode=nn;break}r.have=0,r.mode=jFe;case jFe:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],w=y>>>24,S=y>>>16&255,E=y&65535,!(w<=f);){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(E<16)c>>>=w,f-=w,r.lens[r.have++]=E;else{if(E===16){for($=w+2;f<$;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(c>>>=w,f-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=nn;break}x=r.lens[r.have-1],p=3+(c&3),c>>>=2,f-=2}else if(E===17){for($=w+3;f<$;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}c>>>=w,f-=w,x=0,p=3+(c&7),c>>>=3,f-=3}else{for($=w+7;f<$;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}c>>>=w,f-=w,x=0,p=11+(c&127),c>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=nn;break}for(;p--;)r.lens[r.have++]=x}}if(r.mode===nn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=nn;break}if(r.lenbits=9,F={bits:r.lenbits},I=SS(ZFe,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,I){t.msg="invalid literal/lengths set",r.mode=nn;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},I=SS(YFe,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,I){t.msg="invalid distances set",r.mode=nn;break}if(r.mode=ND,e===kD)break e;case ND:r.mode=DD;case DD:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=c,r.bits=f,per(t,h),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,c=r.hold,f=r.bits,r.mode===Bc&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],w=y>>>24,S=y>>>16&255,E=y&65535,!(w<=f);){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(S&&(S&240)===0){for(b=w,O=S,M=E;y=r.lencode[M+((c&(1<<b+O)-1)>>b)],w=y>>>24,S=y>>>16&255,E=y&65535,!(b+w<=f);){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}c>>>=b,f-=b,r.back+=b}if(c>>>=w,f-=w,r.back+=w,r.length=E,S===0){r.mode=WFe;break}if(S&32){r.back=-1,r.mode=Bc;break}if(S&64){t.msg="invalid literal/length code",r.mode=nn;break}r.extra=S&15,r.mode=BFe;case BFe:if(r.extra){for($=r.extra;f<$;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=HFe;case HFe:for(;y=r.distcode[c&(1<<r.distbits)-1],w=y>>>24,S=y>>>16&255,E=y&65535,!(w<=f);){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if((S&240)===0){for(b=w,O=S,M=E;y=r.distcode[M+((c&(1<<b+O)-1)>>b)],w=y>>>24,S=y>>>16&255,E=y&65535,!(b+w<=f);){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}c>>>=b,f-=b,r.back+=b}if(c>>>=w,f-=w,r.back+=w,S&64){t.msg="invalid distance code",r.mode=nn;break}r.offset=E,r.extra=S&15,r.mode=zFe;case zFe:if(r.extra){for($=r.extra;f<$;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=nn;break}r.mode=VFe;case VFe:if(u===0)break e;if(p=h-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=nn;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),g=r.window}else g=i,m=o-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do i[o++]=g[m++];while(--p);r.length===0&&(r.mode=DD);break;case WFe:if(u===0)break e;i[o++]=r.length,u--,r.mode=DD;break;case sG:if(r.wrap){for(;f<32;){if(a===0)break e;a--,c|=n[s++]<<f,f+=8}if(h-=u,t.total_out+=h,r.total+=h,h&&(t.adler=r.check=r.flags?Fu(r.check,i,h,o-h):uG(r.check,i,h,o-h)),h=u,(r.flags?c:XFe(c))!==r.check){t.msg="incorrect data check",r.mode=nn;break}c=0,f=0}r.mode=GFe;case GFe:if(r.wrap&&r.flags){for(;f<32;){if(a===0)break e;a--,c+=n[s++]<<f,f+=8}if(c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=nn;break}c=0,f=0}r.mode=KFe;case KFe:I=yer;break e;case nn:I=QFe;break e;case lG:return cG;case wer:default:return jo}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=c,r.bits=f,(r.wsize||h!==t.avail_out&&r.mode<nn&&(r.mode<sG||e!==xFe))&&sLe(t,t.output,t.next_out,h-t.avail_out)?(r.mode=lG,cG):(d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,r.total+=h,r.wrap&&h&&(t.adler=r.check=r.flags?Fu(r.check,i,h,t.next_out-h):uG(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Bc?128:0)+(r.mode===ND||r.mode===iG?256:0),(d===0&&h===0||e===xFe)&&I===xp&&(I=ver),I)}function Per(t){if(!t||!t.state)return jo;var e=t.state;return e.window&&(e.window=null),t.state=null,xp}function Ier(t,e){var r;return!t||!t.state||(r=t.state,(r.wrap&2)===0)?jo:(r.head=e,e.done=!1,xp)}function Oer(t,e){var r=e.length,n,i,s;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==FD)?jo:n.mode===FD&&(i=1,i=uG(i,e,r,0),i!==n.check)?QFe:(s=sLe(t,e,r,r),s?(n.mode=lG,cG):(n.havedict=1,xp))}Ca.inflateReset=rLe;Ca.inflateReset2=nLe;Ca.inflateResetKeep=tLe;Ca.inflateInit=xer;Ca.inflateInit2=iLe;Ca.inflate=Aer;Ca.inflateEnd=Per;Ca.inflateGetHeader=Ier;Ca.inflateSetDictionary=Oer;Ca.inflateInfo="pako inflate (from Nodeca project)"});var fG=v((UBr,aLe)=>{"use strict";aLe.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var cLe=v((jBr,uLe)=>{"use strict";function ker(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}uLe.exports=ker});var fLe=v(CS=>{"use strict";var b_=oLe(),TS=$c(),LD=J9(),Rn=fG(),dG=SD(),Ner=Z9(),Der=cLe(),lLe=Object.prototype.toString;function Rp(t){if(!(this instanceof Rp))return new Rp(t);this.options=TS.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ner,this.strm.avail_out=0;var r=b_.inflateInit2(this.strm,e.windowBits);if(r!==Rn.Z_OK)throw new Error(dG[r]);if(this.header=new Der,b_.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=LD.string2buf(e.dictionary):lLe.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=b_.inflateSetDictionary(this.strm,e.dictionary),r!==Rn.Z_OK)))throw new Error(dG[r])}Rp.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i=this.options.dictionary,s,o,a,u,c,f=!1;if(this.ended)return!1;o=e===~~e?e:e===!0?Rn.Z_FINISH:Rn.Z_NO_FLUSH,typeof t=="string"?r.input=LD.binstring2buf(t):lLe.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new TS.Buf8(n),r.next_out=0,r.avail_out=n),s=b_.inflate(r,Rn.Z_NO_FLUSH),s===Rn.Z_NEED_DICT&&i&&(s=b_.inflateSetDictionary(this.strm,i)),s===Rn.Z_BUF_ERROR&&f===!0&&(s=Rn.Z_OK,f=!1),s!==Rn.Z_STREAM_END&&s!==Rn.Z_OK)return this.onEnd(s),this.ended=!0,!1;r.next_out&&(r.avail_out===0||s===Rn.Z_STREAM_END||r.avail_in===0&&(o===Rn.Z_FINISH||o===Rn.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=LD.utf8border(r.output,r.next_out),u=r.next_out-a,c=LD.buf2string(r.output,a),r.next_out=u,r.avail_out=n-u,u&&TS.arraySet(r.output,r.output,a,u,0),this.onData(c)):this.onData(TS.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(f=!0)}while((r.avail_in>0||r.avail_out===0)&&s!==Rn.Z_STREAM_END);return s===Rn.Z_STREAM_END&&(o=Rn.Z_FINISH),o===Rn.Z_FINISH?(s=b_.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Rn.Z_OK):(o===Rn.Z_SYNC_FLUSH&&(this.onEnd(Rn.Z_OK),r.avail_out=0),!0)};Rp.prototype.onData=function(t){this.chunks.push(t)};Rp.prototype.onEnd=function(t){t===Rn.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=TS.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function hG(t,e){var r=new Rp(e);if(r.push(t,!0),r.err)throw r.msg||dG[r.err];return r.result}function Fer(t,e){return e=e||{},e.raw=!0,hG(t,e)}CS.Inflate=Rp;CS.inflate=hG;CS.inflateRaw=Fer;CS.ungzip=hG});var pLe=v((HBr,hLe)=>{"use strict";var Ler=$c().assign,Mer=gFe(),qer=fLe(),$er=fG(),dLe={};Ler(dLe,Mer,qer,$er);hLe.exports=dLe});var gLe=v(qD=>{"use strict";var Uer=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",jer=pLe(),mLe=cn(),MD=Zs(),Ber=Uer?"uint8array":"array";qD.magic="\b\0";function Ap(t,e){MD.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}mLe.inherits(Ap,MD);Ap.prototype.processChunk=function(t){this.meta=t.meta,this._pako===null&&this._createPako(),this._pako.push(mLe.transformTo(Ber,t.data),!1)};Ap.prototype.flush=function(){MD.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};Ap.prototype.cleanUp=function(){MD.prototype.cleanUp.call(this),this._pako=null};Ap.prototype._createPako=function(){this._pako=new jer[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}};qD.compressWorker=function(t){return new Ap("Deflate",t)};qD.uncompressWorker=function(){return new Ap("Inflate",{})}});var mG=v(pG=>{"use strict";var yLe=Zs();pG.STORE={magic:"\0\0",compressWorker:function(){return new yLe("STORE compression")},uncompressWorker:function(){return new yLe("STORE decompression")}};pG.DEFLATE=gLe()});var gG=v(Pp=>{"use strict";Pp.LOCAL_FILE_HEADER="PK";Pp.CENTRAL_FILE_HEADER="PK";Pp.CENTRAL_DIRECTORY_END="PK";Pp.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07";Pp.ZIP64_CENTRAL_DIRECTORY_END="PK";Pp.DATA_DESCRIPTOR="PK\x07\b"});var bLe=v((GBr,wLe)=>{"use strict";var E_=cn(),S_=Zs(),yG=l_(),_Le=_D(),$D=gG(),Br=function(t,e){var r="",n;for(n=0;n<e;n++)r+=String.fromCharCode(t&255),t=t>>>8;return r},Her=function(t,e){var r=t;return t||(r=e?16893:33204),(r&65535)<<16},zer=function(t){return(t||0)&63},vLe=function(t,e,r,n,i,s){var o=t.file,a=t.compression,u=s!==yG.utf8encode,c=E_.transformTo("string",s(o.name)),f=E_.transformTo("string",yG.utf8encode(o.name)),d=o.comment,h=E_.transformTo("string",s(d)),p=E_.transformTo("string",yG.utf8encode(d)),m=f.length!==o.name.length,g=p.length!==d.length,y,w,S="",E="",b="",O=o.dir,M=o.date,x={crc32:0,compressedSize:0,uncompressedSize:0};(!e||r)&&(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),!u&&(m||g)&&(I|=2048);var P=0,F=0;O&&(P|=16),i==="UNIX"?(F=798,P|=Her(o.unixPermissions,O)):(F=20,P|=zer(o.dosPermissions,O)),y=M.getUTCHours(),y=y<<6,y=y|M.getUTCMinutes(),y=y<<5,y=y|M.getUTCSeconds()/2,w=M.getUTCFullYear()-1980,w=w<<4,w=w|M.getUTCMonth()+1,w=w<<5,w=w|M.getUTCDate(),m&&(E=Br(1,1)+Br(_Le(c),4)+f,S+="up"+Br(E.length,2)+E),g&&(b=Br(1,1)+Br(_Le(h),4)+p,S+="uc"+Br(b.length,2)+b);var $="";$+=`
\0`,$+=Br(I,2),$+=a.magic,$+=Br(y,2),$+=Br(w,2),$+=Br(x.crc32,4),$+=Br(x.compressedSize,4),$+=Br(x.uncompressedSize,4),$+=Br(c.length,2),$+=Br(S.length,2);var D=$D.LOCAL_FILE_HEADER+$+c+S,L=$D.CENTRAL_FILE_HEADER+Br(F,2)+$+Br(h.length,2)+"\0\0\0\0"+Br(P,4)+Br(n,4)+c+S+h;return{fileRecord:D,dirRecord:L}},Ver=function(t,e,r,n,i){var s="",o=E_.transformTo("string",i(n));return s=$D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+Br(t,2)+Br(t,2)+Br(e,4)+Br(r,4)+Br(o.length,2)+o,s},Wer=function(t){var e="";return e=$D.DATA_DESCRIPTOR+Br(t.crc32,4)+Br(t.compressedSize,4)+Br(t.uncompressedSize,4),e};function xa(t,e,r,n){S_.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}E_.inherits(xa,S_);xa.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,S_.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))};xa.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=vLe(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0};xa.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=vLe(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:Wer(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};xa.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,n=Ver(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})};xa.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};xa.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(r){e.processChunk(r)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(r){e.error(r)}),this};xa.prototype.resume=function(){if(!S_.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};xa.prototype.error=function(t){var e=this._sources;if(!S_.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch{}return!0};xa.prototype.lock=function(){S_.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()};wLe.exports=xa});var SLe=v(ELe=>{"use strict";var Ger=mG(),Ker=bLe(),Xer=function(t,e){var r=t||e,n=Ger[r];if(!n)throw new Error(r+" is not a valid compression method !");return n};ELe.generateWorker=function(t,e,r){var n=new Ker(e.streamFiles,r,e.platform,e.encodeFileName),i=0;try{t.forEach(function(s,o){i++;var a=Xer(o.options.compression,e.compression),u=o.options.compressionOptions||e.compressionOptions||{},c=o.dir,f=o.date;o._compressWorker(a,u).withStreamInfo("file",{name:s,dir:c,date:f,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(n)}),n.entriesCount=i}catch(s){n.error(s)}return n}});var CLe=v((XBr,TLe)=>{"use strict";var Jer=cn(),UD=Zs();function xS(t,e){UD.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}Jer.inherits(xS,UD);xS.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(r){e.push({data:r,meta:{percent:0}})}).on("error",function(r){e.isPaused?this.generatedError=r:e.error(r)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})};xS.prototype.pause=function(){return UD.prototype.pause.call(this)?(this._stream.pause(),!0):!1};xS.prototype.resume=function(){return UD.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1};TLe.exports=xS});var FLe=v((JBr,DLe)=>{"use strict";var Zer=l_(),RS=cn(),PLe=Zs(),Yer=E9(),ILe=S9(),xLe=vD(),Qer=RDe(),etr=SLe(),RLe=rS(),ttr=CLe(),OLe=function(t,e,r){var n=RS.getTypeOf(e),i,s=RS.extend(r||{},ILe);s.date=s.date||new Date,s.compression!==null&&(s.compression=s.compression.toUpperCase()),typeof s.unixPermissions=="string"&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&s.unixPermissions&16384&&(s.dir=!0),s.dosPermissions&&s.dosPermissions&16&&(s.dir=!0),s.dir&&(t=kLe(t)),s.createFolders&&(i=rtr(t))&&NLe.call(this,i,!0);var o=n==="string"&&s.binary===!1&&s.base64===!1;(!r||typeof r.binary>"u")&&(s.binary=!o);var a=e instanceof xLe&&e.uncompressedSize===0;(a||s.dir||!e||e.length===0)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",n="string");var u=null;e instanceof xLe||e instanceof PLe?u=e:RLe.isNode&&RLe.isStream(e)?u=new ttr(t,e):u=RS.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var c=new Qer(t,u,s);this.files[t]=c},rtr=function(t){t.slice(-1)==="/"&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},kLe=function(t){return t.slice(-1)!=="/"&&(t+="/"),t},NLe=function(t,e){return e=typeof e<"u"?e:ILe.createFolders,t=kLe(t),this.files[t]||OLe.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function ALe(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var ntr={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,n;for(e in this.files)n=this.files[e],r=e.slice(this.root.length,e.length),r&&e.slice(0,this.root.length)===this.root&&t(r,n)},filter:function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(n)}),e},file:function(t,e,r){if(arguments.length===1)if(ALe(t)){var n=t;return this.filter(function(s,o){return!o.dir&&n.test(s)})}else{var i=this.files[this.root+t];return i&&!i.dir?i:null}else t=this.root+t,OLe.call(this,t,e,r);return this},folder:function(t){if(!t)return this;if(ALe(t))return this.filter(function(i,s){return s.dir&&t.test(i)});var e=this.root+t,r=NLe.call(this,e),n=this.clone();return n.root=r.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||(t.slice(-1)!=="/"&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(i,s){return s.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if(r=RS.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Zer.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),r.type==="binarystring"&&(r.type="string"),!r.type)throw new Error("No output type specified.");RS.checkSupport(r.type),(r.platform==="darwin"||r.platform==="freebsd"||r.platform==="linux"||r.platform==="sunos")&&(r.platform="UNIX"),r.platform==="win32"&&(r.platform="DOS");var n=r.comment||this.comment||"";e=etr.generateWorker(this,r,n)}catch(i){e=new PLe("error"),e.error(i)}return new Yer(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};DLe.exports=ntr});var _G=v((ZBr,MLe)=>{"use strict";var itr=cn();function LLe(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}LLe.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e=0,r;for(this.checkOffset(t),r=this.index+t-1;r>=this.index;r--)e=(e<<8)+this.byteAt(r);return this.index+=t,e},readString:function(t){return itr.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1))}};MLe.exports=LLe});var vG=v((YBr,$Le)=>{"use strict";var qLe=_G(),str=cn();function T_(t){qLe.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=t[e]&255}str.inherits(T_,qLe);T_.prototype.byteAt=function(t){return this.data[this.zero+t]};T_.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===e&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1};T_.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&r===s[1]&&n===s[2]&&i===s[3]};T_.prototype.readData=function(t){if(this.checkOffset(t),t===0)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};$Le.exports=T_});var BLe=v((QBr,jLe)=>{"use strict";var ULe=_G(),otr=cn();function C_(t){ULe.call(this,t)}otr.inherits(C_,ULe);C_.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)};C_.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero};C_.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e};C_.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};jLe.exports=C_});var bG=v((e4r,zLe)=>{"use strict";var HLe=vG(),atr=cn();function wG(t){HLe.call(this,t)}atr.inherits(wG,HLe);wG.prototype.readData=function(t){if(this.checkOffset(t),t===0)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};zLe.exports=wG});var GLe=v((t4r,WLe)=>{"use strict";var VLe=bG(),utr=cn();function EG(t){VLe.call(this,t)}utr.inherits(EG,VLe);EG.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};WLe.exports=EG});var SG=v((r4r,XLe)=>{"use strict";var jD=cn(),KLe=Mc(),ctr=vG(),ltr=BLe(),ftr=GLe(),dtr=bG();XLe.exports=function(t){var e=jD.getTypeOf(t);return jD.checkSupport(e),e==="string"&&!KLe.uint8array?new ltr(t):e==="nodebuffer"?new ftr(t):KLe.uint8array?new dtr(jD.transformTo("uint8array",t)):new ctr(jD.transformTo("array",t))}});var QLe=v((n4r,YLe)=>{"use strict";var TG=SG(),Bf=cn(),htr=vD(),JLe=_D(),BD=l_(),HD=mG(),ptr=Mc(),mtr=0,gtr=3,ytr=function(t){for(var e in HD)if(Object.prototype.hasOwnProperty.call(HD,e)&&HD[e].magic===t)return HD[e];return null};function ZLe(t,e){this.options=t,this.loadOptions=e}ZLe.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=ytr(this.compressionMethod),e===null)throw new Error("Corrupted zip : compression "+Bf.pretty(this.compressionMethod)+" unknown (inner file : "+Bf.transformTo("string",this.fileName)+")");this.decompressed=new htr(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),t===mtr&&(this.dosPermissions=this.externalFileAttributes&63),t===gtr&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=TG(this.extraFields[1].value);this.uncompressedSize===Bf.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===Bf.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===Bf.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===Bf.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e=t.index+this.extraFieldsLength,r,n,i;for(this.extraFields||(this.extraFields={});t.index+4<e;)r=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[r]={id:r,length:n,value:i};t.setIndex(e)},handleUTF8:function(){var t=ptr.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=BD.utf8decode(this.fileName),this.fileCommentStr=BD.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(e!==null)this.fileNameStr=e;else{var r=Bf.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(n!==null)this.fileCommentStr=n;else{var i=Bf.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=TG(t.value);return e.readInt(1)!==1||JLe(this.fileName)!==e.readInt(4)?null:BD.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=TG(t.value);return e.readInt(1)!==1||JLe(this.fileComment)!==e.readInt(4)?null:BD.utf8decode(e.readData(t.length-5))}return null}};YLe.exports=ZLe});var rMe=v((i4r,tMe)=>{"use strict";var _tr=SG(),Hc=cn(),Ra=gG(),vtr=QLe(),wtr=Mc();function eMe(t){this.files=[],this.loadOptions=t}eMe.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Hc.pretty(e)+", expected "+Hc.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4),i=n===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=wtr.uint8array?"uint8array":"array",r=Hc.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t=this.zip64EndOfCentralSize-44,e=0,r,n,i;e<t;)r=this.reader.readInt(2),n=this.reader.readInt(4),i=this.reader.readData(n),this.zip64ExtensibleData[r]={id:r,length:n,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(Ra.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(Ra.CENTRAL_FILE_HEADER);)t=new vtr({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(Ra.CENTRAL_DIRECTORY_END);if(t<0){var e=!this.isSignature(0,Ra.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);var r=t;if(this.checkSignature(Ra.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===Hc.MAX_VALUE_16BITS||this.diskWithCentralDirStart===Hc.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===Hc.MAX_VALUE_16BITS||this.centralDirRecords===Hc.MAX_VALUE_16BITS||this.centralDirSize===Hc.MAX_VALUE_32BITS||this.centralDirOffset===Hc.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(Ra.ZIP64_CENTRAL_DIRECTORY_LOCATOR),t<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(Ra.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Ra.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Ra.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Ra.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=r-n;if(i>0)this.isSignature(r,Ra.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=_tr(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};tMe.exports=eMe});var sMe=v((s4r,iMe)=>{"use strict";var CG=cn(),zD=a_(),btr=l_(),Etr=rMe(),Str=x9(),nMe=rS();function Ttr(t){return new zD.Promise(function(e,r){var n=t.decompressed.getContentWorker().pipe(new Str);n.on("error",function(i){r(i)}).on("end",function(){n.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}iMe.exports=function(t,e){var r=this;return e=CG.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:btr.utf8decode}),nMe.isNode&&nMe.isStream(t)?zD.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):CG.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(n){var i=new Etr(e);return i.load(n),i}).then(function(i){var s=[zD.Promise.resolve(i)],o=i.files;if(e.checkCRC32)for(var a=0;a<o.length;a++)s.push(Ttr(o[a]));return zD.Promise.all(s)}).then(function(i){for(var s=i.shift(),o=s.files,a=0;a<o.length;a++){var u=o[a],c=u.fileNameStr,f=CG.resolve(u.fileNameStr);r.file(f,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:e.createFolders}),u.dir||(r.file(f).unsafeOriginalName=c)}return s.zipComment.length&&(r.comment=s.zipComment),r})}});var xG=v((o4r,oMe)=>{"use strict";function Bo(){if(!(this instanceof Bo))return new Bo;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new Bo;for(var e in this)typeof this[e]!="function"&&(t[e]=this[e]);return t}}Bo.prototype=FLe();Bo.prototype.loadAsync=sMe();Bo.support=Mc();Bo.defaults=S9();Bo.version="3.10.1";Bo.loadAsync=function(t,e){return new Bo().loadAsync(t,e)};Bo.external=a_();oMe.exports=Bo});var RG=v((a4r,aMe)=>{aMe.exports=require("stream")});var hMe=v((u4r,dMe)=>{"use strict";function uMe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uMe(Object(r),!0).forEach(function(n){Ctr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uMe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ctr(t,e,r){return e=fMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xtr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fMe(n.key),n)}}function Rtr(t,e,r){return e&&lMe(t.prototype,e),r&&lMe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fMe(t){var e=Atr(t,"string");return typeof e=="symbol"?e:String(e)}function Atr(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ptr=require("buffer"),VD=Ptr.Buffer,Itr=require("util"),AG=Itr.inspect,Otr=AG&&AG.custom||"inspect";function ktr(t,e,r){VD.prototype.copy.call(t,e,r)}dMe.exports=(function(){function t(){xtr(this,t),this.head=null,this.tail=null,this.length=0}return Rtr(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return VD.alloc(0);for(var n=VD.allocUnsafe(r>>>0),i=this.head,s=0;i;)ktr(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=VD.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:Otr,value:function(r,n){return AG(this,cMe(cMe({},n),{},{depth:0,customInspect:!1}))}}]),t})()});var IG=v((c4r,mMe)=>{"use strict";function Ntr(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(PG,this,t)):process.nextTick(PG,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(WD,r):(r._writableState.errorEmitted=!0,process.nextTick(pMe,r,s)):process.nextTick(pMe,r,s):e?(process.nextTick(WD,r),e(s)):process.nextTick(WD,r)}),this)}function pMe(t,e){PG(t,e),WD(t)}function WD(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Dtr(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function PG(t,e){t.emit("error",e)}function Ftr(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}mMe.exports={destroy:Ntr,undestroy:Dtr,errorOrDestroy:Ftr}});var Hf=v((l4r,_Me)=>{"use strict";var yMe={};function Ho(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}class i extends r{constructor(o,a,u){super(n(o,a,u))}}i.prototype.name=r.name,i.prototype.code=t,yMe[t]=i}function gMe(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function Ltr(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Mtr(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function qtr(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ho("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ho("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&Ltr(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(Mtr(t," argument"))i=`The ${t} ${n} ${gMe(e,"type")}`;else{let s=qtr(t,".")?"property":"argument";i=`The "${t}" ${s} ${n} ${gMe(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);Ho("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ho("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ho("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ho("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ho("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ho("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ho("ERR_STREAM_WRITE_AFTER_END","write after end");Ho("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ho("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ho("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");_Me.exports.codes=yMe});var OG=v((f4r,vMe)=>{"use strict";var $tr=Hf().codes.ERR_INVALID_OPT_VALUE;function Utr(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function jtr(t,e,r,n){var i=Utr(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new $tr(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}vMe.exports={getHighWaterMark:jtr}});var DG=v((d4r,CMe)=>{"use strict";CMe.exports=yn;function bMe(t){var e=this;this.next=null,this.entry=null,this.finish=function(){prr(e,t)}}var x_;yn.WritableState=PS;var Btr={deprecate:zW()},EMe=RG(),KD=require("buffer").Buffer,Htr=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ztr(t){return KD.from(t)}function Vtr(t){return KD.isBuffer(t)||t instanceof Htr}var NG=IG(),Wtr=OG(),Gtr=Wtr.getHighWaterMark,zf=Hf().codes,Ktr=zf.ERR_INVALID_ARG_TYPE,Xtr=zf.ERR_METHOD_NOT_IMPLEMENTED,Jtr=zf.ERR_MULTIPLE_CALLBACK,Ztr=zf.ERR_STREAM_CANNOT_PIPE,Ytr=zf.ERR_STREAM_DESTROYED,Qtr=zf.ERR_STREAM_NULL_VALUES,err=zf.ERR_STREAM_WRITE_AFTER_END,trr=zf.ERR_UNKNOWN_ENCODING,R_=NG.errorOrDestroy;jr()(yn,EMe);function rrr(){}function PS(t,e,r){x_=x_||Ip(),t=t||{},typeof r!="boolean"&&(r=e instanceof x_),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Gtr(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){crr(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new bMe(this)}PS.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(PS.prototype,"buffer",{get:Btr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var GD;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(GD=Function.prototype[Symbol.hasInstance],Object.defineProperty(yn,Symbol.hasInstance,{value:function(e){return GD.call(this,e)?!0:this!==yn?!1:e&&e._writableState instanceof PS}})):GD=function(e){return e instanceof this};function yn(t){x_=x_||Ip();var e=this instanceof x_;if(!e&&!GD.call(yn,this))return new yn(t);this._writableState=new PS(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),EMe.call(this)}yn.prototype.pipe=function(){R_(this,new Ztr)};function nrr(t,e){var r=new err;R_(t,r),process.nextTick(e,r)}function irr(t,e,r,n){var i;return r===null?i=new Qtr:typeof r!="string"&&!e.objectMode&&(i=new Ktr("chunk",["string","Buffer"],r)),i?(R_(t,i),process.nextTick(n,i),!1):!0}yn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&Vtr(t);return s&&!KD.isBuffer(t)&&(t=ztr(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=rrr),n.ending?nrr(this,r):(s||irr(this,n,t,r))&&(n.pendingcb++,i=orr(this,n,s,t,e,r)),i};yn.prototype.cork=function(){this._writableState.corked++};yn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&SMe(this,t))};yn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new trr(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(yn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function srr(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=KD.from(e,r)),e}Object.defineProperty(yn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function orr(t,e,r,n,i,s){if(!r){var o=srr(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else kG(t,e,!1,a,n,i,s);return u}function kG(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ytr("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function arr(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(AS,t,e),t._writableState.errorEmitted=!0,R_(t,n)):(i(n),t._writableState.errorEmitted=!0,R_(t,n),AS(t,e))}function urr(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function crr(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Jtr;if(urr(r),e)arr(t,r,n,e,i);else{var s=TMe(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&SMe(t,r),n?process.nextTick(wMe,t,r,s,i):wMe(t,r,s,i)}}function wMe(t,e,r,n){r||lrr(t,e),e.pendingcb--,n(),AS(t,e)}function lrr(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function SMe(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,kG(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new bMe(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback,d=e.objectMode?1:u.length;if(kG(t,e,!1,d,u,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}yn.prototype._write=function(t,e,r){r(new Xtr("_write()"))};yn.prototype._writev=null;yn.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||hrr(this,n,r),this};Object.defineProperty(yn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function TMe(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function frr(t,e){t._final(function(r){e.pendingcb--,r&&R_(t,r),e.prefinished=!0,t.emit("prefinish"),AS(t,e)})}function drr(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(frr,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function AS(t,e){var r=TMe(e);if(r&&(drr(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function hrr(t,e,r){e.ending=!0,AS(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function prr(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(yn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});yn.prototype.destroy=NG.destroy;yn.prototype._undestroy=NG.undestroy;yn.prototype._destroy=function(t,e){e(t)}});var Ip=v((h4r,RMe)=>{"use strict";var mrr=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};RMe.exports=Lu;var xMe=MG(),LG=DG();jr()(Lu,xMe);for(FG=mrr(LG.prototype),XD=0;XD<FG.length;XD++)JD=FG[XD],Lu.prototype[JD]||(Lu.prototype[JD]=LG.prototype[JD]);var FG,JD,XD;function Lu(t){if(!(this instanceof Lu))return new Lu(t);xMe.call(this,t),LG.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",grr)))}Object.defineProperty(Lu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Lu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Lu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function grr(){this._writableState.ended||process.nextTick(yrr,this)}function yrr(t){t.end()}Object.defineProperty(Lu.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var IMe=v((qG,PMe)=>{var ZD=require("buffer"),Mu=ZD.Buffer;function AMe(t,e){for(var r in t)e[r]=t[r]}Mu.from&&Mu.alloc&&Mu.allocUnsafe&&Mu.allocUnsafeSlow?PMe.exports=ZD:(AMe(ZD,qG),qG.Buffer=Op);function Op(t,e,r){return Mu(t,e,r)}Op.prototype=Object.create(Mu.prototype);AMe(Mu,Op);Op.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Mu(t,e,r)};Op.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Mu(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Op.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Mu(t)};Op.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ZD.SlowBuffer(t)}});var jG=v(kMe=>{"use strict";var UG=IMe().Buffer,OMe=UG.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _rr(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function vrr(t){var e=_rr(t);if(typeof e!="string"&&(UG.isEncoding===OMe||!OMe(t)))throw new Error("Unknown encoding: "+t);return e||t}kMe.StringDecoder=IS;function IS(t){this.encoding=vrr(t);var e;switch(this.encoding){case"utf16le":this.text=Crr,this.end=xrr,e=4;break;case"utf8":this.fillLast=Err,e=4;break;case"base64":this.text=Rrr,this.end=Arr,e=3;break;default:this.write=Prr,this.end=Irr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=UG.allocUnsafe(e)}IS.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};IS.prototype.end=Trr;IS.prototype.text=Srr;IS.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function $G(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function wrr(t,e,r){var n=e.length-1;if(n<r)return 0;var i=$G(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=$G(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=$G(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function brr(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Err(t){var e=this.lastTotal-this.lastNeed,r=brr(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Srr(t,e){var r=wrr(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Trr(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Crr(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function xrr(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Rrr(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Arr(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Prr(t){return t.toString(this.encoding)}function Irr(t){return t&&t.length?this.write(t):""}});var YD=v((m4r,FMe)=>{"use strict";var NMe=Hf().codes.ERR_STREAM_PREMATURE_CLOSE;function Orr(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function krr(){}function Nrr(t){return t.setHeader&&typeof t.abort=="function"}function DMe(t,e,r){if(typeof e=="function")return DMe(t,null,e);e||(e={}),r=Orr(r||krr);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},f=function(m){r.call(t,m)},d=function(){var m;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(m=new NMe),r.call(t,m);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(m=new NMe),r.call(t,m)},h=function(){t.req.on("finish",a)};return Nrr(t)?(t.on("complete",a),t.on("abort",d),t.req?h():t.on("request",h)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",h),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",f),t.removeListener("close",d)}}FMe.exports=DMe});var MMe=v((g4r,LMe)=>{"use strict";var QD;function Vf(t,e,r){return e=Drr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Drr(t){var e=Frr(t,"string");return typeof e=="symbol"?e:String(e)}function Frr(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lrr=YD(),Wf=Symbol("lastResolve"),kp=Symbol("lastReject"),OS=Symbol("error"),eF=Symbol("ended"),Np=Symbol("lastPromise"),BG=Symbol("handlePromise"),Dp=Symbol("stream");function Gf(t,e){return{value:t,done:e}}function Mrr(t){var e=t[Wf];if(e!==null){var r=t[Dp].read();r!==null&&(t[Np]=null,t[Wf]=null,t[kp]=null,e(Gf(r,!1)))}}function qrr(t){process.nextTick(Mrr,t)}function $rr(t,e){return function(r,n){t.then(function(){if(e[eF]){r(Gf(void 0,!0));return}e[BG](r,n)},n)}}var Urr=Object.getPrototypeOf(function(){}),jrr=Object.setPrototypeOf((QD={get stream(){return this[Dp]},next:function(){var e=this,r=this[OS];if(r!==null)return Promise.reject(r);if(this[eF])return Promise.resolve(Gf(void 0,!0));if(this[Dp].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[OS]?a(e[OS]):o(Gf(void 0,!0))})});var n=this[Np],i;if(n)i=new Promise($rr(n,this));else{var s=this[Dp].read();if(s!==null)return Promise.resolve(Gf(s,!1));i=new Promise(this[BG])}return this[Np]=i,i}},Vf(QD,Symbol.asyncIterator,function(){return this}),Vf(QD,"return",function(){var e=this;return new Promise(function(r,n){e[Dp].destroy(null,function(i){if(i){n(i);return}r(Gf(void 0,!0))})})}),QD),Urr),Brr=function(e){var r,n=Object.create(jrr,(r={},Vf(r,Dp,{value:e,writable:!0}),Vf(r,Wf,{value:null,writable:!0}),Vf(r,kp,{value:null,writable:!0}),Vf(r,OS,{value:null,writable:!0}),Vf(r,eF,{value:e._readableState.endEmitted,writable:!0}),Vf(r,BG,{value:function(s,o){var a=n[Dp].read();a?(n[Np]=null,n[Wf]=null,n[kp]=null,s(Gf(a,!1))):(n[Wf]=s,n[kp]=o)},writable:!0}),r));return n[Np]=null,Lrr(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[kp];s!==null&&(n[Np]=null,n[Wf]=null,n[kp]=null,s(i)),n[OS]=i;return}var o=n[Wf];o!==null&&(n[Np]=null,n[Wf]=null,n[kp]=null,o(Gf(void 0,!0))),n[eF]=!0}),e.on("readable",qrr.bind(null,n)),n};LMe.exports=Brr});var jMe=v((y4r,UMe)=>{"use strict";function qMe(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function Hrr(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){qMe(s,n,i,o,a,"next",u)}function a(u){qMe(s,n,i,o,a,"throw",u)}o(void 0)})}}function $Me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zrr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$Me(Object(r),!0).forEach(function(n){Vrr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$Me(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vrr(t,e,r){return e=Wrr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wrr(t){var e=Grr(t,"string");return typeof e=="symbol"?e:String(e)}function Grr(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Krr=Hf().codes.ERR_INVALID_ARG_TYPE;function Xrr(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new Krr("iterable",["Iterable"],e);var i=new t(zrr({objectMode:!0},r)),s=!1;i._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=Hrr(function*(){try{var u=yield n.next(),c=u.value,f=u.done;f?i.push(null):i.push(yield c)?o():s=!1}catch(d){i.destroy(d)}}),a.apply(this,arguments)}return i}UMe.exports=Xrr});var MG=v((v4r,ZMe)=>{"use strict";ZMe.exports=rr;var A_;rr.ReadableState=VMe;var _4r=require("events").EventEmitter,zMe=function(e,r){return e.listeners(r).length},NS=RG(),tF=require("buffer").Buffer,Jrr=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Zrr(t){return tF.from(t)}function Yrr(t){return tF.isBuffer(t)||t instanceof Jrr}var HG=require("util"),Bt;HG&&HG.debuglog?Bt=HG.debuglog("stream"):Bt=function(){};var Qrr=hMe(),JG=IG(),enr=OG(),tnr=enr.getHighWaterMark,rF=Hf().codes,rnr=rF.ERR_INVALID_ARG_TYPE,nnr=rF.ERR_STREAM_PUSH_AFTER_EOF,inr=rF.ERR_METHOD_NOT_IMPLEMENTED,snr=rF.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P_,zG,VG;jr()(rr,NS);var kS=JG.errorOrDestroy,WG=["error","close","destroy","pause","resume"];function onr(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function VMe(t,e,r){A_=A_||Ip(),t=t||{},typeof r!="boolean"&&(r=e instanceof A_),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=tnr(this,t,"readableHighWaterMark",r),this.buffer=new Qrr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(P_||(P_=jG().StringDecoder),this.decoder=new P_(t.encoding),this.encoding=t.encoding)}function rr(t){if(A_=A_||Ip(),!(this instanceof rr))return new rr(t);var e=this instanceof A_;this._readableState=new VMe(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),NS.call(this)}Object.defineProperty(rr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});rr.prototype.destroy=JG.destroy;rr.prototype._undestroy=JG.undestroy;rr.prototype._destroy=function(t,e){e(t)};rr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=tF.from(t,e),e=""),n=!0),WMe(this,t,e,!1,n)};rr.prototype.unshift=function(t){return WMe(this,t,null,!0,!1)};function WMe(t,e,r,n,i){Bt("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,cnr(t,s);else{var o;if(i||(o=anr(s,e)),o)kS(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==tF.prototype&&(e=Zrr(e)),n)s.endEmitted?kS(t,new snr):GG(t,s,e,!0);else if(s.ended)kS(t,new nnr);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?GG(t,s,e,!1):XG(t,s)):GG(t,s,e,!1)}else n||(s.reading=!1,XG(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function GG(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&nF(t)),XG(t,e)}function anr(t,e){var r;return!Yrr(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new rnr("chunk",["string","Buffer","Uint8Array"],e)),r}rr.prototype.isPaused=function(){return this._readableState.flowing===!1};rr.prototype.setEncoding=function(t){P_||(P_=jG().StringDecoder);var e=new P_(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var BMe=1073741824;function unr(t){return t>=BMe?t=BMe:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function HMe(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=unr(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}rr.prototype.read=function(t){Bt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Bt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?KG(this):nF(this),null;if(t=HMe(t,e),t===0&&e.ended)return e.length===0&&KG(this),null;var n=e.needReadable;Bt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Bt("length less than watermark",n)),e.ended||e.reading?(n=!1,Bt("reading or ended",n)):n&&(Bt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=HMe(r,e)));var i;return t>0?i=XMe(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&KG(this)),i!==null&&this.emit("data",i),i};function cnr(t,e){if(Bt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?nF(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,GMe(t)))}}function nF(t){var e=t._readableState;Bt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Bt("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(GMe,t))}function GMe(t){var e=t._readableState;Bt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ZG(t)}function XG(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(lnr,t,e))}function lnr(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Bt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}rr.prototype._read=function(t){kS(this,new inr("_read()"))};rr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Bt("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:g;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(y,w){Bt("onunpipe"),y===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function a(){Bt("onend"),t.end()}var u=fnr(r);t.on("drain",u);var c=!1;function f(){Bt("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",h),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(y){Bt("ondata");var w=t.write(y);Bt("dest.write",w),w===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&JMe(n.pipes,t)!==-1)&&!c&&(Bt("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(y){Bt("onerror",y),g(),t.removeListener("error",h),zMe(t,"error")===0&&kS(t,y)}onr(t,"error",h);function p(){t.removeListener("finish",m),g()}t.once("close",p);function m(){Bt("onfinish"),t.removeListener("close",p),g()}t.once("finish",m);function g(){Bt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Bt("pipe resume"),r.resume()),t};function fnr(t){return function(){var r=t._readableState;Bt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&zMe(t,"data")&&(r.flowing=!0,ZG(t))}}rr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=JMe(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};rr.prototype.on=function(t,e){var r=NS.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Bt("on readable",n.length,n.reading),n.length?nF(this):n.reading||process.nextTick(dnr,this)),r};rr.prototype.addListener=rr.prototype.on;rr.prototype.removeListener=function(t,e){var r=NS.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(KMe,this),r};rr.prototype.removeAllListeners=function(t){var e=NS.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(KMe,this),e};function KMe(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function dnr(t){Bt("readable nexttick read 0"),t.read(0)}rr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Bt("resume"),t.flowing=!t.readableListening,hnr(this,t)),t.paused=!1,this};function hnr(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(pnr,t,e))}function pnr(t,e){Bt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ZG(t),e.flowing&&!e.reading&&t.read(0)}rr.prototype.pause=function(){return Bt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Bt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ZG(t){var e=t._readableState;for(Bt("flow",e.flowing);e.flowing&&t.read()!==null;);}rr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Bt("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Bt("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(a){return function(){return t[a].apply(t,arguments)}})(i));for(var s=0;s<WG.length;s++)t.on(WG[s],this.emit.bind(this,WG[s]));return this._read=function(o){Bt("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(rr.prototype[Symbol.asyncIterator]=function(){return zG===void 0&&(zG=MMe()),zG(this)});Object.defineProperty(rr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(rr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(rr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});rr._fromList=XMe;Object.defineProperty(rr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function XMe(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function KG(t){var e=t._readableState;Bt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(mnr,e,t))}function mnr(t,e){if(Bt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(rr.from=function(t,e){return VG===void 0&&(VG=jMe()),VG(rr,t,e)});function JMe(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var YG=v((w4r,QMe)=>{"use strict";QMe.exports=zc;var iF=Hf().codes,gnr=iF.ERR_METHOD_NOT_IMPLEMENTED,ynr=iF.ERR_MULTIPLE_CALLBACK,_nr=iF.ERR_TRANSFORM_ALREADY_TRANSFORMING,vnr=iF.ERR_TRANSFORM_WITH_LENGTH_0,sF=Ip();jr()(zc,sF);function wnr(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new ynr);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function zc(t){if(!(this instanceof zc))return new zc(t);sF.call(this,t),this._transformState={afterTransform:wnr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",bnr)}function bnr(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){YMe(t,e,r)}):YMe(this,null,null)}zc.prototype.push=function(t,e){return this._transformState.needTransform=!1,sF.prototype.push.call(this,t,e)};zc.prototype._transform=function(t,e,r){r(new gnr("_transform()"))};zc.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};zc.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};zc.prototype._destroy=function(t,e){sF.prototype._destroy.call(this,t,function(r){e(r)})};function YMe(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new vnr;if(t._transformState.transforming)throw new _nr;return t.push(null)}});var rqe=v((b4r,tqe)=>{"use strict";tqe.exports=DS;var eqe=YG();jr()(DS,eqe);function DS(t){if(!(this instanceof DS))return new DS(t);eqe.call(this,t)}DS.prototype._transform=function(t,e,r){r(null,t)}});var aqe=v((E4r,oqe)=>{"use strict";var QG;function Enr(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var sqe=Hf().codes,Snr=sqe.ERR_MISSING_ARGS,Tnr=sqe.ERR_STREAM_DESTROYED;function nqe(t){if(t)throw t}function Cnr(t){return t.setHeader&&typeof t.abort=="function"}function xnr(t,e,r,n){n=Enr(n);var i=!1;t.on("close",function(){i=!0}),QG===void 0&&(QG=YD()),QG(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Cnr(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Tnr("pipe"))}}}function iqe(t){t()}function Rnr(t,e){return t.pipe(e)}function Anr(t){return!t.length||typeof t[t.length-1]!="function"?nqe:t.pop()}function Pnr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Anr(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Snr("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return xnr(o,u,c,function(f){i||(i=f),f&&s.forEach(iqe),!u&&(s.forEach(iqe),n(i))})});return e.reduce(Rnr)}oqe.exports=Pnr});var Wi=v((zo,LS)=>{var FS=require("stream");process.env.READABLE_STREAM==="disable"&&FS?(LS.exports=FS.Readable,Object.assign(LS.exports,FS),LS.exports.Stream=FS):(zo=LS.exports=MG(),zo.Stream=FS||zo,zo.Readable=zo,zo.Writable=DG(),zo.Duplex=Ip(),zo.Transform=YG(),zo.PassThrough=rqe(),zo.finished=YD(),zo.pipeline=aqe())});var Gi=v((S4r,lqe)=>{var uqe=require("fs"),Inr=function(t,e,r,n){t.super_=e,n||(n=r,r=null),r&&Object.keys(r).forEach(s=>{Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))});let i={constructor:{value:t,enumerable:!1,writable:!1,configurable:!0}};n&&Object.keys(n).forEach(s=>{i[s]=Object.getOwnPropertyDescriptor(n,s)}),t.prototype=Object.create(e.prototype,i)},Onr=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,cqe={nop(){},promiseImmediate(t){return new Promise(e=>{global.setImmediate?setImmediate(()=>{e(t)}):setTimeout(()=>{e(t)},1)})},inherits:Inr,dateToExcel(t,e){return 25569+t.getTime()/(24*3600*1e3)-(e?1462:0)},excelToDate(t,e){let r=Math.round((t-25569+(e?1462:0))*24*3600*1e3);return new Date(r)},parsePath(t){let e=t.lastIndexOf("/");return{path:t.substring(0,e),name:t.substring(e+1)}},getRelsPath(t){let e=cqe.parsePath(t);return`${e.path}/_rels/${e.name}.rels`},xmlEncode(t){let e=Onr.exec(t);if(!e)return t;let r="",n="",i=0,s=e.index;for(;s<t.length;s++){let o=t.charCodeAt(s);switch(o){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&apos;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;case 127:n="";break;default:{if(o<=31&&(o<=8||o>=11&&o!==13)){n="";break}continue}}i!==s&&(r+=t.substring(i,s)),i=s+1,n&&(r+=n)}return i!==s?r+t.substring(i,s):r},xmlDecode(t){return t.replace(/&([a-z]*);/g,e=>{switch(e){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return e}})},validInt(t){let e=parseInt(t,10);return Number.isNaN(e)?0:e},isDateFmt(t){return t?(t=t.replace(/\[[^\]]*]/g,""),t=t.replace(/"[^"]*"/g,""),t.match(/[ymdhMsb]+/)!==null):!1},fs:{exists(t){return new Promise(e=>{uqe.access(t,uqe.constants.F_OK,r=>{e(!r)})})}},toIsoDateString(t){return t.toIsoString().subsstr(0,10)},parseBoolean(t){return t===!0||t==="true"||t===1||t==="1"}};lqe.exports=cqe});var t7=v((T4r,fqe)=>{var e7=class{constructor(e){this._buf=Buffer.alloc(e&&e.size||16384),this._encoding=e&&e.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=Buffer.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(e){e=e||0,this._buffer=void 0,this._inPos=e}_grow(e){let r=this._buf.length*2;for(;r<e;)r*=2;let n=Buffer.alloc(r);this._buf.copy(n,0),this._buf=n}addText(e){this._buffer=void 0;let r=this._inPos+this._buf.write(e,this._inPos,this._encoding);for(;r>=this._buf.length-4;)this._grow(this._inPos+e.length),r=this._inPos+this._buf.write(e,this._inPos,this._encoding);this._inPos=r}addStringBuf(e){e.length&&(this._buffer=void 0,this.length+e.length>this.capacity&&this._grow(this.length+e.length),e._buf.copy(this._buf,this._inPos,0,e.length),this._inPos+=e.length)}};fqe.exports=e7});var MS=v((C4r,pqe)=>{var knr=Wi(),dqe=Gi(),Nnr=t7(),r7=class{constructor(e,r){this._data=e,this._encoding=r}get length(){return this.toBuffer().length}copy(e,r,n,i){return this.toBuffer().copy(e,r,n,i)}toBuffer(){return this._buffer||(this._buffer=Buffer.from(this._data,this._encoding)),this._buffer}},n7=class{constructor(e){this._data=e}get length(){return this._data.length}copy(e,r,n,i){return this._data._buf.copy(e,r,n,i)}toBuffer(){return this._data.toBuffer()}},i7=class{constructor(e){this._data=e}get length(){return this._data.length}copy(e,r,n,i){this._data.copy(e,r,n,i)}toBuffer(){return this._data}},s7=class{constructor(e){this.size=e,this.buffer=Buffer.alloc(e),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let e=Buffer.alloc(this.iWrite-this.iRead);return this.buffer.copy(e,0,this.iRead,this.iWrite),e}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(e){let r;return e===0?null:e===void 0||e>=this.length?(r=this.toBuffer(),this.iRead=this.iWrite,r):(r=Buffer.alloc(e),this.buffer.copy(r,0,this.iRead,e),this.iRead+=e,r)}write(e,r,n){let i=Math.min(n,this.size-this.iWrite);return e.copy(this.buffer,this.iWrite,r,r+i),this.iWrite+=i,i}},hqe=function(t){t=t||{},this.bufSize=t.bufSize||1024*1024,this.buffers=[],this.batch=t.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};dqe.inherits(hqe,knr.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return Buffer.concat(this.buffers.map(t=>t.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let e=this.buffers[this.buffers.length-1];if(!e.full)return e}let t=new s7(this.bufSize);return this.buffers.push(t),t},async _pipe(t){let e=function(r){return new Promise(n=>{r.write(t.toBuffer(),()=>{n()})})};await Promise.all(this.pipes.map(e))},_writeToBuffers(t){let e=0,r=t.length;for(;e<r;){let n=this._getWritableBuffer();e+=n.write(t,e,r-e)}},async write(t,e,r){e instanceof Function&&(r=e,e="utf8"),r=r||dqe.nop;let n;if(t instanceof Nnr)n=new n7(t);else if(t instanceof Buffer)n=new i7(t);else if(typeof t=="string"||t instanceof String||t instanceof ArrayBuffer)n=new r7(t,e);else throw new Error("Chunk must be one of type String, Buffer or StringBuf.");if(this.pipes.length)if(this.batch)for(this._writeToBuffers(n);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(n),process.nextTick(r)):(await this._pipe(n),r());else this.paused||this.emit("data",n.toBuffer()),this._writeToBuffers(n),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(t,e,r){let n=i=>{i?r(i):(this._flush(),this.pipes.forEach(s=>{s.end()}),this.emit("finish"))};t?this.write(t,e,n):n()},read(t){let e;if(t){for(e=[];t&&this.buffers.length&&!this.buffers[0].eod;){let r=this.buffers[0],n=r.read(t);t-=n.length,e.push(n),r.eod&&r.full&&this.buffers.shift()}return Buffer.concat(e)}return e=this.buffers.map(r=>r.toBuffer()).filter(Boolean),this.buffers=[],Buffer.concat(e)},setEncoding(t){this.encoding=t},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(t){this.pipes.push(t),!this.paused&&this.buffers.length&&this.end()},unpipe(t){this.pipes=this.pipes.filter(e=>e!==t)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}});pqe.exports=hqe});var _qe=v(yqe=>{var mqe=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:gqe}=require("buffer");function Dnr(t){return typeof t!="string"?t:mqe?gqe.from(mqe.encode(t).buffer):gqe.from(t)}yqe.stringToBuffer=Dnr});var wqe=v((R4r,vqe)=>{var Fnr=require("events"),Lnr=xG(),Mnr=MS(),{stringToBuffer:qnr}=_qe(),o7=class extends Fnr.EventEmitter{constructor(e){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},e),this.zip=new Lnr,this.stream=new Mnr}append(e,r){r.hasOwnProperty("base64")&&r.base64?this.zip.file(r.name,e,{base64:!0}):(process.browser&&typeof e=="string"&&(e=qnr(e)),this.zip.file(r.name,e))}async finalize(){let e=await this.zip.generateAsync(this.options);this.stream.end(e),this.emit("finish")}read(e){return this.stream.read(e)}setEncoding(e){return this.stream.setEncoding(e)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(e,r){return this.stream.pipe(e,r)}unpipe(e){return this.stream.unpipe(e)}unshift(e){return this.stream.unshift(e)}wrap(e){return this.stream.wrap(e)}};vqe.exports={ZipWriter:o7}});var di=v((A4r,Sqe)=>{var $nr=gn(),bqe=Gi(),Unr="<",oF=">",jnr="</",Bnr="/>";function Eqe(t,e,r){t.push(` ${e}="${bqe.xmlEncode(r.toString())}"`)}function a7(t,e){if(e){let r=[];$nr.each(e,(n,i)=>{n!==void 0&&Eqe(r,i,n)}),t.push(r.join(""))}}var aF=class{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(e){let r=this._xml;r.push("<?xml"),a7(r,e),r.push(`?>
`)}openNode(e,r){let n=this.tos,i=this._xml;n&&this.open&&i.push(oF),this._stack.push(e),i.push(Unr),i.push(e),a7(i,r),this.leaf=!0,this.open=!0}addAttribute(e,r){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");r!==void 0&&Eqe(this._xml,e,r)}addAttributes(e){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a7(this._xml,e)}writeText(e){let r=this._xml;this.open&&(r.push(oF),this.open=!1),this.leaf=!1,r.push(bqe.xmlEncode(e.toString()))}writeXml(e){this.open&&(this._xml.push(oF),this.open=!1),this.leaf=!1,this._xml.push(e)}closeNode(){let e=this._stack.pop(),r=this._xml;this.leaf?r.push(Bnr):(r.push(jnr),r.push(e),r.push(oF)),this.open=!1,this.leaf=!1}leafNode(e,r,n){this.openNode(e,r),n!==void 0&&this.writeText(n),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let e=this._rollbacks.pop();this._xml.length>e.xml&&this._xml.splice(e.xml,this._xml.length-e.xml),this._stack.length>e.stack&&this._stack.splice(e.stack,this._stack.length-e.stack),this.leaf=e.leaf,this.open=e.open}get xml(){return this.closeAll(),this._xml.join("")}};aF.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"};Sqe.exports=aF});var u7=v(Cqe=>{var Tqe=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function Hnr(t){return typeof t=="string"?t:Tqe?Tqe.decode(t):t.toString()}Cqe.bufferToString=Hnr});var Rqe=v(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`;Xr.S=` 	\r
`;Xr.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}";Xr.NAME_CHAR="-"+Xr.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040";Xr.CHAR_RE=new RegExp("^["+Xr.CHAR+"]$","u");Xr.S_RE=new RegExp("^["+Xr.S+"]+$","u");Xr.NAME_START_CHAR_RE=new RegExp("^["+Xr.NAME_START_CHAR+"]$","u");Xr.NAME_CHAR_RE=new RegExp("^["+Xr.NAME_CHAR+"]$","u");Xr.NAME_RE=new RegExp("^["+Xr.NAME_START_CHAR+"]["+Xr.NAME_CHAR+"]*$","u");Xr.NMTOKEN_RE=new RegExp("^["+Xr.NAME_CHAR+"]+$","u");var c7=9,l7=10,f7=13,d7=32;Xr.S_LIST=[d7,l7,f7,c7];function znr(t){return t>=d7&&t<=55295||t===l7||t===f7||t===c7||t>=57344&&t<=65533||t>=65536&&t<=1114111}Xr.isChar=znr;function Vnr(t){return t===d7||t===l7||t===f7||t===c7}Xr.isS=Vnr;function xqe(t){return t>=65&&t<=90||t>=97&&t<=122||t===58||t===95||t===8204||t===8205||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Xr.isNameStartChar=xqe;function Wnr(t){return xqe(t)||t>=48&&t<=57||t===45||t===46||t===183||t>=768&&t<=879||t>=8255&&t<=8256}Xr.isNameChar=Wnr});var Nqe=v(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}";vr.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F";vr.S=` 	\r
`;vr.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}";vr.NAME_CHAR="-"+vr.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040";vr.CHAR_RE=new RegExp("^["+vr.CHAR+"]$","u");vr.RESTRICTED_CHAR_RE=new RegExp("^["+vr.RESTRICTED_CHAR+"]$","u");vr.S_RE=new RegExp("^["+vr.S+"]+$","u");vr.NAME_START_CHAR_RE=new RegExp("^["+vr.NAME_START_CHAR+"]$","u");vr.NAME_CHAR_RE=new RegExp("^["+vr.NAME_CHAR+"]$","u");vr.NAME_RE=new RegExp("^["+vr.NAME_START_CHAR+"]["+vr.NAME_CHAR+"]*$","u");vr.NMTOKEN_RE=new RegExp("^["+vr.NAME_CHAR+"]+$","u");var Aqe=9,Pqe=10,Iqe=13,Oqe=32;vr.S_LIST=[Oqe,Pqe,Iqe,Aqe];function Gnr(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111}vr.isChar=Gnr;function Knr(t){return t>=1&&t<=8||t===11||t===12||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159}vr.isRestrictedChar=Knr;function Xnr(t){return t===9||t===10||t===13||t>31&&t<127||t===133||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111}vr.isCharAndNotRestricted=Xnr;function Jnr(t){return t===Oqe||t===Pqe||t===Iqe||t===Aqe}vr.isS=Jnr;function kqe(t){return t>=65&&t<=90||t>=97&&t<=122||t===58||t===95||t===8204||t===8205||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}vr.isNameStartChar=kqe;function Znr(t){return kqe(t)||t>=48&&t<=57||t===45||t===46||t===183||t>=768&&t<=879||t>=8255&&t<=8256}vr.isNameChar=Znr});var Fqe=v(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}";Ns.NC_NAME_CHAR="-"+Ns.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040";Ns.NC_NAME_START_CHAR_RE=new RegExp("^["+Ns.NC_NAME_START_CHAR+"]$","u");Ns.NC_NAME_CHAR_RE=new RegExp("^["+Ns.NC_NAME_CHAR+"]$","u");Ns.NC_NAME_RE=new RegExp("^["+Ns.NC_NAME_START_CHAR+"]["+Ns.NC_NAME_CHAR+"]*$","u");function Dqe(t){return t>=65&&t<=90||t===95||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Ns.isNCNameStartChar=Dqe;function Ynr(t){return Dqe(t)||t===45||t===46||t>=48&&t<=57||t===183||t>=768&&t<=879||t>=8255&&t<=8256}Ns.isNCNameChar=Ynr});var t$e=v(pF=>{"use strict";Object.defineProperty(pF,"__esModule",{value:!0});var D_=Rqe(),Qnr=Nqe(),x7=Fqe(),Ds=D_.isS,eir=D_.isChar,qS=D_.isNameStartChar,Lqe=D_.isNameChar,Jqe=D_.S_LIST,tir=D_.NAME_RE,rir=Qnr.isChar,nir=x7.isNCNameStartChar,iir=x7.isNCNameChar,sir=x7.NC_NAME_RE,hF="http://www.w3.org/XML/1998/namespace",N_="http://www.w3.org/2000/xmlns/",oir={__proto__:null,xml:hF,xmlns:N_},air={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},sn=-1,qu=-2,Mqe=0,uir=1,h7=2,cir=3,I_=4,lir=5,fir=6,dir=7,p7=8,hir=9,pir=10,mir=11,gir=12,ms=13,uF=14,m7=15,yir=16,g7=17,_ir=18,vir=19,y7=20,wir=21,bir=22,Eir=23,qqe=24,_7=25,cF=26,$qe=27,Sir=28,Tir=29,Uqe=30,Cir=31,xir=32,Fp=33,Rir=34,v7=35,$S=36,w7=37,Air=38,jqe=39,Bqe=40,Pir=41,Hqe=42,Iir=43,Oir=44,b7=9,Aa=10,E7=13,zqe=32,Vqe=33,Zqe=34,US=38,Yqe=39,lF=45,fF=47,kir=59,Kf=60,O_=61,qn=62,hi=63,Qqe=91,k_=93,Wqe=133,Gqe=8232,dF=t=>t===Zqe||t===Yqe,e$e=[Zqe,Yqe],Nir=[...e$e,Qqe,qn],Dir=[...e$e,Kf,k_],Fir=[O_,hi,...Jqe],Lir=[...Jqe,qn,US,Kf];function T7(t,e,r){switch(e){case"xml":r!==hF&&t.fail(`xml prefix must be bound to ${hF}.`);break;case"xmlns":r!==N_&&t.fail(`xmlns prefix must be bound to ${N_}.`);break;default:}switch(r){case N_:t.fail(e===""?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${N_}.`);break;case hF:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}break;default:}}function Mir(t,e){for(let r of Object.keys(e))T7(t,r,e[r])}var qir=t=>sir.test(t),$ir=t=>tir.test(t),Lp=0,Kqe=1,S7=2;pF.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var Xqe={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},C7=class{constructor(e){this.opt=e??{},this.fragmentOpt=!!this.opt.fragment;let r=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,r){this.nameStartCheck=nir,this.nameCheck=iir,this.isName=qir,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},oir);let n=this.opt.additionalNamespaces;n!=null&&(Mir(this,n),Object.assign(this.ns,n))}else this.nameStartCheck=qS,this.nameCheck=Lqe,this.isName=$ir,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var e;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Lp,this.attribList=[];let{fragmentOpt:r}=this;this.state=r?ms:Mqe,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=r,this.xmlDeclPossible=!r,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:n}=this.opt;if(n===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(air),(e=this.readyHandler)===null||e===void 0||e.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(e,r){this[Xqe[e]]=r}off(e){this[Xqe[e]]=void 0}makeError(e){var r;let n=(r=this.fileName)!==null&&r!==void 0?r:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+=`${this.line}:${this.column}`),n.length>0&&(n+=": "),new Error(n+e)}fail(e){let r=this.makeError(e),n=this.errorHandler;if(n===void 0)throw r;return n(r),this}write(e){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let r=!1;e===null?(r=!0,e=""):typeof e=="object"&&(e=e.toString()),this.carriedFromPrevious!==void 0&&(e=`${this.carriedFromPrevious}${e}`,this.carriedFromPrevious=void 0);let n=e.length,i=e.charCodeAt(n-1);!r&&(i===E7||i>=55296&&i<=56319)&&(this.carriedFromPrevious=e[n-1],n--,e=e.slice(0,n));let{stateTable:s}=this;for(this.chunk=e,this.i=0;this.i<n;)s[this.state].call(this);return this.chunkPosition+=n,r?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return sn;let n=e.charCodeAt(r);if(this.column++,n<55296){if(n>=zqe||n===b7)return n;switch(n){case Aa:return this.line++,this.column=0,this.positionAtNewLine=this.position,Aa;case E7:return e.charCodeAt(r+1)===Aa&&(this.i=r+2),this.line++,this.column=0,this.positionAtNewLine=this.position,qu;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;let i=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){let{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return sn;let n=e.charCodeAt(r);if(this.column++,n<55296){if(n>31&&n<127||n>159&&n!==Gqe||n===b7)return n;switch(n){case Aa:return this.line++,this.column=0,this.positionAtNewLine=this.position,Aa;case E7:{let s=e.charCodeAt(r+1);(s===Aa||s===Wqe)&&(this.i=r+2)}case Wqe:case Gqe:return this.line++,this.column=0,this.positionAtNewLine=this.position,qu;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;let i=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){let e=this.getCode();return e===qu?Aa:e}unget(){this.i=this.prevI,this.column--}captureTo(e){let{i:r}=this,{chunk:n}=this;for(;;){let i=this.getCode(),s=i===qu,o=s?Aa:i;if(o===sn||e.includes(o))return this.text+=n.slice(r,this.prevI),o;s&&(this.text+=`${n.slice(r,this.prevI)}
`,r=this.i)}}captureToChar(e){let{i:r}=this,{chunk:n}=this;for(;;){let i=this.getCode();switch(i){case qu:this.text+=`${n.slice(r,this.prevI)}
`,r=this.i,i=Aa;break;case sn:return this.text+=n.slice(r),!1;default:}if(i===e)return this.text+=n.slice(r,this.prevI),!0}}captureNameChars(){let{chunk:e,i:r}=this;for(;;){let n=this.getCode();if(n===sn)return this.name+=e.slice(r),sn;if(!Lqe(n))return this.name+=e.slice(r,this.prevI),n===qu?Aa:n}}skipSpaces(){for(;;){let e=this.getCodeNorm();if(e===sn||!Ds(e))return e}}setXMLVersion(e){this.currentXMLVersion=e,e==="1.0"?(this.isChar=eir,this.getCode=this.getCode10):(this.isChar=rir,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=uir}sBeginWhitespace(){let e=this.i,r=this.skipSpaces();switch(this.prevI!==e&&(this.xmlDeclPossible=!1),r){case Kf:if(this.state=m7,this.text.length!==0)throw new Error("no-empty text at start");break;case sn:break;default:this.unget(),this.state=ms,this.xmlDeclPossible=!1}}sDoctype(){var e;let r=this.captureTo(Nir);switch(r){case qn:{(e=this.doctypeHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=ms,this.doctype=!0;break}case sn:break;default:this.text+=String.fromCodePoint(r),r===Qqe?this.state=I_:dF(r)&&(this.state=cir,this.q=r)}}sDoctypeQuote(){let e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.q=null,this.state=h7)}sDTD(){let e=this.captureTo(Dir);e!==sn&&(this.text+=String.fromCodePoint(e),e===k_?this.state=h7:e===Kf?this.state=fir:dF(e)&&(this.state=lir,this.q=e))}sDTDQuoted(){let e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.state=I_,this.q=null)}sDTDOpenWaka(){let e=this.getCodeNorm();switch(this.text+=String.fromCodePoint(e),e){case Vqe:this.state=dir,this.openWakaBang="";break;case hi:this.state=mir;break;default:this.state=I_}}sDTDOpenWakaBang(){let e=String.fromCodePoint(this.getCodeNorm()),r=this.openWakaBang+=e;this.text+=e,r!=="-"&&(this.state=r==="--"?p7:I_,this.openWakaBang="")}sDTDComment(){this.captureToChar(lF)&&(this.text+="-",this.state=hir)}sDTDCommentEnding(){let e=this.getCodeNorm();this.text+=String.fromCodePoint(e),this.state=e===lF?pir:p7}sDTDCommentEnded(){let e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===qn?this.state=I_:(this.fail("malformed comment."),this.state=p7)}sDTDPI(){this.captureToChar(hi)&&(this.text+="?",this.state=gir)}sDTDPIEnding(){let e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===qn&&(this.state=I_)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:e}=this,{chunk:r}=this;e:for(;;)switch(this.getCode()){case qu:this.entity+=`${r.slice(e,this.prevI)}
`,e=this.i;break;case kir:{let{entityReturnState:n}=this,i=this.entity+r.slice(e,this.prevI);this.state=n;let s;i===""?(this.fail("empty entity name."),s="&;"):(s=this.parseEntity(i),this.entity=""),(n!==ms||this.textHandler!==void 0)&&(this.text+=s);break e}case sn:this.entity+=r.slice(e);break e;default:}}sOpenWaka(){let e=this.getCode();if(qS(e))this.state=Rir,this.unget(),this.xmlDeclPossible=!1;else switch(e){case fF:this.state=Iir,this.xmlDeclPossible=!1;break;case Vqe:this.state=yir,this.openWakaBang="",this.xmlDeclPossible=!1;break;case hi:this.state=Eir;break;default:this.fail("disallowed character in tag name"),this.state=ms,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=y7,this.openWakaBang="";break;case"--":this.state=g7,this.openWakaBang="";break;case"DOCTYPE":this.state=h7,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(lF)&&(this.state=_ir)}sCommentEnding(){var e;let r=this.getCodeNorm();r===lF?(this.state=vir,(e=this.commentHandler)===null||e===void 0||e.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(r)}`,this.state=g7)}sCommentEnded(){let e=this.getCodeNorm();e!==qn?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(e)}`,this.state=g7):this.state=ms}sCData(){this.captureToChar(k_)&&(this.state=wir)}sCDataEnding(){let e=this.getCodeNorm();e===k_?this.state=bir:(this.text+=`]${String.fromCodePoint(e)}`,this.state=y7)}sCDataEnding2(){var e;let r=this.getCodeNorm();switch(r){case qn:{(e=this.cdataHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=ms;break}case k_:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(r)}`,this.state=y7}}sPIFirstChar(){let e=this.getCodeNorm();this.nameStartCheck(e)?(this.piTarget+=String.fromCodePoint(e),this.state=qqe):e===hi||Ds(e)?(this.fail("processing instruction without a target."),this.state=e===hi?cF:_7):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e),this.state=qqe)}sPIRest(){let{chunk:e,i:r}=this;for(;;){let n=this.getCodeNorm();if(n===sn){this.piTarget+=e.slice(r);return}if(!this.nameCheck(n)){this.piTarget+=e.slice(r,this.prevI);let i=n===hi;i||Ds(n)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?Fp:$qe):this.state=i?cF:_7:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}sPIBody(){if(this.text.length===0){let e=this.getCodeNorm();e===hi?this.state=cF:Ds(e)||(this.text=String.fromCodePoint(e))}else this.captureToChar(hi)&&(this.state=cF)}sPIEnding(){var e;let r=this.getCodeNorm();if(r===qn){let{piTarget:n}=this;n.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(e=this.piHandler)===null||e===void 0||e.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=ms}else r===hi?this.text+="?":(this.text+=`?${String.fromCodePoint(r)}`,this.state=_7);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let e=this.skipSpaces();if(e===hi){this.state=Fp;return}e!==sn&&(this.state=Sir,this.name=String.fromCodePoint(e))}sXMLDeclName(){let e=this.captureTo(Fir);if(e===hi){this.state=Fp,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(Ds(e)||e===O_){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=e===O_?Uqe:Tir}}sXMLDeclEq(){let e=this.getCodeNorm();if(e===hi){this.state=Fp,this.fail("XML declaration is incomplete.");return}Ds(e)||(e!==O_&&this.fail("value required."),this.state=Uqe)}sXMLDeclValueStart(){let e=this.getCodeNorm();if(e===hi){this.state=Fp,this.fail("XML declaration is incomplete.");return}Ds(e)||(dF(e)?this.q=e:(this.fail("value must be quoted."),this.q=zqe),this.state=Cir)}sXMLDeclValue(){let e=this.captureTo([this.q,hi]);if(e===hi){this.state=Fp,this.text="",this.fail("XML declaration is incomplete.");return}if(e===sn)return;let r=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let n=r;this.xmlDecl.version=n,/^1\.[0-9]+$/.test(n)?this.opt.forceXMLVersion||this.setXMLVersion(n):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(r)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=r;break;case"standalone":r!=="yes"&&r!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=r;break;default:}this.name="",this.state=xir}sXMLDeclSeparator(){let e=this.getCodeNorm();if(e===hi){this.state=Fp;return}Ds(e)||(this.fail("whitespace required."),this.unget()),this.state=$qe}sXMLDeclEnding(){var e;this.getCodeNorm()===qn?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(e=this.xmldeclHandler)===null||e===void 0||e.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=ms):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var e;let r=this.captureNameChars();if(r===sn)return;let n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),(e=this.openTagStartHandler)===null||e===void 0||e.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),r){case qn:this.openTag();break;case fF:this.state=v7;break;default:Ds(r)||this.fail("disallowed character in tag name."),this.state=$S}}sOpenTagSlash(){this.getCode()===qn?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=$S)}sAttrib(){let e=this.skipSpaces();e!==sn&&(qS(e)?(this.unget(),this.state=w7):e===qn?this.openTag():e===fF?this.state=v7:this.fail("disallowed character in attribute name."))}sAttribName(){let e=this.captureNameChars();e===O_?this.state=jqe:Ds(e)?this.state=Air:e===qn?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):e!==sn&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let e=this.skipSpaces();switch(e){case sn:return;case O_:this.state=jqe;break;default:this.fail("attribute without value."),this.text="",this.name="",e===qn?this.openTag():qS(e)?(this.unget(),this.state=w7):(this.fail("disallowed character in attribute name."),this.state=$S)}}sAttribValue(){let e=this.getCodeNorm();dF(e)?(this.q=e,this.state=Bqe):Ds(e)||(this.fail("unquoted attribute value."),this.state=Hqe,this.unget())}sAttribValueQuoted(){let{q:e,chunk:r}=this,{i:n}=this;for(;;)switch(this.getCode()){case e:this.pushAttrib(this.name,this.text+r.slice(n,this.prevI)),this.name=this.text="",this.q=null,this.state=Pir;return;case US:this.text+=r.slice(n,this.prevI),this.state=uF,this.entityReturnState=Bqe;return;case Aa:case qu:case b7:this.text+=`${r.slice(n,this.prevI)} `,n=this.i;break;case Kf:this.text+=r.slice(n,this.prevI),this.fail("disallowed character.");return;case sn:this.text+=r.slice(n);return;default:}}sAttribValueClosed(){let e=this.getCodeNorm();Ds(e)?this.state=$S:e===qn?this.openTag():e===fF?this.state=v7:qS(e)?(this.fail("no whitespace between attributes."),this.unget(),this.state=w7):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let e=this.captureTo(Lir);switch(e){case US:this.state=uF,this.entityReturnState=Hqe;break;case Kf:this.fail("disallowed character.");break;case sn:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",e===qn?this.openTag():this.state=$S}}sCloseTag(){let e=this.captureNameChars();e===qn?this.closeTag():Ds(e)?this.state=Oir:e!==sn&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case qn:this.closeTag();break;case sn:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:e,forbiddenState:r}=this,{chunk:n,textHandler:i}=this;e:for(;;)switch(this.getCode()){case Kf:{if(this.state=m7,i!==void 0){let{text:s}=this,o=n.slice(e,this.prevI);s.length!==0?(i(s+o),this.text=""):o.length!==0&&i(o)}r=Lp;break e}case US:this.state=uF,this.entityReturnState=ms,i!==void 0&&(this.text+=n.slice(e,this.prevI)),r=Lp;break e;case k_:switch(r){case Lp:r=Kqe;break;case Kqe:r=S7;break;case S7:break;default:throw new Error("impossible state")}break;case qn:r===S7&&this.fail('the string "]]>" is disallowed in char data.'),r=Lp;break;case qu:i!==void 0&&(this.text+=`${n.slice(e,this.prevI)}
`),e=this.i,r=Lp;break;case sn:i!==void 0&&(this.text+=n.slice(e));break e;default:r=Lp}this.forbiddenState=r}handleTextOutsideRoot(){let{i:e}=this,{chunk:r,textHandler:n}=this,i=!1;e:for(;;){let s=this.getCode();switch(s){case Kf:{if(this.state=m7,n!==void 0){let{text:o}=this,a=r.slice(e,this.prevI);o.length!==0?(n(o+a),this.text=""):a.length!==0&&n(a)}break e}case US:this.state=uF,this.entityReturnState=ms,n!==void 0&&(this.text+=r.slice(e,this.prevI)),i=!0;break e;case qu:n!==void 0&&(this.text+=`${r.slice(e,this.prevI)}
`),e=this.i;break;case sn:n!==void 0&&(this.text+=r.slice(e));break e;default:Ds(s)||(i=!0)}}i&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(e,r){var n;let{prefix:i,local:s}=this.qname(e),o={name:e,prefix:i,local:s,value:r};if(this.attribList.push(o),(n=this.attributeHandler)===null||n===void 0||n.call(this,o),i==="xmlns"){let a=r.trim();this.currentXMLVersion==="1.0"&&a===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[s]=a,T7(this,s,a)}else if(e==="xmlns"){let a=r.trim();this.topNS[""]=a,T7(this,"",a)}}pushAttribPlain(e,r){var n;let i={name:e,value:r};this.attribList.push(i),(n=this.attributeHandler)===null||n===void 0||n.call(this,i)}end(){var e,r;this.sawRoot||this.fail("document must contain a root element.");let{tags:n}=this;for(;n.length>0;){let s=n.pop();this.fail(`unclosed tag: ${s.name}`)}this.state!==Mqe&&this.state!==ms&&this.fail("unexpected end.");let{text:i}=this;return i.length!==0&&((e=this.textHandler)===null||e===void 0||e.call(this,i),this.text=""),this._closed=!0,(r=this.endHandler)===null||r===void 0||r.call(this),this._init(),this}resolve(e){var r,n;let i=this.topNS[e];if(i!==void 0)return i;let{tags:s}=this;for(let o=s.length-1;o>=0;o--)if(i=s[o].ns[e],i!==void 0)return i;return i=this.ns[e],i!==void 0?i:(n=(r=this.opt).resolvePrefix)===null||n===void 0?void 0:n.call(r,e)}qname(e){let r=e.indexOf(":");if(r===-1)return{prefix:"",local:e};let n=e.slice(r+1),i=e.slice(0,r);return(i===""||n===""||n.includes(":"))&&this.fail(`malformed name: ${e}.`),{prefix:i,local:n}}processAttribsNS(){var e;let{attribList:r}=this,n=this.tag;{let{prefix:o,local:a}=this.qname(n.name);n.prefix=o,n.local=a;let u=n.uri=(e=this.resolve(o))!==null&&e!==void 0?e:"";o!==""&&(o==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),u===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(o)}.`),n.uri=o))}if(r.length===0)return;let{attributes:i}=n,s=new Set;for(let o of r){let{name:a,prefix:u,local:c}=o,f,d;u===""?(f=a==="xmlns"?N_:"",d=a):(f=this.resolve(u),f===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(u)}.`),f=u),d=`{${f}}${c}`),s.has(d)&&this.fail(`duplicate attribute: ${d}.`),s.add(d),o.uri=f,i[a]=o}this.attribList=[]}processAttribsPlain(){let{attribList:e}=this,r=this.tag.attributes;for(let{name:n,value:i}of e)r[n]!==void 0&&this.fail(`duplicate attribute: ${n}.`),r[n]=i;this.attribList=[]}openTag(){var e;this.processAttribs();let{tags:r}=this,n=this.tag;n.isSelfClosing=!1,(e=this.openTagHandler)===null||e===void 0||e.call(this,n),r.push(n),this.state=ms,this.name=""}openSelfClosingTag(){var e,r,n;this.processAttribs();let{tags:i}=this,s=this.tag;s.isSelfClosing=!0,(e=this.openTagHandler)===null||e===void 0||e.call(this,s),(r=this.closeTagHandler)===null||r===void 0||r.call(this,s),(this.tag=(n=i[i.length-1])!==null&&n!==void 0?n:null)===null&&(this.closedRoot=!0),this.state=ms,this.name=""}closeTag(){let{tags:e,name:r}=this;if(this.state=ms,this.name="",r===""){this.fail("weird empty close tag."),this.text+="</>";return}let n=this.closeTagHandler,i=e.length;for(;i-- >0;){let s=this.tag=e.pop();if(this.topNS=s.ns,n?.(s),s.name===r)break;this.fail("unexpected close tag.")}i===0?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${r}.`),this.text+=`</${r}>`)}parseEntity(e){if(e[0]!=="#"){let n=this.ENTITIES[e];return n!==void 0?n:(this.fail(this.isName(e)?"undefined entity.":"disallowed character in entity name."),`&${e};`)}let r=NaN;return e[1]==="x"&&/^#x[0-9a-f]+$/i.test(e)?r=parseInt(e.slice(2),16):/^#[0-9]+$/.test(e)&&(r=parseInt(e.slice(1),10)),this.isChar(r)?String.fromCodePoint(r):(this.fail("malformed character entity."),`&${e};`)}};pF.SaxesParser=C7});var jS=v((D4r,r$e)=>{var{SaxesParser:Uir}=t$e(),{PassThrough:jir}=Wi(),{bufferToString:Bir}=u7();r$e.exports=async function*(t){t.pipe&&!t[Symbol.asyncIterator]&&(t=t.pipe(new jir));let e=new Uir,r;e.on("error",i=>{r=i});let n=[];e.on("opentag",i=>n.push({eventType:"opentag",value:i})),e.on("text",i=>n.push({eventType:"text",value:i})),e.on("closetag",i=>n.push({eventType:"closetag",value:i}));for await(let i of t){if(e.write(Bir(i)),r)throw r;yield n,n=[]}}});var Ae=v((F4r,n$e)=>{var Hir=jS(),zir=di(),R7=class t{prepare(){}render(){}parseOpen(e){}parseText(e){}parseClose(e){}reconcile(e,r){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(e=>{e instanceof t?e.reset():e.xform&&e.xform.reset()})}mergeModel(e){this.model=Object.assign(this.model||{},e)}async parse(e){for await(let r of e)for(let{eventType:n,value:i}of r)if(n==="opentag")this.parseOpen(i);else if(n==="text")this.parseText(i);else if(n==="closetag"&&!this.parseClose(i.name))return this.model;return this.model}async parseStream(e){return this.parse(Hir(e))}get xml(){return this.toXml(this.model)}toXml(e){let r=new zir;return this.render(r,e),r.xml}static toAttribute(e,r,n=!1){if(e===void 0){if(n)return r}else if(n||e!==r)return e.toString()}static toStringAttribute(e,r,n=!1){return t.toAttribute(e,r,n)}static toStringValue(e,r){return e===void 0?r:e}static toBoolAttribute(e,r,n=!1){if(e===void 0){if(n)return r}else if(n||e!==r)return e?"1":"0"}static toBoolValue(e,r){return e===void 0?r:e==="1"}static toIntAttribute(e,r,n=!1){return t.toAttribute(e,r,n)}static toIntValue(e,r){return e===void 0?r:parseInt(e,10)}static toFloatAttribute(e,r,n=!1){return t.toAttribute(e,r,n)}static toFloatValue(e,r){return e===void 0?r:parseFloat(e)}};n$e.exports=R7});var F_=v((L4r,s$e)=>{var Vir=Ae(),Wir=di();function i$e(t,e){t.openNode(e.tag,e.$),e.c&&e.c.forEach(r=>{i$e(t,r)}),e.t&&t.writeText(e.t),t.closeNode()}var A7=class extends Vir{constructor(e){super(),this._model=e}render(e){if(!this._xml){let r=new Wir;i$e(r,this._model),this._xml=r.xml}e.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(e){switch(e){case this._model.tag:return!1;default:return!0}}};s$e.exports=A7});var Xf=v((M4r,o$e)=>{var Gir=Ae(),P7=class extends Gir{constructor(e){super(),this.tag=e.tag,this.always=!!e.always,this.count=e.count,this.empty=e.empty,this.$count=e.$count||"count",this.$=e.$,this.childXform=e.childXform,this.maxItems=e.maxItems}prepare(e,r){let{childXform:n}=this;e&&e.forEach((i,s)=>{r.index=s,n.prepare(i,r)})}render(e,r){if(this.always||r&&r.length){e.openNode(this.tag,this.$),this.count&&e.addAttribute(this.$count,r&&r.length||0);let{childXform:n}=this;(r||[]).forEach((i,s)=>{n.render(e,i,s)}),e.closeNode()}else this.empty&&e.leafNode(this.tag)}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:return this.model=[],!0;default:return this.childXform.parseOpen(e)?(this.parser=this.childXform,!0):!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser){if(!this.parser.parseClose(e)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(e,r){if(e){let{childXform:n}=this;e.forEach(i=>{n.reconcile(i,r)})}}};o$e.exports=P7});var Jf=v((q4r,a$e)=>{var Kir=Ae(),I7=class extends Kir{constructor(e){super(),this.name=e||"color"}get tag(){return this.name}render(e,r){return r?(e.openNode(this.name),r.argb?e.addAttribute("rgb",r.argb):r.theme!==void 0?(e.addAttribute("theme",r.theme),r.tint!==void 0&&e.addAttribute("tint",r.tint)):r.indexed!==void 0?e.addAttribute("indexed",r.indexed):e.addAttribute("auto","1"),e.closeNode(),!0):!1}parseOpen(e){return e.name===this.name?(e.attributes.rgb?this.model={argb:e.attributes.rgb}:e.attributes.theme?(this.model={theme:parseInt(e.attributes.theme,10)},e.attributes.tint&&(this.model.tint=parseFloat(e.attributes.tint))):e.attributes.indexed?this.model={indexed:parseInt(e.attributes.indexed,10)}:this.model=void 0,!0):!1}parseText(){}parseClose(){return!1}};a$e.exports=I7});var c$e=v(($4r,u$e)=>{var Xir=Ae(),O7=class extends Xir{constructor(e){super(),this.tag=e.tag,this.attr=e.attr}render(e,r){r&&(e.openNode(this.tag),e.closeNode())}parseOpen(e){e.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}};u$e.exports=O7});var mF=v((U4r,l$e)=>{var Jir=Ae(),k7=class extends Jir{constructor(e){super(),this.tag=e.tag,this.attr=e.attr,this.attrs=e.attrs,this.zero=e.zero}render(e,r){(r||this.zero)&&(e.openNode(this.tag),this.attrs&&e.addAttributes(this.attrs),this.attr?e.addAttribute(this.attr,r):e.writeText(r),e.closeNode())}parseOpen(e){return e.name===this.tag?(this.attr?this.model=parseInt(e.attributes[this.attr],10):this.text=[],!0):!1}parseText(e){this.attr||this.text.push(e)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}};l$e.exports=k7});var gF=v((j4r,f$e)=>{var Zir=Ae(),N7=class extends Zir{constructor(e){super(),this.tag=e.tag,this.attr=e.attr,this.attrs=e.attrs}render(e,r){r!==void 0&&(e.openNode(this.tag),this.attrs&&e.addAttributes(this.attrs),this.attr?e.addAttribute(this.attr,r):e.writeText(r),e.closeNode())}parseOpen(e){e.name===this.tag&&(this.attr?this.model=e.attributes[this.attr]:this.text=[])}parseText(e){this.attr||this.text.push(e)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}};f$e.exports=N7});var h$e=v((B4r,d$e)=>{var Yir=Ae(),yF=class t extends Yir{constructor(e){super(),this.model=e}get tag(){return"u"}render(e,r){if(r=r||this.model,r===!0)e.leafNode("u");else{let n=t.Attributes[r];n&&e.leafNode("u",n)}}parseOpen(e){e.name==="u"&&(this.model=e.attributes.val||!0)}parseText(){}parseClose(){return!1}};yF.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}};d$e.exports=yF});var vF=v((H4r,p$e)=>{"use strict";var Qir=Jf(),Mp=c$e(),D7=mF(),F7=gF(),esr=h$e(),tsr=gn(),rsr=Ae(),_F=class t extends rsr{constructor(e){super(),this.options=e||t.OPTIONS,this.map={b:{prop:"bold",xform:new Mp({tag:"b",attr:"val"})},i:{prop:"italic",xform:new Mp({tag:"i",attr:"val"})},u:{prop:"underline",xform:new esr},charset:{prop:"charset",xform:new D7({tag:"charset",attr:"val"})},color:{prop:"color",xform:new Qir},condense:{prop:"condense",xform:new Mp({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new Mp({tag:"extend",attr:"val"})},family:{prop:"family",xform:new D7({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new Mp({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new F7({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new F7({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new Mp({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new Mp({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new D7({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new F7({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(e,r){let{map:n}=this;e.openNode(this.options.tagName),tsr.each(this.map,(i,s)=>{n[s].xform.render(e,r[i.prop])}),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;if(this.map[e.name])return this.parser=this.map[e.name].xform,this.parser.parseOpen(e);switch(e.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser&&!this.parser.parseClose(e)){let r=this.map[e];return this.parser.model&&(this.model[r.prop]=this.parser.model),this.parser=void 0,!0}switch(e){case this.options.tagName:return!1;default:return!0}}};_F.OPTIONS={tagName:"font",fontNameTag:"name"};p$e.exports=_F});var M7=v((z4r,m$e)=>{var SF=Ae(),L7=Jf(),wF=class extends SF{constructor(){super(),this.map={color:new L7}}get tag(){return"stop"}render(e,r){e.openNode("stop"),e.addAttribute("position",r.position),this.map.color.render(e,r.color),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"stop":return this.model={position:parseFloat(e.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(e),!0;default:return!1}}parseText(){}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.model.color=this.parser.model,this.parser=void 0),!0):!1}},bF=class extends SF{constructor(){super(),this.map={fgColor:new L7("fgColor"),bgColor:new L7("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(e,r){e.openNode("patternFill"),e.addAttribute("patternType",r.pattern),r.fgColor&&this.map.fgColor.render(e,r.fgColor),r.bgColor&&this.map.bgColor.render(e,r.bgColor),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"patternFill":return this.model={type:"pattern",pattern:e.attributes.patternType},!0;default:return this.parser=this.map[e.name],this.parser?(this.parser.parseOpen(e),!0):!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.parser.model&&(this.model[e]=this.parser.model),this.parser=void 0),!0):!1}},EF=class extends SF{constructor(){super(),this.map={stop:new wF}}get name(){return"gradient"}get tag(){return"gradientFill"}render(e,r){switch(e.openNode("gradientFill"),r.gradient){case"angle":e.addAttribute("degree",r.degree);break;case"path":e.addAttribute("type","path"),r.center.left&&(e.addAttribute("left",r.center.left),r.center.right===void 0&&e.addAttribute("right",r.center.left)),r.center.right&&e.addAttribute("right",r.center.right),r.center.top&&(e.addAttribute("top",r.center.top),r.center.bottom===void 0&&e.addAttribute("bottom",r.center.top)),r.center.bottom&&e.addAttribute("bottom",r.center.bottom);break;default:break}let n=this.map.stop;r.stops.forEach(i=>{n.render(e,i)}),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"gradientFill":{let r=this.model={stops:[]};return e.attributes.degree?(r.gradient="angle",r.degree=parseInt(e.attributes.degree,10)):e.attributes.type==="path"&&(r.gradient="path",r.center={left:e.attributes.left?parseFloat(e.attributes.left):0,top:e.attributes.top?parseFloat(e.attributes.top):0},e.attributes.right!==e.attributes.left&&(r.center.right=e.attributes.right?parseFloat(e.attributes.right):0),e.attributes.bottom!==e.attributes.top&&(r.center.bottom=e.attributes.bottom?parseFloat(e.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(e),!0;default:return!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0):!1}},qp=class t extends SF{constructor(){super(),this.map={patternFill:new bF,gradientFill:new EF}}get tag(){return"fill"}render(e,r){switch(e.addRollback(),e.openNode("fill"),r.type){case"pattern":this.map.patternFill.render(e,r);break;case"gradient":this.map.gradientFill.render(e,r);break;default:e.rollback();return}e.closeNode(),e.commit()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"fill":return this.model={},!0;default:return this.parser=this.map[e.name],this.parser?(this.parser.parseOpen(e),!0):!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0):!1}validStyle(e){return t.validPatternValues[e]}};qp.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((t,e)=>(t[e]=!0,t),{});qp.StopXform=wF;qp.PatternFillXform=bF;qp.GradientFillXform=EF;m$e.exports=qp});var $7=v((V4r,_$e)=>{var y$e=Ae(),g$e=Gi(),nsr=Jf(),Zf=class t extends y$e{constructor(e){super(),this.name=e,this.map={color:new nsr}}get tag(){return this.name}render(e,r,n){let i=r&&r.color||n||this.defaultColor;e.openNode(this.name),r&&r.style&&(e.addAttribute("style",r.style),i&&this.map.color.render(e,i)),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.name:{let{style:r}=e.attributes;return r?this.model={style:r}:this.model=void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(e),!0;default:return!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.parser=void 0),!0):(e===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(e){return t.validStyleValues[e]}};Zf.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((t,e)=>(t[e]=!0,t),{});var q7=class extends y$e{constructor(){super(),this.map={top:new Zf("top"),left:new Zf("left"),bottom:new Zf("bottom"),right:new Zf("right"),diagonal:new Zf("diagonal")}}render(e,r){let{color:n}=r;e.openNode("border"),r.diagonal&&r.diagonal.style&&(r.diagonal.up&&e.addAttribute("diagonalUp","1"),r.diagonal.down&&e.addAttribute("diagonalDown","1"));function i(s,o){s&&!s.color&&r.color&&(s={...s,color:r.color}),o.render(e,s,n)}i(r.left,this.map.left),i(r.right,this.map.right),i(r.top,this.map.top),i(r.bottom,this.map.bottom),i(r.diagonal,this.map.diagonal),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"border":return this.reset(),this.diagonalUp=g$e.parseBoolean(e.attributes.diagonalUp),this.diagonalDown=g$e.parseBoolean(e.attributes.diagonalDown),!0;default:return this.parser=this.map[e.name],this.parser?(this.parser.parseOpen(e),!0):!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;if(e==="border"){let r=this.model={},n=function(i,s,o){s&&(o&&Object.assign(s,o),r[i]=s)};n("left",this.map.left.model),n("right",this.map.right.model),n("top",this.map.top.model),n("bottom",this.map.bottom.model),n("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}};_$e.exports=q7});var w$e=v((W4r,v$e)=>{v$e.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}});var j7=v((G4r,b$e)=>{var isr=gn(),U7=w$e(),ssr=Ae();function osr(){let t={};return isr.each(U7,(e,r)=>{e.f&&(t[e.f]=parseInt(r,10))}),t}var asr=osr(),BS=class extends ssr{constructor(e,r){super(),this.id=e,this.formatCode=r}get tag(){return"numFmt"}render(e,r){e.leafNode("numFmt",{numFmtId:r.id,formatCode:r.formatCode})}parseOpen(e){switch(e.name){case"numFmt":return this.model={id:parseInt(e.attributes.numFmtId,10),formatCode:e.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}};BS.getDefaultFmtId=function(e){return asr[e]};BS.getDefaultFmtCode=function(e){return U7[e]&&U7[e].f};b$e.exports=BS});var H7=v((K4r,T$e)=>{var E$e=ba(),HS=Gi(),usr=Ae(),$p={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((t,e)=>(t[e]=!0,t),{}),horizontal(t){return this.horizontalValues[t]?t:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((t,e)=>(t[e]=!0,t),{}),vertical(t){return t==="middle"?"center":this.verticalValues[t]?t:void 0},wrapText(t){return t?!0:void 0},shrinkToFit(t){return t?!0:void 0},textRotation(t){switch(t){case"vertical":return t;default:return t=HS.validInt(t),t>=-90&&t<=90?t:void 0}},indent(t){return t=HS.validInt(t),Math.max(0,t)},readingOrder(t){switch(t){case"ltr":return E$e.ReadingOrder.LeftToRight;case"rtl":return E$e.ReadingOrder.RightToLeft;default:return}}},S$e={toXml(t){if(t=$p.textRotation(t),t){if(t==="vertical")return 255;let e=Math.round(t);if(e>=0&&e<=90)return e;if(e<0&&e>=-90)return 90-e}},toModel(t){let e=HS.validInt(t);if(e!==void 0){if(e===255)return"vertical";if(e>=0&&e<=90)return e;if(e>90&&e<=180)return 90-e}}},B7=class extends usr{get tag(){return"alignment"}render(e,r){e.addRollback(),e.openNode("alignment");let n=!1;function i(s,o){o&&(e.addAttribute(s,o),n=!0)}i("horizontal",$p.horizontal(r.horizontal)),i("vertical",$p.vertical(r.vertical)),i("wrapText",$p.wrapText(r.wrapText)?"1":!1),i("shrinkToFit",$p.shrinkToFit(r.shrinkToFit)?"1":!1),i("indent",$p.indent(r.indent)),i("textRotation",S$e.toXml(r.textRotation)),i("readingOrder",$p.readingOrder(r.readingOrder)),e.closeNode(),n?e.commit():e.rollback()}parseOpen(e){let r={},n=!1;function i(s,o,a){s&&(r[o]=a,n=!0)}i(e.attributes.horizontal,"horizontal",e.attributes.horizontal),i(e.attributes.vertical,"vertical",e.attributes.vertical==="center"?"middle":e.attributes.vertical),i(e.attributes.wrapText,"wrapText",HS.parseBoolean(e.attributes.wrapText)),i(e.attributes.shrinkToFit,"shrinkToFit",HS.parseBoolean(e.attributes.shrinkToFit)),i(e.attributes.indent,"indent",parseInt(e.attributes.indent,10)),i(e.attributes.textRotation,"textRotation",S$e.toModel(e.attributes.textRotation)),i(e.attributes.readingOrder,"readingOrder",e.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=n?r:null}parseText(){}parseClose(){return!1}};T$e.exports=B7});var V7=v((X4r,x$e)=>{var csr=Ae(),C$e={boolean(t,e){return t===void 0?e:t}},z7=class extends csr{get tag(){return"protection"}render(e,r){e.addRollback(),e.openNode("protection");let n=!1;function i(s,o){o!==void 0&&(e.addAttribute(s,o),n=!0)}i("locked",C$e.boolean(r.locked,!0)?void 0:"0"),i("hidden",C$e.boolean(r.hidden,!1)?"1":void 0),e.closeNode(),n?e.commit():e.rollback()}parseOpen(e){let r={locked:e.attributes.locked!=="0",hidden:e.attributes.hidden==="1"},n=!r.locked||r.hidden;this.model=n?r:null}parseText(){}parseClose(){return!1}};x$e.exports=z7});var A$e=v((J4r,R$e)=>{var lsr=Ae(),fsr=H7(),dsr=V7(),W7=class extends lsr{constructor(e){super(),this.xfId=!!(e&&e.xfId),this.map={alignment:new fsr,protection:new dsr}}get tag(){return"xf"}render(e,r){e.openNode("xf",{numFmtId:r.numFmtId||0,fontId:r.fontId||0,fillId:r.fillId||0,borderId:r.borderId||0}),this.xfId&&e.addAttribute("xfId",r.xfId||0),r.numFmtId&&e.addAttribute("applyNumberFormat","1"),r.fontId&&e.addAttribute("applyFont","1"),r.fillId&&e.addAttribute("applyFill","1"),r.borderId&&e.addAttribute("applyBorder","1"),r.alignment&&e.addAttribute("applyAlignment","1"),r.protection&&e.addAttribute("applyProtection","1"),r.alignment&&this.map.alignment.render(e,r.alignment),r.protection&&this.map.protection.render(e,r.protection),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"xf":return this.model={numFmtId:parseInt(e.attributes.numFmtId,10),fontId:parseInt(e.attributes.fontId,10),fillId:parseInt(e.attributes.fillId,10),borderId:parseInt(e.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(e.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(e),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(e),!0;default:return!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):e!=="xf"}};R$e.exports=W7});var I$e=v((Z4r,P$e)=>{var hsr=Ae(),psr=H7(),msr=$7(),gsr=M7(),ysr=vF(),_sr=j7(),vsr=V7(),G7=class extends hsr{constructor(){super(),this.map={alignment:new psr,border:new msr,fill:new gsr,font:new ysr,numFmt:new _sr,protection:new vsr}}get tag(){return"dxf"}render(e,r){if(e.openNode(this.tag),r.font&&this.map.font.render(e,r.font),r.numFmt&&r.numFmtId){let n={id:r.numFmtId,formatCode:r.numFmt};this.map.numFmt.render(e,n)}r.fill&&this.map.fill.render(e,r.fill),r.alignment&&this.map.alignment.render(e,r.alignment),r.border&&this.map.border.render(e,r.border),r.protection&&this.map.protection.render(e,r.protection),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e),!0}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.parser=void 0),!0):e===this.tag?(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1):!0}};P$e.exports=G7});var xF=v((Y4r,D$e)=>{var CF=ba(),wsr=di(),bsr=Ae(),TF=F_(),Up=Xf(),O$e=vF(),k$e=M7(),N$e=$7(),zS=j7(),K7=A$e(),Esr=I$e(),Ssr=164,jp=class t extends bsr{constructor(e){super(),this.map={numFmts:new Up({tag:"numFmts",count:!0,childXform:new zS}),fonts:new Up({tag:"fonts",count:!0,childXform:new O$e,$:{"x14ac:knownFonts":1}}),fills:new Up({tag:"fills",count:!0,childXform:new k$e}),borders:new Up({tag:"borders",count:!0,childXform:new N$e}),cellStyleXfs:new Up({tag:"cellStyleXfs",count:!0,childXform:new K7}),cellXfs:new Up({tag:"cellXfs",count:!0,childXform:new K7({xfId:!0})}),dxfs:new Up({tag:"dxfs",always:!0,count:!0,childXform:new Esr}),numFmt:new zS,font:new O$e,fill:new k$e,border:new N$e,style:new K7({xfId:!0}),cellStyles:t.STATIC_XFORMS.cellStyles,tableStyles:t.STATIC_XFORMS.tableStyles,extLst:t.STATIC_XFORMS.extLst},e&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(e,r){r=r||this.model,e.openXml(wsr.StdDocAttributes),e.openNode("styleSheet",t.STYLESHEET_ATTRIBUTES),this.index?(r.numFmts&&r.numFmts.length&&(e.openNode("numFmts",{count:r.numFmts.length}),r.numFmts.forEach(n=>{e.writeXml(n)}),e.closeNode()),r.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),e.openNode("fonts",{count:r.fonts.length,"x14ac:knownFonts":1}),r.fonts.forEach(n=>{e.writeXml(n)}),e.closeNode(),e.openNode("fills",{count:r.fills.length}),r.fills.forEach(n=>{e.writeXml(n)}),e.closeNode(),e.openNode("borders",{count:r.borders.length}),r.borders.forEach(n=>{e.writeXml(n)}),e.closeNode(),this.map.cellStyleXfs.render(e,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),e.openNode("cellXfs",{count:r.styles.length}),r.styles.forEach(n=>{e.writeXml(n)}),e.closeNode()):(this.map.numFmts.render(e,r.numFmts),this.map.fonts.render(e,r.fonts),this.map.fills.render(e,r.fills),this.map.borders.render(e,r.borders),this.map.cellStyleXfs.render(e,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(e,r.styles)),t.STATIC_XFORMS.cellStyles.render(e),this.map.dxfs.render(e,r.dxfs),t.STATIC_XFORMS.tableStyles.render(e),t.STATIC_XFORMS.extLst.render(e),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e),!0}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case"styleSheet":{this.model={};let r=(n,i)=>{i.model&&i.model.length&&(this.model[n]=i.model)};if(r("numFmts",this.map.numFmts),r("fonts",this.map.fonts),r("fills",this.map.fills),r("borders",this.map.borders),r("styles",this.map.cellXfs),r("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let n=this.index.numFmt;this.model.numFmts.forEach(i=>{n[i.id]=i.formatCode})}return!1}default:return!0}}addStyleModel(e,r){if(!e)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(e))return this.weakMap.get(e);let n={};if(r=r||CF.ValueType.Number,e.numFmt)n.numFmtId=this._addNumFmtStr(e.numFmt);else switch(r){case CF.ValueType.Number:n.numFmtId=this._addNumFmtStr("General");break;case CF.ValueType.Date:n.numFmtId=this._addNumFmtStr("mm-dd-yy");break;default:break}e.font&&(n.fontId=this._addFont(e.font)),e.border&&(n.borderId=this._addBorder(e.border)),e.fill&&(n.fillId=this._addFill(e.fill)),e.alignment&&(n.alignment=e.alignment),e.protection&&(n.protection=e.protection);let i=this._addStyle(n);return this.weakMap&&this.weakMap.set(e,i),i}getStyleModel(e){let r=this.model.styles[e];if(!r)return null;let n=this.index.model[e];if(n)return n;if(n=this.index.model[e]={},r.numFmtId){let s=this.index.numFmt[r.numFmtId]||zS.getDefaultFmtCode(r.numFmtId);s&&(n.numFmt=s)}function i(s,o,a){if(a||a===0){let u=o[a];u&&(n[s]=u)}}return i("font",this.model.fonts,r.fontId),i("border",this.model.borders,r.borderId),i("fill",this.model.fills,r.fillId),r.alignment&&(n.alignment=r.alignment),r.protection&&(n.protection=r.protection),n}addDxfStyle(e){return e.numFmt&&(e.numFmtId=this._addNumFmtStr(e.numFmt)),this.model.dxfs.push(e),this.model.dxfs.length-1}getDxfStyle(e){return this.model.dxfs[e]}_addStyle(e){let r=this.map.style.toXml(e),n=this.index.style[r];return n===void 0&&(n=this.index.style[r]=this.model.styles.length,this.model.styles.push(r)),n}_addNumFmtStr(e){let r=zS.getDefaultFmtId(e);if(r!==void 0||(r=this.index.numFmt[e],r!==void 0))return r;r=this.index.numFmt[e]=Ssr+this.model.numFmts.length;let n=this.map.numFmt.toXml({id:r,formatCode:e});return this.model.numFmts.push(n),r}_addFont(e){let r=this.map.font.toXml(e),n=this.index.font[r];return n===void 0&&(n=this.index.font[r]=this.model.fonts.length,this.model.fonts.push(r)),n}_addBorder(e){let r=this.map.border.toXml(e),n=this.index.border[r];return n===void 0&&(n=this.index.border[r]=this.model.borders.length,this.model.borders.push(r)),n}_addFill(e){let r=this.map.fill.toXml(e),n=this.index.fill[r];return n===void 0&&(n=this.index.fill[r]=this.model.fills.length,this.model.fills.push(r)),n}};jp.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"};jp.STATIC_XFORMS={cellStyles:new TF({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new TF({tag:"dxfs",$:{count:0}}),tableStyles:new TF({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new TF({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})};var X7=class extends jp{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(e){return e.autodrain(),Promise.resolve()}addStyleModel(e,r){switch(r){case CF.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let e={numFmtId:zS.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(e)}return this._dateStyleId}getStyleModel(){return{}}};jp.Mock=X7;D$e.exports=jp});var L$e=v((Q4r,F$e)=>{var Tsr=Ae(),J7=class extends Tsr{constructor(e){super(),this.tag=e.tag,this.attr=e.attr,this.attrs=e.attrs,this._format=e.format||function(r){try{return Number.isNaN(r.getTime())?"":r.toISOString()}catch{return""}},this._parse=e.parse||function(r){return new Date(r)}}render(e,r){r&&(e.openNode(this.tag),this.attrs&&e.addAttributes(this.attrs),this.attr?e.addAttribute(this.attr,this._format(r)):e.writeText(this._format(r)),e.closeNode())}parseOpen(e){e.name===this.tag&&(this.attr?this.model=this._parse(e.attributes[this.attr]):this.text=[])}parseText(e){this.attr||this.text.push(e)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}};F$e.exports=J7});var Y7=v((e3r,M$e)=>{var Csr=di(),xsr=Ae(),Z7=L$e(),Vo=gF(),Rsr=mF(),L_=class t extends xsr{constructor(){super(),this.map={"dc:creator":new Vo({tag:"dc:creator"}),"dc:title":new Vo({tag:"dc:title"}),"dc:subject":new Vo({tag:"dc:subject"}),"dc:description":new Vo({tag:"dc:description"}),"dc:identifier":new Vo({tag:"dc:identifier"}),"dc:language":new Vo({tag:"dc:language"}),"cp:keywords":new Vo({tag:"cp:keywords"}),"cp:category":new Vo({tag:"cp:category"}),"cp:lastModifiedBy":new Vo({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new Z7({tag:"cp:lastPrinted",format:t.DateFormat}),"cp:revision":new Rsr({tag:"cp:revision"}),"cp:version":new Vo({tag:"cp:version"}),"cp:contentStatus":new Vo({tag:"cp:contentStatus"}),"cp:contentType":new Vo({tag:"cp:contentType"}),"dcterms:created":new Z7({tag:"dcterms:created",attrs:t.DateAttrs,format:t.DateFormat}),"dcterms:modified":new Z7({tag:"dcterms:modified",attrs:t.DateAttrs,format:t.DateFormat})}}render(e,r){e.openXml(Csr.StdDocAttributes),e.openNode("cp:coreProperties",t.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(e,r.creator),this.map["dc:title"].render(e,r.title),this.map["dc:subject"].render(e,r.subject),this.map["dc:description"].render(e,r.description),this.map["dc:identifier"].render(e,r.identifier),this.map["dc:language"].render(e,r.language),this.map["cp:keywords"].render(e,r.keywords),this.map["cp:category"].render(e,r.category),this.map["cp:lastModifiedBy"].render(e,r.lastModifiedBy),this.map["cp:lastPrinted"].render(e,r.lastPrinted),this.map["cp:revision"].render(e,r.revision),this.map["cp:version"].render(e,r.version),this.map["cp:contentStatus"].render(e,r.contentStatus),this.map["cp:contentType"].render(e,r.contentType),this.map["dcterms:created"].render(e,r.created),this.map["dcterms:modified"].render(e,r.modified),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[e.name],this.parser)return this.parser.parseOpen(e),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(e)}`)}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error(`Unexpected xml node in parseClose: ${e}`)}}};L_.DateFormat=function(t){return t.toISOString().replace(/[.]\d{3}/,"")};L_.DateAttrs={"xsi:type":"dcterms:W3CDTF"};L_.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"};M$e.exports=L_});var RF=v((t3r,q$e)=>{var Asr=Ae(),Q7=class extends Asr{get tag(){return"t"}render(e,r){e.openNode("t"),/^\s|\n|\s$/.test(r)&&e.addAttribute("xml:space","preserve"),e.writeText(r),e.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(e,r)=>String.fromCharCode(parseInt(r,16)))}parseOpen(e){switch(e.name){case"t":return this._text=[],!0;default:return!1}}parseText(e){this._text.push(e)}parseClose(){return!1}};q$e.exports=Q7});var VS=v((r3r,$$e)=>{var Psr=RF(),Isr=vF(),Osr=Ae(),AF=class t extends Osr{constructor(e){super(),this.model=e}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new Psr)}get fontXform(){return this._fontXform||(this._fontXform=new Isr(t.FONT_OPTIONS))}render(e,r){r=r||this.model,e.openNode("r"),r.font&&this.fontXform.render(e,r.font),this.textXform.render(e,r.text),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(e),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(e),!0;default:return!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){switch(e){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(e),!0}}};AF.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"};$$e.exports=AF});var j$e=v((n3r,U$e)=>{var ksr=RF(),Nsr=VS(),Dsr=Ae(),eK=class extends Dsr{constructor(){super(),this.map={r:new Nsr,t:new ksr}}get tag(){return"rPh"}render(e,r){if(e.openNode(this.tag,{sb:r.sb||0,eb:r.eb||0}),r&&r.hasOwnProperty("richText")&&r.richText){let{r:n}=this.map;r.richText.forEach(i=>{n.render(e,i)})}else r&&this.map.t.render(e,r.text);e.closeNode()}parseOpen(e){let{name:r}=e;return this.parser?(this.parser.parseOpen(e),!0):r===this.tag?(this.model={sb:parseInt(e.attributes.sb,10),eb:parseInt(e.attributes.eb,10)},!0):(this.parser=this.map[r],this.parser?(this.parser.parseOpen(e),!0):!1)}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser){if(!this.parser.parseClose(e)){switch(e){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model.text=this.parser.model;break;default:break}this.parser=void 0}return!0}switch(e){case this.tag:return!1;default:return!0}}};U$e.exports=eK});var H$e=v((i3r,B$e)=>{var Fsr=RF(),Lsr=VS(),Msr=j$e(),qsr=Ae(),tK=class extends qsr{constructor(e){super(),this.model=e,this.map={r:new Lsr,t:new Fsr,rPh:new Msr}}get tag(){return"si"}render(e,r){e.openNode(this.tag),r&&r.hasOwnProperty("richText")&&r.richText?r.richText.length?r.richText.forEach(n=>{this.map.r.render(e,n)}):this.map.t.render(e,""):r!=null&&this.map.t.render(e,r),e.closeNode()}parseOpen(e){let{name:r}=e;return this.parser?(this.parser.parseOpen(e),!0):r===this.tag?(this.model={},!0):(this.parser=this.map[r],this.parser?(this.parser.parseOpen(e),!0):!1)}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser){if(!this.parser.parseClose(e)){switch(e){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model=this.parser.model;break;default:break}this.parser=void 0}return!0}switch(e){case this.tag:return!1;default:return!0}}};B$e.exports=tK});var nK=v((s3r,z$e)=>{var $sr=di(),Usr=Ae(),jsr=H$e(),rK=class extends Usr{constructor(e){super(),this.model=e||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new jsr)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(e){return this.model.values[e]}add(e){return e.richText?this.addRichText(e):this.addText(e)}addText(e){let r=this.hash[e];return r===void 0&&(r=this.hash[e]=this.model.values.length,this.model.values.push(e)),this.model.count++,r}addRichText(e){let r=this.sharedStringXform.toXml(e),n=this.rich[r];return n===void 0&&(n=this.rich[r]=this.model.values.length,this.model.values.push(e)),this.model.count++,n}render(e,r){r=r||this._values,e.openXml($sr.StdDocAttributes),e.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:r.count,uniqueCount:r.values.length});let n=this.sharedStringXform;r.values.forEach(i=>{n.render(e,i)}),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(e),!0;default:throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(e)}`)}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(e){case"sst":return!1;default:throw new Error(`Unexpected xml node in parseClose: ${e}`)}}};z$e.exports=rK});var W$e=v((o3r,V$e)=>{var Bsr=Ae(),iK=class extends Bsr{render(e,r){e.leafNode("Relationship",r)}parseOpen(e){switch(e.name){case"Relationship":return this.model=e.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}};V$e.exports=iK});var IF=v((a3r,G$e)=>{var Hsr=di(),zsr=Ae(),Vsr=W$e(),PF=class t extends zsr{constructor(){super(),this.map={Relationship:new Vsr}}render(e,r){r=r||this._values,e.openXml(Hsr.StdDocAttributes),e.openNode("Relationships",t.RELATIONSHIPS_ATTRIBUTES),r.forEach(n=>{this.map.Relationship.render(e,n)}),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[e.name],this.parser)return this.parser.parseOpen(e),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(e)}`)}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(e){case"Relationships":return!1;default:throw new Error(`Unexpected xml node in parseClose: ${e}`)}}};PF.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"};G$e.exports=PF});var sK=v((u3r,K$e)=>{var Wsr=di(),Gsr=Ae(),OF=class t extends Gsr{render(e,r){e.openXml(Wsr.StdDocAttributes),e.openNode("Types",t.PROPERTY_ATTRIBUTES);let n={};(r.media||[]).forEach(s=>{if(s.type==="image"){let o=s.extension;n[o]||(n[o]=!0,e.leafNode("Default",{Extension:o,ContentType:`image/${o}`}))}}),e.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),e.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),e.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),r.worksheets.forEach(s=>{let o=`/xl/worksheets/sheet${s.id}.xml`;e.leafNode("Override",{PartName:o,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),e.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),e.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),r.sharedStrings&&r.sharedStrings.count&&e.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),r.tables&&r.tables.forEach(s=>{e.leafNode("Override",{PartName:`/xl/tables/${s.target}`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),r.drawings&&r.drawings.forEach(s=>{e.leafNode("Override",{PartName:`/xl/drawings/${s.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),r.commentRefs&&(e.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),r.commentRefs.forEach(({commentName:s})=>{e.leafNode("Override",{PartName:`/xl/${s}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),e.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),e.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),e.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}};OF.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"};K$e.exports=OF});var J$e=v((c3r,X$e)=>{var Ksr=Ae(),oK=class extends Ksr{render(e,r){e.openNode("HeadingPairs"),e.openNode("vt:vector",{size:2,baseType:"variant"}),e.openNode("vt:variant"),e.leafNode("vt:lpstr",void 0,"Worksheets"),e.closeNode(),e.openNode("vt:variant"),e.leafNode("vt:i4",void 0,r.length),e.closeNode(),e.closeNode(),e.closeNode()}parseOpen(e){return e.name==="HeadingPairs"}parseText(){}parseClose(e){return e!=="HeadingPairs"}};X$e.exports=oK});var Y$e=v((l3r,Z$e)=>{var Xsr=Ae(),aK=class extends Xsr{render(e,r){e.openNode("TitlesOfParts"),e.openNode("vt:vector",{size:r.length,baseType:"lpstr"}),r.forEach(n=>{e.leafNode("vt:lpstr",void 0,n.name)}),e.closeNode(),e.closeNode()}parseOpen(e){return e.name==="TitlesOfParts"}parseText(){}parseClose(e){return e!=="TitlesOfParts"}};Z$e.exports=aK});var uK=v((f3r,eUe)=>{var Jsr=di(),Zsr=Ae(),Q$e=gF(),Ysr=J$e(),Qsr=Y$e(),M_=class t extends Zsr{constructor(){super(),this.map={Company:new Q$e({tag:"Company"}),Manager:new Q$e({tag:"Manager"}),HeadingPairs:new Ysr,TitleOfParts:new Qsr}}render(e,r){e.openXml(Jsr.StdDocAttributes),e.openNode("Properties",t.PROPERTY_ATTRIBUTES),e.leafNode("Application",void 0,"Microsoft Excel"),e.leafNode("DocSecurity",void 0,"0"),e.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(e,r.worksheets),this.map.TitleOfParts.render(e,r.worksheets),this.map.Company.render(e,r.company||""),this.map.Manager.render(e,r.manager),e.leafNode("LinksUpToDate",void 0,"false"),e.leafNode("SharedDoc",void 0,"false"),e.leafNode("HyperlinksChanged",void 0,"false"),e.leafNode("AppVersion",void 0,"16.0300"),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"Properties":return!0;default:return this.parser=this.map[e.name],this.parser?(this.parser.parseOpen(e),!0):!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}};M_.DateFormat=function(t){return t.toISOString().replace(/[.]\d{3,6}/,"")};M_.DateAttrs={"xsi:type":"dcterms:W3CDTF"};M_.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"};eUe.exports=M_});var rUe=v((d3r,tUe)=>{var eor=Ae(),tor=un(),lK=class extends eor{render(e,r){e.openNode("definedName",{name:r.name,localSheetId:r.localSheetId}),e.writeText(r.ranges.join(",")),e.closeNode()}parseOpen(e){switch(e.name){case"definedName":return this._parsedName=e.attributes.name,this._parsedLocalSheetId=e.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(e){this._parsedText.push(e)}parseClose(){return this.model={name:this._parsedName,ranges:ror(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}};function cK(t){try{return tor.decodeEx(t),!0}catch{return!1}}function ror(t){let e=[],r=!1,n="";return t.split(",").forEach(i=>{if(!i)return;let s=(i.match(/'/g)||[]).length;if(!s){r?n+=`${i},`:cK(i)&&e.push(i);return}let o=s%2===0;!r&&o&&cK(i)?e.push(i):r&&!o?(r=!1,cK(n+i)&&e.push(n+i),n=""):(r=!0,n+=`${i},`)}),e}tUe.exports=lK});var iUe=v((h3r,nUe)=>{var nor=Gi(),ior=Ae(),fK=class extends ior{render(e,r){e.leafNode("sheet",{sheetId:r.id,name:r.name,state:r.state,"r:id":r.rId})}parseOpen(e){return e.name==="sheet"?(this.model={name:nor.xmlDecode(e.attributes.name),id:parseInt(e.attributes.sheetId,10),state:e.attributes.state,rId:e.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}};nUe.exports=fK});var oUe=v((p3r,sUe)=>{var sor=Ae(),dK=class extends sor{render(e,r){let n={xWindow:r.x||0,yWindow:r.y||0,windowWidth:r.width||12e3,windowHeight:r.height||24e3,firstSheet:r.firstSheet,activeTab:r.activeTab};r.visibility&&r.visibility!=="visible"&&(n.visibility=r.visibility),e.leafNode("workbookView",n)}parseOpen(e){if(e.name==="workbookView"){let r=this.model={},n=function(s,o,a){let u=o!==void 0?r[s]=o:a;u!==void 0&&(r[s]=u)},i=function(s,o,a){let u=o!==void 0?r[s]=parseInt(o,10):a;u!==void 0&&(r[s]=u)};return i("x",e.attributes.xWindow,0),i("y",e.attributes.yWindow,0),i("width",e.attributes.windowWidth,25e3),i("height",e.attributes.windowHeight,1e4),n("visibility",e.attributes.visibility,"visible"),i("activeTab",e.attributes.activeTab,void 0),i("firstSheet",e.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}};sUe.exports=dK});var uUe=v((m3r,aUe)=>{var oor=Ae(),hK=class extends oor{render(e,r){e.leafNode("workbookPr",{date1904:r.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(e){return e.name==="workbookPr"?(this.model={date1904:e.attributes.date1904==="1"},!0):!1}parseText(){}parseClose(){return!1}};aUe.exports=hK});var lUe=v((g3r,cUe)=>{var aor=Ae(),pK=class extends aor{render(e,r){e.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:r.fullCalcOnLoad?1:void 0})}parseOpen(e){return e.name==="calcPr"?(this.model={},!0):!1}parseText(){}parseClose(){return!1}};cUe.exports=pK});var kF=v((y3r,fUe)=>{var uor=gn(),cor=un(),lor=di(),dor=Ae(),hor=F_(),mK=Xf(),por=rUe(),mor=iUe(),gor=oUe(),yor=uUe(),_or=lUe(),WS=class t extends dor{constructor(){super(),this.map={fileVersion:t.STATIC_XFORMS.fileVersion,workbookPr:new yor,bookViews:new mK({tag:"bookViews",count:!1,childXform:new gor}),sheets:new mK({tag:"sheets",count:!1,childXform:new mor}),definedNames:new mK({tag:"definedNames",count:!1,childXform:new por}),calcPr:new _or}}prepare(e){e.sheets=e.worksheets;let r=[],n=0;e.sheets.forEach(i=>{if(i.pageSetup&&i.pageSetup.printArea&&i.pageSetup.printArea.split("&&").forEach(s=>{let o=s.split(":"),a={name:"_xlnm.Print_Area",ranges:[`'${i.name}'!$${o[0]}:$${o[1]}`],localSheetId:n};r.push(a)}),i.pageSetup&&(i.pageSetup.printTitlesRow||i.pageSetup.printTitlesColumn)){let s=[];if(i.pageSetup.printTitlesColumn){let a=i.pageSetup.printTitlesColumn.split(":");s.push(`'${i.name}'!$${a[0]}:$${a[1]}`)}if(i.pageSetup.printTitlesRow){let a=i.pageSetup.printTitlesRow.split(":");s.push(`'${i.name}'!$${a[0]}:$${a[1]}`)}let o={name:"_xlnm.Print_Titles",ranges:s,localSheetId:n};r.push(o)}n++}),r.length&&(e.definedNames=e.definedNames.concat(r)),(e.media||[]).forEach((i,s)=>{i.name=i.type+(s+1)})}render(e,r){e.openXml(lor.StdDocAttributes),e.openNode("workbook",t.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(e),this.map.workbookPr.render(e,r.properties),this.map.bookViews.render(e,r.views),this.map.sheets.render(e,r.sheets),this.map.definedNames.render(e,r.definedNames),this.map.calcPr.render(e,r.calcProperties),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"workbook":return!0;default:return this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e),!0}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(e){let r=(e.workbookRels||[]).reduce((a,u)=>(a[u.Id]=u,a),{}),n=[],i,s=0;(e.sheets||[]).forEach(a=>{let u=r[a.rId];u&&(i=e.worksheetHash[`xl/${u.Target.replace(/^(\s|\/xl\/)+/,"")}`],i&&(i.name=a.name,i.id=a.id,i.state=a.state,n[s++]=i))});let o=[];uor.each(e.definedNames,a=>{if(a.name==="_xlnm.Print_Area"){if(i=n[a.localSheetId],i){i.pageSetup||(i.pageSetup={});let u=cor.decodeEx(a.ranges[0]);i.pageSetup.printArea=i.pageSetup.printArea?`${i.pageSetup.printArea}&&${u.dimensions}`:u.dimensions}}else if(a.name==="_xlnm.Print_Titles"){if(i=n[a.localSheetId],i){i.pageSetup||(i.pageSetup={});let u=a.ranges.join(","),c=/\$/g,f=/\$\d+:\$\d+/,d=u.match(f);if(d&&d.length){let m=d[0];i.pageSetup.printTitlesRow=m.replace(c,"")}let h=/\$[A-Z]+:\$[A-Z]+/,p=u.match(h);if(p&&p.length){let m=p[0];i.pageSetup.printTitlesColumn=m.replace(c,"")}}}else o.push(a)}),e.definedNames=o,e.media.forEach((a,u)=>{a.index=u})}};WS.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"};WS.STATIC_XFORMS={fileVersion:new hor({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})};fUe.exports=WS});var Yf=v((_3r,dUe)=>{"use strict";dUe.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}});var yUe=v((v3r,gUe)=>{var hUe=gn(),vor=Nc(),pUe=un(),mUe=ba(),gK=class{constructor(){this.merges={}}add(e){if(this.merges[e.master])this.merges[e.master].expandToAddress(e.address);else{let r=`${e.master}:${e.address}`;this.merges[e.master]=new vor(r)}}get mergeCells(){return hUe.map(this.merges,e=>e.range)}reconcile(e,r){hUe.each(e,n=>{let i=pUe.decode(n);for(let s=i.top;s<=i.bottom;s++){let o=r[s-1];for(let a=i.left;a<=i.right;a++){let u=o.cells[a-1];u?u.type===mUe.ValueType.Merge&&(u.master=i.tl):o.cells[a]={type:mUe.ValueType.Null,address:pUe.encodeAddress(s,a)}}}})}getMasterAddress(e){let r=this.hash[e];return r&&r.tl}};gUe.exports=gK});var wUe=v((w3r,vUe)=>{var Qf=Gi(),wor=Ae(),bor=Nc(),vt=ba(),Eor=VS();function _Ue(t){if(t==null)return vt.ValueType.Null;if(t instanceof String||typeof t=="string")return vt.ValueType.String;if(typeof t=="number")return vt.ValueType.Number;if(typeof t=="boolean")return vt.ValueType.Boolean;if(t instanceof Date)return vt.ValueType.Date;if(t.text&&t.hyperlink)return vt.ValueType.Hyperlink;if(t.formula)return vt.ValueType.Formula;if(t.error)return vt.ValueType.Error;throw new Error("I could not understand type of value")}function Sor(t){switch(t.type){case vt.ValueType.Formula:return _Ue(t.result);default:return t.type}}var yK=class extends wor{constructor(){super(),this.richTextXForm=new Eor}get tag(){return"c"}prepare(e,r){let n=r.styles.addStyleModel(e.style||{},Sor(e));switch(n&&(e.styleId=n),e.comment&&r.comments.push({...e.comment,ref:e.address}),e.type){case vt.ValueType.String:case vt.ValueType.RichText:r.sharedStrings&&(e.ssId=r.sharedStrings.add(e.value));break;case vt.ValueType.Date:r.date1904&&(e.date1904=!0);break;case vt.ValueType.Hyperlink:r.sharedStrings&&e.text!==void 0&&e.text!==null&&(e.ssId=r.sharedStrings.add(e.text)),r.hyperlinks.push({address:e.address,target:e.hyperlink,tooltip:e.tooltip});break;case vt.ValueType.Merge:r.merges.add(e);break;case vt.ValueType.Formula:if(r.date1904&&(e.date1904=!0),e.shareType==="shared"&&(e.si=r.siFormulae++),e.formula)r.formulae[e.address]=e;else if(e.sharedFormula){let i=r.formulae[e.sharedFormula];if(!i)throw new Error(`Shared Formula master must exist above and or left of clone for cell ${e.address}`);i.si===void 0?(i.shareType="shared",i.si=r.siFormulae++,i.range=new bor(i.address,e.address)):i.range&&i.range.expandToAddress(e.address),e.si=i.si}break;default:break}}renderFormula(e,r){let n=null;switch(r.shareType){case"shared":n={t:"shared",ref:r.ref||r.range.range,si:r.si};break;case"array":n={t:"array",ref:r.ref};break;default:r.si!==void 0&&(n={t:"shared",si:r.si});break}switch(_Ue(r.result)){case vt.ValueType.Null:e.leafNode("f",n,r.formula);break;case vt.ValueType.String:e.addAttribute("t","str"),e.leafNode("f",n,r.formula),e.leafNode("v",null,r.result);break;case vt.ValueType.Number:e.leafNode("f",n,r.formula),e.leafNode("v",null,r.result);break;case vt.ValueType.Boolean:e.addAttribute("t","b"),e.leafNode("f",n,r.formula),e.leafNode("v",null,r.result?1:0);break;case vt.ValueType.Error:e.addAttribute("t","e"),e.leafNode("f",n,r.formula),e.leafNode("v",null,r.result.error);break;case vt.ValueType.Date:e.leafNode("f",n,r.formula),e.leafNode("v",null,Qf.dateToExcel(r.result,r.date1904));break;default:throw new Error("I could not understand type of value")}}render(e,r){if(!(r.type===vt.ValueType.Null&&!r.styleId)){switch(e.openNode("c"),e.addAttribute("r",r.address),r.styleId&&e.addAttribute("s",r.styleId),r.type){case vt.ValueType.Null:break;case vt.ValueType.Number:e.leafNode("v",null,r.value);break;case vt.ValueType.Boolean:e.addAttribute("t","b"),e.leafNode("v",null,r.value?"1":"0");break;case vt.ValueType.Error:e.addAttribute("t","e"),e.leafNode("v",null,r.value.error);break;case vt.ValueType.String:case vt.ValueType.RichText:r.ssId!==void 0?(e.addAttribute("t","s"),e.leafNode("v",null,r.ssId)):r.value&&r.value.richText?(e.addAttribute("t","inlineStr"),e.openNode("is"),r.value.richText.forEach(n=>{this.richTextXForm.render(e,n)}),e.closeNode("is")):(e.addAttribute("t","str"),e.leafNode("v",null,r.value));break;case vt.ValueType.Date:e.leafNode("v",null,Qf.dateToExcel(r.value,r.date1904));break;case vt.ValueType.Hyperlink:r.ssId!==void 0?(e.addAttribute("t","s"),e.leafNode("v",null,r.ssId)):(e.addAttribute("t","str"),e.leafNode("v",null,r.text));break;case vt.ValueType.Formula:this.renderFormula(e,r);break;case vt.ValueType.Merge:break;default:break}e.closeNode()}}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"c":return this.model={address:e.attributes.r},this.t=e.attributes.t,e.attributes.s&&(this.model.styleId=parseInt(e.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=e.attributes.si,this.model.shareType=e.attributes.t,this.model.ref=e.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(e),!0;default:return!1}}parseText(e){if(this.parser){this.parser.parseText(e);return}switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+e:e;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+e:e:this.model.value=this.model.value?this.model.value+e:e;break;default:break}}parseClose(e){switch(e){case"c":{let{model:r}=this;if(r.formula||r.shareType)r.type=vt.ValueType.Formula,r.value&&(this.t==="str"?r.result=Qf.xmlDecode(r.value):this.t==="b"?r.result=parseInt(r.value,10)!==0:this.t==="e"?r.result={error:r.value}:r.result=parseFloat(r.value),r.value=void 0);else if(r.value!==void 0)switch(this.t){case"s":r.type=vt.ValueType.String,r.value=parseInt(r.value,10);break;case"str":r.type=vt.ValueType.String,r.value=Qf.xmlDecode(r.value);break;case"inlineStr":r.type=vt.ValueType.String;break;case"b":r.type=vt.ValueType.Boolean,r.value=parseInt(r.value,10)!==0;break;case"e":r.type=vt.ValueType.Error,r.value={error:r.value};break;default:r.type=vt.ValueType.Number,r.value=parseFloat(r.value);break}else r.styleId?r.type=vt.ValueType.Null:r.type=vt.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(e),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return this.parser?(this.parser.parseClose(e),!0):!1}}reconcile(e,r){let n=e.styleId&&r.styles&&r.styles.getStyleModel(e.styleId);switch(n&&(e.style=n),e.styleId!==void 0&&(e.styleId=void 0),e.type){case vt.ValueType.String:typeof e.value=="number"&&r.sharedStrings&&(e.value=r.sharedStrings.getString(e.value)),e.value.richText&&(e.type=vt.ValueType.RichText);break;case vt.ValueType.Number:n&&Qf.isDateFmt(n.numFmt)&&(e.type=vt.ValueType.Date,e.value=Qf.excelToDate(e.value,r.date1904));break;case vt.ValueType.Formula:e.result!==void 0&&n&&Qf.isDateFmt(n.numFmt)&&(e.result=Qf.excelToDate(e.result,r.date1904)),e.shareType==="shared"&&(e.ref?r.formulae[e.si]=e.address:(e.sharedFormula=r.formulae[e.si],delete e.shareType),delete e.si);break;default:break}let i=r.hyperlinkMap[e.address];i&&(e.type===vt.ValueType.Formula?(e.text=e.result,e.result=void 0):(e.text=e.value,e.value=void 0),e.type=vt.ValueType.Hyperlink,e.hyperlink=i);let s=r.commentsMap&&r.commentsMap[e.address];s&&(e.comment=s)}};vUe.exports=yK});var wK=v((b3r,bUe)=>{var Tor=Ae(),_K=Gi(),Cor=wUe(),vK=class extends Tor{constructor(e){super(),this.maxItems=e&&e.maxItems,this.map={c:new Cor}}get tag(){return"row"}prepare(e,r){let n=r.styles.addStyleModel(e.style);n&&(e.styleId=n);let i=this.map.c;e.cells.forEach(s=>{i.prepare(s,r)})}render(e,r,n){e.openNode("row"),e.addAttribute("r",r.number),r.height&&(e.addAttribute("ht",r.height),e.addAttribute("customHeight","1")),r.hidden&&e.addAttribute("hidden","1"),r.min>0&&r.max>0&&r.min<=r.max&&e.addAttribute("spans",`${r.min}:${r.max}`),r.styleId&&(e.addAttribute("s",r.styleId),e.addAttribute("customFormat","1")),e.addAttribute("x14ac:dyDescent","0.25"),r.outlineLevel&&e.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&e.addAttribute("collapsed","1");let i=this.map.c;r.cells.forEach(s=>{i.render(e,s,n)}),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;if(e.name==="row"){this.numRowsSeen+=1;let r=e.attributes.spans?e.attributes.spans.split(":").map(i=>parseInt(i,10)):[void 0,void 0],n=this.model={number:parseInt(e.attributes.r,10),min:r[0],max:r[1],cells:[]};return e.attributes.s&&(n.styleId=parseInt(e.attributes.s,10)),_K.parseBoolean(e.attributes.hidden)&&(n.hidden=!0),_K.parseBoolean(e.attributes.bestFit)&&(n.bestFit=!0),e.attributes.ht&&(n.height=parseFloat(e.attributes.ht)),e.attributes.outlineLevel&&(n.outlineLevel=parseInt(e.attributes.outlineLevel,10)),_K.parseBoolean(e.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[e.name],this.parser?(this.parser.parseOpen(e),!0):!1}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser){if(!this.parser.parseClose(e)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(e,r){e.style=e.styleId?r.styles.getStyleModel(e.styleId):{},e.styleId!==void 0&&(e.styleId=void 0);let n=this.map.c;e.cells.forEach(i=>{n.reconcile(i,r)})}};bUe.exports=vK});var SK=v((E3r,EUe)=>{var bK=Gi(),xor=Ae(),EK=class extends xor{get tag(){return"col"}prepare(e,r){let n=r.styles.addStyleModel(e.style||{});n&&(e.styleId=n)}render(e,r){e.openNode("col"),e.addAttribute("min",r.min),e.addAttribute("max",r.max),r.width&&e.addAttribute("width",r.width),r.styleId&&e.addAttribute("style",r.styleId),r.hidden&&e.addAttribute("hidden","1"),r.bestFit&&e.addAttribute("bestFit","1"),r.outlineLevel&&e.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&e.addAttribute("collapsed","1"),e.addAttribute("customWidth","1"),e.closeNode()}parseOpen(e){if(e.name==="col"){let r=this.model={min:parseInt(e.attributes.min||"0",10),max:parseInt(e.attributes.max||"0",10),width:e.attributes.width===void 0?void 0:parseFloat(e.attributes.width||"0")};return e.attributes.style&&(r.styleId=parseInt(e.attributes.style,10)),bK.parseBoolean(e.attributes.hidden)&&(r.hidden=!0),bK.parseBoolean(e.attributes.bestFit)&&(r.bestFit=!0),e.attributes.outlineLevel&&(r.outlineLevel=parseInt(e.attributes.outlineLevel,10)),bK.parseBoolean(e.attributes.collapsed)&&(r.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(e,r){e.styleId&&(e.style=r.styles.getStyleModel(e.styleId))}};EUe.exports=EK});var TUe=v((S3r,SUe)=>{var Ror=Ae(),TK=class extends Ror{get tag(){return"dimension"}render(e,r){r&&e.leafNode("dimension",{ref:r})}parseOpen(e){return e.name==="dimension"?(this.model=e.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}};SUe.exports=TK});var xK=v((T3r,CUe)=>{var Aor=Ae(),CK=class extends Aor{get tag(){return"hyperlink"}render(e,r){this.isInternalLink(r)?e.leafNode("hyperlink",{ref:r.address,"r:id":r.rId,tooltip:r.tooltip,location:r.target}):e.leafNode("hyperlink",{ref:r.address,"r:id":r.rId,tooltip:r.tooltip})}parseOpen(e){return e.name==="hyperlink"?(this.model={address:e.attributes.ref,rId:e.attributes["r:id"],tooltip:e.attributes.tooltip},e.attributes.location&&(this.model.target=e.attributes.location),!0):!1}parseText(){}parseClose(){return!1}isInternalLink(e){return e.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(e.target)}};CUe.exports=CK});var RUe=v((C3r,xUe)=>{var Por=Ae(),RK=class extends Por{get tag(){return"mergeCell"}render(e,r){e.leafNode("mergeCell",{ref:r})}parseOpen(e){return e.name==="mergeCell"?(this.model=e.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}};xUe.exports=RK});var OK=v((x3r,AUe)=>{var GS=gn(),PK=Gi(),q_=un(),Ior=Ae(),Oor=Nc();function $_(t,e,r,n){let i=e[r];i!==void 0?t[r]=i:n!==void 0&&(t[r]=n)}function AK(t,e,r,n){let i=e[r];i!==void 0?t[r]=PK.parseBoolean(i):n!==void 0&&(t[r]=n)}function kor(t){let e=GS.map(t,(i,s)=>({address:s,dataValidation:i,marked:!1})).sort((i,s)=>GS.strcmp(i.address,s.address)),r=GS.keyBy(e,"address"),n=(i,s,o)=>{for(let a=0;a<s;a++){let u=q_.encodeAddress(i.row+a,o);if(!t[u]||!GS.isEqual(t[i.address],t[u]))return!1}return!0};return e.map(i=>{if(!i.marked){let s=q_.decodeEx(i.address);if(s.dimensions)return r[s.dimensions].marked=!0,{...i.dataValidation,sqref:i.address};let o=1,a=q_.encodeAddress(s.row+o,s.col);for(;t[a]&&GS.isEqual(i.dataValidation,t[a]);)o++,a=q_.encodeAddress(s.row+o,s.col);let u=1;for(;n(s,o,s.col+u);)u++;for(let c=0;c<o;c++)for(let f=0;f<u;f++)a=q_.encodeAddress(s.row+c,s.col+f),r[a].marked=!0;if(o>1||u>1){let c=s.row+(o-1),f=s.col+(u-1);return{...i.dataValidation,sqref:`${i.address}:${q_.encodeAddress(c,f)}`}}return{...i.dataValidation,sqref:i.address}}return null}).filter(Boolean)}var IK=class extends Ior{get tag(){return"dataValidations"}render(e,r){let n=kor(r);n.length&&(e.openNode("dataValidations",{count:n.length}),n.forEach(i=>{e.openNode("dataValidation"),i.type!=="any"&&(e.addAttribute("type",i.type),i.operator&&i.type!=="list"&&i.operator!=="between"&&e.addAttribute("operator",i.operator),i.allowBlank&&e.addAttribute("allowBlank","1")),i.showInputMessage&&e.addAttribute("showInputMessage","1"),i.promptTitle&&e.addAttribute("promptTitle",i.promptTitle),i.prompt&&e.addAttribute("prompt",i.prompt),i.showErrorMessage&&e.addAttribute("showErrorMessage","1"),i.errorStyle&&e.addAttribute("errorStyle",i.errorStyle),i.errorTitle&&e.addAttribute("errorTitle",i.errorTitle),i.error&&e.addAttribute("error",i.error),e.addAttribute("sqref",i.sqref),(i.formulae||[]).forEach((s,o)=>{e.openNode(`formula${o+1}`),i.type==="date"?e.writeText(PK.dateToExcel(new Date(s))):e.writeText(s),e.closeNode()}),e.closeNode()}),e.closeNode())}parseOpen(e){switch(e.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=e.attributes.sqref;let r={type:e.attributes.type||"any",formulae:[]};switch(e.attributes.type&&AK(r,e.attributes,"allowBlank"),AK(r,e.attributes,"showInputMessage"),AK(r,e.attributes,"showErrorMessage"),r.type){case"any":case"list":case"custom":break;default:$_(r,e.attributes,"operator","between");break}return $_(r,e.attributes,"promptTitle"),$_(r,e.attributes,"prompt"),$_(r,e.attributes,"errorStyle"),$_(r,e.attributes,"errorTitle"),$_(r,e.attributes,"error"),this._dataValidation=r,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(e){this._formula&&this._formula.push(e)}parseClose(e){switch(e){case"dataValidations":return!1;case"dataValidation":return(!this._dataValidation.formulae||!this._dataValidation.formulae.length)&&(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(n=>{n.includes(":")?new Oor(n).forEachAddress(s=>{this.model[s]=this._dataValidation}):this.model[n]=this._dataValidation}),!0;case"formula1":case"formula2":{let r=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":r=parseInt(r,10);break;case"decimal":r=parseFloat(r);break;case"date":r=PK.excelToDate(parseFloat(r));break;default:break}return this._dataValidation.formulae.push(r),this._formula=void 0,!0}default:return!0}}};AUe.exports=IK});var IUe=v((R3r,PUe)=>{var Nor=Ae(),kK=class extends Nor{get tag(){return"pageSetUpPr"}render(e,r){return r&&r.fitToPage?(e.leafNode(this.tag,{fitToPage:r.fitToPage?"1":void 0}),!0):!1}parseOpen(e){return e.name===this.tag?(this.model={fitToPage:e.attributes.fitToPage==="1"},!0):!1}parseText(){}parseClose(){return!1}};PUe.exports=kK});var kUe=v((A3r,OUe)=>{var Dor=Ae(),U_=t=>typeof t<"u",NK=class extends Dor{get tag(){return"outlinePr"}render(e,r){return r&&(U_(r.summaryBelow)||U_(r.summaryRight))?(e.leafNode(this.tag,{summaryBelow:U_(r.summaryBelow)?Number(r.summaryBelow):void 0,summaryRight:U_(r.summaryRight)?Number(r.summaryRight):void 0}),!0):!1}parseOpen(e){return e.name===this.tag?(this.model={summaryBelow:U_(e.attributes.summaryBelow)?!!Number(e.attributes.summaryBelow):void 0,summaryRight:U_(e.attributes.summaryRight)?!!Number(e.attributes.summaryRight):void 0},!0):!1}parseText(){}parseClose(){return!1}};OUe.exports=NK});var FK=v((P3r,NUe)=>{var For=Ae(),Lor=Jf(),Mor=IUe(),qor=kUe(),DK=class extends For{constructor(){super(),this.map={tabColor:new Lor("tabColor"),pageSetUpPr:new Mor,outlinePr:new qor}}get tag(){return"sheetPr"}render(e,r){if(r){e.addRollback(),e.openNode("sheetPr");let n=!1;n=this.map.tabColor.render(e,r.tabColor)||n,n=this.map.pageSetUpPr.render(e,r.pageSetup)||n,n=this.map.outlinePr.render(e,r.outlineProperties)||n,n?(e.closeNode(),e.commit()):e.rollback()}}parseOpen(e){return this.parser?(this.parser.parseOpen(e),!0):e.name===this.tag?(this.reset(),!0):this.map[e.name]?(this.parser=this.map[e.name],this.parser.parseOpen(e),!0):!1}parseText(e){return this.parser?(this.parser.parseText(e),!0):!1}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}};NUe.exports=DK});var MK=v((I3r,DUe)=>{var $or=gn(),Uor=Ae(),LK=class extends Uor{get tag(){return"sheetFormatPr"}render(e,r){if(r){let n={defaultRowHeight:r.defaultRowHeight,outlineLevelRow:r.outlineLevelRow,outlineLevelCol:r.outlineLevelCol,"x14ac:dyDescent":r.dyDescent};r.defaultColWidth&&(n.defaultColWidth=r.defaultColWidth),(!r.defaultRowHeight||r.defaultRowHeight!==15)&&(n.customHeight="1"),$or.some(n,i=>i!==void 0)&&e.leafNode("sheetFormatPr",n)}}parseOpen(e){return e.name==="sheetFormatPr"?(this.model={defaultRowHeight:parseFloat(e.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(e.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(e.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(e.attributes.outlineLevelCol||"0",10)},e.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(e.attributes.defaultColWidth)),!0):!1}parseText(){}parseClose(){return!1}};DUe.exports=LK});var $K=v((O3r,FUe)=>{var jor=un(),Bor=Ae(),Hor={frozen:"frozen",frozenSplit:"frozen",split:"split"},qK=class extends Bor{get tag(){return"sheetView"}prepare(e){switch(e.state){case"frozen":case"split":break;default:e.state="normal";break}}render(e,r){e.openNode("sheetView",{workbookViewId:r.workbookViewId||0});let n=function(u,c,f){f&&e.addAttribute(u,c)};n("rightToLeft","1",r.rightToLeft===!0),n("tabSelected","1",r.tabSelected),n("showRuler","0",r.showRuler===!1),n("showRowColHeaders","0",r.showRowColHeaders===!1),n("showGridLines","0",r.showGridLines===!1),n("zoomScale",r.zoomScale,r.zoomScale),n("zoomScaleNormal",r.zoomScaleNormal,r.zoomScaleNormal),n("view",r.style,r.style);let i,s,o,a;switch(r.state){case"frozen":s=r.xSplit||0,o=r.ySplit||0,i=r.topLeftCell||jor.getAddress(o+1,s+1).address,a=r.xSplit&&r.ySplit&&"bottomRight"||r.xSplit&&"topRight"||"bottomLeft",e.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:i,activePane:a,state:"frozen"}),e.leafNode("selection",{pane:a,activeCell:r.activeCell,sqref:r.activeCell});break;case"split":r.activePane==="topLeft"&&(r.activePane=void 0),e.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:r.topLeftCell,activePane:r.activePane}),e.leafNode("selection",{pane:r.activePane,activeCell:r.activeCell,sqref:r.activeCell});break;case"normal":r.activeCell&&e.leafNode("selection",{activeCell:r.activeCell,sqref:r.activeCell});break;default:break}e.closeNode()}parseOpen(e){switch(e.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(e.attributes.workbookViewId,10),rightToLeft:e.attributes.rightToLeft==="1",tabSelected:e.attributes.tabSelected==="1",showRuler:e.attributes.showRuler!=="0",showRowColHeaders:e.attributes.showRowColHeaders!=="0",showGridLines:e.attributes.showGridLines!=="0",zoomScale:parseInt(e.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(e.attributes.zoomScaleNormal||"100",10),style:e.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(e.attributes.xSplit||"0",10),ySplit:parseInt(e.attributes.ySplit||"0",10),topLeftCell:e.attributes.topLeftCell,activePane:e.attributes.activePane||"topLeft",state:e.attributes.state},!0;case"selection":{let r=e.attributes.pane||"topLeft";return this.selections[r]={pane:r,activeCell:e.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(e){let r,n;switch(e){case"sheetView":return this.sheetView&&this.pane?(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:Hor[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(r.activePane=this.pane.activePane),n=this.selections[this.pane.activePane],n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)):(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},n=this.selections.topLeft,n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}};FUe.exports=qK});var jK=v((k3r,LUe)=>{var zor=gn(),Vor=Ae();function Fs(t,e){return t?e:void 0}function Wo(t,e){return t===e?!0:void 0}var UK=class extends Vor{get tag(){return"sheetProtection"}render(e,r){if(r){let n={sheet:Fs(r.sheet,"1"),selectLockedCells:r.selectLockedCells===!1?"1":void 0,selectUnlockedCells:r.selectUnlockedCells===!1?"1":void 0,formatCells:Fs(r.formatCells,"0"),formatColumns:Fs(r.formatColumns,"0"),formatRows:Fs(r.formatRows,"0"),insertColumns:Fs(r.insertColumns,"0"),insertRows:Fs(r.insertRows,"0"),insertHyperlinks:Fs(r.insertHyperlinks,"0"),deleteColumns:Fs(r.deleteColumns,"0"),deleteRows:Fs(r.deleteRows,"0"),sort:Fs(r.sort,"0"),autoFilter:Fs(r.autoFilter,"0"),pivotTables:Fs(r.pivotTables,"0")};r.sheet&&(n.algorithmName=r.algorithmName,n.hashValue=r.hashValue,n.saltValue=r.saltValue,n.spinCount=r.spinCount,n.objects=Fs(r.objects===!1,"1"),n.scenarios=Fs(r.scenarios===!1,"1")),zor.some(n,i=>i!==void 0)&&e.leafNode(this.tag,n)}}parseOpen(e){switch(e.name){case this.tag:return this.model={sheet:Wo(e.attributes.sheet,"1"),objects:e.attributes.objects==="1"?!1:void 0,scenarios:e.attributes.scenarios==="1"?!1:void 0,selectLockedCells:e.attributes.selectLockedCells==="1"?!1:void 0,selectUnlockedCells:e.attributes.selectUnlockedCells==="1"?!1:void 0,formatCells:Wo(e.attributes.formatCells,"0"),formatColumns:Wo(e.attributes.formatColumns,"0"),formatRows:Wo(e.attributes.formatRows,"0"),insertColumns:Wo(e.attributes.insertColumns,"0"),insertRows:Wo(e.attributes.insertRows,"0"),insertHyperlinks:Wo(e.attributes.insertHyperlinks,"0"),deleteColumns:Wo(e.attributes.deleteColumns,"0"),deleteRows:Wo(e.attributes.deleteRows,"0"),sort:Wo(e.attributes.sort,"0"),autoFilter:Wo(e.attributes.autoFilter,"0"),pivotTables:Wo(e.attributes.pivotTables,"0")},e.attributes.algorithmName&&(this.model.algorithmName=e.attributes.algorithmName,this.model.hashValue=e.attributes.hashValue,this.model.saltValue=e.attributes.saltValue,this.model.spinCount=parseInt(e.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}};LUe.exports=UK});var HK=v((N3r,MUe)=>{var Wor=gn(),Gor=Ae(),BK=class extends Gor{get tag(){return"pageMargins"}render(e,r){if(r){let n={left:r.left,right:r.right,top:r.top,bottom:r.bottom,header:r.header,footer:r.footer};Wor.some(n,i=>i!==void 0)&&e.leafNode(this.tag,n)}}parseOpen(e){switch(e.name){case this.tag:return this.model={left:parseFloat(e.attributes.left||.7),right:parseFloat(e.attributes.right||.7),top:parseFloat(e.attributes.top||.75),bottom:parseFloat(e.attributes.bottom||.75),header:parseFloat(e.attributes.header||.3),footer:parseFloat(e.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}};MUe.exports=BK});var VK=v((D3r,qUe)=>{var Kor=gn(),Xor=Ae();function NF(t){return t?"1":void 0}function Jor(t){switch(t){case"overThenDown":return t;default:return}}function Zor(t){switch(t){case"atEnd":case"asDisplyed":return t;default:return}}function Yor(t){switch(t){case"dash":case"blank":case"NA":return t;default:return}}function Qor(t){return t!==void 0?parseInt(t,10):void 0}var zK=class extends Xor{get tag(){return"pageSetup"}render(e,r){if(r){let n={paperSize:r.paperSize,orientation:r.orientation,horizontalDpi:r.horizontalDpi,verticalDpi:r.verticalDpi,pageOrder:Jor(r.pageOrder),blackAndWhite:NF(r.blackAndWhite),draft:NF(r.draft),cellComments:Zor(r.cellComments),errors:Yor(r.errors),scale:r.scale,fitToWidth:r.fitToWidth,fitToHeight:r.fitToHeight,firstPageNumber:r.firstPageNumber,useFirstPageNumber:NF(r.firstPageNumber),usePrinterDefaults:NF(r.usePrinterDefaults),copies:r.copies};Kor.some(n,i=>i!==void 0)&&e.leafNode(this.tag,n)}}parseOpen(e){switch(e.name){case this.tag:return this.model={paperSize:Qor(e.attributes.paperSize),orientation:e.attributes.orientation||"portrait",horizontalDpi:parseInt(e.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(e.attributes.verticalDpi||"4294967295",10),pageOrder:e.attributes.pageOrder||"downThenOver",blackAndWhite:e.attributes.blackAndWhite==="1",draft:e.attributes.draft==="1",cellComments:e.attributes.cellComments||"None",errors:e.attributes.errors||"displayed",scale:parseInt(e.attributes.scale||"100",10),fitToWidth:parseInt(e.attributes.fitToWidth||"1",10),fitToHeight:parseInt(e.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(e.attributes.firstPageNumber||"1",10),useFirstPageNumber:e.attributes.useFirstPageNumber==="1",usePrinterDefaults:e.attributes.usePrinterDefaults==="1",copies:parseInt(e.attributes.copies||"1",10)},!0;default:return!1}}parseText(){}parseClose(){return!1}};qUe.exports=zK});var UUe=v((F3r,$Ue)=>{var ear=gn(),tar=Ae();function DF(t){return t?"1":void 0}var WK=class extends tar{get tag(){return"printOptions"}render(e,r){if(r){let n={headings:DF(r.showRowColHeaders),gridLines:DF(r.showGridLines),horizontalCentered:DF(r.horizontalCentered),verticalCentered:DF(r.verticalCentered)};ear.some(n,i=>i!==void 0)&&e.leafNode(this.tag,n)}}parseOpen(e){switch(e.name){case this.tag:return this.model={showRowColHeaders:e.attributes.headings==="1",showGridLines:e.attributes.gridLines==="1",horizontalCentered:e.attributes.horizontalCentered==="1",verticalCentered:e.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}};$Ue.exports=WK});var KK=v((L3r,jUe)=>{var rar=un(),nar=Ae(),GK=class extends nar{get tag(){return"autoFilter"}render(e,r){if(r)if(typeof r=="string")e.leafNode("autoFilter",{ref:r});else{let n=function(o){return typeof o=="string"?o:rar.getAddress(o.row,o.column).address},i=n(r.from),s=n(r.to);i&&s&&e.leafNode("autoFilter",{ref:`${i}:${s}`})}}parseOpen(e){e.name==="autoFilter"&&(this.model=e.attributes.ref)}};jUe.exports=GK});var JK=v((M3r,BUe)=>{var iar=Ae(),XK=class extends iar{get tag(){return"picture"}render(e,r){r&&e.leafNode(this.tag,{"r:id":r.rId})}parseOpen(e){switch(e.name){case this.tag:return this.model={rId:e.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}};BUe.exports=XK});var zUe=v((q3r,HUe)=>{var sar=Ae(),ZK=class extends sar{get tag(){return"drawing"}render(e,r){r&&e.leafNode(this.tag,{"r:id":r.rId})}parseOpen(e){switch(e.name){case this.tag:return this.model={rId:e.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}};HUe.exports=ZK});var WUe=v(($3r,VUe)=>{var oar=Ae(),YK=class extends oar{get tag(){return"tablePart"}render(e,r){r&&e.leafNode(this.tag,{"r:id":r.rId})}parseOpen(e){switch(e.name){case this.tag:return this.model={rId:e.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}};VUe.exports=YK});var KUe=v((U3r,GUe)=>{var aar=Ae(),QK=class extends aar{get tag(){return"brk"}render(e,r){e.leafNode("brk",r)}parseOpen(e){return e.name==="brk"?(this.model=e.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}};GUe.exports=QK});var tX=v((j3r,XUe)=>{"use strict";var uar=KUe(),car=Xf(),eX=class extends car{constructor(){let e={tag:"rowBreaks",count:!0,childXform:new uar};super(e)}render(e,r){if(r&&r.length){e.openNode(this.tag,this.$),this.count&&(e.addAttribute(this.$count,r.length),e.addAttribute("manualBreakCount",r.length));let{childXform:n}=this;r.forEach(i=>{n.render(e,i)}),e.closeNode()}else this.empty&&e.leafNode(this.tag)}};XUe.exports=eX});var nX=v((B3r,JUe)=>{var lar=Ae(),rX=class extends lar{get tag(){return"headerFooter"}render(e,r){if(r){e.addRollback();let n=!1;e.openNode("headerFooter"),r.differentFirst&&(e.addAttribute("differentFirst","1"),n=!0),r.differentOddEven&&(e.addAttribute("differentOddEven","1"),n=!0),r.oddHeader&&typeof r.oddHeader=="string"&&(e.leafNode("oddHeader",null,r.oddHeader),n=!0),r.oddFooter&&typeof r.oddFooter=="string"&&(e.leafNode("oddFooter",null,r.oddFooter),n=!0),r.evenHeader&&typeof r.evenHeader=="string"&&(e.leafNode("evenHeader",null,r.evenHeader),n=!0),r.evenFooter&&typeof r.evenFooter=="string"&&(e.leafNode("evenFooter",null,r.evenFooter),n=!0),r.firstHeader&&typeof r.firstHeader=="string"&&(e.leafNode("firstHeader",null,r.firstHeader),n=!0),r.firstFooter&&typeof r.firstFooter=="string"&&(e.leafNode("firstFooter",null,r.firstFooter),n=!0),n?(e.closeNode(),e.commit()):e.rollback()}}parseOpen(e){switch(e.name){case"headerFooter":return this.model={},e.attributes.differentFirst&&(this.model.differentFirst=parseInt(e.attributes.differentFirst,0)===1),e.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(e.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(e){switch(this.currentNode){case"oddHeader":this.model.oddHeader=e;break;case"oddFooter":this.model.oddFooter=e;break;case"evenHeader":this.model.evenHeader=e;break;case"evenFooter":this.model.evenFooter=e;break;case"firstHeader":this.model.firstHeader=e;break;case"firstFooter":this.model.firstFooter=e;break;default:break}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}};JUe.exports=rX});var Ls=v((H3r,ZUe)=>{var far=Ae(),iX=class extends far{createNewModel(e){return{}}parseOpen(e){return this.parser=this.parser||this.map[e.name],this.parser?(this.parser.parseOpen(e),!0):e.name===this.tag?(this.model=this.createNewModel(e),!0):!1}parseText(e){this.parser&&this.parser.parseText(e)}onParserClose(e,r){this.model[e]=r.model}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.onParserClose(e,this.parser),this.parser=void 0),!0):e!==this.tag}};ZUe.exports=iX});var FF=v((z3r,QUe)=>{var YUe=Ae(),sX=class extends YUe{get tag(){return"cfvo"}render(e,r){e.leafNode(this.tag,{type:r.type,val:r.value})}parseOpen(e){this.model={type:e.attributes.type,value:YUe.toFloatValue(e.attributes.val)}}parseClose(e){return e!==this.tag}};QUe.exports=sX});var t2e=v((V3r,e2e)=>{var dar=Ls(),har=Jf(),par=FF(),oX=class extends dar{constructor(){super(),this.map={cfvo:this.cfvoXform=new par,color:this.colorXform=new har}}get tag(){return"dataBar"}render(e,r){e.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(e,n)}),this.colorXform.render(e,r.color),e.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(e,r){switch(e){case"cfvo":this.model.cfvo.push(r.model);break;case"color":this.model.color=r.model;break}}};e2e.exports=oX});var i2e=v((W3r,n2e)=>{var mar=Ae(),r2e=Ls(),aX=class extends mar{get tag(){return"x14:id"}render(e,r){e.leafNode(this.tag,null,r)}parseOpen(){this.model=""}parseText(e){this.model+=e}parseClose(e){return e!==this.tag}},uX=class extends r2e{constructor(){super(),this.map={"x14:id":this.idXform=new aX}}get tag(){return"ext"}render(e,r){e.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(e,r.x14Id),e.closeNode()}createNewModel(){return{}}onParserClose(e,r){this.model.x14Id=r.model}},cX=class extends r2e{constructor(){super(),this.map={ext:new uX}}get tag(){return"extLst"}render(e,r){e.openNode(this.tag),this.map.ext.render(e,r),e.closeNode()}createNewModel(){return{}}onParserClose(e,r){Object.assign(this.model,r.model)}};n2e.exports=cX});var o2e=v((G3r,s2e)=>{var gar=Ae(),lX=class extends gar{get tag(){return"formula"}render(e,r){e.leafNode(this.tag,null,r)}parseOpen(){this.model=""}parseText(e){this.model+=e}parseClose(e){return e!==this.tag}};s2e.exports=lX});var u2e=v((K3r,a2e)=>{var yar=Ls(),_ar=Jf(),war=FF(),fX=class extends yar{constructor(){super(),this.map={cfvo:this.cfvoXform=new war,color:this.colorXform=new _ar}}get tag(){return"colorScale"}render(e,r){e.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(e,n)}),r.color.forEach(n=>{this.colorXform.render(e,n)}),e.closeNode()}createNewModel(e){return{cfvo:[],color:[]}}onParserClose(e,r){this.model[e].push(r.model)}};a2e.exports=fX});var l2e=v((X3r,c2e)=>{var j_=Ae(),bar=Ls(),Ear=FF(),dX=class extends bar{constructor(){super(),this.map={cfvo:this.cfvoXform=new Ear}}get tag(){return"iconSet"}render(e,r){e.openNode(this.tag,{iconSet:j_.toStringAttribute(r.iconSet,"3TrafficLights"),reverse:j_.toBoolAttribute(r.reverse,!1),showValue:j_.toBoolAttribute(r.showValue,!0)}),r.cfvo.forEach(n=>{this.cfvoXform.render(e,n)}),e.closeNode()}createNewModel({attributes:e}){return{iconSet:j_.toStringValue(e.iconSet,"3TrafficLights"),reverse:j_.toBoolValue(e.reverse),showValue:j_.toBoolValue(e.showValue),cfvo:[]}}onParserClose(e,r){this.model[e].push(r.model)}};c2e.exports=dX});var h2e=v((J3r,d2e)=>{var Pa=Ae(),Sar=Ls(),f2e=Nc(),Tar=t2e(),Car=i2e(),xar=o2e(),Rar=u2e(),Aar=l2e(),Par={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},Iar=t=>{if(t.formulae&&t.formulae[0])return t.formulae[0];let e=new f2e(t.ref),{tl:r}=e;switch(t.operator){case"containsText":return`NOT(ISERROR(SEARCH("${t.text}",${r})))`;case"containsBlanks":return`LEN(TRIM(${r}))=0`;case"notContainsBlanks":return`LEN(TRIM(${r}))>0`;case"containsErrors":return`ISERROR(${r})`;case"notContainsErrors":return`NOT(ISERROR(${r}))`;default:return}},Oar=t=>{if(t.formulae&&t.formulae[0])return t.formulae[0];let e=new f2e(t.ref),{tl:r}=e;switch(t.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${r},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${r},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${r},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${r},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${r},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${r},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${r},1)=TODAY()-1`;case"today":return`FLOOR(${r},1)=TODAY()`;case"tomorrow":return`FLOOR(${r},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${r},1)<=6,FLOOR(${r},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${r})=MONTH(EDATE(TODAY(),0-1)),YEAR(${r})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${r})=MONTH(TODAY()),YEAR(${r})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${r})=MONTH(EDATE(TODAY(),0+1)),YEAR(${r})=YEAR(EDATE(TODAY(),0+1)))`;default:return}},kar=t=>{let{type:e,operator:r}=t;switch(e){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:e};default:return{type:e,operator:r}}},hX=class t extends Sar{constructor(){super(),this.map={dataBar:this.databarXform=new Tar,extLst:this.extLstRefXform=new Car,formula:this.formulaXform=new xar,colorScale:this.colorScaleXform=new Rar,iconSet:this.iconSetXform=new Aar}}get tag(){return"cfRule"}static isPrimitive(e){return!(e.type==="iconSet"&&(e.custom||Par[e.iconSet]))}render(e,r){switch(r.type){case"expression":this.renderExpression(e,r);break;case"cellIs":this.renderCellIs(e,r);break;case"top10":this.renderTop10(e,r);break;case"aboveAverage":this.renderAboveAverage(e,r);break;case"dataBar":this.renderDataBar(e,r);break;case"colorScale":this.renderColorScale(e,r);break;case"iconSet":this.renderIconSet(e,r);break;case"containsText":this.renderText(e,r);break;case"timePeriod":this.renderTimePeriod(e,r);break}}renderExpression(e,r){e.openNode(this.tag,{type:"expression",dxfId:r.dxfId,priority:r.priority}),this.formulaXform.render(e,r.formulae[0]),e.closeNode()}renderCellIs(e,r){e.openNode(this.tag,{type:"cellIs",dxfId:r.dxfId,priority:r.priority,operator:r.operator}),r.formulae.forEach(n=>{this.formulaXform.render(e,n)}),e.closeNode()}renderTop10(e,r){e.leafNode(this.tag,{type:"top10",dxfId:r.dxfId,priority:r.priority,percent:Pa.toBoolAttribute(r.percent,!1),bottom:Pa.toBoolAttribute(r.bottom,!1),rank:Pa.toIntValue(r.rank,10,!0)})}renderAboveAverage(e,r){e.leafNode(this.tag,{type:"aboveAverage",dxfId:r.dxfId,priority:r.priority,aboveAverage:Pa.toBoolAttribute(r.aboveAverage,!0)})}renderDataBar(e,r){e.openNode(this.tag,{type:"dataBar",priority:r.priority}),this.databarXform.render(e,r),this.extLstRefXform.render(e,r),e.closeNode()}renderColorScale(e,r){e.openNode(this.tag,{type:"colorScale",priority:r.priority}),this.colorScaleXform.render(e,r),e.closeNode()}renderIconSet(e,r){t.isPrimitive(r)&&(e.openNode(this.tag,{type:"iconSet",priority:r.priority}),this.iconSetXform.render(e,r),e.closeNode())}renderText(e,r){e.openNode(this.tag,{type:r.operator,dxfId:r.dxfId,priority:r.priority,operator:Pa.toStringAttribute(r.operator,"containsText")});let n=Iar(r);n&&this.formulaXform.render(e,n),e.closeNode()}renderTimePeriod(e,r){e.openNode(this.tag,{type:"timePeriod",dxfId:r.dxfId,priority:r.priority,timePeriod:r.timePeriod});let n=Oar(r);n&&this.formulaXform.render(e,n),e.closeNode()}createNewModel({attributes:e}){return{...kar(e),dxfId:Pa.toIntValue(e.dxfId),priority:Pa.toIntValue(e.priority),timePeriod:e.timePeriod,percent:Pa.toBoolValue(e.percent),bottom:Pa.toBoolValue(e.bottom),rank:Pa.toIntValue(e.rank),aboveAverage:Pa.toBoolValue(e.aboveAverage)}}onParserClose(e,r){switch(e){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,r.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(r.model);break}}};d2e.exports=hX});var m2e=v((Z3r,p2e)=>{var Nar=Ls(),pX=h2e(),mX=class extends Nar{constructor(){super(),this.map={cfRule:new pX}}get tag(){return"conditionalFormatting"}render(e,r){r.rules.some(pX.isPrimitive)&&(e.openNode(this.tag,{sqref:r.ref}),r.rules.forEach(n=>{pX.isPrimitive(n)&&(n.ref=r.ref,this.map.cfRule.render(e,n))}),e.closeNode())}createNewModel({attributes:e}){return{ref:e.sqref,rules:[]}}onParserClose(e,r){this.model.rules.push(r.model)}};p2e.exports=mX});var yX=v((Y3r,g2e)=>{var Dar=Ae(),Far=m2e(),gX=class extends Dar{constructor(){super(),this.cfXform=new Far}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(e,r){let n=e.reduce((i,s)=>Math.max(i,...s.rules.map(o=>o.priority||0)),1);e.forEach(i=>{i.rules.forEach(s=>{s.priority||(s.priority=n++),s.style&&(s.dxfId=r.styles.addDxfStyle(s.style))})})}render(e,r){r.forEach(n=>{this.cfXform.render(e,n)})}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(e),!0;default:return!1}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){return this.parser?this.parser.parseClose(e)?!0:(this.model.push(this.parser.model),this.parser=void 0,!1):!1}reconcile(e,r){e.forEach(n=>{n.rules.forEach(i=>{i.dxfId!==void 0&&(i.style=r.styles.getDxfStyle(i.dxfId),delete i.dxfId)})})}};g2e.exports=gX});function KS(){return LF>MF.length-16&&(y2e.default.randomFillSync(MF),LF=0),MF.slice(LF,LF+=16)}var y2e,MF,LF,_X=te(()=>{y2e=oe(require("crypto")),MF=new Uint8Array(256),LF=MF.length});var _2e,v2e=te(()=>{_2e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Lar(t){return typeof t=="string"&&_2e.test(t)}var ed,XS=te(()=>{v2e();ed=Lar});function Mar(t,e=0){let r=(pi[t[e+0]]+pi[t[e+1]]+pi[t[e+2]]+pi[t[e+3]]+"-"+pi[t[e+4]]+pi[t[e+5]]+"-"+pi[t[e+6]]+pi[t[e+7]]+"-"+pi[t[e+8]]+pi[t[e+9]]+"-"+pi[t[e+10]]+pi[t[e+11]]+pi[t[e+12]]+pi[t[e+13]]+pi[t[e+14]]+pi[t[e+15]]).toLowerCase();if(!ed(r))throw TypeError("Stringified UUID is invalid");return r}var pi,td,JS=te(()=>{XS();pi=[];for(let t=0;t<256;++t)pi.push((t+256).toString(16).substr(1));td=Mar});function qar(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||w2e,o=t.clockseq!==void 0?t.clockseq:vX;if(s==null||o==null){let h=t.random||(t.rng||KS)();s==null&&(s=w2e=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),o==null&&(o=vX=(h[6]<<8|h[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:bX+1,c=a-wX+(u-bX)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||a>wX)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");wX=a,bX=u,vX=o,a+=122192928e5;let f=((a&268435455)*1e4+u)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let h=0;h<6;++h)i[n+h]=s[h];return e||td(i)}var w2e,vX,wX,bX,b2e,E2e=te(()=>{_X();JS();wX=0,bX=0;b2e=qar});function $ar(t){if(!ed(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var qF,EX=te(()=>{XS();qF=$ar});function Uar(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function $F(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=Uar(i)),typeof s=="string"&&(s=qF(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let c=0;c<16;++c)o[a+c]=u[c];return o}return td(u)}try{n.name=t}catch{}return n.DNS=jar,n.URL=Bar,n}var jar,Bar,SX=te(()=>{JS();EX();jar="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Bar="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Har(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),S2e.default.createHash("md5").update(t).digest()}var S2e,T2e,C2e=te(()=>{S2e=oe(require("crypto"));T2e=Har});var zar,x2e,R2e=te(()=>{SX();C2e();zar=$F("v3",48,T2e),x2e=zar});function Var(t,e,r){t=t||{};let n=t.random||(t.rng||KS)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return td(n)}var A2e,P2e=te(()=>{_X();JS();A2e=Var});function War(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),I2e.default.createHash("sha1").update(t).digest()}var I2e,O2e,k2e=te(()=>{I2e=oe(require("crypto"));O2e=War});var Gar,N2e,D2e=te(()=>{SX();k2e();Gar=$F("v5",80,O2e),N2e=Gar});var F2e,L2e=te(()=>{F2e="00000000-0000-0000-0000-000000000000"});function Kar(t){if(!ed(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var M2e,q2e=te(()=>{XS();M2e=Kar});var $2e={};Qi($2e,{NIL:()=>F2e,parse:()=>qF,stringify:()=>td,v1:()=>b2e,v3:()=>x2e,v4:()=>A2e,v5:()=>N2e,validate:()=>ed,version:()=>M2e});var U2e=te(()=>{E2e();R2e();P2e();D2e();L2e();q2e();XS();JS();EX()});var B2e=v((LHr,j2e)=>{var Xar=Ae(),TX=class extends Xar{get tag(){return"xm:f"}render(e,r){e.leafNode(this.tag,null,r)}parseOpen(){this.model=""}parseText(e){this.model+=e}parseClose(e){return e!==this.tag}};j2e.exports=TX});var xX=v((MHr,H2e)=>{var Jar=Ls(),Zar=B2e(),CX=class extends Jar{constructor(){super(),this.map={"xm:f":this.fExtXform=new Zar}}get tag(){return"x14:cfvo"}render(e,r){e.openNode(this.tag,{type:r.type}),r.value!==void 0&&this.fExtXform.render(e,r.value),e.closeNode()}createNewModel(e){return{type:e.attributes.type}}onParserClose(e,r){switch(e){case"xm:f":this.model.value=r.model?parseFloat(r.model):0;break}}};H2e.exports=CX});var V2e=v((qHr,z2e)=>{var Ki=Ae(),Yar=Ls(),UF=Jf(),Qar=xX(),RX=class extends Yar{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new Qar,"x14:borderColor":this.borderColorXform=new UF("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new UF("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new UF("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new UF("x14:axisColor")}}static isExt(e){return!e.gradient}get tag(){return"x14:dataBar"}render(e,r){e.openNode(this.tag,{minLength:Ki.toIntAttribute(r.minLength,0,!0),maxLength:Ki.toIntAttribute(r.maxLength,100,!0),border:Ki.toBoolAttribute(r.border,!1),gradient:Ki.toBoolAttribute(r.gradient,!0),negativeBarColorSameAsPositive:Ki.toBoolAttribute(r.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:Ki.toBoolAttribute(r.negativeBarBorderColorSameAsPositive,!0),axisPosition:Ki.toAttribute(r.axisPosition,"auto"),direction:Ki.toAttribute(r.direction,"leftToRight")}),r.cfvo.forEach(n=>{this.cfvoXform.render(e,n)}),this.borderColorXform.render(e,r.borderColor),this.negativeBorderColorXform.render(e,r.negativeBorderColor),this.negativeFillColorXform.render(e,r.negativeFillColor),this.axisColorXform.render(e,r.axisColor),e.closeNode()}createNewModel({attributes:e}){return{cfvo:[],minLength:Ki.toIntValue(e.minLength,0),maxLength:Ki.toIntValue(e.maxLength,100),border:Ki.toBoolValue(e.border,!1),gradient:Ki.toBoolValue(e.gradient,!0),negativeBarColorSameAsPositive:Ki.toBoolValue(e.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:Ki.toBoolValue(e.negativeBarBorderColorSameAsPositive,!0),axisPosition:Ki.toStringValue(e.axisPosition,"auto"),direction:Ki.toStringValue(e.direction,"leftToRight")}}onParserClose(e,r){let[,n]=e.split(":");switch(n){case"cfvo":this.model.cfvo.push(r.model);break;default:this.model[n]=r.model;break}}};z2e.exports=RX});var K2e=v(($Hr,G2e)=>{var W2e=Ae(),AX=class extends W2e{get tag(){return"x14:cfIcon"}render(e,r){e.leafNode(this.tag,{iconSet:r.iconSet,iconId:r.iconId})}parseOpen({attributes:e}){this.model={iconSet:e.iconSet,iconId:W2e.toIntValue(e.iconId)}}parseClose(e){return e!==this.tag}};G2e.exports=AX});var J2e=v((UHr,X2e)=>{var Bp=Ae(),eur=Ls(),tur=xX(),rur=K2e(),PX=class extends eur{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new tur,"x14:cfIcon":this.cfIconXform=new rur}}get tag(){return"x14:iconSet"}render(e,r){e.openNode(this.tag,{iconSet:Bp.toStringAttribute(r.iconSet),reverse:Bp.toBoolAttribute(r.reverse,!1),showValue:Bp.toBoolAttribute(r.showValue,!0),custom:Bp.toBoolAttribute(r.icons,!1)}),r.cfvo.forEach(n=>{this.cfvoXform.render(e,n)}),r.icons&&r.icons.forEach((n,i)=>{n.iconId=i,this.cfIconXform.render(e,n)}),e.closeNode()}createNewModel({attributes:e}){return{cfvo:[],iconSet:Bp.toStringValue(e.iconSet,"3TrafficLights"),reverse:Bp.toBoolValue(e.reverse,!1),showValue:Bp.toBoolValue(e.showValue,!0)}}onParserClose(e,r){let[,n]=e.split(":");switch(n){case"cfvo":this.model.cfvo.push(r.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(r.model);break;default:this.model[n]=r.model;break}}};X2e.exports=PX});var OX=v((jHr,Q2e)=>{var{v4:Z2e}=(U2e(),Wt($2e)),nur=Ae(),iur=Ls(),Y2e=V2e(),sur=J2e(),our={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},IX=class t extends iur{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new Y2e,"x14:iconSet":this.iconSetXform=new sur}}get tag(){return"x14:cfRule"}static isExt(e){return e.type==="dataBar"?Y2e.isExt(e):!!(e.type==="iconSet"&&(e.custom||our[e.iconSet]))}prepare(e){t.isExt(e)&&(e.x14Id=`{${Z2e()}}`.toUpperCase())}render(e,r){if(t.isExt(r))switch(r.type){case"dataBar":this.renderDataBar(e,r);break;case"iconSet":this.renderIconSet(e,r);break}}renderDataBar(e,r){e.openNode(this.tag,{type:"dataBar",id:r.x14Id}),this.databarXform.render(e,r),e.closeNode()}renderIconSet(e,r){e.openNode(this.tag,{type:"iconSet",priority:r.priority,id:r.x14Id||`{${Z2e()}}`}),this.iconSetXform.render(e,r),e.closeNode()}createNewModel({attributes:e}){return{type:e.type,x14Id:e.id,priority:nur.toIntValue(e.priority)}}onParserClose(e,r){Object.assign(this.model,r.model)}};Q2e.exports=IX});var tje=v((BHr,eje)=>{var aur=Ae(),kX=class extends aur{get tag(){return"xm:sqref"}render(e,r){e.leafNode(this.tag,null,r)}parseOpen(){this.model=""}parseText(e){this.model+=e}parseClose(e){return e!==this.tag}};eje.exports=kX});var nje=v((HHr,rje)=>{var uur=Ls(),cur=tje(),NX=OX(),DX=class extends uur{constructor(){super(),this.map={"xm:sqref":this.sqRef=new cur,"x14:cfRule":this.cfRule=new NX}}get tag(){return"x14:conditionalFormatting"}prepare(e,r){e.rules.forEach(n=>{this.cfRule.prepare(n,r)})}render(e,r){r.rules.some(NX.isExt)&&(e.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),r.rules.filter(NX.isExt).forEach(n=>this.cfRule.render(e,n)),this.sqRef.render(e,r.ref),e.closeNode())}createNewModel(){return{rules:[]}}onParserClose(e,r){switch(e){case"xm:sqref":this.model.ref=r.model;break;case"x14:cfRule":this.model.rules.push(r.model);break}}};rje.exports=DX});var sje=v((zHr,ije)=>{var lur=Ls(),fur=OX(),dur=nje(),FX=class extends lur{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new dur}}get tag(){return"x14:conditionalFormattings"}hasContent(e){return e.hasExtContent===void 0&&(e.hasExtContent=e.some(r=>r.rules.some(fur.isExt))),e.hasExtContent}prepare(e,r){e.forEach(n=>{this.cfXform.prepare(n,r)})}render(e,r){this.hasContent(r)&&(e.openNode(this.tag),r.forEach(n=>this.cfXform.render(e,n)),e.closeNode())}createNewModel(){return[]}onParserClose(e,r){this.model.push(r.model)}};ije.exports=FX});var uje=v((VHr,aje)=>{var oje=Ls(),hur=sje(),LX=class extends oje{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new hur}}get tag(){return"ext"}hasContent(e){return this.conditionalFormattings.hasContent(e.conditionalFormattings)}prepare(e,r){this.conditionalFormattings.prepare(e.conditionalFormattings,r)}render(e,r){e.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(e,r.conditionalFormattings),e.closeNode()}createNewModel(){return{}}onParserClose(e,r){this.model[e]=r.model}},MX=class extends oje{constructor(){super(),this.map={ext:this.ext=new LX}}get tag(){return"extLst"}prepare(e,r){this.ext.prepare(e,r)}hasContent(e){return this.ext.hasContent(e)}render(e,r){this.hasContent(r)&&(e.openNode("extLst"),this.ext.render(e,r),e.closeNode())}createNewModel(){return{}}onParserClose(e,r){Object.assign(this.model,r.model)}};aje.exports=MX});var lje=v((WHr,cje)=>{var pur=gn(),mur=un(),gur=di(),Vc=Yf(),yur=yUe(),_ur=Ae(),B_=Xf(),vur=wK(),wur=SK(),bur=TUe(),Eur=xK(),Sur=RUe(),Tur=OK(),Cur=FK(),xur=MK(),Rur=$K(),Aur=jK(),Pur=HK(),Iur=VK(),Our=UUe(),kur=KK(),Nur=JK(),Dur=zUe(),Fur=WUe(),Lur=tX(),Mur=nX(),qur=yX(),$ur=uje(),Uur=(t,e)=>{Object.keys(e).forEach(r=>{let n=t[r],i=e[r];n===void 0&&i!==void 0&&(t[r]=i)})},jur=(t,e)=>{if(!e||!e.length)return t;if(!t||!t.length)return e;let r={},n={};return t.forEach(i=>{r[i.ref]=i,i.rules.forEach(s=>{let{x14Id:o}=s;o&&(n[o]=s)})}),e.forEach(i=>{i.rules.forEach(s=>{let o=n[s.x14Id];o?Uur(o,s):r[i.ref]?r[i.ref].rules.push(s):t.push({ref:i.ref,rules:[s]})})}),t},jF=class t extends _ur{constructor(e){super();let{maxRows:r,maxCols:n,ignoreNodes:i}=e||{};this.ignoreNodes=i||[],this.map={sheetPr:new Cur,dimension:new bur,sheetViews:new B_({tag:"sheetViews",count:!1,childXform:new Rur}),sheetFormatPr:new xur,cols:new B_({tag:"cols",count:!1,childXform:new wur}),sheetData:new B_({tag:"sheetData",count:!1,empty:!0,childXform:new vur({maxItems:n}),maxItems:r}),autoFilter:new kur,mergeCells:new B_({tag:"mergeCells",count:!0,childXform:new Sur}),rowBreaks:new Lur,hyperlinks:new B_({tag:"hyperlinks",count:!1,childXform:new Eur}),pageMargins:new Pur,dataValidations:new Tur,pageSetup:new Iur,headerFooter:new Mur,printOptions:new Our,picture:new Nur,drawing:new Dur,sheetProtection:new Aur,tableParts:new B_({tag:"tableParts",count:!0,childXform:new Fur}),conditionalFormatting:new qur,extLst:new $ur}}prepare(e,r){r.merges=new yur,e.hyperlinks=r.hyperlinks=[],e.comments=r.comments=[],r.formulae={},r.siFormulae=0,this.map.cols.prepare(e.cols,r),this.map.sheetData.prepare(e.rows,r),this.map.conditionalFormatting.prepare(e.conditionalFormattings,r),e.mergeCells=r.merges.mergeCells;let n=e.rels=[];function i(a){return`rId${a.length+1}`}if(e.hyperlinks.forEach(a=>{let u=i(n);a.rId=u,n.push({Id:u,Type:Vc.Hyperlink,Target:a.target,TargetMode:"External"})}),e.comments.length>0){let a={Id:i(n),Type:Vc.Comments,Target:`../comments${e.id}.xml`};n.push(a);let u={Id:i(n),Type:Vc.VmlDrawing,Target:`../drawings/vmlDrawing${e.id}.vml`};n.push(u),e.comments.forEach(c=>{c.refAddress=mur.decodeAddress(c.ref)}),r.commentRefs.push({commentName:`comments${e.id}`,vmlDrawing:`vmlDrawing${e.id}`})}let s=[],o;e.media.forEach(a=>{if(a.type==="background"){let u=i(n);o=r.media[a.imageId],n.push({Id:u,Type:Vc.Image,Target:`../media/${o.name}.${o.extension}`}),e.background={rId:u},e.image=r.media[a.imageId]}else if(a.type==="image"){let{drawing:u}=e;o=r.media[a.imageId],u||(u=e.drawing={rId:i(n),name:`drawing${++r.drawingsCount}`,anchors:[],rels:[]},r.drawings.push(u),n.push({Id:u.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${u.name}.xml`}));let c=this.preImageId===a.imageId?s[a.imageId]:s[u.rels.length];c||(c=i(u.rels),s[u.rels.length]=c,u.rels.push({Id:c,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${o.name}.${o.extension}`}));let f={picture:{rId:c},range:a.range};if(a.hyperlinks&&a.hyperlinks.hyperlink){let d=i(u.rels);s[u.rels.length]=d,f.picture.hyperlinks={tooltip:a.hyperlinks.tooltip,rId:d},u.rels.push({Id:d,Type:Vc.Hyperlink,Target:a.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=a.imageId,u.anchors.push(f)}}),e.tables.forEach(a=>{let u=i(n);a.rId=u,n.push({Id:u,Type:Vc.Table,Target:`../tables/${a.target}`}),a.columns.forEach(c=>{let{style:f}=c;f&&(c.dxfId=r.styles.addDxfStyle(f))})}),this.map.extLst.prepare(e,r)}render(e,r){e.openXml(gur.StdDocAttributes),e.openNode("worksheet",t.WORKSHEET_ATTRIBUTES);let n=r.properties?{defaultRowHeight:r.properties.defaultRowHeight,dyDescent:r.properties.dyDescent,outlineLevelCol:r.properties.outlineLevelCol,outlineLevelRow:r.properties.outlineLevelRow}:void 0;r.properties&&r.properties.defaultColWidth&&(n.defaultColWidth=r.properties.defaultColWidth);let i={outlineProperties:r.properties&&r.properties.outlineProperties,tabColor:r.properties&&r.properties.tabColor,pageSetup:r.pageSetup&&r.pageSetup.fitToPage?{fitToPage:r.pageSetup.fitToPage}:void 0},s=r.pageSetup&&r.pageSetup.margins,o={showRowColHeaders:r.pageSetup&&r.pageSetup.showRowColHeaders,showGridLines:r.pageSetup&&r.pageSetup.showGridLines,horizontalCentered:r.pageSetup&&r.pageSetup.horizontalCentered,verticalCentered:r.pageSetup&&r.pageSetup.verticalCentered},a=r.sheetProtection;this.map.sheetPr.render(e,i),this.map.dimension.render(e,r.dimensions),this.map.sheetViews.render(e,r.views),this.map.sheetFormatPr.render(e,n),this.map.cols.render(e,r.cols),this.map.sheetData.render(e,r.rows),this.map.sheetProtection.render(e,a),this.map.autoFilter.render(e,r.autoFilter),this.map.mergeCells.render(e,r.mergeCells),this.map.conditionalFormatting.render(e,r.conditionalFormattings),this.map.dataValidations.render(e,r.dataValidations),this.map.hyperlinks.render(e,r.hyperlinks),this.map.printOptions.render(e,o),this.map.pageMargins.render(e,s),this.map.pageSetup.render(e,r.pageSetup),this.map.headerFooter.render(e,r.headerFooter),this.map.rowBreaks.render(e,r.rowBreaks),this.map.drawing.render(e,r.drawing),this.map.picture.render(e,r.background),this.map.tableParts.render(e,r.tables),this.map.extLst.render(e,r),r.rels&&r.rels.forEach(u=>{u.Type===Vc.VmlDrawing&&e.leafNode("legacyDrawing",{"r:id":u.Id})}),e.closeNode()}parseOpen(e){return this.parser?(this.parser.parseOpen(e),!0):e.name==="worksheet"?(pur.each(this.map,r=>{r.reset()}),!0):(this.map[e.name]&&!this.ignoreNodes.includes(e.name)&&(this.parser=this.map[e.name],this.parser.parseOpen(e)),!0)}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case"worksheet":{let r=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(r.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(r.outlineProperties=this.map.sheetPr.model.outlineProperties);let n={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},i=Object.assign(n,this.map.pageSetup.model,this.map.printOptions.model),s=jur(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:r,views:this.map.sheetViews.model,pageSetup:i,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:s},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(e,r){let n=(e.relationships||[]).reduce((s,o)=>{if(s[o.Id]=o,o.Type===Vc.Comments&&(e.comments=r.comments[o.Target].comments),o.Type===Vc.VmlDrawing&&e.comments&&e.comments.length){let a=r.vmlDrawings[o.Target].comments;e.comments.forEach((u,c)=>{u.note=Object.assign({},u.note,a[c])})}return s},{});if(r.commentsMap=(e.comments||[]).reduce((s,o)=>(o.ref&&(s[o.ref]=o),s),{}),r.hyperlinkMap=(e.hyperlinks||[]).reduce((s,o)=>(o.rId&&(s[o.address]=n[o.rId].Target),s),{}),r.formulae={},e.rows=e.rows&&e.rows.filter(Boolean)||[],e.rows.forEach(s=>{s.cells=s.cells&&s.cells.filter(Boolean)||[]}),this.map.cols.reconcile(e.cols,r),this.map.sheetData.reconcile(e.rows,r),this.map.conditionalFormatting.reconcile(e.conditionalFormattings,r),e.media=[],e.drawing){let o=n[e.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(o){let a=o[1];r.drawings[a].anchors.forEach(c=>{if(c.medium){let f={type:"image",imageId:c.medium.index,range:c.range,hyperlinks:c.picture.hyperlinks};e.media.push(f)}})}}let i=e.background&&n[e.background.rId];if(i){let s=i.Target.split("/media/")[1],o=r.mediaIndex&&r.mediaIndex[s];o!==void 0&&e.media.push({type:"background",imageId:o})}e.tables=(e.tables||[]).map(s=>{let o=n[s.rId];return r.tables[o.Target]}),delete e.relationships,delete e.hyperlinks,delete e.comments}};jF.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"};cje.exports=jF});var $X=v((GHr,fje)=>{var Bur=Ae(),qX=class extends Bur{parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset(),this.model={range:{editAs:e.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(e){this.parser&&this.parser.parseText(e)}reconcilePicture(e,r){if(e&&e.rId){let i=r.rels[e.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(i){let s=i[1],o=r.mediaIndex[s];return r.media[o]}}}};fje.exports=qX});var jX=v((KHr,dje)=>{var Hur=Ae(),BF=mF(),UX=class extends Hur{constructor(e){super(),this.tag=e.tag,this.map={"xdr:col":new BF({tag:"xdr:col",zero:!0}),"xdr:colOff":new BF({tag:"xdr:colOff",zero:!0}),"xdr:row":new BF({tag:"xdr:row",zero:!0}),"xdr:rowOff":new BF({tag:"xdr:rowOff",zero:!0})}}render(e,r){e.openNode(this.tag),this.map["xdr:col"].render(e,r.nativeCol),this.map["xdr:colOff"].render(e,r.nativeColOff),this.map["xdr:row"].render(e,r.nativeRow),this.map["xdr:rowOff"].render(e,r.nativeRowOff),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset();break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}};dje.exports=UX});var pje=v((XHr,hje)=>{var zur=Ae(),BX=class extends zur{get tag(){return"a:blip"}render(e,r){e.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":r.rId,cstate:"print"})}parseOpen(e){switch(e.name){case this.tag:return this.model={rId:e.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(e){switch(e){case this.tag:return!1;default:return!0}}};hje.exports=BX});var gje=v((JHr,mje)=>{var Vur=Ae(),Wur=pje(),HX=class extends Vur{constructor(){super(),this.map={"a:blip":new Wur}}get tag(){return"xdr:blipFill"}render(e,r){e.openNode(this.tag),this.map["a:blip"].render(e,r),e.openNode("a:stretch"),e.leafNode("a:fillRect"),e.closeNode(),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset();break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}};mje.exports=HX});var _je=v((ZHr,yje)=>{var Gur=Ae(),zX=class extends Gur{get tag(){return"a:hlinkClick"}render(e,r){r.hyperlinks&&r.hyperlinks.rId&&e.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":r.hyperlinks.rId,tooltip:r.hyperlinks.tooltip})}parseOpen(e){switch(e.name){case this.tag:return this.model={hyperlinks:{rId:e.attributes["r:id"],tooltip:e.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}};yje.exports=zX});var wje=v((YHr,vje)=>{var Kur=Ae(),VX=class extends Kur{get tag(){return"a:extLst"}render(e){e.openNode(this.tag),e.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),e.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),e.closeNode(),e.closeNode()}parseOpen(e){switch(e.name){case this.tag:return!0;default:return!0}}parseText(){}parseClose(e){switch(e){case this.tag:return!1;default:return!0}}};vje.exports=VX});var Eje=v((QHr,bje)=>{var Xur=Ae(),Jur=_je(),Zur=wje(),WX=class extends Xur{constructor(){super(),this.map={"a:hlinkClick":new Jur,"a:extLst":new Zur}}get tag(){return"xdr:cNvPr"}render(e,r){e.openNode(this.tag,{id:r.index,name:`Picture ${r.index}`}),this.map["a:hlinkClick"].render(e,r),this.map["a:extLst"].render(e,r),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset();break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}};bje.exports=WX});var Tje=v((ezr,Sje)=>{var Yur=Ae(),GX=class extends Yur{get tag(){return"xdr:cNvPicPr"}render(e){e.openNode(this.tag),e.leafNode("a:picLocks",{noChangeAspect:"1"}),e.closeNode()}parseOpen(e){switch(e.name){case this.tag:return!0;default:return!0}}parseText(){}parseClose(e){switch(e){case this.tag:return!1;default:return!0}}};Sje.exports=GX});var xje=v((tzr,Cje)=>{var Qur=Ae(),ecr=Eje(),tcr=Tje(),KX=class extends Qur{constructor(){super(),this.map={"xdr:cNvPr":new ecr,"xdr:cNvPicPr":new tcr}}get tag(){return"xdr:nvPicPr"}render(e,r){e.openNode(this.tag),this.map["xdr:cNvPr"].render(e,r),this.map["xdr:cNvPicPr"].render(e,r),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset();break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}};Cje.exports=KX});var Aje=v((rzr,Rje)=>{Rje.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}});var JX=v((nzr,Pje)=>{var rcr=Ae(),ncr=F_(),icr=gje(),scr=xje(),ocr=Aje(),XX=class extends rcr{constructor(){super(),this.map={"xdr:nvPicPr":new scr,"xdr:blipFill":new icr,"xdr:spPr":new ncr(ocr)}}get tag(){return"xdr:pic"}prepare(e,r){e.index=r.index+1}render(e,r){e.openNode(this.tag),this.map["xdr:nvPicPr"].render(e,r),this.map["xdr:blipFill"].render(e,r),this.map["xdr:spPr"].render(e,r),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset();break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(e){case this.tag:return!1;default:return!0}}};Pje.exports=XX});var kje=v((izr,Oje)=>{var acr=$X(),ucr=F_(),Ije=jX(),ccr=JX(),ZX=class extends acr{constructor(){super(),this.map={"xdr:from":new Ije({tag:"xdr:from"}),"xdr:to":new Ije({tag:"xdr:to"}),"xdr:pic":new ccr,"xdr:clientData":new ucr({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(e,r){this.map["xdr:pic"].prepare(e.picture,r)}render(e,r){e.openNode(this.tag,{editAs:r.range.editAs||"oneCell"}),this.map["xdr:from"].render(e,r.range.tl),this.map["xdr:to"].render(e,r.range.br),this.map["xdr:pic"].render(e,r.picture),this.map["xdr:clientData"].render(e,{}),e.closeNode()}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(e,r){e.medium=this.reconcilePicture(e.picture,r)}};Oje.exports=ZX});var Dje=v((szr,Nje)=>{var lcr=Ae(),HF=9525,YX=class extends lcr{constructor(e){super(),this.tag=e.tag,this.map={}}render(e,r){e.openNode(this.tag);let n=Math.floor(r.width*HF),i=Math.floor(r.height*HF);e.addAttribute("cx",n),e.addAttribute("cy",i),e.closeNode()}parseOpen(e){return e.name===this.tag?(this.model={width:parseInt(e.attributes.cx||"0",10)/HF,height:parseInt(e.attributes.cy||"0",10)/HF},!0):!1}parseText(){}parseClose(){return!1}};Nje.exports=YX});var Lje=v((ozr,Fje)=>{var fcr=$X(),dcr=F_(),hcr=jX(),pcr=Dje(),mcr=JX(),QX=class extends fcr{constructor(){super(),this.map={"xdr:from":new hcr({tag:"xdr:from"}),"xdr:ext":new pcr({tag:"xdr:ext"}),"xdr:pic":new mcr,"xdr:clientData":new dcr({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(e,r){this.map["xdr:pic"].prepare(e.picture,r)}render(e,r){e.openNode(this.tag,{editAs:r.range.editAs||"oneCell"}),this.map["xdr:from"].render(e,r.range.tl),this.map["xdr:ext"].render(e,r.range.ext),this.map["xdr:pic"].render(e,r.picture),this.map["xdr:clientData"].render(e,{}),e.closeNode()}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(e,r){e.medium=this.reconcilePicture(e.picture,r)}};Fje.exports=QX});var qje=v((azr,Mje)=>{var gcr=un(),ycr=di(),_cr=Ae(),vcr=kje(),wcr=Lje();function bcr(t){return(typeof t.range=="string"?gcr.decode(t.range):t.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}var zF=class t extends _cr{constructor(){super(),this.map={"xdr:twoCellAnchor":new vcr,"xdr:oneCellAnchor":new wcr}}prepare(e){e.anchors.forEach((r,n)=>{r.anchorType=bcr(r),this.map[r.anchorType].prepare(r,{index:n})})}get tag(){return"xdr:wsDr"}render(e,r){e.openXml(ycr.StdDocAttributes),e.openNode(this.tag,t.DRAWING_ATTRIBUTES),r.anchors.forEach(n=>{this.map[n.anchorType].render(e,n)}),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(e){case this.tag:return!1;default:return!0}}reconcile(e,r){e.anchors.forEach(n=>{n.br?this.map["xdr:twoCellAnchor"].reconcile(n,r):this.map["xdr:oneCellAnchor"].reconcile(n,r)})}};zF.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"};Mje.exports=zF});var Uje=v((uzr,$je)=>{var Ecr=Ae(),eJ=class extends Ecr{get tag(){return"customFilter"}render(e,r){e.leafNode(this.tag,{val:r.val,operator:r.operator})}parseOpen(e){return e.name===this.tag?(this.model={val:e.attributes.val,operator:e.attributes.operator},!0):!1}parseText(){}parseClose(){return!1}};$je.exports=eJ});var Bje=v((czr,jje)=>{var Scr=Ae(),tJ=class extends Scr{get tag(){return"filter"}render(e,r){e.leafNode(this.tag,{val:r.val})}parseOpen(e){return e.name===this.tag?(this.model={val:e.attributes.val},!0):!1}parseText(){}parseClose(){return!1}};jje.exports=tJ});var Vje=v((lzr,zje)=>{var Tcr=Ae(),Hje=Xf(),Ccr=Uje(),xcr=Bje(),rJ=class extends Tcr{constructor(){super(),this.map={customFilters:new Hje({tag:"customFilters",count:!1,empty:!0,childXform:new Ccr}),filters:new Hje({tag:"filters",count:!1,empty:!0,childXform:new xcr})}}get tag(){return"filterColumn"}prepare(e,r){e.colId=r.index.toString()}render(e,r){return r.customFilters?(e.openNode(this.tag,{colId:r.colId,hiddenButton:r.filterButton?"0":"1"}),this.map.customFilters.render(e,r.customFilters),e.closeNode(),!0):(e.leafNode(this.tag,{colId:r.colId,hiddenButton:r.filterButton?"0":"1"}),!0)}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;let{attributes:r}=e;switch(e.name){case this.tag:return this.model={filterButton:r.hiddenButton==="0"},!0;default:if(this.parser=this.map[e.name],this.parser)return this.parseOpen(e),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(e)}`)}}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}};zje.exports=rJ});var Gje=v((fzr,Wje)=>{var Rcr=Ae(),Acr=Vje(),nJ=class extends Rcr{constructor(){super(),this.map={filterColumn:new Acr}}get tag(){return"autoFilter"}prepare(e){e.columns.forEach((r,n)=>{this.map.filterColumn.prepare(r,{index:n})})}render(e,r){return e.openNode(this.tag,{ref:r.autoFilterRef}),r.columns.forEach(n=>{this.map.filterColumn.render(e,n)}),e.closeNode(),!0}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:return this.model={autoFilterRef:e.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[e.name],this.parser)return this.parseOpen(e),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(e)}`)}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(e){case this.tag:return!1;default:throw new Error(`Unexpected xml node in parseClose: ${e}`)}}};Wje.exports=nJ});var Xje=v((dzr,Kje)=>{var Pcr=Ae(),iJ=class extends Pcr{get tag(){return"tableColumn"}prepare(e,r){e.id=r.index+1}render(e,r){return e.leafNode(this.tag,{id:r.id.toString(),name:r.name,totalsRowLabel:r.totalsRowLabel,totalsRowFunction:r.totalsRowFunction,dxfId:r.dxfId}),!0}parseOpen(e){if(e.name===this.tag){let{attributes:r}=e;return this.model={name:r.name,totalsRowLabel:r.totalsRowLabel,totalsRowFunction:r.totalsRowFunction,dxfId:r.dxfId},!0}return!1}parseText(){}parseClose(){return!1}};Kje.exports=iJ});var Zje=v((hzr,Jje)=>{var Icr=Ae(),sJ=class extends Icr{get tag(){return"tableStyleInfo"}render(e,r){return e.leafNode(this.tag,{name:r.theme?r.theme:void 0,showFirstColumn:r.showFirstColumn?"1":"0",showLastColumn:r.showLastColumn?"1":"0",showRowStripes:r.showRowStripes?"1":"0",showColumnStripes:r.showColumnStripes?"1":"0"}),!0}parseOpen(e){if(e.name===this.tag){let{attributes:r}=e;return this.model={theme:r.name?r.name:null,showFirstColumn:r.showFirstColumn==="1",showLastColumn:r.showLastColumn==="1",showRowStripes:r.showRowStripes==="1",showColumnStripes:r.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}};Jje.exports=sJ});var Qje=v((pzr,Yje)=>{var Ocr=di(),kcr=Ae(),Ncr=Xf(),Dcr=Gje(),Fcr=Xje(),Lcr=Zje(),VF=class t extends kcr{constructor(){super(),this.map={autoFilter:new Dcr,tableColumns:new Ncr({tag:"tableColumns",count:!0,empty:!0,childXform:new Fcr}),tableStyleInfo:new Lcr}}prepare(e,r){this.map.autoFilter.prepare(e),this.map.tableColumns.prepare(e.columns,r)}get tag(){return"table"}render(e,r){e.openXml(Ocr.StdDocAttributes),e.openNode(this.tag,{...t.TABLE_ATTRIBUTES,id:r.id,name:r.name,displayName:r.displayName||r.name,ref:r.tableRef,totalsRowCount:r.totalsRow?"1":void 0,totalsRowShown:r.totalsRow?void 0:"1",headerRowCount:r.headerRow?"1":"0"}),this.map.autoFilter.render(e,r),this.map.tableColumns.render(e,r.columns),this.map.tableStyleInfo.render(e,r.style),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;let{name:r,attributes:n}=e;switch(r){case this.tag:this.reset(),this.model={name:n.name,displayName:n.displayName||n.name,tableRef:n.ref,totalsRow:n.totalsRowCount==="1",headerRow:n.headerRowCount==="1"};break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((r,n)=>{this.model.columns[n].filterButton=r.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(e,r){e.columns.forEach(n=>{n.dxfId!==void 0&&(n.style=r.styles.getDxfStyle(n.dxfId))})}};VF.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"};Yje.exports=VF});var oJ=v((mzr,eBe)=>{var Mcr=VS(),qcr=Gi(),$cr=Ae(),Ucr=eBe.exports=function(t){this.model=t};qcr.inherits(Ucr,$cr,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new Mcr),this._richTextXform},render(t,e){e=e||this.model,t.openNode("comment",{ref:e.ref,authorId:0}),t.openNode("text"),e&&e.note&&e.note.texts&&e.note.texts.forEach(r=>{this.richTextXform.render(t,r)}),t.closeNode(),t.closeNode()},parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"comment":return this.model={type:"note",note:{texts:[]},...t.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(t),!0;default:return!1}},parseText(t){this.parser&&this.parser.parseText(t)},parseClose(t){switch(t){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})});var nBe=v((gzr,rBe)=>{var jcr=di(),Bcr=Gi(),Hcr=Ae(),zcr=oJ(),tBe=rBe.exports=function(){this.map={comment:new zcr}};Bcr.inherits(tBe,Hcr,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(t,e){e=e||this.model,t.openXml(jcr.StdDocAttributes),t.openNode("comments",tBe.COMMENTS_ATTRIBUTES),t.openNode("authors"),t.leafNode("author",null,"Author"),t.closeNode(),t.openNode("commentList"),e.comments.forEach(r=>{this.map.comment.render(t,r)}),t.closeNode(),t.closeNode()},parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(t),!0;default:return!1}},parseText(t){this.parser&&this.parser.parseText(t)},parseClose(t){switch(t){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})});var sBe=v((yzr,iBe)=>{var Vcr=Ae(),aJ=class extends Vcr{get tag(){return"v:textbox"}conversionUnit(e,r,n){return`${parseFloat(e)*r.toFixed(2)}${n}`}reverseConversionUnit(e){return(e||"").split(",").map(r=>Number(parseFloat(this.conversionUnit(parseFloat(r),.1,"")).toFixed(2)))}render(e,r){let n={style:"mso-direction-alt:auto"};if(r&&r.note){let{inset:i}=r.note&&r.note.margins;Array.isArray(i)&&(i=i.map(s=>this.conversionUnit(s,10,"mm")).join(",")),i&&(n.inset=i)}e.openNode("v:textbox",n),e.leafNode("div",{style:"text-align:left"}),e.closeNode()}parseOpen(e){switch(e.name){case this.tag:return this.model={inset:this.reverseConversionUnit(e.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(e){switch(e){case this.tag:return!1;default:return!0}}};iBe.exports=aJ});var aBe=v((_zr,oBe)=>{var Wcr=Ae(),uJ=class extends Wcr{get tag(){return"x:Anchor"}getAnchorRect(e){let r=Math.floor(e.left),n=Math.floor((e.left-r)*68),i=Math.floor(e.top),s=Math.floor((e.top-i)*18),o=Math.floor(e.right),a=Math.floor((e.right-o)*68),u=Math.floor(e.bottom),c=Math.floor((e.bottom-u)*18);return[r,n,i,s,o,a,u,c]}getDefaultRect(e){let r=e.col,n=6,i=Math.max(e.row-2,0),s=14,o=r+2,a=2,u=i+4;return[r,n,i,s,o,a,u,16]}render(e,r){let n=r.anchor?this.getAnchorRect(r.anchor):this.getDefaultRect(r.refAddress);e.leafNode("x:Anchor",null,n.join(", "))}parseOpen(e){switch(e.name){case this.tag:return this.text="",!0;default:return!1}}parseText(e){this.text=e}parseClose(){return!1}};oBe.exports=uJ});var cBe=v((vzr,uBe)=>{var Gcr=Ae(),cJ=class extends Gcr{constructor(e){super(),this._model=e}get tag(){return this._model&&this._model.tag}render(e,r){e.leafNode(this.tag,null,r)}parseOpen(e){switch(e.name){case this.tag:return this.text="",!0;default:return!1}}parseText(e){this.text=e}parseClose(){return!1}};uBe.exports=cJ});var fBe=v((wzr,lBe)=>{var Kcr=Ae(),lJ=class extends Kcr{constructor(e){super(),this._model=e}get tag(){return this._model&&this._model.tag}render(e,r,n){r===n[2]?e.leafNode(this.tag):this.tag==="x:SizeWithCells"&&r===n[1]&&e.leafNode(this.tag)}parseOpen(e){switch(e.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}};lBe.exports=lJ});var mBe=v((bzr,pBe)=>{var Xcr=Ae(),Jcr=aBe(),dBe=cBe(),hBe=fBe(),fJ=["twoCells","oneCells","absolute"],dJ=class extends Xcr{constructor(){super(),this.map={"x:Anchor":new Jcr,"x:Locked":new dBe({tag:"x:Locked"}),"x:LockText":new dBe({tag:"x:LockText"}),"x:SizeWithCells":new hBe({tag:"x:SizeWithCells"}),"x:MoveWithCells":new hBe({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(e,r){let{protection:n,editAs:i}=r.note;e.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(e,i,fJ),this.map["x:SizeWithCells"].render(e,i,fJ),this.map["x:Anchor"].render(e,r),this.map["x:Locked"].render(e,n.locked),e.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(e,n.lockText),e.leafNode("x:Row",null,r.refAddress.row-1),e.leafNode("x:Column",null,r.refAddress.col-1),e.closeNode()}parseOpen(e){switch(e.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let e=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),r=Object.keys(e).length;this.model.editAs=fJ[r],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}};pBe.exports=dJ});var hJ=v((Ezr,gBe)=>{var Zcr=Ae(),Ycr=sBe(),Qcr=mBe(),WF=class t extends Zcr{constructor(){super(),this.map={"v:textbox":new Ycr,"x:ClientData":new Qcr}}get tag(){return"v:shape"}render(e,r,n){e.openNode("v:shape",t.V_SHAPE_ATTRIBUTES(r,n)),e.leafNode("v:fill",{color2:"infoBackground [80]"}),e.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),e.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(e,r),this.map["x:ClientData"].render(e,r),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset(),this.model={margins:{insetmode:e.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}};WF.V_SHAPE_ATTRIBUTES=(t,e)=>({id:`_x0000_s${1025+e}`,type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":t.note.margins&&t.note.margins.insetmode});gBe.exports=WF});var _Be=v((Szr,yBe)=>{var elr=di(),tlr=Ae(),rlr=hJ(),GF=class t extends tlr{constructor(){super(),this.map={"v:shape":new rlr}}get tag(){return"xml"}render(e,r){e.openXml(elr.StdDocAttributes),e.openNode(this.tag,t.DRAWING_ATTRIBUTES),e.openNode("o:shapelayout",{"v:ext":"edit"}),e.leafNode("o:idmap",{"v:ext":"edit",data:1}),e.closeNode(),e.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),e.leafNode("v:stroke",{joinstyle:"miter"}),e.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),e.closeNode(),r.comments.forEach((n,i)=>{this.map["v:shape"].render(e,n,i)}),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[e.name],this.parser&&this.parser.parseOpen(e);break}return!0}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(e){case this.tag:return!1;default:return!0}}reconcile(e,r){e.anchors.forEach(n=>{n.br?this.map["xdr:twoCellAnchor"].reconcile(n,r):this.map["xdr:oneCellAnchor"].reconcile(n,r)})}};GF.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"};yBe.exports=GF});var pJ=v((Tzr,vBe)=>{vBe.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`});var EJ=v((Czr,TBe)=>{var bJ=require("fs"),nlr=xG(),{PassThrough:mJ}=Wi(),ilr=wqe(),gJ=MS(),slr=Gi(),KF=di(),{bufferToString:olr}=u7(),yJ=xF(),wBe=Y7(),_J=nK(),Hp=IF(),alr=sK(),bBe=uK(),XF=kF(),JF=lje(),vJ=qje(),wJ=Qje(),EBe=nBe(),SBe=_Be(),ulr=pJ();function clr(t,e){return new Promise((r,n)=>{bJ.readFile(t,e,(i,s)=>{i?n(i):r(s)})})}var ZF=class t{constructor(e){this.workbook=e}async readFile(e,r){if(!await slr.fs.exists(e))throw new Error(`File not found: ${e}`);let n=bJ.createReadStream(e);try{let i=await this.read(n,r);return n.close(),i}catch(i){throw n.close(),i}}parseRels(e){return new Hp().parseStream(e)}parseWorkbook(e){return new XF().parseStream(e)}parseSharedStrings(e){return new _J().parseStream(e)}reconcile(e,r){let n=new XF,i=new JF(r),s=new vJ,o=new wJ;n.reconcile(e);let a={media:e.media,mediaIndex:e.mediaIndex};Object.keys(e.drawings).forEach(f=>{let d=e.drawings[f],h=e.drawingRels[f];h&&(a.rels=h.reduce((p,m)=>(p[m.Id]=m,p),{}),(d.anchors||[]).forEach(p=>{let m=p.picture&&p.picture.hyperlinks;m&&a.rels[m.rId]&&(m.hyperlink=a.rels[m.rId].Target,delete m.rId)}),s.reconcile(d,a))});let u={styles:e.styles};Object.values(e.tables).forEach(f=>{o.reconcile(f,u)});let c={styles:e.styles,sharedStrings:e.sharedStrings,media:e.media,mediaIndex:e.mediaIndex,date1904:e.properties&&e.properties.date1904,drawings:e.drawings,comments:e.comments,tables:e.tables,vmlDrawings:e.vmlDrawings};e.worksheets.forEach(f=>{f.relationships=e.worksheetRels[f.sheetNo],i.reconcile(f,c)}),delete e.worksheetHash,delete e.worksheetRels,delete e.globalRels,delete e.sharedStrings,delete e.workbookRels,delete e.sheetDefs,delete e.styles,delete e.mediaIndex,delete e.drawings,delete e.drawingRels,delete e.vmlDrawings}async _processWorksheetEntry(e,r,n,i,s){let a=await new JF(i).parseStream(e);a.sheetNo=n,r.worksheetHash[s]=a,r.worksheets.push(a)}async _processCommentEntry(e,r,n){let s=await new EBe().parseStream(e);r.comments[`../${n}.xml`]=s}async _processTableEntry(e,r,n){let s=await new wJ().parseStream(e);r.tables[`../tables/${n}.xml`]=s}async _processWorksheetRelsEntry(e,r,n){let s=await new Hp().parseStream(e);r.worksheetRels[n]=s}async _processMediaEntry(e,r,n){let i=n.lastIndexOf(".");if(i>=1){let s=n.substr(i+1),o=n.substr(0,i);await new Promise((a,u)=>{let c=new gJ;c.on("finish",()=>{r.mediaIndex[n]=r.media.length,r.mediaIndex[o]=r.media.length;let f={type:"image",name:o,extension:s,buffer:c.toBuffer()};r.media.push(f),a()}),e.on("error",f=>{u(f)}),e.pipe(c)})}}async _processDrawingEntry(e,r,n){let s=await new vJ().parseStream(e);r.drawings[n]=s}async _processDrawingRelsEntry(e,r,n){let s=await new Hp().parseStream(e);r.drawingRels[n]=s}async _processVmlDrawingEntry(e,r,n){let s=await new SBe().parseStream(e);r.vmlDrawings[`../drawings/${n}.vml`]=s}async _processThemeEntry(e,r,n){await new Promise((i,s)=>{let o=new gJ;e.on("error",s),o.on("error",s),o.on("finish",()=>{r.themes[n]=o.read().toString(),i()}),e.pipe(o)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(e,r){!e[Symbol.asyncIterator]&&e.pipe&&(e=e.pipe(new mJ));let n=[];for await(let i of e)n.push(i);return this.load(Buffer.concat(n),r)}async load(e,r){let n;r&&r.base64?n=Buffer.from(e.toString(),"base64"):n=e;let i={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},s=await nlr.loadAsync(n);for(let o of Object.values(s.files))if(!o.dir){let a=o.name;a[0]==="/"&&(a=a.substr(1));let u;if(a.match(/xl\/media\//)||a.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))u=new mJ,u.write(await o.async("nodebuffer"));else{u=new mJ({writableObjectMode:!0,readableObjectMode:!0});let c;process.browser?c=olr(await o.async("nodebuffer")):c=await o.async("string");let f=16*1024;for(let d=0;d<c.length;d+=f)u.write(c.substring(d,d+f))}switch(u.end(),a){case"_rels/.rels":i.globalRels=await this.parseRels(u);break;case"xl/workbook.xml":{let c=await this.parseWorkbook(u);i.sheets=c.sheets,i.definedNames=c.definedNames,i.views=c.views,i.properties=c.properties,i.calcProperties=c.calcProperties;break}case"xl/_rels/workbook.xml.rels":i.workbookRels=await this.parseRels(u);break;case"xl/sharedStrings.xml":i.sharedStrings=new _J,await i.sharedStrings.parseStream(u);break;case"xl/styles.xml":i.styles=new yJ,await i.styles.parseStream(u);break;case"docProps/app.xml":{let f=await new bBe().parseStream(u);i.company=f.company,i.manager=f.manager;break}case"docProps/core.xml":{let f=await new wBe().parseStream(u);Object.assign(i,f);break}default:{let c=a.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(c){await this._processWorksheetEntry(u,i,c[1],r,a);break}if(c=a.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),c){await this._processWorksheetRelsEntry(u,i,c[1]);break}if(c=a.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),c){await this._processThemeEntry(u,i,c[1]);break}if(c=a.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),c){await this._processMediaEntry(u,i,c[1]);break}if(c=a.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),c){await this._processDrawingEntry(u,i,c[1]);break}if(c=a.match(/xl\/(comments\d+)[.]xml/),c){await this._processCommentEntry(u,i,c[1]);break}if(c=a.match(/xl\/tables\/(table\d+)[.]xml/),c){await this._processTableEntry(u,i,c[1]);break}if(c=a.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),c){await this._processDrawingRelsEntry(u,i,c[1]);break}if(c=a.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),c){await this._processVmlDrawingEntry(u,i,c[1]);break}}}}return this.reconcile(i,r),this.workbook.model=i,this.workbook}async addMedia(e,r){await Promise.all(r.media.map(async n=>{if(n.type==="image"){let i=`xl/media/${n.name}.${n.extension}`;if(n.filename){let s=await clr(n.filename);return e.append(s,{name:i})}if(n.buffer)return e.append(n.buffer,{name:i});if(n.base64){let s=n.base64,o=s.substring(s.indexOf(",")+1);return e.append(o,{name:i,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(e,r){let n=new vJ,i=new Hp;r.worksheets.forEach(s=>{let{drawing:o}=s;if(o){n.prepare(o,{});let a=n.toXml(o);e.append(a,{name:`xl/drawings/${o.name}.xml`}),a=i.toXml(o.rels),e.append(a,{name:`xl/drawings/_rels/${o.name}.xml.rels`})}})}addTables(e,r){let n=new wJ;r.worksheets.forEach(i=>{let{tables:s}=i;s.forEach(o=>{n.prepare(o,{});let a=n.toXml(o);e.append(a,{name:`xl/tables/${o.target}`})})})}async addContentTypes(e,r){let i=new alr().toXml(r);e.append(i,{name:"[Content_Types].xml"})}async addApp(e,r){let i=new bBe().toXml(r);e.append(i,{name:"docProps/app.xml"})}async addCore(e,r){let n=new wBe;e.append(n.toXml(r),{name:"docProps/core.xml"})}async addThemes(e,r){let n=r.themes||{theme1:ulr};Object.keys(n).forEach(i=>{let s=n[i],o=`xl/theme/${i}.xml`;e.append(s,{name:o})})}async addOfficeRels(e){let n=new Hp().toXml([{Id:"rId1",Type:t.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:t.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:t.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);e.append(n,{name:"_rels/.rels"})}async addWorkbookRels(e,r){let n=1,i=[{Id:`rId${n++}`,Type:t.RelType.Styles,Target:"styles.xml"},{Id:`rId${n++}`,Type:t.RelType.Theme,Target:"theme/theme1.xml"}];r.sharedStrings.count&&i.push({Id:`rId${n++}`,Type:t.RelType.SharedStrings,Target:"sharedStrings.xml"}),r.worksheets.forEach(a=>{a.rId=`rId${n++}`,i.push({Id:a.rId,Type:t.RelType.Worksheet,Target:`worksheets/sheet${a.id}.xml`})});let o=new Hp().toXml(i);e.append(o,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(e,r){r.sharedStrings&&r.sharedStrings.count&&e.append(r.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(e,r){let{xml:n}=r.styles;n&&e.append(n,{name:"xl/styles.xml"})}async addWorkbook(e,r){let n=new XF;e.append(n.toXml(r),{name:"xl/workbook.xml"})}async addWorksheets(e,r){let n=new JF,i=new Hp,s=new EBe,o=new SBe;r.worksheets.forEach(a=>{let u=new KF;n.render(u,a),e.append(u.xml,{name:`xl/worksheets/sheet${a.id}.xml`}),a.rels&&a.rels.length&&(u=new KF,i.render(u,a.rels),e.append(u.xml,{name:`xl/worksheets/_rels/sheet${a.id}.xml.rels`})),a.comments.length>0&&(u=new KF,s.render(u,a),e.append(u.xml,{name:`xl/comments${a.id}.xml`}),u=new KF,o.render(u,a),e.append(u.xml,{name:`xl/drawings/vmlDrawing${a.id}.vml`}))})}_finalize(e){return new Promise((r,n)=>{e.on("finish",()=>{r(this)}),e.on("error",n),e.finalize()})}prepareModel(e,r){e.creator=e.creator||"ExcelJS",e.lastModifiedBy=e.lastModifiedBy||"ExcelJS",e.created=e.created||new Date,e.modified=e.modified||new Date,e.useSharedStrings=r.useSharedStrings!==void 0?r.useSharedStrings:!0,e.useStyles=r.useStyles!==void 0?r.useStyles:!0,e.sharedStrings=new _J,e.styles=e.useStyles?new yJ(!0):new yJ.Mock;let n=new XF,i=new JF;n.prepare(e);let s={sharedStrings:e.sharedStrings,styles:e.styles,date1904:e.properties.date1904,drawingsCount:0,media:e.media};s.drawings=e.drawings=[],s.commentRefs=e.commentRefs=[];let o=0;e.tables=[],e.worksheets.forEach(a=>{a.tables.forEach(u=>{o++,u.target=`table${o}.xml`,u.id=o,e.tables.push(u)}),i.prepare(a,s)})}async write(e,r){r=r||{};let{model:n}=this.workbook,i=new ilr.ZipWriter(r.zip);return i.pipe(e),this.prepareModel(n,r),await this.addContentTypes(i,n),await this.addOfficeRels(i,n),await this.addWorkbookRels(i,n),await this.addWorksheets(i,n),await this.addSharedStrings(i,n),await this.addDrawings(i,n),await this.addTables(i,n),await Promise.all([this.addThemes(i,n),this.addStyles(i,n)]),await this.addMedia(i,n),await Promise.all([this.addApp(i,n),this.addCore(i,n)]),await this.addWorkbook(i,n),this._finalize(i)}writeFile(e,r){let n=bJ.createWriteStream(e);return new Promise((i,s)=>{n.on("finish",()=>{i()}),n.on("error",o=>{s(o)}),this.write(n,r).then(()=>{n.end()}).catch(o=>{s(o)})})}async writeBuffer(e){let r=new gJ;return await this.write(r,e),r.read()}};ZF.RelType=Yf();TBe.exports=ZF});var TJ=v(YF=>{"use strict";Object.defineProperty(YF,"__esModule",{value:!0});YF.FormatterOptions=void 0;var SJ=class{constructor(e={}){var r;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,e||{}),typeof e?.quoteHeaders>"u"&&(this.quoteHeaders=this.quoteColumns),e?.quote===!0?this.quote='"':e?.quote===!1&&(this.quote=""),typeof e?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((r=e.writeHeaders)!==null&&r!==void 0?r:!0),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}};YF.FormatterOptions=SJ});var QF=v((Rzr,ABe)=>{var llr="[object AsyncFunction]",flr="[object Function]",dlr="[object GeneratorFunction]",hlr="[object Null]",plr="[object Proxy]",mlr="[object Undefined]",glr=typeof global=="object"&&global&&global.Object===Object&&global,ylr=typeof self=="object"&&self&&self.Object===Object&&self,_lr=glr||ylr||Function("return this")(),xBe=Object.prototype,vlr=xBe.hasOwnProperty,RBe=xBe.toString,CBe=_lr.Symbol,zp=CBe?CBe.toStringTag:void 0;function wlr(t){return t==null?t===void 0?mlr:hlr:zp&&zp in Object(t)?blr(t):Elr(t)}function blr(t){var e=vlr.call(t,zp),r=t[zp];try{t[zp]=void 0;var n=!0}catch{}var i=RBe.call(t);return n&&(e?t[zp]=r:delete t[zp]),i}function Elr(t){return RBe.call(t)}function Slr(t){if(!Tlr(t))return!1;var e=wlr(t);return e==flr||e==dlr||e==llr||e==plr}function Tlr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}ABe.exports=Slr});var c4e=v((ZS,z_)=>{var Clr=200,FJ="__lodash_hash_undefined__",aL=1,UBe=2,jBe=9007199254740991,eL="[object Arguments]",AJ="[object Array]",xlr="[object AsyncFunction]",BBe="[object Boolean]",HBe="[object Date]",zBe="[object Error]",VBe="[object Function]",Rlr="[object GeneratorFunction]",tL="[object Map]",WBe="[object Number]",Alr="[object Null]",H_="[object Object]",PBe="[object Promise]",Plr="[object Proxy]",GBe="[object RegExp]",rL="[object Set]",KBe="[object String]",Ilr="[object Symbol]",Olr="[object Undefined]",PJ="[object WeakMap]",XBe="[object ArrayBuffer]",nL="[object DataView]",klr="[object Float32Array]",Nlr="[object Float64Array]",Dlr="[object Int8Array]",Flr="[object Int16Array]",Llr="[object Int32Array]",Mlr="[object Uint8Array]",qlr="[object Uint8ClampedArray]",$lr="[object Uint16Array]",Ulr="[object Uint32Array]",jlr=/[\\^$.*+?()[\]{}|]/g,Blr=/^\[object .+?Constructor\]$/,Hlr=/^(?:0|[1-9]\d*)$/,Jr={};Jr[klr]=Jr[Nlr]=Jr[Dlr]=Jr[Flr]=Jr[Llr]=Jr[Mlr]=Jr[qlr]=Jr[$lr]=Jr[Ulr]=!0;Jr[eL]=Jr[AJ]=Jr[XBe]=Jr[BBe]=Jr[nL]=Jr[HBe]=Jr[zBe]=Jr[VBe]=Jr[tL]=Jr[WBe]=Jr[H_]=Jr[GBe]=Jr[rL]=Jr[KBe]=Jr[PJ]=!1;var JBe=typeof global=="object"&&global&&global.Object===Object&&global,zlr=typeof self=="object"&&self&&self.Object===Object&&self,Wc=JBe||zlr||Function("return this")(),ZBe=typeof ZS=="object"&&ZS&&!ZS.nodeType&&ZS,IBe=ZBe&&typeof z_=="object"&&z_&&!z_.nodeType&&z_,YBe=IBe&&IBe.exports===ZBe,CJ=YBe&&JBe.process,OBe=(function(){try{return CJ&&CJ.binding&&CJ.binding("util")}catch{}})(),kBe=OBe&&OBe.isTypedArray;function Vlr(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Wlr(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Glr(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Klr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Xlr(t){return function(e){return t(e)}}function Jlr(t,e){return t.has(e)}function Zlr(t,e){return t?.[e]}function Ylr(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Qlr(t,e){return function(r){return t(e(r))}}function efr(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var tfr=Array.prototype,rfr=Function.prototype,uL=Object.prototype,xJ=Wc["__core-js_shared__"],QBe=rfr.toString,$u=uL.hasOwnProperty,NBe=(function(){var t=/[^.]+$/.exec(xJ&&xJ.keys&&xJ.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),e4e=uL.toString,nfr=RegExp("^"+QBe.call($u).replace(jlr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),DBe=YBe?Wc.Buffer:void 0,iL=Wc.Symbol,FBe=Wc.Uint8Array,t4e=uL.propertyIsEnumerable,ifr=tfr.splice,Vp=iL?iL.toStringTag:void 0,LBe=Object.getOwnPropertySymbols,sfr=DBe?DBe.isBuffer:void 0,ofr=Qlr(Object.keys,Object),IJ=V_(Wc,"DataView"),YS=V_(Wc,"Map"),OJ=V_(Wc,"Promise"),kJ=V_(Wc,"Set"),NJ=V_(Wc,"WeakMap"),QS=V_(Object,"create"),afr=Kp(IJ),ufr=Kp(YS),cfr=Kp(OJ),lfr=Kp(kJ),ffr=Kp(NJ),MBe=iL?iL.prototype:void 0,RJ=MBe?MBe.valueOf:void 0;function Wp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function dfr(){this.__data__=QS?QS(null):{},this.size=0}function hfr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function pfr(t){var e=this.__data__;if(QS){var r=e[t];return r===FJ?void 0:r}return $u.call(e,t)?e[t]:void 0}function mfr(t){var e=this.__data__;return QS?e[t]!==void 0:$u.call(e,t)}function gfr(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=QS&&e===void 0?FJ:e,this}Wp.prototype.clear=dfr;Wp.prototype.delete=hfr;Wp.prototype.get=pfr;Wp.prototype.has=mfr;Wp.prototype.set=gfr;function Gc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yfr(){this.__data__=[],this.size=0}function _fr(t){var e=this.__data__,r=cL(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ifr.call(e,r,1),--this.size,!0}function vfr(t){var e=this.__data__,r=cL(e,t);return r<0?void 0:e[r][1]}function wfr(t){return cL(this.__data__,t)>-1}function bfr(t,e){var r=this.__data__,n=cL(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Gc.prototype.clear=yfr;Gc.prototype.delete=_fr;Gc.prototype.get=vfr;Gc.prototype.has=wfr;Gc.prototype.set=bfr;function Gp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Efr(){this.size=0,this.__data__={hash:new Wp,map:new(YS||Gc),string:new Wp}}function Sfr(t){var e=lL(this,t).delete(t);return this.size-=e?1:0,e}function Tfr(t){return lL(this,t).get(t)}function Cfr(t){return lL(this,t).has(t)}function xfr(t,e){var r=lL(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Gp.prototype.clear=Efr;Gp.prototype.delete=Sfr;Gp.prototype.get=Tfr;Gp.prototype.has=Cfr;Gp.prototype.set=xfr;function sL(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Gp;++e<r;)this.add(t[e])}function Rfr(t){return this.__data__.set(t,FJ),this}function Afr(t){return this.__data__.has(t)}sL.prototype.add=sL.prototype.push=Rfr;sL.prototype.has=Afr;function nd(t){var e=this.__data__=new Gc(t);this.size=e.size}function Pfr(){this.__data__=new Gc,this.size=0}function Ifr(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Ofr(t){return this.__data__.get(t)}function kfr(t){return this.__data__.has(t)}function Nfr(t,e){var r=this.__data__;if(r instanceof Gc){var n=r.__data__;if(!YS||n.length<Clr-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Gp(n)}return r.set(t,e),this.size=r.size,this}nd.prototype.clear=Pfr;nd.prototype.delete=Ifr;nd.prototype.get=Ofr;nd.prototype.has=kfr;nd.prototype.set=Nfr;function Dfr(t,e){var r=oL(t),n=!r&&Xfr(t),i=!r&&!n&&DJ(t),s=!r&&!n&&!i&&u4e(t),o=r||n||i||s,a=o?Klr(t.length,String):[],u=a.length;for(var c in t)(e||$u.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||zfr(c,u)))&&a.push(c);return a}function cL(t,e){for(var r=t.length;r--;)if(i4e(t[r][0],e))return r;return-1}function Ffr(t,e,r){var n=e(t);return oL(t)?n:Wlr(n,r(t))}function tT(t){return t==null?t===void 0?Olr:Alr:Vp&&Vp in Object(t)?Bfr(t):Kfr(t)}function qBe(t){return eT(t)&&tT(t)==eL}function r4e(t,e,r,n,i){return t===e?!0:t==null||e==null||!eT(t)&&!eT(e)?t!==t&&e!==e:Lfr(t,e,r,n,r4e,i)}function Lfr(t,e,r,n,i,s){var o=oL(t),a=oL(e),u=o?AJ:rd(t),c=a?AJ:rd(e);u=u==eL?H_:u,c=c==eL?H_:c;var f=u==H_,d=c==H_,h=u==c;if(h&&DJ(t)){if(!DJ(e))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new nd),o||u4e(t)?n4e(t,e,r,n,i,s):Ufr(t,e,u,r,n,i,s);if(!(r&aL)){var p=f&&$u.call(t,"__wrapped__"),m=d&&$u.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return s||(s=new nd),i(g,y,r,n,s)}}return h?(s||(s=new nd),jfr(t,e,r,n,i,s)):!1}function Mfr(t){if(!a4e(t)||Wfr(t))return!1;var e=s4e(t)?nfr:Blr;return e.test(Kp(t))}function qfr(t){return eT(t)&&o4e(t.length)&&!!Jr[tT(t)]}function $fr(t){if(!Gfr(t))return ofr(t);var e=[];for(var r in Object(t))$u.call(t,r)&&r!="constructor"&&e.push(r);return e}function n4e(t,e,r,n,i,s){var o=r&aL,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var f=-1,d=!0,h=r&UBe?new sL:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],m=e[f];if(n)var g=o?n(m,p,f,e,t,s):n(p,m,f,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!Glr(e,function(y,w){if(!Jlr(h,w)&&(p===y||i(p,y,r,n,s)))return h.push(w)})){d=!1;break}}else if(!(p===m||i(p,m,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function Ufr(t,e,r,n,i,s,o){switch(r){case nL:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XBe:return!(t.byteLength!=e.byteLength||!s(new FBe(t),new FBe(e)));case BBe:case HBe:case WBe:return i4e(+t,+e);case zBe:return t.name==e.name&&t.message==e.message;case GBe:case KBe:return t==e+"";case tL:var a=Ylr;case rL:var u=n&aL;if(a||(a=efr),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;n|=UBe,o.set(t,e);var f=n4e(a(t),a(e),n,i,s,o);return o.delete(t),f;case Ilr:if(RJ)return RJ.call(t)==RJ.call(e)}return!1}function jfr(t,e,r,n,i,s){var o=r&aL,a=$Be(t),u=a.length,c=$Be(e),f=c.length;if(u!=f&&!o)return!1;for(var d=u;d--;){var h=a[d];if(!(o?h in e:$u.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++d<u;){h=a[d];var y=t[h],w=e[h];if(n)var S=o?n(w,y,h,e,t,s):n(y,w,h,t,e,s);if(!(S===void 0?y===w||i(y,w,r,n,s):S)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var E=t.constructor,b=e.constructor;E!=b&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}function $Be(t){return Ffr(t,Yfr,Hfr)}function lL(t,e){var r=t.__data__;return Vfr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function V_(t,e){var r=Zlr(t,e);return Mfr(r)?r:void 0}function Bfr(t){var e=$u.call(t,Vp),r=t[Vp];try{t[Vp]=void 0;var n=!0}catch{}var i=e4e.call(t);return n&&(e?t[Vp]=r:delete t[Vp]),i}var Hfr=LBe?function(t){return t==null?[]:(t=Object(t),Vlr(LBe(t),function(e){return t4e.call(t,e)}))}:Qfr,rd=tT;(IJ&&rd(new IJ(new ArrayBuffer(1)))!=nL||YS&&rd(new YS)!=tL||OJ&&rd(OJ.resolve())!=PBe||kJ&&rd(new kJ)!=rL||NJ&&rd(new NJ)!=PJ)&&(rd=function(t){var e=tT(t),r=e==H_?t.constructor:void 0,n=r?Kp(r):"";if(n)switch(n){case afr:return nL;case ufr:return tL;case cfr:return PBe;case lfr:return rL;case ffr:return PJ}return e});function zfr(t,e){return e=e??jBe,!!e&&(typeof t=="number"||Hlr.test(t))&&t>-1&&t%1==0&&t<e}function Vfr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Wfr(t){return!!NBe&&NBe in t}function Gfr(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||uL;return t===r}function Kfr(t){return e4e.call(t)}function Kp(t){if(t!=null){try{return QBe.call(t)}catch{}try{return t+""}catch{}}return""}function i4e(t,e){return t===e||t!==t&&e!==e}var Xfr=qBe((function(){return arguments})())?qBe:function(t){return eT(t)&&$u.call(t,"callee")&&!t4e.call(t,"callee")},oL=Array.isArray;function Jfr(t){return t!=null&&o4e(t.length)&&!s4e(t)}var DJ=sfr||edr;function Zfr(t,e){return r4e(t,e)}function s4e(t){if(!a4e(t))return!1;var e=tT(t);return e==VBe||e==Rlr||e==xlr||e==Plr}function o4e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jBe}function a4e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function eT(t){return t!=null&&typeof t=="object"}var u4e=kBe?Xlr(kBe):qfr;function Yfr(t){return Jfr(t)?Dfr(t):$fr(t)}function Qfr(){return[]}function edr(){return!1}z_.exports=Zfr});var f4e=v((Azr,l4e)=>{var tdr="[object Boolean]",rdr=Object.prototype,ndr=rdr.toString;function idr(t){return t===!0||t===!1||sdr(t)&&ndr.call(t)==tdr}function sdr(t){return!!t&&typeof t=="object"}l4e.exports=idr});var LJ=v((Pzr,d4e)=>{function odr(t){return t==null}d4e.exports=odr});var MJ=v((Izr,y4e)=>{var adr=1/0,udr="[object Symbol]",g4e=/[\\^$.*+?()[\]{}|]/g,cdr=RegExp(g4e.source),ldr=typeof global=="object"&&global&&global.Object===Object&&global,fdr=typeof self=="object"&&self&&self.Object===Object&&self,ddr=ldr||fdr||Function("return this")(),hdr=Object.prototype,pdr=hdr.toString,h4e=ddr.Symbol,p4e=h4e?h4e.prototype:void 0,m4e=p4e?p4e.toString:void 0;function mdr(t){if(typeof t=="string")return t;if(ydr(t))return m4e?m4e.call(t):"";var e=t+"";return e=="0"&&1/t==-adr?"-0":e}function gdr(t){return!!t&&typeof t=="object"}function ydr(t){return typeof t=="symbol"||gdr(t)&&pdr.call(t)==udr}function _dr(t){return t==null?"":mdr(t)}function vdr(t){return t=_dr(t),t&&cdr.test(t)?t.replace(g4e,"\\$&"):t}y4e.exports=vdr});var UJ=v(W_=>{"use strict";var $J=W_&&W_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W_,"__esModule",{value:!0});W_.FieldFormatter=void 0;var wdr=$J(f4e()),bdr=$J(LJ()),Edr=$J(MJ()),qJ=class{constructor(e){this._headers=null,this.formatterOptions=e,e.headers!==null&&(this.headers=e.headers),this.REPLACE_REGEXP=new RegExp(e.quote,"g");let r=`[${e.delimiter}${Edr.default(e.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(r)}set headers(e){this._headers=e}shouldQuote(e,r){let n=r?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return wdr.default(n)?n:Array.isArray(n)?n[e]:this._headers!==null?n[this._headers[e]]:!1}format(e,r,n){let i=`${bdr.default(e)?"":e}`.replace(/\0/g,""),{formatterOptions:s}=this;return s.quote!==""&&i.indexOf(s.quote)!==-1?this.quoteField(i.replace(this.REPLACE_REGEXP,s.escapedQuote)):i.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(r,n)?this.quoteField(i):i}quoteField(e){let{quote:r}=this.formatterOptions;return`${r}${e}${r}`}};W_.FieldFormatter=qJ});var jJ=v(fL=>{"use strict";Object.defineProperty(fL,"__esModule",{value:!0});fL.isSyncTransform=void 0;fL.isSyncTransform=t=>t.length===1});var v4e=v(G_=>{"use strict";var _4e=G_&&G_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G_,"__esModule",{value:!0});G_.RowFormatter=void 0;var Sdr=_4e(QF()),Tdr=_4e(c4e()),Cdr=UJ(),xdr=jJ(),BJ=class t{constructor(e){this.rowCount=0,this.formatterOptions=e,this.fieldFormatter=new Cdr.FieldFormatter(e),this.headers=e.headers,this.shouldWriteHeaders=e.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),e.transform&&(this.rowTransform=e.transform)}static isRowHashArray(e){return Array.isArray(e)?Array.isArray(e[0])&&e[0].length===2:!1}static isRowArray(e){return Array.isArray(e)&&!this.isRowHashArray(e)}static gatherHeaders(e){return t.isRowHashArray(e)?e.map(r=>r[0]):Array.isArray(e)?e:Object.keys(e)}static createTransform(e){return xdr.isSyncTransform(e)?(r,n)=>{let i=null;try{i=e(r)}catch(s){return n(s)}return n(null,i)}:(r,n)=>{e(r,n)}}set rowTransform(e){if(!Sdr.default(e))throw new TypeError("The transform should be a function");this._rowTransform=t.createTransform(e)}format(e,r){this.callTransformer(e,(n,i)=>{if(n)return r(n);if(!e)return r(null);let s=[];if(i){let{shouldFormatColumns:o,headers:a}=this.checkHeaders(i);if(this.shouldWriteHeaders&&a&&!this.hasWrittenHeaders&&(s.push(this.formatColumns(a,!0)),this.hasWrittenHeaders=!0),o){let u=this.gatherColumns(i);s.push(this.formatColumns(u,!1))}}return r(null,s)})}finish(e){let r=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return e(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));r.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&r.push(this.formatterOptions.rowDelimiter),e(null,r)}checkHeaders(e){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let r=t.gatherHeaders(e);return this.headers=r,this.fieldFormatter.headers=r,this.shouldWriteHeaders?{shouldFormatColumns:!Tdr.default(r,e),headers:r}:{shouldFormatColumns:!0,headers:null}}gatherColumns(e){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(e)?t.isRowHashArray(e)?this.headers.map((r,n)=>{let i=e[n];return i?i[1]:""}):t.isRowArray(e)&&!this.shouldWriteHeaders?e:this.headers.map((r,n)=>e[n]):this.headers.map(r=>e[r])}callTransformer(e,r){return this._rowTransform?this._rowTransform(e,r):r(null,e)}formatColumns(e,r){let n=e.map((s,o)=>this.fieldFormatter.format(s,o,r)).join(this.formatterOptions.delimiter),{rowCount:i}=this;return this.rowCount+=1,i?[this.formatterOptions.rowDelimiter,n].join(""):n}};G_.RowFormatter=BJ});var w4e=v(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.FieldFormatter=K_.RowFormatter=void 0;var Rdr=v4e();Object.defineProperty(K_,"RowFormatter",{enumerable:!0,get:function(){return Rdr.RowFormatter}});var Adr=UJ();Object.defineProperty(K_,"FieldFormatter",{enumerable:!0,get:function(){return Adr.FieldFormatter}})});var zJ=v(dL=>{"use strict";Object.defineProperty(dL,"__esModule",{value:!0});dL.CsvFormatterStream=void 0;var Pdr=require("stream"),Idr=w4e(),HJ=class extends Pdr.Transform{constructor(e){super({writableObjectMode:e.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=e,this.rowFormatter=new Idr.RowFormatter(e),this.hasWrittenBOM=!e.writeBOM}transform(e){return this.rowFormatter.rowTransform=e,this}_transform(e,r,n){let i=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(e,(s,o)=>s?(i=!0,n(s)):(o&&o.forEach(a=>{this.push(Buffer.from(a,"utf8"))}),i=!0,n()))}catch(s){if(i)throw s;n(s)}}_flush(e){this.rowFormatter.finish((r,n)=>r?e(r):(n&&n.forEach(i=>{this.push(Buffer.from(i,"utf8"))}),e()))}};dL.CsvFormatterStream=HJ});var E4e=v(fr=>{"use strict";var b4e=fr&&fr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Odr=fr&&fr.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),kdr=fr&&fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b4e(e,t,r);return Odr(e,t),e},Ndr=fr&&fr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&b4e(e,t,r)};Object.defineProperty(fr,"__esModule",{value:!0});fr.writeToPath=fr.writeToString=fr.writeToBuffer=fr.writeToStream=fr.write=fr.format=fr.FormatterOptions=fr.CsvFormatterStream=void 0;var Ddr=require("util"),Fdr=require("stream"),Ldr=kdr(require("fs")),Mdr=TJ(),qdr=zJ();Ndr(jJ(),fr);var $dr=zJ();Object.defineProperty(fr,"CsvFormatterStream",{enumerable:!0,get:function(){return $dr.CsvFormatterStream}});var Udr=TJ();Object.defineProperty(fr,"FormatterOptions",{enumerable:!0,get:function(){return Udr.FormatterOptions}});fr.format=t=>new qdr.CsvFormatterStream(new Mdr.FormatterOptions(t));fr.write=(t,e)=>{let r=fr.format(e),n=Ddr.promisify((i,s)=>{r.write(i,void 0,s)});return t.reduce((i,s)=>i.then(()=>n(s)),Promise.resolve()).then(()=>r.end()).catch(i=>{r.emit("error",i)}),r};fr.writeToStream=(t,e,r)=>fr.write(e,r).pipe(t);fr.writeToBuffer=(t,e={})=>{let r=[],n=new Fdr.Writable({write(i,s,o){r.push(i),o()}});return new Promise((i,s)=>{n.on("error",s).on("finish",()=>i(Buffer.concat(r))),fr.write(t,e).pipe(n)})};fr.writeToString=(t,e)=>fr.writeToBuffer(t,e).then(r=>r.toString());fr.writeToPath=(t,e,r)=>{let n=Ldr.createWriteStream(t,{encoding:"utf8"});return fr.write(e,r).pipe(n)}});var WJ=v(X_=>{"use strict";var S4e=X_&&X_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X_,"__esModule",{value:!0});X_.ParserOptions=void 0;var jdr=S4e(MJ()),Bdr=S4e(LJ()),VJ=class{constructor(e){var r;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,e||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=jdr.default(this.delimiter),this.escapeChar=(r=this.escape)!==null&&r!==void 0?r:this.quote,this.supportsComments=!Bdr.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}};X_.ParserOptions=VJ});var GJ=v(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.isSyncValidate=J_.isSyncTransform=void 0;J_.isSyncTransform=t=>t.length===1;J_.isSyncValidate=t=>t.length===1});var x4e=v(Z_=>{"use strict";var Hdr=Z_&&Z_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.RowTransformerValidator=void 0;var T4e=Hdr(QF()),C4e=GJ(),KJ=class t{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(e){return C4e.isSyncTransform(e)?(r,n)=>{let i=null;try{i=e(r)}catch(s){return n(s)}return n(null,i)}:e}static createValidator(e){return C4e.isSyncValidate(e)?(r,n)=>{n(null,{row:r,isValid:e(r)})}:(r,n)=>{e(r,(i,s,o)=>i?n(i):s?n(null,{row:r,isValid:s,reason:o}):n(null,{row:r,isValid:!1,reason:o}))}}set rowTransform(e){if(!T4e.default(e))throw new TypeError("The transform should be a function");this._rowTransform=t.createTransform(e)}set rowValidator(e){if(!T4e.default(e))throw new TypeError("The validate should be a function");this._rowValidator=t.createValidator(e)}transformAndValidate(e,r){return this.callTransformer(e,(n,i)=>n?r(n):i?this.callValidator(i,(s,o)=>s?r(s):o&&!o.isValid?r(null,{row:i,isValid:!1,reason:o.reason}):r(null,{row:i,isValid:!0})):r(null,{row:null,isValid:!0}))}callTransformer(e,r){return this._rowTransform?this._rowTransform(e,r):r(null,e)}callValidator(e,r){return this._rowValidator?this._rowValidator(e,r):r(null,{row:e,isValid:!0})}};Z_.RowTransformerValidator=KJ});var A4e=v((Uzr,R4e)=>{function zdr(t){return t===void 0}R4e.exports=zdr});var F4e=v((jzr,D4e)=>{var Vdr=200,ZJ="__lodash_hash_undefined__",Wdr=1/0,Gdr="[object Function]",Kdr="[object GeneratorFunction]",Xdr=/[\\^$.*+?()[\]{}|]/g,Jdr=/^\[object .+?Constructor\]$/,Zdr=typeof global=="object"&&global&&global.Object===Object&&global,Ydr=typeof self=="object"&&self&&self.Object===Object&&self,YJ=Zdr||Ydr||Function("return this")();function Qdr(t,e){var r=t?t.length:0;return!!r&&rhr(t,e,0)>-1}function ehr(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function thr(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function rhr(t,e,r){if(e!==e)return thr(t,nhr,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function nhr(t){return t!==t}function ihr(t,e){return t.has(e)}function shr(t,e){return t?.[e]}function ohr(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function I4e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ahr=Array.prototype,uhr=Function.prototype,O4e=Object.prototype,XJ=YJ["__core-js_shared__"],P4e=(function(){var t=/[^.]+$/.exec(XJ&&XJ.keys&&XJ.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),k4e=uhr.toString,QJ=O4e.hasOwnProperty,chr=O4e.toString,lhr=RegExp("^"+k4e.call(QJ).replace(Xdr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fhr=ahr.splice,dhr=eZ(YJ,"Map"),JJ=eZ(YJ,"Set"),rT=eZ(Object,"create");function Xp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function hhr(){this.__data__=rT?rT(null):{}}function phr(t){return this.has(t)&&delete this.__data__[t]}function mhr(t){var e=this.__data__;if(rT){var r=e[t];return r===ZJ?void 0:r}return QJ.call(e,t)?e[t]:void 0}function ghr(t){var e=this.__data__;return rT?e[t]!==void 0:QJ.call(e,t)}function yhr(t,e){var r=this.__data__;return r[t]=rT&&e===void 0?ZJ:e,this}Xp.prototype.clear=hhr;Xp.prototype.delete=phr;Xp.prototype.get=mhr;Xp.prototype.has=ghr;Xp.prototype.set=yhr;function Y_(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _hr(){this.__data__=[]}function vhr(t){var e=this.__data__,r=pL(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():fhr.call(e,r,1),!0}function whr(t){var e=this.__data__,r=pL(e,t);return r<0?void 0:e[r][1]}function bhr(t){return pL(this.__data__,t)>-1}function Ehr(t,e){var r=this.__data__,n=pL(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}Y_.prototype.clear=_hr;Y_.prototype.delete=vhr;Y_.prototype.get=whr;Y_.prototype.has=bhr;Y_.prototype.set=Ehr;function Q_(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Shr(){this.__data__={hash:new Xp,map:new(dhr||Y_),string:new Xp}}function Thr(t){return mL(this,t).delete(t)}function Chr(t){return mL(this,t).get(t)}function xhr(t){return mL(this,t).has(t)}function Rhr(t,e){return mL(this,t).set(t,e),this}Q_.prototype.clear=Shr;Q_.prototype.delete=Thr;Q_.prototype.get=Chr;Q_.prototype.has=xhr;Q_.prototype.set=Rhr;function hL(t){var e=-1,r=t?t.length:0;for(this.__data__=new Q_;++e<r;)this.add(t[e])}function Ahr(t){return this.__data__.set(t,ZJ),this}function Phr(t){return this.__data__.has(t)}hL.prototype.add=hL.prototype.push=Ahr;hL.prototype.has=Phr;function pL(t,e){for(var r=t.length;r--;)if(Mhr(t[r][0],e))return r;return-1}function Ihr(t){if(!N4e(t)||Dhr(t))return!1;var e=qhr(t)||ohr(t)?lhr:Jdr;return e.test(Fhr(t))}function Ohr(t,e,r){var n=-1,i=Qdr,s=t.length,o=!0,a=[],u=a;if(r)o=!1,i=ehr;else if(s>=Vdr){var c=e?null:khr(t);if(c)return I4e(c);o=!1,i=ihr,u=new hL}else u=e?[]:a;e:for(;++n<s;){var f=t[n],d=e?e(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=u.length;h--;)if(u[h]===d)continue e;e&&u.push(d),a.push(f)}else i(u,d,r)||(u!==a&&u.push(d),a.push(f))}return a}var khr=JJ&&1/I4e(new JJ([,-0]))[1]==Wdr?function(t){return new JJ(t)}:$hr;function mL(t,e){var r=t.__data__;return Nhr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function eZ(t,e){var r=shr(t,e);return Ihr(r)?r:void 0}function Nhr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Dhr(t){return!!P4e&&P4e in t}function Fhr(t){if(t!=null){try{return k4e.call(t)}catch{}try{return t+""}catch{}}return""}function Lhr(t){return t&&t.length?Ohr(t):[]}function Mhr(t,e){return t===e||t!==t&&e!==e}function qhr(t){var e=N4e(t)?chr.call(t):"";return e==Gdr||e==Kdr}function N4e(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function $hr(){}D4e.exports=Lhr});var p3e=v((nT,t0)=>{var Uhr=200,jhr="Expected a function",lZ="__lodash_hash_undefined__",SL=1,r0=2,V4e=1/0,W4e=9007199254740991,gL="[object Arguments]",nZ="[object Array]",G4e="[object Boolean]",K4e="[object Date]",X4e="[object Error]",J4e="[object Function]",Bhr="[object GeneratorFunction]",yL="[object Map]",Z4e="[object Number]",e0="[object Object]",L4e="[object Promise]",Y4e="[object RegExp]",_L="[object Set]",Q4e="[object String]",e3e="[object Symbol]",iZ="[object WeakMap]",t3e="[object ArrayBuffer]",vL="[object DataView]",Hhr="[object Float32Array]",zhr="[object Float64Array]",Vhr="[object Int8Array]",Whr="[object Int16Array]",Ghr="[object Int32Array]",Khr="[object Uint8Array]",Xhr="[object Uint8ClampedArray]",Jhr="[object Uint16Array]",Zhr="[object Uint32Array]",Yhr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qhr=/^\w*$/,epr=/^\./,tpr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rpr=/[\\^$.*+?()[\]{}|]/g,npr=/\\(\\)?/g,ipr=/^\[object .+?Constructor\]$/,spr=/^(?:0|[1-9]\d*)$/,Zr={};Zr[Hhr]=Zr[zhr]=Zr[Vhr]=Zr[Whr]=Zr[Ghr]=Zr[Khr]=Zr[Xhr]=Zr[Jhr]=Zr[Zhr]=!0;Zr[gL]=Zr[nZ]=Zr[t3e]=Zr[G4e]=Zr[vL]=Zr[K4e]=Zr[X4e]=Zr[J4e]=Zr[yL]=Zr[Z4e]=Zr[e0]=Zr[Y4e]=Zr[_L]=Zr[Q4e]=Zr[iZ]=!1;var r3e=typeof global=="object"&&global&&global.Object===Object&&global,opr=typeof self=="object"&&self&&self.Object===Object&&self,od=r3e||opr||Function("return this")(),n3e=typeof nT=="object"&&nT&&!nT.nodeType&&nT,M4e=n3e&&typeof t0=="object"&&t0&&!t0.nodeType&&t0,apr=M4e&&M4e.exports===n3e,q4e=apr&&r3e.process,$4e=(function(){try{return q4e&&q4e.binding("util")}catch{}})(),U4e=$4e&&$4e.isTypedArray;function upr(t,e,r,n){for(var i=-1,s=t?t.length:0;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}function cpr(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function lpr(t){return function(e){return e?.[t]}}function fpr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function dpr(t){return function(e){return t(e)}}function hpr(t,e){return t?.[e]}function sZ(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function ppr(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function mpr(t,e){return function(r){return t(e(r))}}function gpr(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ypr=Array.prototype,_pr=Function.prototype,TL=Object.prototype,tZ=od["__core-js_shared__"],j4e=(function(){var t=/[^.]+$/.exec(tZ&&tZ.keys&&tZ.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),i3e=_pr.toString,Uu=TL.hasOwnProperty,n0=TL.toString,vpr=RegExp("^"+i3e.call(Uu).replace(rpr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B4e=od.Symbol,H4e=od.Uint8Array,wpr=TL.propertyIsEnumerable,bpr=ypr.splice,Epr=mpr(Object.keys,Object),oZ=i0(od,"DataView"),iT=i0(od,"Map"),aZ=i0(od,"Promise"),uZ=i0(od,"Set"),cZ=i0(od,"WeakMap"),sT=i0(Object,"create"),Spr=Zp(oZ),Tpr=Zp(iT),Cpr=Zp(aZ),xpr=Zp(uZ),Rpr=Zp(cZ),wL=B4e?B4e.prototype:void 0,rZ=wL?wL.valueOf:void 0,z4e=wL?wL.toString:void 0;function Jp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Apr(){this.__data__=sT?sT(null):{}}function Ppr(t){return this.has(t)&&delete this.__data__[t]}function Ipr(t){var e=this.__data__;if(sT){var r=e[t];return r===lZ?void 0:r}return Uu.call(e,t)?e[t]:void 0}function Opr(t){var e=this.__data__;return sT?e[t]!==void 0:Uu.call(e,t)}function kpr(t,e){var r=this.__data__;return r[t]=sT&&e===void 0?lZ:e,this}Jp.prototype.clear=Apr;Jp.prototype.delete=Ppr;Jp.prototype.get=Ipr;Jp.prototype.has=Opr;Jp.prototype.set=kpr;function Xc(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Npr(){this.__data__=[]}function Dpr(t){var e=this.__data__,r=CL(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():bpr.call(e,r,1),!0}function Fpr(t){var e=this.__data__,r=CL(e,t);return r<0?void 0:e[r][1]}function Lpr(t){return CL(this.__data__,t)>-1}function Mpr(t,e){var r=this.__data__,n=CL(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}Xc.prototype.clear=Npr;Xc.prototype.delete=Dpr;Xc.prototype.get=Fpr;Xc.prototype.has=Lpr;Xc.prototype.set=Mpr;function Jc(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qpr(){this.__data__={hash:new Jp,map:new(iT||Xc),string:new Jp}}function $pr(t){return xL(this,t).delete(t)}function Upr(t){return xL(this,t).get(t)}function jpr(t){return xL(this,t).has(t)}function Bpr(t,e){return xL(this,t).set(t,e),this}Jc.prototype.clear=qpr;Jc.prototype.delete=$pr;Jc.prototype.get=Upr;Jc.prototype.has=jpr;Jc.prototype.set=Bpr;function bL(t){var e=-1,r=t?t.length:0;for(this.__data__=new Jc;++e<r;)this.add(t[e])}function Hpr(t){return this.__data__.set(t,lZ),this}function zpr(t){return this.__data__.has(t)}bL.prototype.add=bL.prototype.push=Hpr;bL.prototype.has=zpr;function Kc(t){this.__data__=new Xc(t)}function Vpr(){this.__data__=new Xc}function Wpr(t){return this.__data__.delete(t)}function Gpr(t){return this.__data__.get(t)}function Kpr(t){return this.__data__.has(t)}function Xpr(t,e){var r=this.__data__;if(r instanceof Xc){var n=r.__data__;if(!iT||n.length<Uhr-1)return n.push([t,e]),this;r=this.__data__=new Jc(n)}return r.set(t,e),this}Kc.prototype.clear=Vpr;Kc.prototype.delete=Wpr;Kc.prototype.get=Gpr;Kc.prototype.has=Kpr;Kc.prototype.set=Xpr;function Jpr(t,e){var r=sd(t)||d3e(t)?fpr(t.length,String):[],n=r.length,i=!!n;for(var s in t)(e||Uu.call(t,s))&&!(i&&(s=="length"||u3e(s,n)))&&r.push(s);return r}function CL(t,e){for(var r=t.length;r--;)if(f3e(t[r][0],e))return r;return-1}function Zpr(t,e,r,n){return Ypr(t,function(i,s,o){e(n,i,r(i),o)}),n}var Ypr=pmr(emr),Qpr=mmr();function emr(t,e){return t&&Qpr(t,e,EL)}function s3e(t,e){e=RL(e,t)?[e]:o3e(e);for(var r=0,n=e.length;t!=null&&r<n;)t=t[AL(e[r++])];return r&&r==n?t:void 0}function tmr(t){return n0.call(t)}function rmr(t,e){return t!=null&&e in Object(t)}function fZ(t,e,r,n,i){return t===e?!0:t==null||e==null||!PL(t)&&!IL(e)?t!==t&&e!==e:nmr(t,e,fZ,r,n,i)}function nmr(t,e,r,n,i,s){var o=sd(t),a=sd(e),u=nZ,c=nZ;o||(u=id(t),u=u==gL?e0:u),a||(c=id(e),c=c==gL?e0:c);var f=u==e0&&!sZ(t),d=c==e0&&!sZ(e),h=u==c;if(h&&!f)return s||(s=new Kc),o||xmr(t)?a3e(t,e,r,n,i,s):gmr(t,e,u,r,n,i,s);if(!(i&r0)){var p=f&&Uu.call(t,"__wrapped__"),m=d&&Uu.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return s||(s=new Kc),r(g,y,n,i,s)}}return h?(s||(s=new Kc),ymr(t,e,r,n,i,s)):!1}function imr(t,e,r,n){var i=r.length,s=i,o=!n;if(t==null)return!s;for(t=Object(t);i--;){var a=r[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=r[i];var u=a[0],c=t[u],f=a[1];if(o&&a[2]){if(c===void 0&&!(u in t))return!1}else{var d=new Kc;if(n)var h=n(c,f,u,t,e,d);if(!(h===void 0?fZ(f,c,n,SL|r0,d):h))return!1}}return!0}function smr(t){if(!PL(t)||bmr(t))return!1;var e=h3e(t)||sZ(t)?vpr:ipr;return e.test(Zp(t))}function omr(t){return IL(t)&&pZ(t.length)&&!!Zr[n0.call(t)]}function amr(t){return typeof t=="function"?t:t==null?Imr:typeof t=="object"?sd(t)?lmr(t[0],t[1]):cmr(t):Omr(t)}function umr(t){if(!Emr(t))return Epr(t);var e=[];for(var r in Object(t))Uu.call(t,r)&&r!="constructor"&&e.push(r);return e}function cmr(t){var e=_mr(t);return e.length==1&&e[0][2]?l3e(e[0][0],e[0][1]):function(r){return r===t||imr(r,t,e)}}function lmr(t,e){return RL(t)&&c3e(e)?l3e(AL(t),e):function(r){var n=Amr(r,t);return n===void 0&&n===e?Pmr(r,t):fZ(e,n,void 0,SL|r0)}}function fmr(t){return function(e){return s3e(e,t)}}function dmr(t){if(typeof t=="string")return t;if(mZ(t))return z4e?z4e.call(t):"";var e=t+"";return e=="0"&&1/t==-V4e?"-0":e}function o3e(t){return sd(t)?t:Smr(t)}function hmr(t,e){return function(r,n){var i=sd(r)?upr:Zpr,s=e?e():{};return i(r,t,amr(n,2),s)}}function pmr(t,e){return function(r,n){if(r==null)return r;if(!hZ(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}function mmr(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),a=o.length;a--;){var u=o[t?a:++i];if(r(s[u],u,s)===!1)break}return e}}function a3e(t,e,r,n,i,s){var o=i&r0,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var f=-1,d=!0,h=i&SL?new bL:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],m=e[f];if(n)var g=o?n(m,p,f,e,t,s):n(p,m,f,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!cpr(e,function(y,w){if(!h.has(w)&&(p===y||r(p,y,n,i,s)))return h.add(w)})){d=!1;break}}else if(!(p===m||r(p,m,n,i,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function gmr(t,e,r,n,i,s,o){switch(r){case vL:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case t3e:return!(t.byteLength!=e.byteLength||!n(new H4e(t),new H4e(e)));case G4e:case K4e:case Z4e:return f3e(+t,+e);case X4e:return t.name==e.name&&t.message==e.message;case Y4e:case Q4e:return t==e+"";case yL:var a=ppr;case _L:var u=s&r0;if(a||(a=gpr),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;s|=SL,o.set(t,e);var f=a3e(a(t),a(e),n,i,s,o);return o.delete(t),f;case e3e:if(rZ)return rZ.call(t)==rZ.call(e)}return!1}function ymr(t,e,r,n,i,s){var o=i&r0,a=EL(t),u=a.length,c=EL(e),f=c.length;if(u!=f&&!o)return!1;for(var d=u;d--;){var h=a[d];if(!(o?h in e:Uu.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++d<u;){h=a[d];var y=t[h],w=e[h];if(n)var S=o?n(w,y,h,e,t,s):n(y,w,h,t,e,s);if(!(S===void 0?y===w||r(y,w,n,i,s):S)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var E=t.constructor,b=e.constructor;E!=b&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}function xL(t,e){var r=t.__data__;return wmr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function _mr(t){for(var e=EL(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,c3e(i)]}return e}function i0(t,e){var r=hpr(t,e);return smr(r)?r:void 0}var id=tmr;(oZ&&id(new oZ(new ArrayBuffer(1)))!=vL||iT&&id(new iT)!=yL||aZ&&id(aZ.resolve())!=L4e||uZ&&id(new uZ)!=_L||cZ&&id(new cZ)!=iZ)&&(id=function(t){var e=n0.call(t),r=e==e0?t.constructor:void 0,n=r?Zp(r):void 0;if(n)switch(n){case Spr:return vL;case Tpr:return yL;case Cpr:return L4e;case xpr:return _L;case Rpr:return iZ}return e});function vmr(t,e,r){e=RL(e,t)?[e]:o3e(e);for(var n,i=-1,o=e.length;++i<o;){var s=AL(e[i]);if(!(n=t!=null&&r(t,s)))break;t=t[s]}if(n)return n;var o=t?t.length:0;return!!o&&pZ(o)&&u3e(s,o)&&(sd(t)||d3e(t))}function u3e(t,e){return e=e??W4e,!!e&&(typeof t=="number"||spr.test(t))&&t>-1&&t%1==0&&t<e}function RL(t,e){if(sd(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||mZ(t)?!0:Qhr.test(t)||!Yhr.test(t)||e!=null&&t in Object(e)}function wmr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function bmr(t){return!!j4e&&j4e in t}function Emr(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||TL;return t===r}function c3e(t){return t===t&&!PL(t)}function l3e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Smr=dZ(function(t){t=Rmr(t);var e=[];return epr.test(t)&&e.push(""),t.replace(tpr,function(r,n,i,s){e.push(i?s.replace(npr,"$1"):n||r)}),e});function AL(t){if(typeof t=="string"||mZ(t))return t;var e=t+"";return e=="0"&&1/t==-V4e?"-0":e}function Zp(t){if(t!=null){try{return i3e.call(t)}catch{}try{return t+""}catch{}}return""}var Tmr=hmr(function(t,e,r){Uu.call(t,r)?t[r].push(e):t[r]=[e]});function dZ(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(jhr);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o),o};return r.cache=new(dZ.Cache||Jc),r}dZ.Cache=Jc;function f3e(t,e){return t===e||t!==t&&e!==e}function d3e(t){return Cmr(t)&&Uu.call(t,"callee")&&(!wpr.call(t,"callee")||n0.call(t)==gL)}var sd=Array.isArray;function hZ(t){return t!=null&&pZ(t.length)&&!h3e(t)}function Cmr(t){return IL(t)&&hZ(t)}function h3e(t){var e=PL(t)?n0.call(t):"";return e==J4e||e==Bhr}function pZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=W4e}function PL(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function IL(t){return!!t&&typeof t=="object"}function mZ(t){return typeof t=="symbol"||IL(t)&&n0.call(t)==e3e}var xmr=U4e?dpr(U4e):omr;function Rmr(t){return t==null?"":dmr(t)}function Amr(t,e,r){var n=t==null?void 0:s3e(t,e);return n===void 0?r:n}function Pmr(t,e){return t!=null&&vmr(t,e,rmr)}function EL(t){return hZ(t)?Jpr(t):umr(t)}function Imr(t){return t}function Omr(t){return RL(t)?lpr(AL(t)):fmr(t)}t0.exports=Tmr});var g3e=v(s0=>{"use strict";var OL=s0&&s0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s0,"__esModule",{value:!0});s0.HeaderTransformer=void 0;var m3e=OL(A4e()),kmr=OL(QF()),Nmr=OL(F4e()),Dmr=OL(p3e()),gZ=class{constructor(e){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=e,e.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(e.headers)?this.setHeaders(e.headers):kmr.default(e.headers)&&(this.headersTransform=e.headers)}transform(e,r){return this.shouldMapRow(e)?r(null,this.processRow(e)):r(null,{row:null,isValid:!0})}shouldMapRow(e){let{parserOptions:r}=this;if(!this.headersTransform&&r.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(e)){if(this.headersTransform)this.setHeaders(this.headersTransform(e));else if(this.shouldUseFirstRow)this.setHeaders(e);else return!0;return!1}return!0}processRow(e){if(!this.headers)return{row:e,isValid:!0};let{parserOptions:r}=this;if(!r.discardUnmappedColumns&&e.length>this.headersLength){if(!r.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${e.length}`);return{row:e,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${e.length}`}}return r.strictColumnHandling&&e.length<this.headersLength?{row:e,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${e.length}`}:{row:this.mapHeaders(e),isValid:!0}}mapHeaders(e){let r={},{headers:n,headersLength:i}=this;for(let s=0;s<i;s+=1){let o=n[s];if(!m3e.default(o)){let a=e[s];m3e.default(a)?r[o]="":r[o]=a}}return r}setHeaders(e){var r;let n=e.filter(i=>!!i);if(Nmr.default(n).length!==n.length){let i=Dmr.default(n),s=Object.keys(i).filter(o=>i[o].length>1);throw new Error(`Duplicate headers found ${JSON.stringify(s)}`)}this.headers=e,this.receivedHeaders=!0,this.headersLength=((r=this.headers)===null||r===void 0?void 0:r.length)||0}};s0.HeaderTransformer=gZ});var y3e=v(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.HeaderTransformer=o0.RowTransformerValidator=void 0;var Fmr=x4e();Object.defineProperty(o0,"RowTransformerValidator",{enumerable:!0,get:function(){return Fmr.RowTransformerValidator}});var Lmr=g3e();Object.defineProperty(o0,"HeaderTransformer",{enumerable:!0,get:function(){return Lmr.HeaderTransformer}})});var ad=v(kL=>{"use strict";Object.defineProperty(kL,"__esModule",{value:!0});kL.Token=void 0;var yZ=class{constructor(e){this.token=e.token,this.startCursor=e.startCursor,this.endCursor=e.endCursor}static isTokenRowDelimiter(e){let r=e.token;return r==="\r"||r===`
`||r===`\r
`}static isTokenCarriageReturn(e,r){return e.token===r.carriageReturn}static isTokenComment(e,r){return r.supportsComments&&!!e&&e.token===r.comment}static isTokenEscapeCharacter(e,r){return e.token===r.escapeChar}static isTokenQuote(e,r){return e.token===r.quote}static isTokenDelimiter(e,r){return e.token===r.delimiter}};kL.Token=yZ});var vZ=v(NL=>{"use strict";Object.defineProperty(NL,"__esModule",{value:!0});NL.Scanner=void 0;var _3e=ad(),Mmr=/((?:\r\n)|\n|\r)/,_Z=class{constructor(e){this.cursor=0,this.line=e.line,this.lineLength=this.line.length,this.parserOptions=e.parserOptions,this.hasMoreData=e.hasMoreData,this.cursor=e.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:e}=this,r=this.parserOptions.NEXT_TOKEN_REGEXP;if(e.search(r)===-1)return null;let n=r.exec(e);if(n==null)return null;let i=n[1],s=this.cursor+(n.index||0);return new _3e.Token({token:i,startCursor:s,endCursor:s+i.length-1})}get nextCharacterToken(){let{cursor:e,lineLength:r}=this;return r<=e?null:new _3e.Token({token:this.line[e],startCursor:e,endCursor:e})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let e=Mmr.exec(this.lineFromCursor);return e?(this.cursor+=(e.index||0)+e[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(e){return this.cursor=e,this}advanceToToken(e){return this.cursor=e.startCursor,this}advancePastToken(e){return this.cursor=e.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}};NL.Scanner=_Z});var FL=v(DL=>{"use strict";Object.defineProperty(DL,"__esModule",{value:!0});DL.ColumnFormatter=void 0;var wZ=class{constructor(e){e.trim?this.format=r=>r.trim():e.ltrim?this.format=r=>r.trimLeft():e.rtrim?this.format=r=>r.trimRight():this.format=r=>r}};DL.ColumnFormatter=wZ});var EZ=v(LL=>{"use strict";Object.defineProperty(LL,"__esModule",{value:!0});LL.NonQuotedColumnParser=void 0;var qmr=FL(),v3e=ad(),bZ=class{constructor(e){this.parserOptions=e,this.columnFormatter=new qmr.ColumnFormatter(e)}parse(e){if(!e.hasMoreCharacters)return null;let{parserOptions:r}=this,n=[],i=e.nextCharacterToken;for(;i&&!(v3e.Token.isTokenDelimiter(i,r)||v3e.Token.isTokenRowDelimiter(i));i=e.nextCharacterToken)n.push(i.token),e.advancePastToken(i);return this.columnFormatter.format(n.join(""))}};LL.NonQuotedColumnParser=bZ});var TZ=v(ML=>{"use strict";Object.defineProperty(ML,"__esModule",{value:!0});ML.QuotedColumnParser=void 0;var $mr=FL(),a0=ad(),SZ=class{constructor(e){this.parserOptions=e,this.columnFormatter=new $mr.ColumnFormatter(e)}parse(e){if(!e.hasMoreCharacters)return null;let r=e.cursor,{foundClosingQuote:n,col:i}=this.gatherDataBetweenQuotes(e);if(!n){if(e.advanceTo(r),!e.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${e.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(e),i}gatherDataBetweenQuotes(e){let{parserOptions:r}=this,n=!1,i=!1,s=[],o=e.nextCharacterToken;for(;!i&&o!==null;o=e.nextCharacterToken){let a=a0.Token.isTokenQuote(o,r);if(!n&&a)n=!0;else if(n)if(a0.Token.isTokenEscapeCharacter(o,r)){e.advancePastToken(o);let u=e.nextCharacterToken;u!==null&&(a0.Token.isTokenQuote(u,r)||a0.Token.isTokenEscapeCharacter(u,r))?(s.push(u.token),o=u):a?i=!0:s.push(o.token)}else a?i=!0:s.push(o.token);e.advancePastToken(o)}return{col:this.columnFormatter.format(s.join("")),foundClosingQuote:i}}checkForMalformedColumn(e){let{parserOptions:r}=this,{nextNonSpaceToken:n}=e;if(n){let i=a0.Token.isTokenDelimiter(n,r),s=a0.Token.isTokenRowDelimiter(n);if(!(i||s)){let o=e.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${r.escapedDelimiter}' OR new line got: '${n.token}'. at '${o}`)}e.advanceToToken(n)}else e.hasMoreData||e.advancePastLine()}};ML.QuotedColumnParser=SZ});var w3e=v(qL=>{"use strict";Object.defineProperty(qL,"__esModule",{value:!0});qL.ColumnParser=void 0;var Umr=EZ(),jmr=TZ(),Bmr=ad(),CZ=class{constructor(e){this.parserOptions=e,this.quotedColumnParser=new jmr.QuotedColumnParser(e),this.nonQuotedColumnParser=new Umr.NonQuotedColumnParser(e)}parse(e){let{nextNonSpaceToken:r}=e;return r!==null&&Bmr.Token.isTokenQuote(r,this.parserOptions)?(e.advanceToToken(r),this.quotedColumnParser.parse(e)):this.nonQuotedColumnParser.parse(e)}};qL.ColumnParser=CZ});var xZ=v(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.ColumnFormatter=ju.QuotedColumnParser=ju.NonQuotedColumnParser=ju.ColumnParser=void 0;var Hmr=w3e();Object.defineProperty(ju,"ColumnParser",{enumerable:!0,get:function(){return Hmr.ColumnParser}});var zmr=EZ();Object.defineProperty(ju,"NonQuotedColumnParser",{enumerable:!0,get:function(){return zmr.NonQuotedColumnParser}});var Vmr=TZ();Object.defineProperty(ju,"QuotedColumnParser",{enumerable:!0,get:function(){return Vmr.QuotedColumnParser}});var Wmr=FL();Object.defineProperty(ju,"ColumnFormatter",{enumerable:!0,get:function(){return Wmr.ColumnFormatter}})});var PZ=v($L=>{"use strict";Object.defineProperty($L,"__esModule",{value:!0});$L.RowParser=void 0;var Gmr=xZ(),u0=ad(),RZ="",AZ=class{constructor(e){this.parserOptions=e,this.columnParser=new Gmr.ColumnParser(e)}static isEmptyRow(e){return e.join(RZ).replace(/\s+/g,RZ)===RZ}parse(e){let{parserOptions:r}=this,{hasMoreData:n}=e,i=e,s=[],o=this.getStartToken(i,s);for(;o;){if(u0.Token.isTokenRowDelimiter(o))return i.advancePastToken(o),!i.hasMoreCharacters&&u0.Token.isTokenCarriageReturn(o,r)&&n?null:(i.truncateToCursor(),s);if(!this.shouldSkipColumnParse(i,o,s)){let a=this.columnParser.parse(i);if(a===null)return null;s.push(a)}o=i.nextNonSpaceToken}return n?null:(i.truncateToCursor(),s)}getStartToken(e,r){let n=e.nextNonSpaceToken;return n!==null&&u0.Token.isTokenDelimiter(n,this.parserOptions)?(r.push(""),e.nextNonSpaceToken):n}shouldSkipColumnParse(e,r,n){let{parserOptions:i}=this;if(u0.Token.isTokenDelimiter(r,i)){e.advancePastToken(r);let s=e.nextCharacterToken;if(!e.hasMoreCharacters||s!==null&&u0.Token.isTokenRowDelimiter(s)||s!==null&&u0.Token.isTokenDelimiter(s,i))return n.push(""),!0}return!1}};$L.RowParser=AZ});var E3e=v(UL=>{"use strict";Object.defineProperty(UL,"__esModule",{value:!0});UL.Parser=void 0;var Kmr=vZ(),b3e=PZ(),Xmr=ad(),IZ=class t{constructor(e){this.parserOptions=e,this.rowParser=new b3e.RowParser(this.parserOptions)}static removeBOM(e){return e&&e.charCodeAt(0)===65279?e.slice(1):e}parse(e,r){let n=new Kmr.Scanner({line:t.removeBOM(e),parserOptions:this.parserOptions,hasMoreData:r});return this.parserOptions.supportsComments?this.parseWithComments(n):this.parseWithoutComments(n)}parseWithoutComments(e){let r=[],n=!0;for(;n;)n=this.parseRow(e,r);return{line:e.line,rows:r}}parseWithComments(e){let{parserOptions:r}=this,n=[];for(let i=e.nextCharacterToken;i!==null;i=e.nextCharacterToken)if(Xmr.Token.isTokenComment(i,r)){if(e.advancePastLine()===null)return{line:e.lineFromCursor,rows:n};if(!e.hasMoreCharacters)return{line:e.lineFromCursor,rows:n};e.truncateToCursor()}else if(!this.parseRow(e,n))break;return{line:e.line,rows:n}}parseRow(e,r){if(!e.nextNonSpaceToken)return!1;let i=this.rowParser.parse(e);return i===null?!1:(this.parserOptions.ignoreEmpty&&b3e.RowParser.isEmptyRow(i)||r.push(i),!0)}};UL.Parser=IZ});var S3e=v(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.QuotedColumnParser=Xi.NonQuotedColumnParser=Xi.ColumnParser=Xi.Token=Xi.Scanner=Xi.RowParser=Xi.Parser=void 0;var Jmr=E3e();Object.defineProperty(Xi,"Parser",{enumerable:!0,get:function(){return Jmr.Parser}});var Zmr=PZ();Object.defineProperty(Xi,"RowParser",{enumerable:!0,get:function(){return Zmr.RowParser}});var Ymr=vZ();Object.defineProperty(Xi,"Scanner",{enumerable:!0,get:function(){return Ymr.Scanner}});var Qmr=ad();Object.defineProperty(Xi,"Token",{enumerable:!0,get:function(){return Qmr.Token}});var OZ=xZ();Object.defineProperty(Xi,"ColumnParser",{enumerable:!0,get:function(){return OZ.ColumnParser}});Object.defineProperty(Xi,"NonQuotedColumnParser",{enumerable:!0,get:function(){return OZ.NonQuotedColumnParser}});Object.defineProperty(Xi,"QuotedColumnParser",{enumerable:!0,get:function(){return OZ.QuotedColumnParser}})});var NZ=v(jL=>{"use strict";Object.defineProperty(jL,"__esModule",{value:!0});jL.CsvParserStream=void 0;var egr=require("string_decoder"),tgr=require("stream"),T3e=y3e(),rgr=S3e(),kZ=class t extends tgr.Transform{constructor(e){super({objectMode:e.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=e,this.parser=new rgr.Parser(e),this.headerTransformer=new T3e.HeaderTransformer(e),this.decoder=new egr.StringDecoder(e.encoding),this.rowTransformerValidator=new T3e.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(e){return this.rowTransformerValidator.rowTransform=e,this}validate(e){return this.rowTransformerValidator.rowValidator=e,this}emit(e,...r){return e==="end"?(this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1):super.emit(e,...r)}_transform(e,r,n){if(this.hasHitRowLimit)return n();let i=t.wrapDoneCallback(n);try{let{lines:s}=this,o=s+this.decoder.write(e),a=this.parse(o,!0);return this.processRows(a,i)}catch(s){return i(s)}}_flush(e){let r=t.wrapDoneCallback(e);if(this.hasHitRowLimit)return r();try{let n=this.lines+this.decoder.end(),i=this.parse(n,!1);return this.processRows(i,r)}catch(n){return r(n)}}parse(e,r){if(!e)return[];let{line:n,rows:i}=this.parser.parse(e,r);return this.lines=n,i}processRows(e,r){let n=e.length,i=s=>{let o=c=>{if(c)return r(c);if(s%100===0){setImmediate(()=>i(s+1));return}return i(s+1)};if(this.checkAndEmitHeaders(),s>=n||this.hasHitRowLimit)return r();if(this.parsedLineCount+=1,this.shouldSkipLine)return o();let a=e[s];this.rowCount+=1,this.parsedRowCount+=1;let u=this.rowCount;return this.transformRow(a,(c,f)=>{if(c)return this.rowCount-=1,o(c);if(!f)return o(new Error("expected transform result"));if(!f.isValid)this.emit("data-invalid",f.row,u,f.reason);else if(f.row)return this.pushRow(f.row,o);return o()})};i(0)}transformRow(e,r){try{this.headerTransformer.transform(e,(n,i)=>n?r(n):i?i.isValid?i.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(i.row,r):this.skipRow(r):(this.rowCount-=1,this.parsedRowCount-=1,r(null,{row:null,isValid:!0})):this.shouldEmitRows?r(null,{isValid:!1,row:e}):this.skipRow(r):r(new Error("Expected result from header transform")))}catch(n){r(n)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(e){return this.rowCount-=1,e(null,{row:null,isValid:!0})}pushRow(e,r){try{this.parserOptions.objectMode?this.push(e):this.push(JSON.stringify(e)),r()}catch(n){r(n)}}static wrapDoneCallback(e){let r=!1;return(n,...i)=>{if(n){if(r)throw n;r=!0,e(n);return}e(...i)}}};jL.CsvParserStream=kZ});var x3e=v(ln=>{"use strict";var C3e=ln&&ln.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),ngr=ln&&ln.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),igr=ln&&ln.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C3e(e,t,r);return ngr(e,t),e},sgr=ln&&ln.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&C3e(e,t,r)};Object.defineProperty(ln,"__esModule",{value:!0});ln.parseString=ln.parseFile=ln.parseStream=ln.parse=ln.ParserOptions=ln.CsvParserStream=void 0;var ogr=igr(require("fs")),agr=require("stream"),BL=WJ(),HL=NZ();sgr(GJ(),ln);var ugr=NZ();Object.defineProperty(ln,"CsvParserStream",{enumerable:!0,get:function(){return ugr.CsvParserStream}});var cgr=WJ();Object.defineProperty(ln,"ParserOptions",{enumerable:!0,get:function(){return cgr.ParserOptions}});ln.parse=t=>new HL.CsvParserStream(new BL.ParserOptions(t));ln.parseStream=(t,e)=>t.pipe(new HL.CsvParserStream(new BL.ParserOptions(e)));ln.parseFile=(t,e={})=>ogr.createReadStream(t).pipe(new HL.CsvParserStream(new BL.ParserOptions(e)));ln.parseString=(t,e)=>{let r=new agr.Readable;return r.push(t),r.push(null),r.pipe(new HL.CsvParserStream(new BL.ParserOptions(e)))}});var R3e=v(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.CsvParserStream=wr.ParserOptions=wr.parseFile=wr.parseStream=wr.parseString=wr.parse=wr.FormatterOptions=wr.CsvFormatterStream=wr.writeToPath=wr.writeToString=wr.writeToBuffer=wr.writeToStream=wr.write=wr.format=void 0;var ud=E4e();Object.defineProperty(wr,"format",{enumerable:!0,get:function(){return ud.format}});Object.defineProperty(wr,"write",{enumerable:!0,get:function(){return ud.write}});Object.defineProperty(wr,"writeToStream",{enumerable:!0,get:function(){return ud.writeToStream}});Object.defineProperty(wr,"writeToBuffer",{enumerable:!0,get:function(){return ud.writeToBuffer}});Object.defineProperty(wr,"writeToString",{enumerable:!0,get:function(){return ud.writeToString}});Object.defineProperty(wr,"writeToPath",{enumerable:!0,get:function(){return ud.writeToPath}});Object.defineProperty(wr,"CsvFormatterStream",{enumerable:!0,get:function(){return ud.CsvFormatterStream}});Object.defineProperty(wr,"FormatterOptions",{enumerable:!0,get:function(){return ud.FormatterOptions}});var c0=x3e();Object.defineProperty(wr,"parse",{enumerable:!0,get:function(){return c0.parse}});Object.defineProperty(wr,"parseString",{enumerable:!0,get:function(){return c0.parseString}});Object.defineProperty(wr,"parseStream",{enumerable:!0,get:function(){return c0.parseStream}});Object.defineProperty(wr,"parseFile",{enumerable:!0,get:function(){return c0.parseFile}});Object.defineProperty(wr,"ParserOptions",{enumerable:!0,get:function(){return c0.ParserOptions}});Object.defineProperty(wr,"CsvParserStream",{enumerable:!0,get:function(){return c0.CsvParserStream}})});var A3e=v((DZ,FZ)=>{(function(t,e){typeof DZ=="object"&&typeof FZ<"u"?FZ.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_customParseFormat=e()})(DZ,(function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,n=/\d\d/,i=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,o={},a=function(m){return(m=+m)+(m>68?1900:2e3)},u=function(m){return function(g){this[m]=+g}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=(function(g){if(!g||g==="Z")return 0;var y=g.match(/([+-]|\d\d)/g),w=60*y[1]+(+y[2]||0);return w===0?0:y[0]==="+"?-w:w})(m)}],f=function(m){var g=o[m];return g&&(g.indexOf?g:g.s.concat(g.f))},d=function(m,g){var y,w=o.meridiem;if(w){for(var S=1;S<=24;S+=1)if(m.indexOf(w(S,0,g))>-1){y=S>12;break}}else y=m===(g?"pm":"PM");return y},h={A:[s,function(m){this.afternoon=d(m,!1)}],a:[s,function(m){this.afternoon=d(m,!0)}],Q:[r,function(m){this.month=3*(m-1)+1}],S:[r,function(m){this.milliseconds=100*+m}],SS:[n,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,u("seconds")],ss:[i,u("seconds")],m:[i,u("minutes")],mm:[i,u("minutes")],H:[i,u("hours")],h:[i,u("hours")],HH:[i,u("hours")],hh:[i,u("hours")],D:[i,u("day")],DD:[n,u("day")],Do:[s,function(m){var g=o.ordinal,y=m.match(/\d+/);if(this.day=y[0],g)for(var w=1;w<=31;w+=1)g(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],w:[i,u("week")],ww:[n,u("week")],M:[i,u("month")],MM:[n,u("month")],MMM:[s,function(m){var g=f("months"),y=(f("monthsShort")||g.map((function(w){return w.slice(0,3)}))).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(m){var g=f("months").indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,u("year")],YY:[n,function(m){this.year=a(m)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function p(m){var g,y;g=m,y=o&&o.formats;for(var w=(m=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(I,P,F){var $=F&&F.toUpperCase();return P||y[F]||t[F]||y[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(D,L,z){return L||z.slice(1)}))}))).match(e),S=w.length,E=0;E<S;E+=1){var b=w[E],O=h[b],M=O&&O[0],x=O&&O[1];w[E]=x?{regex:M,parser:x}:b.replace(/^\[|\]$/g,"")}return function(I){for(var P={},F=0,$=0;F<S;F+=1){var D=w[F];if(typeof D=="string")$+=D.length;else{var L=D.regex,z=D.parser,ee=I.slice($),N=L.exec(ee)[0];z.call(P,N),I=I.replace(N,"")}}return(function(H){var X=H.afternoon;if(X!==void 0){var V=H.hours;X?V<12&&(H.hours+=12):V===12&&(H.hours=0),delete H.afternoon}})(P),P}}return function(m,g,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(a=m.parseTwoDigitYear);var w=g.prototype,S=w.parse;w.parse=function(E){var b=E.date,O=E.utc,M=E.args;this.$u=O;var x=M[1];if(typeof x=="string"){var I=M[2]===!0,P=M[3]===!0,F=I||P,$=M[2];P&&($=M[2]),o=this.$locale(),!I&&$&&(o=y.Ls[$]),this.$d=(function(ee,N,H,X){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*ee);var V=p(N)(ee),ue=V.year,_e=V.month,xe=V.day,De=V.hours,ut=V.minutes,Me=V.seconds,Tt=V.milliseconds,Ue=V.zone,We=V.week,kt=new Date,dt=xe||(ue||_e?1:kt.getDate()),st=ue||kt.getFullYear(),se=0;ue&&!_e||(se=_e>0?_e-1:kt.getMonth());var Se,Ne=De||0,je=ut||0,ht=Me||0,Ve=Tt||0;return Ue?new Date(Date.UTC(st,se,dt,Ne,je,ht,Ve+60*Ue.offset*1e3)):H?new Date(Date.UTC(st,se,dt,Ne,je,ht,Ve)):(Se=new Date(st,se,dt,Ne,je,ht,Ve),We&&(Se=X(Se).week(We).toDate()),Se)}catch{return new Date("")}})(b,x,O,y),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),F&&b!=this.format(x)&&(this.$d=new Date("")),o={}}else if(x instanceof Array)for(var D=x.length,L=1;L<=D;L+=1){M[1]=x[L-1];var z=y.apply(this,M);if(z.isValid()){this.$d=z.$d,this.$L=z.$L,this.init();break}L===D&&(this.$d=new Date(""))}else S.call(this,E)}}}))});var P3e=v((LZ,MZ)=>{(function(t,e){typeof LZ=="object"&&typeof MZ<"u"?MZ.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_utc=e()})(LZ,(function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,s){var o=i.prototype;s.utc=function(p){var m={date:p,utc:!0,args:arguments};return new i(m)},o.utc=function(p){var m=s(this.toDate(),{locale:this.$L,utc:!0});return p?m.add(this.utcOffset(),t):m},o.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var a=o.parse;o.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),a.call(this,p)};var u=o.init;o.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else u.call(this)};var c=o.utcOffset;o.utcOffset=function(p,m){var g=this.$utils().u;if(g(p))return this.$u?0:g(this.$offset)?c.call(this):this.$offset;if(typeof p=="string"&&(p=(function(E){E===void 0&&(E="");var b=E.match(e);if(!b)return null;var O=(""+b[0]).match(r)||["-",0,0],M=O[0],x=60*+O[1]+ +O[2];return x===0?0:M==="+"?x:-x})(p),p===null))return this;var y=Math.abs(p)<=16?60*p:p;if(y===0)return this.utc(m);var w=this.clone();if(m)return w.$offset=y,w.$u=!1,w;var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(w=this.local().add(y+S,t)).$offset=y,w.$x.$localOffset=S,w};var f=o.format;o.format=function(p){var m=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,m)},o.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var d=o.toDate;o.toDate=function(p){return p==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=o.diff;o.diff=function(p,m,g){if(p&&this.$u===p.$u)return h.call(this,p,m,g);var y=this.local(),w=s(p).local();return h.call(y,w,m,g)}}}))});var I3e=v((qZ,$Z)=>{(function(t,e){typeof qZ=="object"&&typeof $Z<"u"?$Z.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(qZ,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",a="day",u="week",c="month",f="quarter",d="year",h="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var L=["th","st","nd","rd"],z=D%100;return"["+D+(L[(z-20)%10]||L[z]||L[0])+"]"}},w=function(D,L,z){var ee=String(D);return!ee||ee.length>=L?D:""+Array(L+1-ee.length).join(z)+D},S={s:w,z:function(D){var L=-D.utcOffset(),z=Math.abs(L),ee=Math.floor(z/60),N=z%60;return(L<=0?"+":"-")+w(ee,2,"0")+":"+w(N,2,"0")},m:function D(L,z){if(L.date()<z.date())return-D(z,L);var ee=12*(z.year()-L.year())+(z.month()-L.month()),N=L.clone().add(ee,c),H=z-N<0,X=L.clone().add(ee+(H?-1:1),c);return+(-(ee+(z-N)/(H?N-X:X-N))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:c,y:d,w:u,d:a,D:h,h:o,m:s,s:i,ms:n,Q:f}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},E="en",b={};b[E]=y;var O="$isDayjsObject",M=function(D){return D instanceof F||!(!D||!D[O])},x=function D(L,z,ee){var N;if(!L)return E;if(typeof L=="string"){var H=L.toLowerCase();b[H]&&(N=H),z&&(b[H]=z,N=H);var X=L.split("-");if(!N&&X.length>1)return D(X[0])}else{var V=L.name;b[V]=L,N=V}return!ee&&N&&(E=N),N||!ee&&E},I=function(D,L){if(M(D))return D.clone();var z=typeof L=="object"?L:{};return z.date=D,z.args=arguments,new F(z)},P=S;P.l=x,P.i=M,P.w=function(D,L){return I(D,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var F=(function(){function D(z){this.$L=x(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[O]=!0}var L=D.prototype;return L.parse=function(z){this.$d=(function(ee){var N=ee.date,H=ee.utc;if(N===null)return new Date(NaN);if(P.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var X=N.match(m);if(X){var V=X[2]-1||0,ue=(X[7]||"0").substring(0,3);return H?new Date(Date.UTC(X[1],V,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ue)):new Date(X[1],V,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ue)}}return new Date(N)})(z),this.init()},L.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},L.$utils=function(){return P},L.isValid=function(){return this.$d.toString()!==p},L.isSame=function(z,ee){var N=I(z);return this.startOf(ee)<=N&&N<=this.endOf(ee)},L.isAfter=function(z,ee){return I(z)<this.startOf(ee)},L.isBefore=function(z,ee){return this.endOf(ee)<I(z)},L.$g=function(z,ee,N){return P.u(z)?this[ee]:this.set(N,z)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(z,ee){var N=this,H=!!P.u(ee)||ee,X=P.p(z),V=function(Ue,We){var kt=P.w(N.$u?Date.UTC(N.$y,We,Ue):new Date(N.$y,We,Ue),N);return H?kt:kt.endOf(a)},ue=function(Ue,We){return P.w(N.toDate()[Ue].apply(N.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(We)),N)},_e=this.$W,xe=this.$M,De=this.$D,ut="set"+(this.$u?"UTC":"");switch(X){case d:return H?V(1,0):V(31,11);case c:return H?V(1,xe):V(0,xe+1);case u:var Me=this.$locale().weekStart||0,Tt=(_e<Me?_e+7:_e)-Me;return V(H?De-Tt:De+(6-Tt),xe);case a:case h:return ue(ut+"Hours",0);case o:return ue(ut+"Minutes",1);case s:return ue(ut+"Seconds",2);case i:return ue(ut+"Milliseconds",3);default:return this.clone()}},L.endOf=function(z){return this.startOf(z,!1)},L.$set=function(z,ee){var N,H=P.p(z),X="set"+(this.$u?"UTC":""),V=(N={},N[a]=X+"Date",N[h]=X+"Date",N[c]=X+"Month",N[d]=X+"FullYear",N[o]=X+"Hours",N[s]=X+"Minutes",N[i]=X+"Seconds",N[n]=X+"Milliseconds",N)[H],ue=H===a?this.$D+(ee-this.$W):ee;if(H===c||H===d){var _e=this.clone().set(h,1);_e.$d[V](ue),_e.init(),this.$d=_e.set(h,Math.min(this.$D,_e.daysInMonth())).$d}else V&&this.$d[V](ue);return this.init(),this},L.set=function(z,ee){return this.clone().$set(z,ee)},L.get=function(z){return this[P.p(z)]()},L.add=function(z,ee){var N,H=this;z=Number(z);var X=P.p(ee),V=function(xe){var De=I(H);return P.w(De.date(De.date()+Math.round(xe*z)),H)};if(X===c)return this.set(c,this.$M+z);if(X===d)return this.set(d,this.$y+z);if(X===a)return V(1);if(X===u)return V(7);var ue=(N={},N[s]=e,N[o]=r,N[i]=t,N)[X]||1,_e=this.$d.getTime()+z*ue;return P.w(_e,this)},L.subtract=function(z,ee){return this.add(-1*z,ee)},L.format=function(z){var ee=this,N=this.$locale();if(!this.isValid())return N.invalidDate||p;var H=z||"YYYY-MM-DDTHH:mm:ssZ",X=P.z(this),V=this.$H,ue=this.$m,_e=this.$M,xe=N.weekdays,De=N.months,ut=N.meridiem,Me=function(We,kt,dt,st){return We&&(We[kt]||We(ee,H))||dt[kt].slice(0,st)},Tt=function(We){return P.s(V%12||12,We,"0")},Ue=ut||function(We,kt,dt){var st=We<12?"AM":"PM";return dt?st.toLowerCase():st};return H.replace(g,(function(We,kt){return kt||(function(dt){switch(dt){case"YY":return String(ee.$y).slice(-2);case"YYYY":return P.s(ee.$y,4,"0");case"M":return _e+1;case"MM":return P.s(_e+1,2,"0");case"MMM":return Me(N.monthsShort,_e,De,3);case"MMMM":return Me(De,_e);case"D":return ee.$D;case"DD":return P.s(ee.$D,2,"0");case"d":return String(ee.$W);case"dd":return Me(N.weekdaysMin,ee.$W,xe,2);case"ddd":return Me(N.weekdaysShort,ee.$W,xe,3);case"dddd":return xe[ee.$W];case"H":return String(V);case"HH":return P.s(V,2,"0");case"h":return Tt(1);case"hh":return Tt(2);case"a":return Ue(V,ue,!0);case"A":return Ue(V,ue,!1);case"m":return String(ue);case"mm":return P.s(ue,2,"0");case"s":return String(ee.$s);case"ss":return P.s(ee.$s,2,"0");case"SSS":return P.s(ee.$ms,3,"0");case"Z":return X}return null})(We)||X.replace(":","")}))},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(z,ee,N){var H,X=this,V=P.p(ee),ue=I(z),_e=(ue.utcOffset()-this.utcOffset())*e,xe=this-ue,De=function(){return P.m(X,ue)};switch(V){case d:H=De()/12;break;case c:H=De();break;case f:H=De()/3;break;case u:H=(xe-_e)/6048e5;break;case a:H=(xe-_e)/864e5;break;case o:H=xe/r;break;case s:H=xe/e;break;case i:H=xe/t;break;default:H=xe}return N?H:P.a(H)},L.daysInMonth=function(){return this.endOf(c).$D},L.$locale=function(){return b[this.$L]},L.locale=function(z,ee){if(!z)return this.$L;var N=this.clone(),H=x(z,ee,!0);return H&&(N.$L=H),N},L.clone=function(){return P.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},D})(),$=F.prototype;return I.prototype=$,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",a],["$M",c],["$y",d],["$D",h]].forEach((function(D){$[D[1]]=function(L){return this.$g(L,D[0],D[1])}})),I.extend=function(D,L){return D.$i||(D(L,F,I),D.$i=!0),I},I.locale=x,I.isDayjs=M,I.unix=function(D){return I(1e3*D)},I.en=b[E],I.Ls=b,I.p={},I}))});var D3e=v((n6r,N3e)=>{var O3e=require("fs"),k3e=R3e(),lgr=A3e(),fgr=P3e(),oT=I3e().extend(lgr).extend(fgr),dgr=MS(),{fs:{exists:hgr}}=Gi(),pgr={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}},UZ=class{constructor(e){this.workbook=e,this.worksheet=null}async readFile(e,r){if(r=r||{},!await hgr(e))throw new Error(`File not found: ${e}`);let n=O3e.createReadStream(e),i=await this.read(n,r);return n.close(),i}read(e,r){return r=r||{},new Promise((n,i)=>{let s=this.workbook.addWorksheet(r.sheetName),o=r.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],a=r.map||function(c){if(c==="")return null;let f=Number(c);if(!Number.isNaN(f)&&f!==1/0)return f;let d=o.reduce((p,m)=>{if(p)return p;let g=oT(c,m,!0);return g.isValid()?g:null},null);if(d)return new Date(d.valueOf());let h=pgr[c];return h!==void 0?h:c},u=k3e.parse(r.parserOptions).on("data",c=>{s.addRow(c.map(a))}).on("end",()=>{u.emit("worksheet",s)});u.on("worksheet",n).on("error",i),e.pipe(u)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(e,r){return new Promise((n,i)=>{r=r||{};let s=this.workbook.getWorksheet(r.sheetName||r.sheetId),o=k3e.format(r.formatterOptions);e.on("finish",()=>{n()}),o.on("error",i),o.pipe(e);let{dateFormat:a,dateUTC:u}=r,c=r.map||(h=>{if(h){if(h.text||h.hyperlink)return h.hyperlink||h.text||"";if(h.formula||h.result)return h.result||"";if(h instanceof Date)return a?u?oT.utc(h).format(a):oT(h).format(a):u?oT.utc(h).format():oT(h).format();if(h.error)return h.error;if(typeof h=="object")return JSON.stringify(h)}return h}),f=r.includeEmptyRows===void 0||r.includeEmptyRows,d=1;s&&s.eachRow((h,p)=>{if(f)for(;d++<p-1;)o.write([]);let{values:m}=h;m.shift(),o.write(m.map(c)),d=p}),o.end()})}writeFile(e,r){r=r||{};let n={encoding:r.encoding||"utf8"},i=O3e.createWriteStream(e,n);return this.write(i,r)}async writeBuffer(e){let r=new dgr;return await this.write(r,e),r.read()}};N3e.exports=UZ});var M3e=v((i6r,L3e)=>{"use strict";var F3e=Wke(),mgr=FW(),ggr=EJ(),ygr=D3e(),jZ=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new mgr}get xlsx(){return this._xlsx||(this._xlsx=new ggr(this)),this._xlsx}get csv(){return this._csv||(this._csv=new ygr(this)),this._csv}get nextId(){for(let e=1;e<this._worksheets.length;e++)if(!this._worksheets[e])return e;return this._worksheets.length||1}addWorksheet(e,r){let n=this.nextId;r&&(typeof r=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),r={properties:{tabColor:{argb:r}}}):(r.argb||r.theme||r.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),r={properties:{tabColor:r}}));let i=this._worksheets.reduce((a,u)=>(u&&u.orderNo)>a?u.orderNo:a,0),s=Object.assign({},r,{id:n,name:e,orderNo:i+1,workbook:this}),o=new F3e(s);return this._worksheets[n]=o,o}removeWorksheetEx(e){delete this._worksheets[e.id]}removeWorksheet(e){let r=this.getWorksheet(e);r&&r.destroy()}getWorksheet(e){if(e===void 0)return this._worksheets.find(Boolean);if(typeof e=="number")return this._worksheets[e];if(typeof e=="string")return this._worksheets.find(r=>r&&r.name===e)}get worksheets(){return this._worksheets.slice(1).sort((e,r)=>e.orderNo-r.orderNo).filter(Boolean)}eachSheet(e){this.worksheets.forEach(r=>{e(r,r.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(e){let r=this.media.length;return this.media.push(Object.assign({},e,{type:"image"})),r}getImage(e){return this.media[e]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(e=>e.model),sheets:this.worksheets.map(e=>e.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(e){this.creator=e.creator,this.lastModifiedBy=e.lastModifiedBy,this.lastPrinted=e.lastPrinted,this.created=e.created,this.modified=e.modified,this.company=e.company,this.manager=e.manager,this.title=e.title,this.subject=e.subject,this.keywords=e.keywords,this.category=e.category,this.description=e.description,this.language=e.language,this.revision=e.revision,this.contentStatus=e.contentStatus,this.properties=e.properties,this.calcProperties=e.calcProperties,this._worksheets=[],e.worksheets.forEach(r=>{let{id:n,name:i,state:s}=r,o=e.sheets&&e.sheets.findIndex(u=>u.id===n),a=this._worksheets[n]=new F3e({id:n,name:i,orderNo:o,state:s,workbook:this});a.model=r}),this._definedNames.model=e.definedNames,this.views=e.views,this._themes=e.themes,this.media=e.media||[]}};L3e.exports=jZ});var $3e=v((s6r,q3e)=>{"use strict";var _gr=EJ(),BZ=class{constructor(e){this.model=e}get xlsx(){return this._xlsx||(this._xlsx=new _gr(this)),this._xlsx}};q3e.exports=BZ});var j3e=v((o6r,U3e)=>{var vgr=typeof process=="object"&&process&&process.platform==="win32";U3e.exports=vgr?{sep:"\\"}:{sep:"/"}});var HZ=v((a6r,V3e)=>{"use strict";V3e.exports=H3e;function H3e(t,e,r){t instanceof RegExp&&(t=B3e(t,r)),e instanceof RegExp&&(e=B3e(e,r));var n=z3e(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function B3e(t,e){var r=e.match(t);return r?r[0]:null}H3e.range=z3e;function z3e(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),f=u;if(u>=0&&c>0){if(t===e)return[u,c];for(n=[],s=r.length;f>=0&&!a;)f==u?(n.push(f),u=r.indexOf(t,f+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,f+1)),f=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}});var Q3e=v((u6r,Y3e)=>{var W3e=HZ();Y3e.exports=Egr;var G3e="\0SLASH"+Math.random()+"\0",K3e="\0OPEN"+Math.random()+"\0",VZ="\0CLOSE"+Math.random()+"\0",X3e="\0COMMA"+Math.random()+"\0",J3e="\0PERIOD"+Math.random()+"\0";function zZ(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function wgr(t){return t.split("\\\\").join(G3e).split("\\{").join(K3e).split("\\}").join(VZ).split("\\,").join(X3e).split("\\.").join(J3e)}function bgr(t){return t.split(G3e).join("\\").split(K3e).join("{").split(VZ).join("}").split(X3e).join(",").split(J3e).join(".")}function Z3e(t){if(!t)return[""];var e=[],r=W3e("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Z3e(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Egr(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),aT(wgr(t),!0).map(bgr)):[]}function Sgr(t){return"{"+t+"}"}function Tgr(t){return/^-?0\d/.test(t)}function Cgr(t,e){return t<=e}function xgr(t,e){return t>=e}function aT(t,e){var r=[],n=W3e("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?aT(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=u||c,d=n.body.indexOf(",")>=0;if(!f&&!d)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+VZ+n.post,aT(t)):[t];var h;if(f)h=n.body.split(/\.\./);else if(h=Z3e(n.body),h.length===1&&(h=aT(h[0],!1).map(Sgr),h.length===1))return s.map(function(F){return n.pre+h[0]+F});var p;if(f){var m=zZ(h[0]),g=zZ(h[1]),y=Math.max(h[0].length,h[1].length),w=h.length==3?Math.abs(zZ(h[2])):1,S=Cgr,E=g<m;E&&(w*=-1,S=xgr);var b=h.some(Tgr);p=[];for(var O=m;S(O,g);O+=w){var M;if(c)M=String.fromCharCode(O),M==="\\"&&(M="");else if(M=String(O),b){var x=y-M.length;if(x>0){var I=new Array(x+1).join("0");O<0?M="-"+I+M.slice(1):M=I+M}}p.push(M)}}else{p=[];for(var P=0;P<h.length;P++)p.push.apply(p,aT(h[P],!1))}for(var P=0;P<p.length;P++)for(var o=0;o<s.length;o++){var a=i+p[P]+s[o];(!e||f||a)&&r.push(a)}}return r}});var sHe=v((l6r,JZ)=>{var Qs=JZ.exports=(t,e,r={})=>(zL(e),!r.nocomment&&e.charAt(0)==="#"?!1:new l0(e,r).match(t));JZ.exports=Qs;var KZ=j3e();Qs.sep=KZ.sep;var Ia=Symbol("globstar **");Qs.GLOBSTAR=Ia;var Rgr=Q3e(),eHe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},XZ="[^/]",WZ=XZ+"*?",Agr="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Pgr="(?:(?!(?:\\/|^)\\.).)*?",nHe=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),tHe=nHe("().*{}+?[]^$\\!"),Igr=nHe("[.("),rHe=/\/+/;Qs.filter=(t,e={})=>(r,n,i)=>Qs(r,t,e);var cd=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Qs.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Qs;let e=Qs,r=(n,i,s)=>e(n,i,cd(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,cd(t,s))}},r.Minimatch.defaults=n=>e.defaults(cd(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,cd(t,i)),r.defaults=n=>e.defaults(cd(t,n)),r.makeRe=(n,i)=>e.makeRe(n,cd(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,cd(t,i)),r.match=(n,i,s)=>e.match(n,i,cd(t,s)),r};Qs.braceExpand=(t,e)=>iHe(t,e);var iHe=(t,e={})=>(zL(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Rgr(t)),Ogr=1024*64,zL=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Ogr)throw new TypeError("pattern is too long")},GZ=Symbol("subparse");Qs.makeRe=(t,e)=>new l0(t,e||{}).makeRe();Qs.match=(t,e,r={})=>{let n=new l0(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var kgr=t=>t.replace(/\\(.)/g,"$1"),Ngr=t=>t.replace(/\\([^-\]])/g,"$1"),Dgr=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Fgr=t=>t.replace(/[[\]\\]/g,"\\$&"),l0=class{constructor(e,r){zL(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(rHe)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,u=r.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c=r[o],f=e[s];if(this.debug(r,c,f),c===!1)return!1;if(c===Ia){this.debug("GLOBSTAR",[r,c,f]);var d=s,h=o+1;if(h===u){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;d<a;){var p=e[d];if(this.debug(`
globstar while`,e,d,r,h,p),this.matchOne(e.slice(d),r.slice(h),n))return this.debug("globstar found match!",d,a,p),!0;if(p==="."||p===".."||!i.dot&&p.charAt(0)==="."){this.debug("dot detected!",e,d,r,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,d,r,h),d===a))}var m;if(typeof c=="string"?(m=f===c,this.debug("string match",c,f,m)):(m=f.match(c),this.debug("pattern match",c,f,m)),!m)return!1}if(s===a&&o===u)return!0;if(s===a)return n;if(o===u)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return iHe(this.pattern,this.options)}parse(e,r){zL(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return Ia;if(e==="")return"";let i="",s=!1,o=!1,a=[],u=[],c,f=!1,d=-1,h=-1,p,m,g,y=e.charAt(0)===".",w=n.dot||y,S=()=>y?"":w?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",E=x=>x.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=()=>{if(c){switch(c){case"*":i+=WZ,s=!0;break;case"?":i+=XZ,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let x=0,I;x<e.length&&(I=e.charAt(x));x++){if(this.debug("%s	%s %s %j",e,x,i,I),o){if(I==="/")return!1;tHe[I]&&(i+="\\"),i+=I,o=!1;continue}switch(I){case"/":return!1;case"\\":if(f&&e.charAt(x+1)==="-"){i+=I;continue}b(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,x,i,I),f){this.debug("  in class"),I==="!"&&x===h+1&&(I="^"),i+=I;continue}this.debug("call clearStateChar %j",c),b(),c=I,n.noext&&b();continue;case"(":{if(f){i+="(";continue}if(!c){i+="\\(";continue}let P={type:c,start:x-1,reStart:i.length,open:eHe[c].open,close:eHe[c].close};this.debug(this.pattern,"	",P),a.push(P),i+=P.open,P.start===0&&P.type!=="!"&&(y=!0,i+=E(e.slice(x+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let P=a[a.length-1];if(f||!P){i+="\\)";continue}a.pop(),b(),s=!0,m=P,i+=m.close,m.type==="!"&&u.push(Object.assign(m,{reEnd:i.length}));continue}case"|":{let P=a[a.length-1];if(f||!P){i+="\\|";continue}b(),i+="|",P.start===0&&P.type!=="!"&&(y=!0,i+=E(e.slice(x+1)));continue}case"[":if(b(),f){i+="\\"+I;continue}f=!0,h=x,d=i.length,i+=I;continue;case"]":if(x===h+1||!f){i+="\\"+I;continue}p=e.substring(h+1,x);try{RegExp("["+Fgr(Ngr(p))+"]"),i+=I}catch{i=i.substring(0,d)+"(?:$.)"}s=!0,f=!1;continue;default:b(),tHe[I]&&!(I==="^"&&f)&&(i+="\\"),i+=I;break}}for(f&&(p=e.slice(h+1),g=this.parse(p,GZ),i=i.substring(0,d)+"\\["+g[0],s=s||g[1]),m=a.pop();m;m=a.pop()){let x;x=i.slice(m.reStart+m.open.length),this.debug("setting tail",i,m),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(P,F,$)=>($||($="\\"),F+F+$+"|")),this.debug(`tail=%j
   %s`,x,x,m,i);let I=m.type==="*"?WZ:m.type==="?"?XZ:"\\"+m.type;s=!0,i=i.slice(0,m.reStart)+I+"\\("+x}b(),o&&(i+="\\\\");let O=Igr[i.charAt(0)];for(let x=u.length-1;x>-1;x--){let I=u[x],P=i.slice(0,I.reStart),F=i.slice(I.reStart,I.reEnd-8),$=i.slice(I.reEnd),D=i.slice(I.reEnd-8,I.reEnd)+$,L=P.split(")").length,z=P.split("(").length-L,ee=$;for(let H=0;H<z;H++)ee=ee.replace(/\)[+*?]?/,"");$=ee;let N=$===""&&r!==GZ?"(?:$|\\/)":"";i=P+F+$+N+D}if(i!==""&&s&&(i="(?=.)"+i),O&&(i=S()+i),r===GZ)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return kgr(e);let M=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",M),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?WZ:r.dot?Agr:Pgr,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?Dgr(a):a===Ia?Ia:a._src).reduce((a,u)=>(a[a.length-1]===Ia&&u===Ia||a.push(u),a),[]),o.forEach((a,u)=>{a!==Ia||o[u-1]===Ia||(u===0?o.length>1?o[u+1]="(?:\\/|"+n+"\\/)?"+o[u+1]:o[u]=n:u===o.length-1?o[u-1]+="(?:\\/|"+n+")?":(o[u-1]+="(?:\\/|\\/"+n+"\\/)"+o[u+1],o[u+1]=Ia))}),o.filter(a=>a!==Ia).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;KZ.sep!=="/"&&(e=e.split(KZ.sep).join("/")),e=e.split(rHe),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],u=e;if(n.matchBase&&a.length===1&&(u=[s]),this.matchOne(u,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Qs.defaults(e).Minimatch}};Qs.Minimatch=l0});var lHe=v((f6r,cHe)=>{cHe.exports=uHe;var YZ=require("fs"),{EventEmitter:Lgr}=require("events"),{Minimatch:ZZ}=sHe(),{resolve:Mgr}=require("path");function qgr(t,e){return new Promise((r,n)=>{YZ.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function oHe(t,e){return new Promise((r,n)=>{(e?YZ.stat:YZ.lstat)(t,(s,o)=>{if(s)switch(s.code){case"ENOENT":r(e?oHe(t,!1):null);break;default:r(null);break}else r(o)})})}async function*aHe(t,e,r,n,i,s){let o=await qgr(e+t,s);for(let a of o){let u=a.name;u===void 0&&(u=a,n=!0);let c=t+"/"+u,f=c.slice(1),d=e+"/"+f,h=null;(n||r)&&(h=await oHe(d,r)),!h&&a.name!==void 0&&(h=a),h===null&&(h={isDirectory:()=>!1}),h.isDirectory()?i(f)||(yield{relative:f,absolute:d,stats:h},yield*aHe(c,e,r,n,i,!1)):yield{relative:f,absolute:d,stats:h}}}async function*$gr(t,e,r,n){yield*aHe("",t,e,r,n,!0)}function Ugr(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}var VL=class extends Lgr{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=Ugr(r||{}),this.matchers=[],this.options.pattern){let i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new ZZ(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){let i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new ZZ(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){let i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new ZZ(s,{dot:!0}))}this.iterator=$gr(Mgr(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){let n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{let r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}};function uHe(t,e,r){return new VL(t,e,r)}uHe.ReaddirGlob=VL});var dHe=v((WL,fHe)=>{(function(t,e){typeof WL=="object"&&typeof fHe<"u"?e(WL):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.async={}))})(WL,(function(t){"use strict";function e(j,...q){return(...B)=>j(...q,...B)}function r(j){return function(...q){var B=q.pop();return j.call(this,q,B)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,s=typeof process=="object"&&typeof process.nextTick=="function";function o(j){setTimeout(j,0)}function a(j){return(q,...B)=>j(()=>q(...B))}var u;n?u=queueMicrotask:i?u=setImmediate:s?u=process.nextTick:u=o;var c=a(u);function f(j){return p(j)?function(...q){let B=q.pop(),J=j.apply(this,q);return d(J,B)}:r(function(q,B){var J;try{J=j.apply(this,q)}catch(fe){return B(fe)}if(J&&typeof J.then=="function")return d(J,B);B(null,J)})}function d(j,q){return j.then(B=>{h(q,null,B)},B=>{h(q,B&&(B instanceof Error||B.message)?B:new Error(B))})}function h(j,q,B){try{j(q,B)}catch(J){c(fe=>{throw fe},J)}}function p(j){return j[Symbol.toStringTag]==="AsyncFunction"}function m(j){return j[Symbol.toStringTag]==="AsyncGenerator"}function g(j){return typeof j[Symbol.asyncIterator]=="function"}function y(j){if(typeof j!="function")throw new Error("expected a function");return p(j)?f(j):j}function w(j,q){if(q||(q=j.length),!q)throw new Error("arity is undefined");function B(...J){return typeof J[q-1]=="function"?j.apply(this,J):new Promise((fe,pe)=>{J[q-1]=(ye,...we)=>{if(ye)return pe(ye);fe(we.length>1?we:we[0])},j.apply(this,J)})}return B}function S(j){return function(B,...J){return w(function(pe){var ye=this;return j(B,(we,Re)=>{y(we).apply(ye,J.concat(Re))},pe)})}}function E(j,q,B,J){q=q||[];var fe=[],pe=0,ye=y(B);return j(q,(we,Re,Ze)=>{var Kt=pe++;ye(we,(ir,Zt)=>{fe[Kt]=Zt,Ze(ir)})},we=>{J(we,fe)})}function b(j){return j&&typeof j.length=="number"&&j.length>=0&&j.length%1===0}let O={};function M(j){function q(...B){if(j!==null){var J=j;j=null,J.apply(this,B)}}return Object.assign(q,j),q}function x(j){return j[Symbol.iterator]&&j[Symbol.iterator]()}function I(j){var q=-1,B=j.length;return function(){return++q<B?{value:j[q],key:q}:null}}function P(j){var q=-1;return function(){var J=j.next();return J.done?null:(q++,{value:J.value,key:q})}}function F(j){var q=j?Object.keys(j):[],B=-1,J=q.length;return function fe(){var pe=q[++B];return pe==="__proto__"?fe():B<J?{value:j[pe],key:pe}:null}}function $(j){if(b(j))return I(j);var q=x(j);return q?P(q):F(j)}function D(j){return function(...q){if(j===null)throw new Error("Callback was already called.");var B=j;j=null,B.apply(this,q)}}function L(j,q,B,J){let fe=!1,pe=!1,ye=!1,we=0,Re=0;function Ze(){we>=q||ye||fe||(ye=!0,j.next().then(({value:Zt,done:so})=>{if(!(pe||fe)){if(ye=!1,so){fe=!0,we<=0&&J(null);return}we++,B(Zt,Re,Kt),Re++,Ze()}}).catch(ir))}function Kt(Zt,so){if(we-=1,!pe){if(Zt)return ir(Zt);if(Zt===!1){fe=!0,pe=!0;return}if(so===O||fe&&we<=0)return fe=!0,J(null);Ze()}}function ir(Zt){pe||(ye=!1,fe=!0,J(Zt))}Ze()}var z=j=>(q,B,J)=>{if(J=M(J),j<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!q)return J(null);if(m(q))return L(q,j,B,J);if(g(q))return L(q[Symbol.asyncIterator](),j,B,J);var fe=$(q),pe=!1,ye=!1,we=0,Re=!1;function Ze(ir,Zt){if(!ye)if(we-=1,ir)pe=!0,J(ir);else if(ir===!1)pe=!0,ye=!0;else{if(Zt===O||pe&&we<=0)return pe=!0,J(null);Re||Kt()}}function Kt(){for(Re=!0;we<j&&!pe;){var ir=fe();if(ir===null){pe=!0,we<=0&&J(null);return}we+=1,B(ir.value,ir.key,D(Ze))}Re=!1}Kt()};function ee(j,q,B,J){return z(q)(j,y(B),J)}var N=w(ee,4);function H(j,q,B){B=M(B);var J=0,fe=0,{length:pe}=j,ye=!1;pe===0&&B(null);function we(Re,Ze){Re===!1&&(ye=!0),ye!==!0&&(Re?B(Re):(++fe===pe||Ze===O)&&B(null))}for(;J<pe;J++)q(j[J],J,D(we))}function X(j,q,B){return N(j,1/0,q,B)}function V(j,q,B){var J=b(j)?H:X;return J(j,y(q),B)}var ue=w(V,3);function _e(j,q,B){return E(ue,j,q,B)}var xe=w(_e,3),De=S(xe);function ut(j,q,B){return N(j,1,q,B)}var Me=w(ut,3);function Tt(j,q,B){return E(Me,j,q,B)}var Ue=w(Tt,3),We=S(Ue);let kt=Symbol("promiseCallback");function dt(){let j,q;function B(J,...fe){if(J)return q(J);j(fe.length>1?fe:fe[0])}return B[kt]=new Promise((J,fe)=>{j=J,q=fe}),B}function st(j,q,B){typeof q!="number"&&(B=q,q=null),B=M(B||dt());var J=Object.keys(j).length;if(!J)return B(null);q||(q=J);var fe={},pe=0,ye=!1,we=!1,Re=Object.create(null),Ze=[],Kt=[],ir={};Object.keys(j).forEach(Ge=>{var gt=j[Ge];if(!Array.isArray(gt)){Zt(Ge,[gt]),Kt.push(Ge);return}var Yt=gt.slice(0,gt.length-1),Yr=Yt.length;if(Yr===0){Zt(Ge,gt),Kt.push(Ge);return}ir[Ge]=Yr,Yt.forEach(Bn=>{if(!j[Bn])throw new Error("async.auto task `"+Ge+"` has a non-existent dependency `"+Bn+"` in "+Yt.join(", "));bm(Bn,()=>{Yr--,Yr===0&&Zt(Ge,gt)})})}),sr(),so();function Zt(Ge,gt){Ze.push(()=>J0(Ge,gt))}function so(){if(!ye){if(Ze.length===0&&pe===0)return B(null,fe);for(;Ze.length&&pe<q;){var Ge=Ze.shift();Ge()}}}function bm(Ge,gt){var Yt=Re[Ge];Yt||(Yt=Re[Ge]=[]),Yt.push(gt)}function Pd(Ge){var gt=Re[Ge]||[];gt.forEach(Yt=>Yt()),so()}function J0(Ge,gt){if(!we){var Yt=D((Bn,...oo)=>{if(pe--,Bn===!1){ye=!0;return}if(oo.length<2&&([oo]=oo),Bn){var Em={};if(Object.keys(fe).forEach(Id=>{Em[Id]=fe[Id]}),Em[Ge]=oo,we=!0,Re=Object.create(null),ye)return;B(Bn,Em)}else fe[Ge]=oo,Pd(Ge)});pe++;var Yr=y(gt[gt.length-1]);gt.length>1?Yr(fe,Yt):Yr(Yt)}}function sr(){for(var Ge,gt=0;Kt.length;)Ge=Kt.pop(),gt++,mt(Ge).forEach(Yt=>{--ir[Yt]===0&&Kt.push(Yt)});if(gt!==J)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function mt(Ge){var gt=[];return Object.keys(j).forEach(Yt=>{let Yr=j[Yt];Array.isArray(Yr)&&Yr.indexOf(Ge)>=0&&gt.push(Yt)}),gt}return B[kt]}var se=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,Se=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,Ne=/,/,je=/(=.+)?(\s*)$/;function ht(j){let q="",B=0,J=j.indexOf("*/");for(;B<j.length;)if(j[B]==="/"&&j[B+1]==="/"){let fe=j.indexOf(`
`,B);B=fe===-1?j.length:fe}else if(J!==-1&&j[B]==="/"&&j[B+1]==="*"){let fe=j.indexOf("*/",B);fe!==-1?(B=fe+2,J=j.indexOf("*/",B)):(q+=j[B],B++)}else q+=j[B],B++;return q}function Ve(j){let q=ht(j.toString()),B=q.match(se);if(B||(B=q.match(Se)),!B)throw new Error(`could not parse args in autoInject
Source:
`+q);let[,J]=B;return J.replace(/\s/g,"").split(Ne).map(fe=>fe.replace(je,"").trim())}function xt(j,q){var B={};return Object.keys(j).forEach(J=>{var fe=j[J],pe,ye=p(fe),we=!ye&&fe.length===1||ye&&fe.length===0;if(Array.isArray(fe))pe=[...fe],fe=pe.pop(),B[J]=pe.concat(pe.length>0?Re:fe);else if(we)B[J]=fe;else{if(pe=Ve(fe),fe.length===0&&!ye&&pe.length===0)throw new Error("autoInject task functions require explicit parameters.");ye||pe.pop(),B[J]=pe.concat(Re)}function Re(Ze,Kt){var ir=pe.map(Zt=>Ze[Zt]);ir.push(Kt),y(fe)(...ir)}}),st(B,q)}class jn{constructor(){this.head=this.tail=null,this.length=0}removeLink(q){return q.prev?q.prev.next=q.next:this.head=q.next,q.next?q.next.prev=q.prev:this.tail=q.prev,q.prev=q.next=null,this.length-=1,q}empty(){for(;this.head;)this.shift();return this}insertAfter(q,B){B.prev=q,B.next=q.next,q.next?q.next.prev=B:this.tail=B,q.next=B,this.length+=1}insertBefore(q,B){B.prev=q.prev,B.next=q,q.prev?q.prev.next=B:this.head=B,q.prev=B,this.length+=1}unshift(q){this.head?this.insertBefore(this.head,q):zt(this,q)}push(q){this.tail?this.insertAfter(this.tail,q):zt(this,q)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var q=this.head;q;)yield q.data,q=q.next}remove(q){for(var B=this.head;B;){var{next:J}=B;q(B)&&this.removeLink(B),B=J}return this}}function zt(j,q){j.length=1,j.head=j.tail=q}function vn(j,q,B){if(q==null)q=1;else if(q===0)throw new RangeError("Concurrency must not be zero");var J=y(j),fe=0,pe=[];let ye={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function we(mt,Ge){ye[mt].push(Ge)}function Re(mt,Ge){let gt=(...Yt)=>{Ze(mt,gt),Ge(...Yt)};ye[mt].push(gt)}function Ze(mt,Ge){if(!mt)return Object.keys(ye).forEach(gt=>ye[gt]=[]);if(!Ge)return ye[mt]=[];ye[mt]=ye[mt].filter(gt=>gt!==Ge)}function Kt(mt,...Ge){ye[mt].forEach(gt=>gt(...Ge))}var ir=!1;function Zt(mt,Ge,gt,Yt){if(Yt!=null&&typeof Yt!="function")throw new Error("task callback must be a function");sr.started=!0;var Yr,Bn;function oo(Id,...Z0){if(Id)return gt?Bn(Id):Yr();if(Z0.length<=1)return Yr(Z0[0]);Yr(Z0)}var Em=sr._createTaskItem(mt,gt?oo:Yt||oo);if(Ge?sr._tasks.unshift(Em):sr._tasks.push(Em),ir||(ir=!0,c(()=>{ir=!1,sr.process()})),gt||!Yt)return new Promise((Id,Z0)=>{Yr=Id,Bn=Z0})}function so(mt){return function(Ge,...gt){fe-=1;for(var Yt=0,Yr=mt.length;Yt<Yr;Yt++){var Bn=mt[Yt],oo=pe.indexOf(Bn);oo===0?pe.shift():oo>0&&pe.splice(oo,1),Bn.callback(Ge,...gt),Ge!=null&&Kt("error",Ge,Bn.data)}fe<=sr.concurrency-sr.buffer&&Kt("unsaturated"),sr.idle()&&Kt("drain"),sr.process()}}function bm(mt){return mt.length===0&&sr.idle()?(c(()=>Kt("drain")),!0):!1}let Pd=mt=>Ge=>{if(!Ge)return new Promise((gt,Yt)=>{Re(mt,(Yr,Bn)=>{if(Yr)return Yt(Yr);gt(Bn)})});Ze(mt),we(mt,Ge)};var J0=!1,sr={_tasks:new jn,_createTaskItem(mt,Ge){return{data:mt,callback:Ge}},*[Symbol.iterator](){yield*sr._tasks[Symbol.iterator]()},concurrency:q,payload:B,buffer:q/4,started:!1,paused:!1,push(mt,Ge){return Array.isArray(mt)?bm(mt)?void 0:mt.map(gt=>Zt(gt,!1,!1,Ge)):Zt(mt,!1,!1,Ge)},pushAsync(mt,Ge){return Array.isArray(mt)?bm(mt)?void 0:mt.map(gt=>Zt(gt,!1,!0,Ge)):Zt(mt,!1,!0,Ge)},kill(){Ze(),sr._tasks.empty()},unshift(mt,Ge){return Array.isArray(mt)?bm(mt)?void 0:mt.map(gt=>Zt(gt,!0,!1,Ge)):Zt(mt,!0,!1,Ge)},unshiftAsync(mt,Ge){return Array.isArray(mt)?bm(mt)?void 0:mt.map(gt=>Zt(gt,!0,!0,Ge)):Zt(mt,!0,!0,Ge)},remove(mt){sr._tasks.remove(mt)},process(){if(!J0){for(J0=!0;!sr.paused&&fe<sr.concurrency&&sr._tasks.length;){var mt=[],Ge=[],gt=sr._tasks.length;sr.payload&&(gt=Math.min(gt,sr.payload));for(var Yt=0;Yt<gt;Yt++){var Yr=sr._tasks.shift();mt.push(Yr),pe.push(Yr),Ge.push(Yr.data)}fe+=1,sr._tasks.length===0&&Kt("empty"),fe===sr.concurrency&&Kt("saturated");var Bn=D(so(mt));J(Ge,Bn)}J0=!1}},length(){return sr._tasks.length},running(){return fe},workersList(){return pe},idle(){return sr._tasks.length+fe===0},pause(){sr.paused=!0},resume(){sr.paused!==!1&&(sr.paused=!1,c(sr.process))}};return Object.defineProperties(sr,{saturated:{writable:!1,value:Pd("saturated")},unsaturated:{writable:!1,value:Pd("unsaturated")},empty:{writable:!1,value:Pd("empty")},drain:{writable:!1,value:Pd("drain")},error:{writable:!1,value:Pd("error")}}),sr}function $e(j,q){return vn(j,1,q)}function re(j,q,B){return vn(j,q,B)}function C(j,q,B,J){J=M(J);var fe=y(B);return Me(j,(pe,ye,we)=>{fe(q,pe,(Re,Ze)=>{q=Ze,we(Re)})},pe=>J(pe,q))}var k=w(C,4);function U(...j){var q=j.map(y);return function(...B){var J=this,fe=B[B.length-1];return typeof fe=="function"?B.pop():fe=dt(),k(q,B,(pe,ye,we)=>{ye.apply(J,pe.concat((Re,...Ze)=>{we(Re,Ze)}))},(pe,ye)=>fe(pe,...ye)),fe[kt]}}function K(...j){return U(...j.reverse())}function le(j,q,B,J){return E(z(q),j,B,J)}var Y=w(le,4);function ce(j,q,B,J){var fe=y(B);return Y(j,q,(pe,ye)=>{fe(pe,(we,...Re)=>we?ye(we):ye(we,Re))},(pe,ye)=>{for(var we=[],Re=0;Re<ye.length;Re++)ye[Re]&&(we=we.concat(...ye[Re]));return J(pe,we)})}var he=w(ce,4);function de(j,q,B){return he(j,1/0,q,B)}var qe=w(de,3);function yt(j,q,B){return he(j,1,q,B)}var R=w(yt,3);function A(...j){return function(...q){var B=q.pop();return B(null,...j)}}function W(j,q){return(B,J,fe,pe)=>{var ye=!1,we;let Re=y(fe);B(J,(Ze,Kt,ir)=>{Re(Ze,(Zt,so)=>{if(Zt||Zt===!1)return ir(Zt);if(j(so)&&!we)return ye=!0,we=q(!0,Ze),ir(null,O);ir()})},Ze=>{if(Ze)return pe(Ze);pe(null,ye?we:q(!1))})}}function Q(j,q,B){return W(J=>J,(J,fe)=>fe)(ue,j,q,B)}var Z=w(Q,3);function ne(j,q,B,J){return W(fe=>fe,(fe,pe)=>pe)(z(q),j,B,J)}var ge=w(ne,4);function me(j,q,B){return W(J=>J,(J,fe)=>fe)(z(1),j,q,B)}var Ce=w(me,3);function Ie(j){return(q,...B)=>y(q)(...B,(J,...fe)=>{typeof console=="object"&&(J?console.error&&console.error(J):console[j]&&fe.forEach(pe=>console[j](pe)))})}var Xe=Ie("dir");function Je(j,q,B){B=D(B);var J=y(j),fe=y(q),pe;function ye(Re,...Ze){if(Re)return B(Re);Re!==!1&&(pe=Ze,fe(...Ze,we))}function we(Re,Ze){if(Re)return B(Re);if(Re!==!1){if(!Ze)return B(null,...pe);J(ye)}}return we(null,!0)}var wt=w(Je,3);function Mt(j,q,B){let J=y(q);return wt(j,(...fe)=>{let pe=fe.pop();J(...fe,(ye,we)=>pe(ye,!we))},B)}function Ft(j){return(q,B,J)=>j(q,J)}function Er(j,q,B){return ue(j,Ft(y(q)),B)}var Yi=w(Er,3);function Fa(j,q,B,J){return z(q)(j,Ft(y(B)),J)}var G0=w(Fa,4);function n7e(j,q,B){return G0(j,1,q,B)}var K0=w(n7e,3);function fq(j){return p(j)?j:function(...q){var B=q.pop(),J=!0;q.push((...fe)=>{J?c(()=>B(...fe)):B(...fe)}),j.apply(this,q),J=!1}}function i7e(j,q,B){return W(J=>!J,J=>!J)(ue,j,q,B)}var XT=w(i7e,3);function s7e(j,q,B,J){return W(fe=>!fe,fe=>!fe)(z(q),j,B,J)}var JT=w(s7e,4);function o7e(j,q,B){return W(J=>!J,J=>!J)(Me,j,q,B)}var ZT=w(o7e,3);function a7e(j,q,B,J){var fe=new Array(q.length);j(q,(pe,ye,we)=>{B(pe,(Re,Ze)=>{fe[ye]=!!Ze,we(Re)})},pe=>{if(pe)return J(pe);for(var ye=[],we=0;we<q.length;we++)fe[we]&&ye.push(q[we]);J(null,ye)})}function u7e(j,q,B,J){var fe=[];j(q,(pe,ye,we)=>{B(pe,(Re,Ze)=>{if(Re)return we(Re);Ze&&fe.push({index:ye,value:pe}),we(Re)})},pe=>{if(pe)return J(pe);J(null,fe.sort((ye,we)=>ye.index-we.index).map(ye=>ye.value))})}function YT(j,q,B,J){var fe=b(q)?a7e:u7e;return fe(j,q,y(B),J)}function c7e(j,q,B){return YT(ue,j,q,B)}var QT=w(c7e,3);function l7e(j,q,B,J){return YT(z(q),j,B,J)}var eC=w(l7e,4);function f7e(j,q,B){return YT(Me,j,q,B)}var tC=w(f7e,3);function d7e(j,q){var B=D(q),J=y(fq(j));function fe(pe){if(pe)return B(pe);pe!==!1&&J(fe)}return fe()}var Kee=w(d7e,2);function h7e(j,q,B,J){var fe=y(B);return Y(j,q,(pe,ye)=>{fe(pe,(we,Re)=>we?ye(we):ye(we,{key:Re,val:pe}))},(pe,ye)=>{for(var we={},{hasOwnProperty:Re}=Object.prototype,Ze=0;Ze<ye.length;Ze++)if(ye[Ze]){var{key:Kt}=ye[Ze],{val:ir}=ye[Ze];Re.call(we,Kt)?we[Kt].push(ir):we[Kt]=[ir]}return J(pe,we)})}var rC=w(h7e,4);function Xee(j,q,B){return rC(j,1/0,q,B)}function Jee(j,q,B){return rC(j,1,q,B)}var Zee=Ie("log");function p7e(j,q,B,J){J=M(J);var fe={},pe=y(B);return z(q)(j,(ye,we,Re)=>{pe(ye,we,(Ze,Kt)=>{if(Ze)return Re(Ze);fe[we]=Kt,Re(Ze)})},ye=>J(ye,fe))}var nC=w(p7e,4);function Yee(j,q,B){return nC(j,1/0,q,B)}function Qee(j,q,B){return nC(j,1,q,B)}function ete(j,q=B=>B){var B=Object.create(null),J=Object.create(null),fe=y(j),pe=r((ye,we)=>{var Re=q(...ye);Re in B?c(()=>we(null,...B[Re])):Re in J?J[Re].push(we):(J[Re]=[we],fe(...ye,(Ze,...Kt)=>{Ze||(B[Re]=Kt);var ir=J[Re];delete J[Re];for(var Zt=0,so=ir.length;Zt<so;Zt++)ir[Zt](Ze,...Kt)}))});return pe.memo=B,pe.unmemoized=j,pe}var iC;s?iC=process.nextTick:i?iC=setImmediate:iC=o;var tte=a(iC),dq=w((j,q,B)=>{var J=b(q)?[]:{};j(q,(fe,pe,ye)=>{y(fe)((we,...Re)=>{Re.length<2&&([Re]=Re),J[pe]=Re,ye(we)})},fe=>B(fe,J))},3);function rte(j,q){return dq(ue,j,q)}function nte(j,q,B){return dq(z(q),j,B)}function hq(j,q){var B=y(j);return vn((J,fe)=>{B(J[0],fe)},q,1)}class m7e{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(q){let B;for(;q>0&&pq(this.heap[q],this.heap[B=ite(q)]);){let J=this.heap[q];this.heap[q]=this.heap[B],this.heap[B]=J,q=B}}percDown(q){let B;for(;(B=g7e(q))<this.heap.length&&(B+1<this.heap.length&&pq(this.heap[B+1],this.heap[B])&&(B=B+1),!pq(this.heap[q],this.heap[B]));){let J=this.heap[q];this.heap[q]=this.heap[B],this.heap[B]=J,q=B}}push(q){q.pushCount=++this.pushCount,this.heap.push(q),this.percUp(this.heap.length-1)}unshift(q){return this.heap.push(q)}shift(){let[q]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),q}toArray(){return[...this]}*[Symbol.iterator](){for(let q=0;q<this.heap.length;q++)yield this.heap[q].data}remove(q){let B=0;for(let J=0;J<this.heap.length;J++)q(this.heap[J])||(this.heap[B]=this.heap[J],B++);this.heap.splice(B);for(let J=ite(this.heap.length-1);J>=0;J--)this.percDown(J);return this}}function g7e(j){return(j<<1)+1}function ite(j){return(j+1>>1)-1}function pq(j,q){return j.priority!==q.priority?j.priority<q.priority:j.pushCount<q.pushCount}function ste(j,q){var B=hq(j,q),{push:J,pushAsync:fe}=B;B._tasks=new m7e,B._createTaskItem=({data:ye,priority:we},Re)=>({data:ye,priority:we,callback:Re});function pe(ye,we){return Array.isArray(ye)?ye.map(Re=>({data:Re,priority:we})):{data:ye,priority:we}}return B.push=function(ye,we=0,Re){return J(pe(ye,we),Re)},B.pushAsync=function(ye,we=0,Re){return fe(pe(ye,we),Re)},delete B.unshift,delete B.unshiftAsync,B}function y7e(j,q){if(q=M(q),!Array.isArray(j))return q(new TypeError("First argument to race must be an array of functions"));if(!j.length)return q();for(var B=0,J=j.length;B<J;B++)y(j[B])(q)}var ote=w(y7e,2);function sC(j,q,B,J){var fe=[...j].reverse();return k(fe,q,B,J)}function oC(j){var q=y(j);return r(function(J,fe){return J.push((pe,...ye)=>{let we={};if(pe&&(we.error=pe),ye.length>0){var Re=ye;ye.length<=1&&([Re]=ye),we.value=Re}fe(null,we)}),q.apply(this,J)})}function ate(j){var q;return Array.isArray(j)?q=j.map(oC):(q={},Object.keys(j).forEach(B=>{q[B]=oC.call(this,j[B])})),q}function mq(j,q,B,J){let fe=y(B);return YT(j,q,(pe,ye)=>{fe(pe,(we,Re)=>{ye(we,!Re)})},J)}function _7e(j,q,B){return mq(ue,j,q,B)}var ute=w(_7e,3);function v7e(j,q,B,J){return mq(z(q),j,B,J)}var cte=w(v7e,4);function w7e(j,q,B){return mq(Me,j,q,B)}var lte=w(w7e,3);function fte(j){return function(){return j}}let gq=5,dte=0;function aC(j,q,B){var J={times:gq,intervalFunc:fte(dte)};if(arguments.length<3&&typeof j=="function"?(B=q||dt(),q=j):(b7e(J,j),B=B||dt()),typeof q!="function")throw new Error("Invalid arguments for async.retry");var fe=y(q),pe=1;function ye(){fe((we,...Re)=>{we!==!1&&(we&&pe++<J.times&&(typeof J.errorFilter!="function"||J.errorFilter(we))?setTimeout(ye,J.intervalFunc(pe-1)):B(we,...Re))})}return ye(),B[kt]}function b7e(j,q){if(typeof q=="object")j.times=+q.times||gq,j.intervalFunc=typeof q.interval=="function"?q.interval:fte(+q.interval||dte),j.errorFilter=q.errorFilter;else if(typeof q=="number"||typeof q=="string")j.times=+q||gq;else throw new Error("Invalid arguments for async.retry")}function hte(j,q){q||(q=j,j=null);let B=j&&j.arity||q.length;p(q)&&(B+=1);var J=y(q);return r((fe,pe)=>{(fe.length<B-1||pe==null)&&(fe.push(pe),pe=dt());function ye(we){J(...fe,we)}return j?aC(j,ye,pe):aC(ye,pe),pe[kt]})}function pte(j,q){return dq(Me,j,q)}function E7e(j,q,B){return W(Boolean,J=>J)(ue,j,q,B)}var uC=w(E7e,3);function S7e(j,q,B,J){return W(Boolean,fe=>fe)(z(q),j,B,J)}var cC=w(S7e,4);function T7e(j,q,B){return W(Boolean,J=>J)(Me,j,q,B)}var lC=w(T7e,3);function C7e(j,q,B){var J=y(q);return xe(j,(pe,ye)=>{J(pe,(we,Re)=>{if(we)return ye(we);ye(we,{value:pe,criteria:Re})})},(pe,ye)=>{if(pe)return B(pe);B(null,ye.sort(fe).map(we=>we.value))});function fe(pe,ye){var we=pe.criteria,Re=ye.criteria;return we<Re?-1:we>Re?1:0}}var mte=w(C7e,3);function gte(j,q,B){var J=y(j);return r((fe,pe)=>{var ye=!1,we;function Re(){var Ze=j.name||"anonymous",Kt=new Error('Callback function "'+Ze+'" timed out.');Kt.code="ETIMEDOUT",B&&(Kt.info=B),ye=!0,pe(Kt)}fe.push((...Ze)=>{ye||(pe(...Ze),clearTimeout(we))}),we=setTimeout(Re,q),J(...fe)})}function x7e(j){for(var q=Array(j);j--;)q[j]=j;return q}function fC(j,q,B,J){var fe=y(B);return Y(x7e(j),q,fe,J)}function yte(j,q,B){return fC(j,1/0,q,B)}function _te(j,q,B){return fC(j,1,q,B)}function vte(j,q,B,J){arguments.length<=3&&typeof q=="function"&&(J=B,B=q,q=Array.isArray(j)?[]:{}),J=M(J||dt());var fe=y(B);return ue(j,(pe,ye,we)=>{fe(q,pe,ye,we)},pe=>J(pe,q)),J[kt]}function R7e(j,q){var B=null,J;return K0(j,(fe,pe)=>{y(fe)((ye,...we)=>{if(ye===!1)return pe(ye);we.length<2?[J]=we:J=we,B=ye,pe(ye?null:{})})},()=>q(B,J))}var wte=w(R7e);function bte(j){return(...q)=>(j.unmemoized||j)(...q)}function A7e(j,q,B){B=D(B);var J=y(q),fe=y(j),pe=[];function ye(Re,...Ze){if(Re)return B(Re);pe=Ze,Re!==!1&&fe(we)}function we(Re,Ze){if(Re)return B(Re);if(Re!==!1){if(!Ze)return B(null,...pe);J(ye)}}return fe(we)}var X0=w(A7e,3);function Ete(j,q,B){let J=y(j);return X0(fe=>J((pe,ye)=>fe(pe,!ye)),q,B)}function P7e(j,q){if(q=M(q),!Array.isArray(j))return q(new Error("First argument to waterfall must be an array of functions"));if(!j.length)return q();var B=0;function J(pe){var ye=y(j[B++]);ye(...pe,D(fe))}function fe(pe,...ye){if(pe!==!1){if(pe||B===j.length)return q(pe,...ye);J(ye)}}J([])}var Ste=w(P7e),I7e={apply:e,applyEach:De,applyEachSeries:We,asyncify:f,auto:st,autoInject:xt,cargo:$e,cargoQueue:re,compose:K,concat:qe,concatLimit:he,concatSeries:R,constant:A,detect:Z,detectLimit:ge,detectSeries:Ce,dir:Xe,doUntil:Mt,doWhilst:wt,each:Yi,eachLimit:G0,eachOf:ue,eachOfLimit:N,eachOfSeries:Me,eachSeries:K0,ensureAsync:fq,every:XT,everyLimit:JT,everySeries:ZT,filter:QT,filterLimit:eC,filterSeries:tC,forever:Kee,groupBy:Xee,groupByLimit:rC,groupBySeries:Jee,log:Zee,map:xe,mapLimit:Y,mapSeries:Ue,mapValues:Yee,mapValuesLimit:nC,mapValuesSeries:Qee,memoize:ete,nextTick:tte,parallel:rte,parallelLimit:nte,priorityQueue:ste,queue:hq,race:ote,reduce:k,reduceRight:sC,reflect:oC,reflectAll:ate,reject:ute,rejectLimit:cte,rejectSeries:lte,retry:aC,retryable:hte,seq:U,series:pte,setImmediate:c,some:uC,someLimit:cC,someSeries:lC,sortBy:mte,timeout:gte,times:yte,timesLimit:fC,timesSeries:_te,transform:vte,tryEach:wte,unmemoize:bte,until:Ete,waterfall:Ste,whilst:X0,all:XT,allLimit:JT,allSeries:ZT,any:uC,anyLimit:cC,anySeries:lC,find:Z,findLimit:ge,findSeries:Ce,flatMap:qe,flatMapLimit:he,flatMapSeries:R,forEach:Yi,forEachSeries:K0,forEachLimit:G0,forEachOf:ue,forEachOfSeries:Me,forEachOfLimit:N,inject:k,foldl:k,foldr:sC,select:QT,selectLimit:eC,selectSeries:tC,wrapSync:f,during:X0,doDuring:wt};t.all=XT,t.allLimit=JT,t.allSeries=ZT,t.any=uC,t.anyLimit=cC,t.anySeries=lC,t.apply=e,t.applyEach=De,t.applyEachSeries=We,t.asyncify=f,t.auto=st,t.autoInject=xt,t.cargo=$e,t.cargoQueue=re,t.compose=K,t.concat=qe,t.concatLimit=he,t.concatSeries=R,t.constant=A,t.default=I7e,t.detect=Z,t.detectLimit=ge,t.detectSeries=Ce,t.dir=Xe,t.doDuring=wt,t.doUntil=Mt,t.doWhilst=wt,t.during=X0,t.each=Yi,t.eachLimit=G0,t.eachOf=ue,t.eachOfLimit=N,t.eachOfSeries=Me,t.eachSeries=K0,t.ensureAsync=fq,t.every=XT,t.everyLimit=JT,t.everySeries=ZT,t.filter=QT,t.filterLimit=eC,t.filterSeries=tC,t.find=Z,t.findLimit=ge,t.findSeries=Ce,t.flatMap=qe,t.flatMapLimit=he,t.flatMapSeries=R,t.foldl=k,t.foldr=sC,t.forEach=Yi,t.forEachLimit=G0,t.forEachOf=ue,t.forEachOfLimit=N,t.forEachOfSeries=Me,t.forEachSeries=K0,t.forever=Kee,t.groupBy=Xee,t.groupByLimit=rC,t.groupBySeries=Jee,t.inject=k,t.log=Zee,t.map=xe,t.mapLimit=Y,t.mapSeries=Ue,t.mapValues=Yee,t.mapValuesLimit=nC,t.mapValuesSeries=Qee,t.memoize=ete,t.nextTick=tte,t.parallel=rte,t.parallelLimit=nte,t.priorityQueue=ste,t.queue=hq,t.race=ote,t.reduce=k,t.reduceRight=sC,t.reflect=oC,t.reflectAll=ate,t.reject=ute,t.rejectLimit=cte,t.rejectSeries=lte,t.retry=aC,t.retryable=hte,t.select=QT,t.selectLimit=eC,t.selectSeries=tC,t.seq=U,t.series=pte,t.setImmediate=c,t.some=uC,t.someLimit=cC,t.someSeries=lC,t.sortBy=mte,t.timeout=gte,t.times=yte,t.timesLimit=fC,t.timesSeries=_te,t.transform=vte,t.tryEach=wte,t.unmemoize=bte,t.until=Ete,t.waterfall=Ste,t.whilst=X0,t.wrapSync=f,Object.defineProperty(t,"__esModule",{value:!0})}))});var pHe=v((d6r,hHe)=>{var ld=require("constants"),jgr=process.cwd,GL=null,Bgr=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return GL||(GL=jgr.call(process)),GL};try{process.cwd()}catch{}typeof process.chdir=="function"&&(QZ=process.chdir,process.chdir=function(t){GL=null,QZ.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,QZ));var QZ;hHe.exports=Hgr;function Hgr(t){ld.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(f,d,h){h&&process.nextTick(h)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(f,d,h,p){p&&process.nextTick(p)},t.lchownSync=function(){}),Bgr==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:(function(f){function d(h,p,m){var g=Date.now(),y=0;f(h,p,function w(S){if(S&&(S.code==="EACCES"||S.code==="EPERM"||S.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){t.stat(p,function(E,b){E&&E.code==="ENOENT"?f(h,p,w):m(S)})},y),y<100&&(y+=10);return}m&&m(S)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,f),d})(t.rename)),t.read=typeof t.read!="function"?t.read:(function(f){function d(h,p,m,g,y,w){var S;if(w&&typeof w=="function"){var E=0;S=function(b,O,M){if(b&&b.code==="EAGAIN"&&E<10)return E++,f.call(t,h,p,m,g,y,S);w.apply(this,arguments)}}return f.call(t,h,p,m,g,y,S)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,f),d})(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:(function(f){return function(d,h,p,m,g){for(var y=0;;)try{return f.call(t,d,h,p,m,g)}catch(w){if(w.code==="EAGAIN"&&y<10){y++;continue}throw w}}})(t.readSync);function e(f){f.lchmod=function(d,h,p){f.open(d,ld.O_WRONLY|ld.O_SYMLINK,h,function(m,g){if(m){p&&p(m);return}f.fchmod(g,h,function(y){f.close(g,function(w){p&&p(y||w)})})})},f.lchmodSync=function(d,h){var p=f.openSync(d,ld.O_WRONLY|ld.O_SYMLINK,h),m=!0,g;try{g=f.fchmodSync(p,h),m=!1}finally{if(m)try{f.closeSync(p)}catch{}else f.closeSync(p)}return g}}function r(f){ld.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(d,h,p,m){f.open(d,ld.O_SYMLINK,function(g,y){if(g){m&&m(g);return}f.futimes(y,h,p,function(w){f.close(y,function(S){m&&m(w||S)})})})},f.lutimesSync=function(d,h,p){var m=f.openSync(d,ld.O_SYMLINK),g,y=!0;try{g=f.futimesSync(m,h,p),y=!1}finally{if(y)try{f.closeSync(m)}catch{}else f.closeSync(m)}return g}):f.futimes&&(f.lutimes=function(d,h,p,m){m&&process.nextTick(m)},f.lutimesSync=function(){})}function n(f){return f&&function(d,h,p){return f.call(t,d,h,function(m){c(m)&&(m=null),p&&p.apply(this,arguments)})}}function i(f){return f&&function(d,h){try{return f.call(t,d,h)}catch(p){if(!c(p))throw p}}}function s(f){return f&&function(d,h,p,m){return f.call(t,d,h,p,function(g){c(g)&&(g=null),m&&m.apply(this,arguments)})}}function o(f){return f&&function(d,h,p){try{return f.call(t,d,h,p)}catch(m){if(!c(m))throw m}}}function a(f){return f&&function(d,h,p){typeof h=="function"&&(p=h,h=null);function m(g,y){y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),p&&p.apply(this,arguments)}return h?f.call(t,d,h,m):f.call(t,d,m)}}function u(f){return f&&function(d,h){var p=h?f.call(t,d,h):f.call(t,d);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function c(f){if(!f||f.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var yHe=v((h6r,gHe)=>{var mHe=require("stream").Stream;gHe.exports=zgr;function zgr(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);mHe.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,u=o.length;a<u;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(f,d){if(f){s.emit("error",f),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);mHe.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var u=s[o];this[u]=i[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var vHe=v((p6r,_He)=>{"use strict";_He.exports=Wgr;var Vgr=Object.getPrototypeOf||function(t){return t.__proto__};function Wgr(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Vgr(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Ms=v((m6r,rY)=>{var fn=require("fs"),Ggr=pHe(),Kgr=yHe(),Xgr=vHe(),KL=require("util"),mi,JL;typeof Symbol=="function"&&typeof Symbol.for=="function"?(mi=Symbol.for("graceful-fs.queue"),JL=Symbol.for("graceful-fs.previous")):(mi="___graceful-fs.queue",JL="___graceful-fs.previous");function Jgr(){}function EHe(t,e){Object.defineProperty(t,mi,{get:function(){return e}})}var Yp=Jgr;KL.debuglog?Yp=KL.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Yp=function(){var t=KL.format.apply(KL,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});fn[mi]||(wHe=global[mi]||[],EHe(fn,wHe),fn.close=(function(t){function e(r,n){return t.call(fn,r,function(i){i||bHe(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,JL,{value:t}),e})(fn.close),fn.closeSync=(function(t){function e(r){t.apply(fn,arguments),bHe()}return Object.defineProperty(e,JL,{value:t}),e})(fn.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Yp(fn[mi]),require("assert").equal(fn[mi].length,0)}));var wHe;global[mi]||EHe(global,fn[mi]);rY.exports=eY(Xgr(fn));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!fn.__patched&&(rY.exports=eY(fn),fn.__patched=!0);function eY(t){Ggr(t),t.gracefulify=eY,t.createReadStream=O,t.createWriteStream=M;var e=t.readFile;t.readFile=r;function r(P,F,$){return typeof F=="function"&&($=F,F=null),D(P,F,$);function D(L,z,ee,N){return e(L,z,function(H){H&&(H.code==="EMFILE"||H.code==="ENFILE")?f0([D,[L,z,ee],H,N||Date.now(),Date.now()]):typeof ee=="function"&&ee.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(P,F,$,D){return typeof $=="function"&&(D=$,$=null),L(P,F,$,D);function L(z,ee,N,H,X){return n(z,ee,N,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?f0([L,[z,ee,N,H],V,X||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(P,F,$,D){return typeof $=="function"&&(D=$,$=null),L(P,F,$,D);function L(z,ee,N,H,X){return s(z,ee,N,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?f0([L,[z,ee,N,H],V,X||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=u);function u(P,F,$,D){return typeof $=="function"&&(D=$,$=0),L(P,F,$,D);function L(z,ee,N,H,X){return a(z,ee,N,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?f0([L,[z,ee,N,H],V,X||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var c=t.readdir;t.readdir=d;var f=/^v[0-5]\./;function d(P,F,$){typeof F=="function"&&($=F,F=null);var D=f.test(process.version)?function(ee,N,H,X){return c(ee,L(ee,N,H,X))}:function(ee,N,H,X){return c(ee,N,L(ee,N,H,X))};return D(P,F,$);function L(z,ee,N,H){return function(X,V){X&&(X.code==="EMFILE"||X.code==="ENFILE")?f0([D,[z,ee,N],X,H||Date.now(),Date.now()]):(V&&V.sort&&V.sort(),typeof N=="function"&&N.call(this,X,V))}}}if(process.version.substr(0,4)==="v0.8"){var h=Kgr(t);w=h.ReadStream,E=h.WriteStream}var p=t.ReadStream;p&&(w.prototype=Object.create(p.prototype),w.prototype.open=S);var m=t.WriteStream;m&&(E.prototype=Object.create(m.prototype),E.prototype.open=b),Object.defineProperty(t,"ReadStream",{get:function(){return w},set:function(P){w=P},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return E},set:function(P){E=P},enumerable:!0,configurable:!0});var g=w;Object.defineProperty(t,"FileReadStream",{get:function(){return g},set:function(P){g=P},enumerable:!0,configurable:!0});var y=E;Object.defineProperty(t,"FileWriteStream",{get:function(){return y},set:function(P){y=P},enumerable:!0,configurable:!0});function w(P,F){return this instanceof w?(p.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function S(){var P=this;I(P.path,P.flags,P.mode,function(F,$){F?(P.autoClose&&P.destroy(),P.emit("error",F)):(P.fd=$,P.emit("open",$),P.read())})}function E(P,F){return this instanceof E?(m.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}function b(){var P=this;I(P.path,P.flags,P.mode,function(F,$){F?(P.destroy(),P.emit("error",F)):(P.fd=$,P.emit("open",$))})}function O(P,F){return new t.ReadStream(P,F)}function M(P,F){return new t.WriteStream(P,F)}var x=t.open;t.open=I;function I(P,F,$,D){return typeof $=="function"&&(D=$,$=null),L(P,F,$,D);function L(z,ee,N,H,X){return x(z,ee,N,function(V,ue){V&&(V.code==="EMFILE"||V.code==="ENFILE")?f0([L,[z,ee,N,H],V,X||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}return t}function f0(t){Yp("ENQUEUE",t[0].name,t[1]),fn[mi].push(t),tY()}var XL;function bHe(){for(var t=Date.now(),e=0;e<fn[mi].length;++e)fn[mi][e].length>2&&(fn[mi][e][3]=t,fn[mi][e][4]=t);tY()}function tY(){if(clearTimeout(XL),XL=void 0,fn[mi].length!==0){var t=fn[mi].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)Yp("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){Yp("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,u=Math.max(s-i,1),c=Math.min(u*1.2,100);a>=c?(Yp("RETRY",e.name,r),e.apply(null,r.concat([i]))):fn[mi].push(t)}XL===void 0&&(XL=setTimeout(tY,0))}}});var THe=v((g6r,SHe)=>{SHe.exports=Os().PassThrough});var nY=v((y6r,RHe)=>{var CHe=require("util"),QL=THe();RHe.exports={Readable:ZL,Writable:YL};CHe.inherits(ZL,QL);CHe.inherits(YL,QL);function xHe(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function ZL(t,e){if(!(this instanceof ZL))return new ZL(t,e);QL.call(this,e),xHe(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function YL(t,e){if(!(this instanceof YL))return new YL(t,e);QL.call(this,e),xHe(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}});var eM=v((_6r,AHe)=>{AHe.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")}});var aY=v((v6r,FHe)=>{var IHe=9007199254740991,Zgr="[object Arguments]",Ygr="[object Function]",Qgr="[object GeneratorFunction]",eyr=/^(?:0|[1-9]\d*)$/;function OHe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function tyr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var uT=Object.prototype,cT=uT.hasOwnProperty,kHe=uT.toString,ryr=uT.propertyIsEnumerable,PHe=Math.max;function nyr(t,e){var r=hyr(t)||dyr(t)?tyr(t.length,String):[],n=r.length,i=!!n;for(var s in t)(e||cT.call(t,s))&&!(i&&(s=="length"||DHe(s,n)))&&r.push(s);return r}function iyr(t,e,r,n){return t===void 0||iY(t,uT[r])&&!cT.call(n,r)?e:t}function syr(t,e,r){var n=t[e];(!(cT.call(t,e)&&iY(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function oyr(t){if(!oY(t))return fyr(t);var e=lyr(t),r=[];for(var n in t)n=="constructor"&&(e||!cT.call(t,n))||r.push(n);return r}function NHe(t,e){return e=PHe(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=PHe(r.length-e,0),s=Array(i);++n<i;)s[n]=r[e+n];n=-1;for(var o=Array(e+1);++n<e;)o[n]=r[n];return o[e]=s,OHe(t,this,o)}}function ayr(t,e,r,n){r||(r={});for(var i=-1,s=e.length;++i<s;){var o=e[i],a=n?n(r[o],t[o],o,r,t):void 0;syr(r,o,a===void 0?t[o]:a)}return r}function uyr(t){return NHe(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&cyr(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,s)}return e})}function DHe(t,e){return e=e??IHe,!!e&&(typeof t=="number"||eyr.test(t))&&t>-1&&t%1==0&&t<e}function cyr(t,e,r){if(!oY(r))return!1;var n=typeof e;return(n=="number"?sY(r)&&DHe(e,r.length):n=="string"&&e in r)?iY(r[e],t):!1}function lyr(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||uT;return t===r}function fyr(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}function iY(t,e){return t===e||t!==t&&e!==e}function dyr(t){return pyr(t)&&cT.call(t,"callee")&&(!ryr.call(t,"callee")||kHe.call(t)==Zgr)}var hyr=Array.isArray;function sY(t){return t!=null&&gyr(t.length)&&!myr(t)}function pyr(t){return yyr(t)&&sY(t)}function myr(t){var e=oY(t)?kHe.call(t):"";return e==Ygr||e==Qgr}function gyr(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IHe}function oY(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function yyr(t){return!!t&&typeof t=="object"}var _yr=uyr(function(t,e,r,n){ayr(e,wyr(e),t,n)}),vyr=NHe(function(t){return t.push(void 0,iyr),OHe(_yr,void 0,t)});function wyr(t){return sY(t)?nyr(t,!0):oyr(t)}FHe.exports=vyr});var cY=v((w6r,UHe)=>{var byr=9007199254740991,Eyr="[object Arguments]",Syr="[object Function]",Tyr="[object GeneratorFunction]",Cyr=typeof global=="object"&&global&&global.Object===Object&&global,xyr=typeof self=="object"&&self&&self.Object===Object&&self,Ryr=Cyr||xyr||Function("return this")();function Ayr(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var uY=Object.prototype,Pyr=uY.hasOwnProperty,qHe=uY.toString,LHe=Ryr.Symbol,Iyr=uY.propertyIsEnumerable,MHe=LHe?LHe.isConcatSpreadable:void 0;function $He(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=Oyr),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?$He(a,e-1,r,n,i):Ayr(i,a):n||(i[i.length]=a)}return i}function Oyr(t){return Dyr(t)||Nyr(t)||!!(MHe&&t&&t[MHe])}function kyr(t){var e=t?t.length:0;return e?$He(t,1):[]}function Nyr(t){return Lyr(t)&&Pyr.call(t,"callee")&&(!Iyr.call(t,"callee")||qHe.call(t)==Eyr)}var Dyr=Array.isArray;function Fyr(t){return t!=null&&qyr(t.length)&&!Myr(t)}function Lyr(t){return Uyr(t)&&Fyr(t)}function Myr(t){var e=$yr(t)?qHe.call(t):"";return e==Syr||e==Tyr}function qyr(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=byr}function $yr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Uyr(t){return!!t&&typeof t=="object"}UHe.exports=kyr});var mY=v((b6r,ZHe)=>{var jyr=200,dY="__lodash_hash_undefined__",Byr=9007199254740991,Hyr="[object Arguments]",zyr="[object Function]",Vyr="[object GeneratorFunction]",Wyr=/[\\^$.*+?()[\]{}|]/g,Gyr=/^\[object .+?Constructor\]$/,Kyr=typeof global=="object"&&global&&global.Object===Object&&global,Xyr=typeof self=="object"&&self&&self.Object===Object&&self,hY=Kyr||Xyr||Function("return this")();function Jyr(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Zyr(t,e){var r=t?t.length:0;return!!r&&r_r(t,e,0)>-1}function Yyr(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function Qyr(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function e_r(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function t_r(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function r_r(t,e,r){if(e!==e)return t_r(t,n_r,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function n_r(t){return t!==t}function i_r(t){return function(e){return t(e)}}function s_r(t,e){return t.has(e)}function o_r(t,e){return t?.[e]}function a_r(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var u_r=Array.prototype,c_r=Function.prototype,pY=Object.prototype,lY=hY["__core-js_shared__"],jHe=(function(){var t=/[^.]+$/.exec(lY&&lY.keys&&lY.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),VHe=c_r.toString,rM=pY.hasOwnProperty,WHe=pY.toString,l_r=RegExp("^"+VHe.call(rM).replace(Wyr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),BHe=hY.Symbol,f_r=pY.propertyIsEnumerable,d_r=u_r.splice,HHe=BHe?BHe.isConcatSpreadable:void 0,zHe=Math.max,h_r=KHe(hY,"Map"),lT=KHe(Object,"create");function Qp(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function p_r(){this.__data__=lT?lT(null):{}}function m_r(t){return this.has(t)&&delete this.__data__[t]}function g_r(t){var e=this.__data__;if(lT){var r=e[t];return r===dY?void 0:r}return rM.call(e,t)?e[t]:void 0}function y_r(t){var e=this.__data__;return lT?e[t]!==void 0:rM.call(e,t)}function __r(t,e){var r=this.__data__;return r[t]=lT&&e===void 0?dY:e,this}Qp.prototype.clear=p_r;Qp.prototype.delete=m_r;Qp.prototype.get=g_r;Qp.prototype.has=y_r;Qp.prototype.set=__r;function d0(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function v_r(){this.__data__=[]}function w_r(t){var e=this.__data__,r=nM(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():d_r.call(e,r,1),!0}function b_r(t){var e=this.__data__,r=nM(e,t);return r<0?void 0:e[r][1]}function E_r(t){return nM(this.__data__,t)>-1}function S_r(t,e){var r=this.__data__,n=nM(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}d0.prototype.clear=v_r;d0.prototype.delete=w_r;d0.prototype.get=b_r;d0.prototype.has=E_r;d0.prototype.set=S_r;function h0(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function T_r(){this.__data__={hash:new Qp,map:new(h_r||d0),string:new Qp}}function C_r(t){return iM(this,t).delete(t)}function x_r(t){return iM(this,t).get(t)}function R_r(t){return iM(this,t).has(t)}function A_r(t,e){return iM(this,t).set(t,e),this}h0.prototype.clear=T_r;h0.prototype.delete=C_r;h0.prototype.get=x_r;h0.prototype.has=R_r;h0.prototype.set=A_r;function tM(t){var e=-1,r=t?t.length:0;for(this.__data__=new h0;++e<r;)this.add(t[e])}function P_r(t){return this.__data__.set(t,dY),this}function I_r(t){return this.__data__.has(t)}tM.prototype.add=tM.prototype.push=P_r;tM.prototype.has=I_r;function nM(t,e){for(var r=t.length;r--;)if($_r(t[r][0],e))return r;return-1}function O_r(t,e,r,n){var i=-1,s=Zyr,o=!0,a=t.length,u=[],c=e.length;if(!a)return u;r&&(e=Qyr(e,i_r(r))),n?(s=Yyr,o=!1):e.length>=jyr&&(s=s_r,o=!1,e=new tM(e));e:for(;++i<a;){var f=t[i],d=r?r(f):f;if(f=n||f!==0?f:0,o&&d===d){for(var h=c;h--;)if(e[h]===d)continue e;u.push(f)}else s(e,d,n)||u.push(f)}return u}function GHe(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=D_r),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?GHe(a,e-1,r,n,i):e_r(i,a):n||(i[i.length]=a)}return i}function k_r(t){if(!JHe(t)||L_r(t))return!1;var e=XHe(t)||a_r(t)?l_r:Gyr;return e.test(M_r(t))}function N_r(t,e){return e=zHe(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=zHe(r.length-e,0),s=Array(i);++n<i;)s[n]=r[e+n];n=-1;for(var o=Array(e+1);++n<e;)o[n]=r[n];return o[e]=s,Jyr(t,this,o)}}function iM(t,e){var r=t.__data__;return F_r(e)?r[typeof e=="string"?"string":"hash"]:r.map}function KHe(t,e){var r=o_r(t,e);return k_r(r)?r:void 0}function D_r(t){return j_r(t)||U_r(t)||!!(HHe&&t&&t[HHe])}function F_r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function L_r(t){return!!jHe&&jHe in t}function M_r(t){if(t!=null){try{return VHe.call(t)}catch{}try{return t+""}catch{}}return""}var q_r=N_r(function(t,e){return fY(t)?O_r(t,GHe(e,1,fY,!0)):[]});function $_r(t,e){return t===e||t!==t&&e!==e}function U_r(t){return fY(t)&&rM.call(t,"callee")&&(!f_r.call(t,"callee")||WHe.call(t)==Hyr)}var j_r=Array.isArray;function B_r(t){return t!=null&&H_r(t.length)&&!XHe(t)}function fY(t){return z_r(t)&&B_r(t)}function XHe(t){var e=JHe(t)?WHe.call(t):"";return e==zyr||e==Vyr}function H_r(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Byr}function JHe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function z_r(t){return!!t&&typeof t=="object"}ZHe.exports=q_r});var bY=v((E6r,cze)=>{var V_r=200,_Y="__lodash_hash_undefined__",W_r=1/0,G_r=9007199254740991,K_r="[object Arguments]",X_r="[object Function]",J_r="[object GeneratorFunction]",Z_r=/[\\^$.*+?()[\]{}|]/g,Y_r=/^\[object .+?Constructor\]$/,Q_r=typeof global=="object"&&global&&global.Object===Object&&global,e0r=typeof self=="object"&&self&&self.Object===Object&&self,oM=Q_r||e0r||Function("return this")();function t0r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function r0r(t,e){var r=t?t.length:0;return!!r&&o0r(t,e,0)>-1}function n0r(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function i0r(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function s0r(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function o0r(t,e,r){if(e!==e)return s0r(t,a0r,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function a0r(t){return t!==t}function u0r(t,e){return t.has(e)}function c0r(t,e){return t?.[e]}function l0r(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function rze(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var f0r=Array.prototype,d0r=Function.prototype,vY=Object.prototype,gY=oM["__core-js_shared__"],YHe=(function(){var t=/[^.]+$/.exec(gY&&gY.keys&&gY.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),nze=d0r.toString,aM=vY.hasOwnProperty,ize=vY.toString,h0r=RegExp("^"+nze.call(aM).replace(Z_r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),QHe=oM.Symbol,p0r=vY.propertyIsEnumerable,m0r=f0r.splice,eze=QHe?QHe.isConcatSpreadable:void 0,tze=Math.max,g0r=wY(oM,"Map"),yY=wY(oM,"Set"),fT=wY(Object,"create");function em(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function y0r(){this.__data__=fT?fT(null):{}}function _0r(t){return this.has(t)&&delete this.__data__[t]}function v0r(t){var e=this.__data__;if(fT){var r=e[t];return r===_Y?void 0:r}return aM.call(e,t)?e[t]:void 0}function w0r(t){var e=this.__data__;return fT?e[t]!==void 0:aM.call(e,t)}function b0r(t,e){var r=this.__data__;return r[t]=fT&&e===void 0?_Y:e,this}em.prototype.clear=y0r;em.prototype.delete=_0r;em.prototype.get=v0r;em.prototype.has=w0r;em.prototype.set=b0r;function p0(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function E0r(){this.__data__=[]}function S0r(t){var e=this.__data__,r=uM(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():m0r.call(e,r,1),!0}function T0r(t){var e=this.__data__,r=uM(e,t);return r<0?void 0:e[r][1]}function C0r(t){return uM(this.__data__,t)>-1}function x0r(t,e){var r=this.__data__,n=uM(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}p0.prototype.clear=E0r;p0.prototype.delete=S0r;p0.prototype.get=T0r;p0.prototype.has=C0r;p0.prototype.set=x0r;function m0(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function R0r(){this.__data__={hash:new em,map:new(g0r||p0),string:new em}}function A0r(t){return cM(this,t).delete(t)}function P0r(t){return cM(this,t).get(t)}function I0r(t){return cM(this,t).has(t)}function O0r(t,e){return cM(this,t).set(t,e),this}m0.prototype.clear=R0r;m0.prototype.delete=A0r;m0.prototype.get=P0r;m0.prototype.has=I0r;m0.prototype.set=O0r;function sM(t){var e=-1,r=t?t.length:0;for(this.__data__=new m0;++e<r;)this.add(t[e])}function k0r(t){return this.__data__.set(t,_Y),this}function N0r(t){return this.__data__.has(t)}sM.prototype.add=sM.prototype.push=k0r;sM.prototype.has=N0r;function uM(t,e){for(var r=t.length;r--;)if(H0r(t[r][0],e))return r;return-1}function sze(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=q0r),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?sze(a,e-1,r,n,i):i0r(i,a):n||(i[i.length]=a)}return i}function D0r(t){if(!uze(t)||U0r(t))return!1;var e=aze(t)||l0r(t)?h0r:Y_r;return e.test(j0r(t))}function F0r(t,e){return e=tze(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=tze(r.length-e,0),s=Array(i);++n<i;)s[n]=r[e+n];n=-1;for(var o=Array(e+1);++n<e;)o[n]=r[n];return o[e]=s,t0r(t,this,o)}}function L0r(t,e,r){var n=-1,i=r0r,s=t.length,o=!0,a=[],u=a;if(r)o=!1,i=n0r;else if(s>=V_r){var c=e?null:M0r(t);if(c)return rze(c);o=!1,i=u0r,u=new sM}else u=e?[]:a;e:for(;++n<s;){var f=t[n],d=e?e(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=u.length;h--;)if(u[h]===d)continue e;e&&u.push(d),a.push(f)}else i(u,d,r)||(u!==a&&u.push(d),a.push(f))}return a}var M0r=yY&&1/rze(new yY([,-0]))[1]==W_r?function(t){return new yY(t)}:X0r;function cM(t,e){var r=t.__data__;return $0r(e)?r[typeof e=="string"?"string":"hash"]:r.map}function wY(t,e){var r=c0r(t,e);return D0r(r)?r:void 0}function q0r(t){return V0r(t)||z0r(t)||!!(eze&&t&&t[eze])}function $0r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function U0r(t){return!!YHe&&YHe in t}function j0r(t){if(t!=null){try{return nze.call(t)}catch{}try{return t+""}catch{}}return""}var B0r=F0r(function(t){return L0r(sze(t,1,oze,!0))});function H0r(t,e){return t===e||t!==t&&e!==e}function z0r(t){return oze(t)&&aM.call(t,"callee")&&(!p0r.call(t,"callee")||ize.call(t)==K_r)}var V0r=Array.isArray;function W0r(t){return t!=null&&G0r(t.length)&&!aze(t)}function oze(t){return K0r(t)&&W0r(t)}function aze(t){var e=uze(t)?ize.call(t):"";return e==X_r||e==J_r}function G0r(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=G_r}function uze(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function K0r(t){return!!t&&typeof t=="object"}function X0r(){}cze.exports=B0r});var EY=v((S6r,dze)=>{var J0r="[object Object]";function Z0r(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Y0r(t,e){return function(r){return t(e(r))}}var Q0r=Function.prototype,lze=Object.prototype,fze=Q0r.toString,evr=lze.hasOwnProperty,tvr=fze.call(Object),rvr=lze.toString,nvr=Y0r(Object.getPrototypeOf,Object);function ivr(t){return!!t&&typeof t=="object"}function svr(t){if(!ivr(t)||rvr.call(t)!=J0r||Z0r(t))return!1;var e=nvr(t);if(e===null)return!0;var r=evr.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&fze.call(r)==tvr}dze.exports=svr});var hze=v(SY=>{var tm=require("path"),dd=process.platform==="win32",fd=require("fs"),ovr=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function avr(){var t;if(ovr){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function uvr(t){return typeof t=="function"?t:avr()}var T6r=tm.normalize;dd?Zc=/(.*?)(?:[\/\\]+|$)/g:Zc=/(.*?)(?:[\/]+|$)/g;var Zc;dd?dT=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:dT=/^[\/]*/;var dT;SY.realpathSync=function(e,r){if(e=tm.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},o,a,u,c;f();function f(){var y=dT.exec(e);o=y[0].length,a=y[0],u=y[0],c="",dd&&!s[u]&&(fd.lstatSync(u),s[u]=!0)}for(;o<e.length;){Zc.lastIndex=o;var d=Zc.exec(e);if(c=a,a+=d[0],u=c+d[1],o=Zc.lastIndex,!(s[u]||r&&r[u]===u)){var h;if(r&&Object.prototype.hasOwnProperty.call(r,u))h=r[u];else{var p=fd.lstatSync(u);if(!p.isSymbolicLink()){s[u]=!0,r&&(r[u]=u);continue}var m=null;if(!dd){var g=p.dev.toString(32)+":"+p.ino.toString(32);i.hasOwnProperty(g)&&(m=i[g])}m===null&&(fd.statSync(u),m=fd.readlinkSync(u)),h=tm.resolve(c,m),r&&(r[u]=h),dd||(i[g]=m)}e=tm.resolve(h,e.slice(o)),f()}}return r&&(r[n]=e),e};SY.realpath=function(e,r,n){if(typeof n!="function"&&(n=uvr(r),r=null),e=tm.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},o={},a,u,c,f;d();function d(){var y=dT.exec(e);a=y[0].length,u=y[0],c=y[0],f="",dd&&!o[c]?fd.lstat(c,function(w){if(w)return n(w);o[c]=!0,h()}):process.nextTick(h)}function h(){if(a>=e.length)return r&&(r[i]=e),n(null,e);Zc.lastIndex=a;var y=Zc.exec(e);return f=u,u+=y[0],c=f+y[1],a=Zc.lastIndex,o[c]||r&&r[c]===c?process.nextTick(h):r&&Object.prototype.hasOwnProperty.call(r,c)?g(r[c]):fd.lstat(c,p)}function p(y,w){if(y)return n(y);if(!w.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(h);if(!dd){var S=w.dev.toString(32)+":"+w.ino.toString(32);if(s.hasOwnProperty(S))return m(null,s[S],c)}fd.stat(c,function(E){if(E)return n(E);fd.readlink(c,function(b,O){dd||(s[S]=O),m(b,O)})})}function m(y,w,S){if(y)return n(y);var E=tm.resolve(f,w);r&&(r[S]=E),g(E)}function g(y){e=tm.resolve(y,e.slice(a)),d()}}});var RY=v((x6r,yze)=>{yze.exports=hd;hd.realpath=hd;hd.sync=xY;hd.realpathSync=xY;hd.monkeypatch=lvr;hd.unmonkeypatch=fvr;var g0=require("fs"),TY=g0.realpath,CY=g0.realpathSync,cvr=process.version,pze=/^v[0-5]\./.test(cvr),mze=hze();function gze(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function hd(t,e,r){if(pze)return TY(t,e,r);typeof e=="function"&&(r=e,e=null),TY(t,e,function(n,i){gze(n)?mze.realpath(t,e,r):r(n,i)})}function xY(t,e){if(pze)return CY(t,e);try{return CY(t,e)}catch(r){if(gze(r))return mze.realpathSync(t,e);throw r}}function lvr(){g0.realpath=hd,g0.realpathSync=xY}function fvr(){g0.realpath=TY,g0.realpathSync=CY}});var vze=v((R6r,_ze)=>{_ze.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);dvr(i)?r.push.apply(r,i):r.push(i)}return r};var dvr=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Rze=v((A6r,xze)=>{var hvr=vze(),wze=HZ();xze.exports=gvr;var bze="\0SLASH"+Math.random()+"\0",Eze="\0OPEN"+Math.random()+"\0",PY="\0CLOSE"+Math.random()+"\0",Sze="\0COMMA"+Math.random()+"\0",Tze="\0PERIOD"+Math.random()+"\0";function AY(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function pvr(t){return t.split("\\\\").join(bze).split("\\{").join(Eze).split("\\}").join(PY).split("\\,").join(Sze).split("\\.").join(Tze)}function mvr(t){return t.split(bze).join("\\").split(Eze).join("{").split(PY).join("}").split(Sze).join(",").split(Tze).join(".")}function Cze(t){if(!t)return[""];var e=[],r=wze("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Cze(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function gvr(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),y0(pvr(t),!0).map(mvr)):[]}function yvr(t){return"{"+t+"}"}function _vr(t){return/^-?0\d/.test(t)}function vvr(t,e){return t<=e}function wvr(t,e){return t>=e}function y0(t,e){var r=[],n=wze("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+PY+n.post,y0(t)):[t];var u;if(o)u=n.body.split(/\.\./);else if(u=Cze(n.body),u.length===1&&(u=y0(u[0],!1).map(yvr),u.length===1)){var f=n.post.length?y0(n.post,!1):[""];return f.map(function($){return n.pre+u[0]+$})}var c=n.pre,f=n.post.length?y0(n.post,!1):[""],d;if(o){var h=AY(u[0]),p=AY(u[1]),m=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(AY(u[2])):1,y=vvr,w=p<h;w&&(g*=-1,y=wvr);var S=u.some(_vr);d=[];for(var E=h;y(E,p);E+=g){var b;if(s)b=String.fromCharCode(E),b==="\\"&&(b="");else if(b=String(E),S){var O=m-b.length;if(O>0){var M=new Array(O+1).join("0");E<0?b="-"+M+b.slice(1):b=M+b}}d.push(b)}}else d=hvr(u,function(F){return y0(F,!1)});for(var x=0;x<d.length;x++)for(var I=0;I<f.length;I++){var P=c+d[x]+f[I];(!e||o||P)&&r.push(P)}return r}});var dM=v((P6r,kze)=>{kze.exports=eo;eo.Minimatch=gi;var hT=(function(){try{return require("path")}catch{}})()||{sep:"/"};eo.sep=hT.sep;var kY=eo.GLOBSTAR=gi.GLOBSTAR={},bvr=Rze(),Aze={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},IY="[^/]",OY=IY+"*?",Evr="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Svr="(?:(?!(?:\\/|^)\\.).)*?",Pze=Tvr("().*{}+?[]^$\\!");function Tvr(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var Ize=/\/+/;eo.filter=Cvr;function Cvr(t,e){return e=e||{},function(r,n,i){return eo(r,t,e)}}function pd(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}eo.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return eo;var e=eo,r=function(i,s,o){return e(i,s,pd(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,pd(t,s))},r.Minimatch.defaults=function(i){return e.defaults(pd(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,pd(t,s))},r.defaults=function(i){return e.defaults(pd(t,i))},r.makeRe=function(i,s){return e.makeRe(i,pd(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,pd(t,s))},r.match=function(n,i,s){return e.match(n,i,pd(t,s))},r};gi.defaults=function(t){return eo.defaults(t).Minimatch};function eo(t,e,r){return fM(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new gi(e,r).match(t)}function gi(t,e){if(!(this instanceof gi))return new gi(t,e);fM(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&hT.sep!=="/"&&(t=t.split(hT.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}gi.prototype.debug=function(){};gi.prototype.make=xvr;function xvr(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Ize)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}gi.prototype.parseNegate=Rvr;function Rvr(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}eo.braceExpand=function(t,e){return Oze(t,e)};gi.prototype.braceExpand=Oze;function Oze(t,e){return e||(this instanceof gi?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,fM(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:bvr(t)}var Avr=1024*64,fM=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Avr)throw new TypeError("pattern is too long")};gi.prototype.parse=Pvr;var lM={};function Pvr(t,e){fM(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return kY;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],u,c=!1,f=-1,d=-1,h=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function m(){if(u){switch(u){case"*":n+=OY,i=!0;break;case"?":n+=IY,i=!0;break;default:n+="\\"+u;break}p.debug("clearStateChar %j %j",u,n),u=!1}}for(var g=0,y=t.length,w;g<y&&(w=t.charAt(g));g++){if(this.debug("%s	%s %s %j",t,g,n,w),s&&Pze[w]){n+="\\"+w,s=!1;continue}switch(w){case"/":return!1;case"\\":m(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,g,n,w),c){this.debug("  in class"),w==="!"&&g===d+1&&(w="^"),n+=w;continue}p.debug("call clearStateChar %j",u),m(),u=w,r.noext&&m();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}o.push({type:u,start:g-1,reStart:n.length,open:Aze[u].open,close:Aze[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!o.length){n+="\\)";continue}m(),i=!0;var S=o.pop();n+=S.close,S.type==="!"&&a.push(S),S.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}m(),n+="|";continue;case"[":if(m(),c){n+="\\"+w;continue}c=!0,d=g,f=n.length,n+=w;continue;case"]":if(g===d+1||!c){n+="\\"+w,s=!1;continue}var E=t.substring(d+1,g);try{RegExp("["+E+"]")}catch{var b=this.parse(E,lM);n=n.substr(0,f)+"\\["+b[0]+"\\]",i=i||b[1],c=!1;continue}i=!0,c=!1,n+=w;continue;default:m(),s?s=!1:Pze[w]&&!(w==="^"&&c)&&(n+="\\"),n+=w}}for(c&&(E=t.substr(d+1),b=this.parse(E,lM),n=n.substr(0,f)+"\\["+b[0],i=i||b[1]),S=o.pop();S;S=o.pop()){var O=n.slice(S.reStart+S.open.length);this.debug("setting tail",n,S),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ue,_e,xe){return xe||(xe="\\"),_e+_e+xe+"|"}),this.debug(`tail=%j
   %s`,O,O,S,n);var M=S.type==="*"?OY:S.type==="?"?IY:"\\"+S.type;i=!0,n=n.slice(0,S.reStart)+M+"\\("+O}m(),s&&(n+="\\\\");var x=!1;switch(n.charAt(0)){case"[":case".":case"(":x=!0}for(var I=a.length-1;I>-1;I--){var P=a[I],F=n.slice(0,P.reStart),$=n.slice(P.reStart,P.reEnd-8),D=n.slice(P.reEnd-8,P.reEnd),L=n.slice(P.reEnd);D+=L;var z=F.split("(").length-1,ee=L;for(g=0;g<z;g++)ee=ee.replace(/\)[+*?]?/,"");L=ee;var N="";L===""&&e!==lM&&(N="$");var H=F+$+L+N+D;n=H}if(n!==""&&i&&(n="(?=.)"+n),x&&(n=h+n),e===lM)return[n,i];if(!i)return Ovr(t);var X=r.nocase?"i":"";try{var V=new RegExp("^"+n+"$",X)}catch{return new RegExp("$.")}return V._glob=t,V._src=n,V}eo.makeRe=function(t,e){return new gi(t,e||{}).makeRe()};gi.prototype.makeRe=Ivr;function Ivr(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?OY:e.dot?Evr:Svr,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===kY?r:typeof o=="string"?kvr(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}eo.match=function(t,e,r){r=r||{};var n=new gi(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};gi.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;hT.sep!=="/"&&(e=e.split(hT.sep).join("/")),e=e.split(Ize),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;n.matchBase&&a.length===1&&(u=[s]);var c=this.matchOne(u,a,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};gi.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var u=e[s],c=t[i];if(this.debug(e,u,c),u===!1)return!1;if(u===kY){this.debug("GLOBSTAR",[e,u,c]);var f=i,d=s+1;if(d===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;f<o;){var h=t[f];if(this.debug(`
globstar while`,t,f,e,d,h),this.matchOne(t.slice(f),e.slice(d),r))return this.debug("globstar found match!",f,o,h),!0;if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",t,f,e,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,f,e,d),f===o))}var p;if(typeof u=="string"?(p=c===u,this.debug("string match",u,c,p)):(p=c.match(u),this.debug("pattern match",u,c,p)),!p)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&t[i]==="";throw new Error("wtf?")};function Ovr(t){return t.replace(/\\(.)/g,"$1")}function kvr(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var pM=v((I6r,hM)=>{"use strict";function Nze(t){return t.charAt(0)==="/"}function Dze(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}hM.exports=process.platform==="win32"?Dze:Nze;hM.exports.posix=Nze;hM.exports.win32=Dze});var DY=v(md=>{md.setopts=qvr;md.ownProp=Fze;md.makeAbs=pT;md.finish=$vr;md.mark=Uvr;md.isIgnored=Mze;md.childrenIgnored=jvr;function Fze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Nvr=require("fs"),_0=require("path"),Dvr=dM(),Lze=pM(),NY=Dvr.Minimatch;function Fvr(t,e){return t.localeCompare(e,"en")}function Lvr(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Mvr))}function Mvr(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new NY(r,{dot:!0})}return{matcher:new NY(t,{dot:!0}),gmatcher:e}}function qvr(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Nvr,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Lvr(t,r),t.changedCwd=!1;var n=process.cwd();Fze(r,"cwd")?(t.cwd=_0.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||_0.resolve(t.cwd,"/"),t.root=_0.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Lze(t.cwd)?t.cwd:pT(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new NY(e,r),t.options=t.minimatch.options}function $vr(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Fvr)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),f=t.cache[u]||t.cache[pT(t,u)];return c&&f&&(c=f!=="DIR"&&!Array.isArray(f)),c}))}t.ignore.length&&(r=r.filter(function(u){return!Mze(t,u)})),t.found=r}function Uvr(t,e){var r=pT(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),o=e.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=pT(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function pT(t,e){var r=e;return e.charAt(0)==="/"?r=_0.join(t.root,e):Lze(e)||e===""?r=e:t.changedCwd?r=_0.resolve(t.cwd,e):r=_0.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Mze(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function jvr(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var Bze=v((F6r,jze)=>{jze.exports=Uze;Uze.GlobSync=$n;var Bvr=RY(),qze=dM(),k6r=qze.Minimatch,N6r=mT().Glob,D6r=require("util"),FY=require("path"),$ze=require("assert"),mM=pM(),rm=DY(),Hvr=rm.setopts,LY=rm.ownProp,zvr=rm.childrenIgnored,Vvr=rm.isIgnored;function Uze(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new $n(t,e).found}function $n(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof $n))return new $n(t,e);if(Hvr(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}$n.prototype._finish=function(){if($ze.ok(this instanceof $n),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=Bvr.realpathSync(i,t.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[t._makeAbs(i)]=!0;else throw o}})}rm.finish(this)};$n.prototype._process=function(t,e,r){$ze.ok(this instanceof $n);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),o;i===null?o=".":((mM(i)||mM(t.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!mM(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!zvr(this,o)){var u=s[0]===qze.GLOBSTAR;u?this._processGlobStar(i,o,a,s,e,r):this._processReaddir(i,o,a,s,e,r)}};$n.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,f=this.dot||c.charAt(0)===".",d=[],h=0;h<o.length;h++){var p=o[h];if(p.charAt(0)!=="."||f){var m;u&&!t?m=!p.match(a):m=p.match(a),m&&d.push(p)}}var g=d.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<g;h++){var p=d[h];t&&(t.slice(-1)!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=FY.join(this.root,p)),this._emitMatch(i,p)}return}n.shift();for(var h=0;h<g;h++){var p=d[h],y;t?y=[t,p]:y=[p],this._process(y.concat(n),i,s)}}}};$n.prototype._emitMatch=function(t,e){if(!Vvr(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};$n.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};$n.prototype._readdir=function(t,e){var r;if(e&&!LY(this.symlinks,t))return this._readdirInGlobStar(t);if(LY(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};$n.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};$n.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};$n.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,i,!1);var f=o.length,d=this.symlinks[r];if(!(d&&s))for(var h=0;h<f;h++){var p=o[h];if(!(p.charAt(0)==="."&&!this.dot)){var m=u.concat(o[h],a);this._process(m,i,!0);var g=u.concat(o[h],n);this._process(g,i,!0)}}}};$n.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&mM(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=FY.join(this.root,t):(t=FY.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};$n.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&LY(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};$n.prototype._mark=function(t){return rm.mark(this,t)};$n.prototype._makeAbs=function(t){return rm.makeAbs(this,t)}});var MY=v((L6r,zze)=>{zze.exports=Hze;function Hze(t,e){if(t&&e)return Hze(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var yM=v((M6r,qY)=>{var Vze=MY();qY.exports=Vze(gM);qY.exports.strict=Vze(Wze);gM.proto=gM(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return gM(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Wze(this)},configurable:!0})});function gM(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Wze(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Kze=v((q6r,Gze)=>{var Wvr=MY(),gT=Object.create(null),Gvr=yM();Gze.exports=Wvr(Kvr);function Kvr(t,e){return gT[t]?(gT[t].push(e),null):(gT[t]=[e],Xvr(t))}function Xvr(t){return Gvr(function e(){var r=gT[t],n=r.length,i=Jvr(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete gT[t]}})}function Jvr(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var mT=v((j6r,Jze)=>{Jze.exports=nm;var Zvr=RY(),Xze=dM(),$6r=Xze.Minimatch,Yvr=jr(),Qvr=require("events").EventEmitter,$Y=require("path"),UY=require("assert"),yT=pM(),BY=Bze(),im=DY(),ewr=im.setopts,jY=im.ownProp,HY=Kze(),U6r=require("util"),twr=im.childrenIgnored,rwr=im.isIgnored,nwr=yM();function nm(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return BY(t,e)}return new br(t,e,r)}nm.sync=BY;var iwr=nm.GlobSync=BY.GlobSync;nm.glob=nm;function swr(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}nm.hasMagic=function(t,e){var r=swr({},e);r.noprocess=!0;var n=new br(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};nm.Glob=br;Yvr(br,Qvr);function br(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new iwr(t,e)}if(!(this instanceof br))return new br(t,e,r);ewr(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=nwr(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}br.prototype._finish=function(){if(UY(this instanceof br),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();im.finish(this),this.emit("end",this.found)}};br.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};br.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),Zvr.realpath(a,i.realpathCache,function(c,f){c?c.syscall==="stat"?o[a]=!0:i.emit("error",c):o[f]=!0,--s===0&&(i.matches[t]=o,e())})})};br.prototype._mark=function(t){return im.mark(this,t)};br.prototype._makeAbs=function(t){return im.makeAbs(this,t)};br.prototype.abort=function(){this.aborted=!0,this.emit("abort")};br.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};br.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};br.prototype._process=function(t,e,r,n){if(UY(this instanceof br),UY(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),a;s===null?a=".":((yT(s)||yT(t.map(function(f){return typeof f=="string"?f:"[*]"}).join("/")))&&(!s||!yT(s))&&(s="/"+s),a=s);var u=this._makeAbs(a);if(twr(this,a))return n();var c=o[0]===Xze.GLOBSTAR;c?this._processGlobStar(s,a,u,o,e,r,n):this._processReaddir(s,a,u,o,e,r,n)}};br.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,n,i,s,c,o)})};br.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();for(var u=n[0],c=!!this.minimatch.negate,f=u._glob,d=this.dot||f.charAt(0)===".",h=[],p=0;p<o.length;p++){var m=o[p];if(m.charAt(0)!=="."||d){var g;c&&!t?g=!m.match(u):g=m.match(u),g&&h.push(m)}}var y=h.length;if(y===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<y;p++){var m=h[p];t&&(t!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=$Y.join(this.root,m)),this._emitMatch(i,m)}return a()}n.shift();for(var p=0;p<y;p++){var m=h[p],w;t&&(t!=="/"?m=t+"/"+m:m=t+m),this._process([m].concat(n),i,s,a)}a()};br.prototype._emitMatch=function(t,e){if(!this.aborted&&!rwr(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=yT(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};br.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=HY(r,s);i&&n.fs.lstat(t,i);function s(o,a){if(o&&o.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();n.symlinks[t]=u,!u&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};br.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=HY("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!jY(this.symlinks,t))return this._readdirInGlobStar(t,r);if(jY(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,owr(this,t,r))}};function owr(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}br.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};br.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};br.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,n,i,s,c,o)})};br.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var u=n.slice(1),c=t?[t]:[],f=c.concat(u);this._process(f,i,!1,a);var d=this.symlinks[r],h=o.length;if(d&&s)return a();for(var p=0;p<h;p++){var m=o[p];if(!(m.charAt(0)==="."&&!this.dot)){var g=c.concat(o[p],u);this._process(g,i,!0,a);var y=c.concat(o[p],n);this._process(y,i,!0,a)}}a()};br.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};br.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&yT(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=$Y.join(this.root,t):(t=$Y.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};br.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&jY(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,o)}var u=this,c=HY("stat\0"+r,f);c&&u.fs.lstat(r,c);function f(d,h){if(h&&h.isSymbolicLink())return u.fs.stat(r,function(p,m){p?u._stat2(t,r,null,h,e):u._stat2(t,r,p,m,e)});u._stat2(t,r,d,h,e)}};br.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?i():i(null,o,n)}});var e6e=v((B6r,Qze)=>{var Yze=Ms(),v0=require("path"),zY=cY(),awr=mY(),uwr=bY(),cwr=EY(),lwr=mT(),sm=Qze.exports={},Zze=/[\/\\]/g,fwr=function(t,e){var r=[];return zY(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=awr(r,s):r=uwr(r,s)}),r};sm.exists=function(){var t=v0.join.apply(v0,arguments);return Yze.existsSync(t)};sm.expand=function(...t){var e=cwr(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=fwr(r,function(i){return lwr.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=v0.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):Yze.statSync(i)[e.filter]()}catch{return!1}})),n};sm.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return v0.join(s||"",o)}},r);var n=[],i={};return sm.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=v0.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=v0.join(r.cwd,s)),a=a.replace(Zze,"/"),s=s.replace(Zze,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};sm.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=zY(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return sm.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?zY(o):[o],s.result=sm.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var _T=v((z6r,n6e)=>{var VY=Ms(),t6e=require("path"),H6r=require("util"),dwr=nY(),r6e=eM(),hwr=aY(),pwr=require("stream").Stream,mwr=Os().PassThrough,to=n6e.exports={};to.file=e6e();to.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=new Buffer(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};to.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};to.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},hwr(...n)};to.isStream=function(t){return t instanceof pwr};to.lazyReadStream=function(t){return new dwr.Readable(function(){return VY.createReadStream(t)})};to.normalizeInputSource=function(t){if(t===null)return new Buffer(0);if(typeof t=="string")return new Buffer(t);if(to.isStream(t)&&!t._readableState){var e=new mwr;return t.pipe(e),e}return t};to.sanitizePath=function(t){return r6e(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};to.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};to.unixifyPath=function(t){return r6e(t,!1).replace(/^\w+:/,"")};to.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),VY.readdir(t,function(i,s){var o=0,a,u;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);u=t6e.join(t,a),VY.stat(u,function(f,d){n.push({path:u,relative:t6e.relative(e,u).replace(/\\/g,"/"),stats:d}),d&&d.isDirectory()?to.walkdir(u,e,function(h,p){p.forEach(function(m){n.push(m)}),c()}):c()})})()})}});var a6e=v((s6e,o6e)=>{var gwr=require("util"),ywr={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function i6e(t,e){Error.captureStackTrace(this,this.constructor),this.message=ywr[t]||t,this.code=t,this.data=e}gwr.inherits(i6e,Error);s6e=o6e.exports=i6e});var d6e=v((V6r,f6e)=>{var KY=require("fs"),c6e=lHe(),u6e=dHe(),WY=require("path"),Bu=_T(),_wr=require("util").inherits,_n=a6e(),l6e=Wi().Transform,GY=process.platform==="win32",dr=function(t,e){if(!(this instanceof dr))return new dr(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=Bu.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),l6e.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=u6e.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=u6e.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};_wr(dr,l6e);dr.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};dr.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof KY.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};dr.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};dr.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};dr.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}.bind(this))};dr.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new _n("NOENDMETHOD"))};dr.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};dr.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};dr.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};dr.prototype._normalizeEntryData=function(t,e){t=Bu.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=Bu.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?GY?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(GY?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,GY&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=Bu.dateify(t.date),t};dr.prototype._onModuleError=function(t){this.emit("error",t)};dr.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};dr.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};dr.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}KY.lstat(t.filepath,function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}.bind(this))};dr.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};dr.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};dr.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=Bu.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=Bu.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=Bu.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=KY.readlinkSync(t.filepath),n=WY.dirname(t.filepath);t.data.type="symlink",t.data.linkname=WY.relative(n,WY.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new _n("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new _n("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new _n("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};dr.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};dr.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new _n("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new _n("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new _n("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=Bu.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(Bu.isStream(t))e.sourceType="stream";else return this.emit("error",new _n("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};dr.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _n("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _n("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function o(c){this.emit("error",c)}function a(c){u.pause();var f=!1,d=Object.assign({},r);d.name=c.relative,d.prefix=e,d.stats=c.stat,d.callback=u.resume.bind(u);try{if(n){if(d=n(d),d===!1)f=!0;else if(typeof d!="object")throw new _n("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(h){this.emit("error",h);return}if(f){u.resume();return}this._append(c.absolute,d)}var u=c6e(t,i);return u.on("error",o.bind(this)),u.on("match",a.bind(this)),u.on("end",s.bind(this)),this};dr.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new _n("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new _n("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};dr.prototype.glob=function(t,e,r){this._pending++,e=Bu.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(a){this.emit("error",a)}function s(a){o.pause();var u=Object.assign({},r);u.callback=o.resume.bind(o),u.stats=a.stat,u.name=a.relative,this._append(a.absolute,u)}var o=c6e(e.cwd||".",e);return o.on("error",i.bind(this)),o.on("match",s.bind(this)),o.on("end",n.bind(this)),this};dr.prototype.finalize=function(){if(this._state.aborted){var t=new _n("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new _n("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(o){s=!0,i(o)})})};dr.prototype.setFormat=function(t){return this._format?(this.emit("error",new _n("FORMATSET")),this):(this._format=t,this)};dr.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new _n("ABORTED")),this):this._state.module?(this.emit("error",new _n("MODULESET")),this):(this._module=t,this._modulePipe(),this)};dr.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new _n("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new _n("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new _n("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new _n("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};dr.prototype.pointer=function(){return this._pointer};dr.prototype.use=function(t){return this._streams.push(t),this};f6e.exports=dr});var vM=v((W6r,h6e)=>{var _M=h6e.exports=function(){};_M.prototype.getName=function(){};_M.prototype.getSize=function(){};_M.prototype.getLastModifiedDate=function(){};_M.prototype.isDirectory=function(){}});var wM=v((G6r,p6e)=>{var Go=p6e.exports={};Go.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Go.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Go.fromDosTime=function(t){return Go.dosToDate(t.readUInt32LE(0))};Go.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Go.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Go.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Go.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Go.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Go.toDosTime=function(t){return Go.getLongBytes(Go.dateToDos(t))}});var XY=v((K6r,w6e)=>{var m6e=wM(),g6e=8,y6e=1,vwr=4,wwr=2,_6e=64,v6e=2048,yi=w6e.exports=function(){return this instanceof yi?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new yi};yi.prototype.encode=function(){return m6e.getShortBytes((this.descriptor?g6e:0)|(this.utf8?v6e:0)|(this.encryption?y6e:0)|(this.strongEncryption?_6e:0))};yi.prototype.parse=function(t,e){var r=m6e.getShortBytesValue(t,e),n=new yi;return n.useDataDescriptor((r&g6e)!==0),n.useUTF8ForNames((r&v6e)!==0),n.useStrongEncryption((r&_6e)!==0),n.useEncryption((r&y6e)!==0),n.setSlidingDictionarySize((r&wwr)!==0?8192:4096),n.setNumberOfShannonFanoTrees((r&vwr)!==0?3:2),n};yi.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};yi.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};yi.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};yi.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};yi.prototype.useDataDescriptor=function(t){this.descriptor=t};yi.prototype.usesDataDescriptor=function(){return this.descriptor};yi.prototype.useEncryption=function(t){this.encryption=t};yi.prototype.usesEncryption=function(){return this.encryption};yi.prototype.useStrongEncryption=function(t){this.strongEncryption=t};yi.prototype.usesStrongEncryption=function(){return this.strongEncryption};yi.prototype.useUTF8ForNames=function(t){this.utf8=t};yi.prototype.usesUTF8ForNames=function(){return this.utf8}});var E6e=v((X6r,b6e)=>{b6e.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}});var JY=v((J6r,S6e)=>{S6e.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}});var ZY=v((Z6r,A6e)=>{var bwr=require("util").inherits,Ewr=eM(),C6e=vM(),x6e=XY(),T6e=E6e(),gs=JY(),R6e=wM(),Ht=A6e.exports=function(t){if(!(this instanceof Ht))return new Ht(t);C6e.call(this),this.platform=gs.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new x6e,this.crc=0,this.time=-1,this.minver=gs.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};bwr(Ht,C6e);Ht.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};Ht.prototype.getComment=function(){return this.comment!==null?this.comment:""};Ht.prototype.getCompressedSize=function(){return this.csize};Ht.prototype.getCrc=function(){return this.crc};Ht.prototype.getExternalAttributes=function(){return this.exattr};Ht.prototype.getExtra=function(){return this.extra!==null?this.extra:gs.EMPTY};Ht.prototype.getGeneralPurposeBit=function(){return this.gpb};Ht.prototype.getInternalAttributes=function(){return this.inattr};Ht.prototype.getLastModifiedDate=function(){return this.getTime()};Ht.prototype.getLocalFileDataExtra=function(){return this.getExtra()};Ht.prototype.getMethod=function(){return this.method};Ht.prototype.getName=function(){return this.name};Ht.prototype.getPlatform=function(){return this.platform};Ht.prototype.getSize=function(){return this.size};Ht.prototype.getTime=function(){return this.time!==-1?R6e.dosToDate(this.time):-1};Ht.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};Ht.prototype.getUnixMode=function(){return this.platform!==gs.PLATFORM_UNIX?0:this.getExternalAttributes()>>gs.SHORT_SHIFT&gs.SHORT_MASK};Ht.prototype.getVersionNeededToExtract=function(){return this.minver};Ht.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};Ht.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};Ht.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};Ht.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};Ht.prototype.setExtra=function(t){this.extra=t};Ht.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof x6e))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};Ht.prototype.setInternalAttributes=function(t){this.inattr=t};Ht.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};Ht.prototype.setName=function(t,e=!1){t=Ewr(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};Ht.prototype.setPlatform=function(t){this.platform=t};Ht.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};Ht.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=R6e.dateToDos(t,e)};Ht.prototype.setUnixMode=function(t){t|=this.isDirectory()?gs.S_IFDIR:gs.S_IFREG;var e=0;e|=t<<gs.SHORT_SHIFT|(this.isDirectory()?gs.S_DOS_D:gs.S_DOS_A),this.setExternalAttributes(e),this.mode=t&gs.MODE_MASK,this.platform=gs.PLATFORM_UNIX};Ht.prototype.setVersionNeededToExtract=function(t){this.minver=t};Ht.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};Ht.prototype.isUnixSymlink=function(){return(this.getUnixMode()&T6e.FILE_TYPE_FLAG)===T6e.LINK_FLAG};Ht.prototype.isZip64=function(){return this.csize>gs.ZIP64_MAGIC||this.size>gs.ZIP64_MAGIC}});var QY=v((Y6r,P6e)=>{var Swr=require("stream").Stream,Twr=Wi().PassThrough,YY=P6e.exports={};YY.isStream=function(t){return t instanceof Swr};YY.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(YY.isStream(t)&&!t._readableState){var e=new Twr;return t.pipe(e),e}return t}});var tQ=v((Q6r,O6e)=>{var Cwr=require("util").inherits,eQ=Wi().Transform,xwr=vM(),I6e=QY(),ro=O6e.exports=function(t){if(!(this instanceof ro))return new ro(t);eQ.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};Cwr(ro,eQ);ro.prototype._appendBuffer=function(t,e,r){};ro.prototype._appendStream=function(t,e,r){};ro.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};ro.prototype._finish=function(t){};ro.prototype._normalizeEntry=function(t){};ro.prototype._transform=function(t,e,r){r(null,t)};ro.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof xwr)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=I6e.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(I6e.isStream(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};ro.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};ro.prototype.getBytesWritten=function(){return this.offset};ro.prototype.write=function(t,e){return t&&(this.offset+=t.length),eQ.prototype.write.call(this,t,e)}});var sQ=v((eVr,N6e)=>{var gd=require("buffer").Buffer,rQ=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(rQ=new Int32Array(rQ));function k6e(t){if(gd.isBuffer(t))return t;var e=typeof gd.alloc=="function"&&typeof gd.from=="function";if(typeof t=="number")return e?gd.alloc(t):new gd(t);if(typeof t=="string")return e?gd.from(t):new gd(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Rwr(t){var e=k6e(4);return e.writeInt32BE(t,0),e}function nQ(t,e){t=k6e(t),gd.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=rQ[(r^t[n])&255]^r>>>8;return r^-1}function iQ(){return Rwr(nQ.apply(null,arguments))}iQ.signed=function(){return nQ.apply(null,arguments)};iQ.unsigned=function(){return nQ.apply(null,arguments)>>>0};N6e.exports=iQ});var aQ=v(oQ=>{var D6e;(function(t){typeof DO_NOT_EXPORT_CRC>"u"?typeof oQ=="object"?t(oQ):typeof define=="function"&&define.amd?define(function(){var e={};return t(e),e}):t(D6e={}):t(D6e={})})(function(t){t.version="1.2.2";function e(){for(var x=0,I=new Array(256),P=0;P!=256;++P)x=P,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,I[P]=x;return typeof Int32Array<"u"?new Int32Array(I):I}var r=e();function n(x){var I=0,P=0,F=0,$=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)$[F]=x[F];for(F=0;F!=256;++F)for(P=x[F],I=256+F;I<4096;I+=256)P=$[I]=P>>>8^x[P&255];var D=[];for(F=1;F!=16;++F)D[F-1]=typeof Int32Array<"u"?$.subarray(F*256,F*256+256):$.slice(F*256,F*256+256);return D}var i=n(r),s=i[0],o=i[1],a=i[2],u=i[3],c=i[4],f=i[5],d=i[6],h=i[7],p=i[8],m=i[9],g=i[10],y=i[11],w=i[12],S=i[13],E=i[14];function b(x,I){for(var P=I^-1,F=0,$=x.length;F<$;)P=P>>>8^r[(P^x.charCodeAt(F++))&255];return~P}function O(x,I){for(var P=I^-1,F=x.length-15,$=0;$<F;)P=E[x[$++]^P&255]^S[x[$++]^P>>8&255]^w[x[$++]^P>>16&255]^y[x[$++]^P>>>24]^g[x[$++]]^m[x[$++]]^p[x[$++]]^h[x[$++]]^d[x[$++]]^f[x[$++]]^c[x[$++]]^u[x[$++]]^a[x[$++]]^o[x[$++]]^s[x[$++]]^r[x[$++]];for(F+=15;$<F;)P=P>>>8^r[(P^x[$++])&255];return~P}function M(x,I){for(var P=I^-1,F=0,$=x.length,D=0,L=0;F<$;)D=x.charCodeAt(F++),D<128?P=P>>>8^r[(P^D)&255]:D<2048?(P=P>>>8^r[(P^(192|D>>6&31))&255],P=P>>>8^r[(P^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,L=x.charCodeAt(F++)&1023,P=P>>>8^r[(P^(240|D>>8&7))&255],P=P>>>8^r[(P^(128|D>>2&63))&255],P=P>>>8^r[(P^(128|L>>6&15|(D&3)<<4))&255],P=P>>>8^r[(P^(128|L&63))&255]):(P=P>>>8^r[(P^(224|D>>12&15))&255],P=P>>>8^r[(P^(128|D>>6&63))&255],P=P>>>8^r[(P^(128|D&63))&255]);return~P}t.table=r,t.bstr=b,t.buf=O,t.str=M})});var L6e=v((rVr,F6e)=>{"use strict";var{Transform:Awr}=Wi(),Pwr=aQ(),uQ=class extends Awr{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=Pwr.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};F6e.exports=uQ});var q6e=v((nVr,M6e)=>{"use strict";var{DeflateRaw:Iwr}=require("zlib"),Owr=aQ(),cQ=class extends Iwr{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=Owr.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){let r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};M6e.exports=cQ});var lQ=v((iVr,$6e)=>{"use strict";$6e.exports={CRC32Stream:L6e(),DeflateCRC32Stream:q6e()}});var B6e=v((uVr,j6e)=>{var kwr=require("util").inherits,Nwr=sQ(),{CRC32Stream:Dwr}=lQ(),{DeflateCRC32Stream:Fwr}=lQ(),U6e=tQ(),sVr=ZY(),oVr=XY(),Pt=JY(),aVr=QY(),pt=wM(),Jn=j6e.exports=function(t){if(!(this instanceof Jn))return new Jn(t);t=this.options=this._defaults(t),U6e.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};kwr(Jn,U6e);Jn.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};Jn.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(Pt.METHOD_STORED);var n=t.getMethod();if(n===Pt.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(Nwr.unsigned(e))),this._writeLocalFileHeader(t),n===Pt.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===Pt.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};Jn.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Pt.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};Jn.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=Pt.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};Jn.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};Jn.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(Pt.METHOD_DEFLATED),t.getMethod()===Pt.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Pt.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};Jn.prototype._smartStream=function(t,e){var r=t.getMethod()===Pt.METHOD_DEFLATED,n=r?new Fwr(this.options.zlib):new Dwr,i=null;function s(){var o=n.digest().readUInt32BE(0);t.setCrc(o),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(o){i=o}),n.pipe(this,{end:!1}),n};Jn.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=Pt.ZIP64_MAGIC_SHORT,e=Pt.ZIP64_MAGIC,r=Pt.ZIP64_MAGIC),this.write(pt.getLongBytes(Pt.SIG_EOCD)),this.write(Pt.SHORT_ZERO),this.write(Pt.SHORT_ZERO),this.write(pt.getShortBytes(t)),this.write(pt.getShortBytes(t)),this.write(pt.getLongBytes(e)),this.write(pt.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(pt.getShortBytes(i)),this.write(n)};Jn.prototype._writeCentralDirectoryZip64=function(){this.write(pt.getLongBytes(Pt.SIG_ZIP64_EOCD)),this.write(pt.getEightBytes(44)),this.write(pt.getShortBytes(Pt.MIN_VERSION_ZIP64)),this.write(pt.getShortBytes(Pt.MIN_VERSION_ZIP64)),this.write(Pt.LONG_ZERO),this.write(Pt.LONG_ZERO),this.write(pt.getEightBytes(this._entries.length)),this.write(pt.getEightBytes(this._entries.length)),this.write(pt.getEightBytes(this._archive.centralLength)),this.write(pt.getEightBytes(this._archive.centralOffset)),this.write(pt.getLongBytes(Pt.SIG_ZIP64_EOCD_LOC)),this.write(Pt.LONG_ZERO),this.write(pt.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(pt.getLongBytes(1))};Jn.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n.file>Pt.ZIP64_MAGIC){i=Pt.ZIP64_MAGIC,s=Pt.ZIP64_MAGIC,t.setVersionNeededToExtract(Pt.MIN_VERSION_ZIP64);var o=Buffer.concat([pt.getShortBytes(Pt.ZIP64_EXTRA_ID),pt.getShortBytes(24),pt.getEightBytes(t.getSize()),pt.getEightBytes(t.getCompressedSize()),pt.getEightBytes(n.file)],28);t.setExtra(o)}this.write(pt.getLongBytes(Pt.SIG_CFH)),this.write(pt.getShortBytes(t.getPlatform()<<8|Pt.VERSION_MADEBY)),this.write(pt.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(pt.getShortBytes(r)),this.write(pt.getLongBytes(t.getTimeDos())),this.write(pt.getLongBytes(t.getCrc())),this.write(pt.getLongBytes(s)),this.write(pt.getLongBytes(i));var a=t.getName(),u=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),u=Buffer.from(u)),this.write(pt.getShortBytes(a.length)),this.write(pt.getShortBytes(c.length)),this.write(pt.getShortBytes(u.length)),this.write(Pt.SHORT_ZERO),this.write(pt.getShortBytes(t.getInternalAttributes())),this.write(pt.getLongBytes(t.getExternalAttributes())),n.file>Pt.ZIP64_MAGIC?this.write(pt.getLongBytes(Pt.ZIP64_MAGIC)):this.write(pt.getLongBytes(n.file)),this.write(a),this.write(c),this.write(u)};Jn.prototype._writeDataDescriptor=function(t){this.write(pt.getLongBytes(Pt.SIG_DD)),this.write(pt.getLongBytes(t.getCrc())),t.isZip64()?(this.write(pt.getEightBytes(t.getCompressedSize())),this.write(pt.getEightBytes(t.getSize()))):(this.write(pt.getLongBytes(t.getCompressedSize())),this.write(pt.getLongBytes(t.getSize())))};Jn.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(Pt.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(pt.getLongBytes(Pt.SIG_LFH)),this.write(pt.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(pt.getShortBytes(r)),this.write(pt.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(Pt.LONG_ZERO),this.write(Pt.LONG_ZERO),this.write(Pt.LONG_ZERO)):(this.write(pt.getLongBytes(t.getCrc())),this.write(pt.getLongBytes(t.getCompressedSize())),this.write(pt.getLongBytes(t.getSize()))),this.write(pt.getShortBytes(n.length)),this.write(pt.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};Jn.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};Jn.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>Pt.ZIP64_MAGIC_SHORT||this._archive.centralLength>Pt.ZIP64_MAGIC||this._archive.centralOffset>Pt.ZIP64_MAGIC};Jn.prototype.setComment=function(t){this._archive.comment=t}});var fQ=v((cVr,H6e)=>{H6e.exports={ArchiveEntry:vM(),ZipArchiveEntry:ZY(),ArchiveOutputStream:tQ(),ZipArchiveOutputStream:B6e()}});var G6e=v((lVr,W6e)=>{var V6e=Ms(),w0=require("path"),dQ=cY(),Lwr=mY(),Mwr=bY(),qwr=EY(),$wr=mT(),om=W6e.exports={},z6e=/[\/\\]/g,Uwr=function(t,e){var r=[];return dQ(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=Lwr(r,s):r=Mwr(r,s)}),r};om.exists=function(){var t=w0.join.apply(w0,arguments);return V6e.existsSync(t)};om.expand=function(...t){var e=qwr(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=Uwr(r,function(i){return $wr.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=w0.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):V6e.statSync(i)[e.filter]()}catch{return!1}})),n};om.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,o){return w0.join(s||"",o)}},r);var n=[],i={};return om.expand(r,t).forEach(function(s){var o=s;r.flatten&&(o=w0.basename(o)),r.ext&&(o=o.replace(/(\.[^\/]*)?$/,r.ext));var a=r.rename(e,o,r);r.cwd&&(s=w0.join(r.cwd,s)),a=a.replace(z6e,"/"),s=s.replace(z6e,"/"),i[a]?i[a].src.push(s):(n.push({src:[s],dest:a}),i[a]=n[n.length-1])}),n};om.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){var n;("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=dQ(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return om.expandMapping(r.src,r.dest,n).map(function(s){var o=Object.assign({},r);return o.orig=Object.assign({},r),o.src=s.src,o.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(a){delete o[a]}),o});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var o;return"result"in s||(o=r.src,o=Array.isArray(o)?dQ(o):[o],s.result=om.expand(n,o)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)}});var Z6e=v((fVr,J6e)=>{var hQ=Ms(),K6e=require("path"),jwr=nY(),X6e=eM(),Bwr=aY(),Hwr=require("stream").Stream,zwr=Wi().PassThrough,no=J6e.exports={};no.file=G6e();no.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(o){o.copy(i,s),s+=o.length}),e(null,i)})};no.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};no.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},Bwr(...n)};no.isStream=function(t){return t instanceof Hwr};no.lazyReadStream=function(t){return new jwr.Readable(function(){return hQ.createReadStream(t)})};no.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):no.isStream(t)?t.pipe(new zwr):t};no.sanitizePath=function(t){return X6e(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};no.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};no.unixifyPath=function(t){return X6e(t,!1).replace(/^\w+:/,"")};no.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),hQ.readdir(t,function(i,s){var o=0,a,u;if(i)return r(i);(function c(){if(a=s[o++],!a)return r(null,n);u=K6e.join(t,a),hQ.stat(u,function(f,d){n.push({path:u,relative:K6e.relative(e,u).replace(/\\/g,"/"),stats:d}),d&&d.isDirectory()?no.walkdir(u,e,function(h,p){p.forEach(function(m){n.push(m)}),c()}):c()})})()})}});var Q6e=v((dVr,Y6e)=>{var Vwr=require("util").inherits,mQ=fQ().ZipArchiveOutputStream,Wwr=fQ().ZipArchiveEntry,pQ=Z6e(),b0=Y6e.exports=function(t){if(!(this instanceof b0))return new b0(t);t=this.options=t||{},t.zlib=t.zlib||{},mQ.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};Vwr(b0,mQ);b0.prototype._normalizeFileData=function(t){t=pQ.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=pQ.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=pQ.dateify(t.date),t};b0.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new Wwr(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),mQ.prototype.entry.call(this,n,t,r)};b0.prototype.finalize=function(){this.finish()}});var tVe=v((hVr,eVe)=>{var Gwr=Q6e(),Kwr=_T(),yd=function(t){if(!(this instanceof yd))return new yd(t);t=this.options=Kwr.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new Gwr(t)};yd.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};yd.prototype.finalize=function(){this.engine.finalize()};yd.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};yd.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};yd.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};eVe.exports=yd});var iVe=v((pVr,nVe)=>{"use strict";var{Buffer:Oa}=require("buffer"),rVe=Symbol.for("BufferList");function Hr(t){if(!(this instanceof Hr))return new Hr(t);Hr._init.call(this,t)}Hr._init=function(e){Object.defineProperty(this,rVe,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Hr.prototype._new=function(e){return new Hr(e)};Hr.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};Hr.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};Hr.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Hr.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Hr.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||Oa.alloc(0);let s=!!e,o=this._offset(n),a=i-n,u=a,c=s&&r||0,f=o[1];if(n===0&&i===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Oa.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,c),c+=this._bufs[d].length;return e}if(u<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,r,f,f+u):this._bufs[o[0]].slice(f,f+u);s||(e=Oa.allocUnsafe(a));for(let d=o[0];d<this._bufs.length;d++){let h=this._bufs[d].length-f;if(u>h)this._bufs[d].copy(e,c,f),c+=h;else{this._bufs[d].copy(e,c,f,f+u),c+=h;break}u-=h,f&&(f=0)}return e.length>c?e.slice(0,c):e};Hr.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),s=this._bufs.slice(n[0],i[0]+1);return i[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,i[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};Hr.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};Hr.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Hr.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Hr.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Oa.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Oa.from(e));return this};Hr.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Hr.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Oa.from([t]):typeof t=="string"?t=Oa.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Oa.from(t.buffer,t.byteOffset,t.byteLength):Oa.isBuffer(t)||(t=Oa.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],s=n[1];for(;i<this._bufs.length;i++){let o=this._bufs[i];for(;s<o.length;)if(o.length-s>=t.length){let u=o.indexOf(t,s);if(u!==-1)return this._reverseOffset([i,u]);s=o.length-t.length+1}else{let u=this._reverseOffset([i,s]);if(this._match(u,t))return u;s++}s=0}return-1};Hr.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Hr.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:Hr.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();Hr.prototype._isBufferList=function(e){return e instanceof Hr||Hr.isBufferList(e)};Hr.isBufferList=function(e){return e!=null&&e[rVe]};nVe.exports=Hr});var sVe=v((mVr,bM)=>{"use strict";var gQ=Wi().Duplex,Xwr=jr(),vT=iVe();function Ji(t){if(!(this instanceof Ji))return new Ji(t);if(typeof t=="function"){this._callback=t;let e=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",e)}),this.on("unpipe",function(n){n.removeListener("error",e)}),t=null}vT._init.call(this,t),gQ.call(this)}Xwr(Ji,gQ);Object.assign(Ji.prototype,vT.prototype);Ji.prototype._new=function(e){return new Ji(e)};Ji.prototype._write=function(e,r,n){this._appendBuffer(e),typeof n=="function"&&n()};Ji.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};Ji.prototype.end=function(e){gQ.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Ji.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};Ji.prototype._isBufferList=function(e){return e instanceof Ji||e instanceof vT||Ji.isBufferList(e)};Ji.isBufferList=vT.isBufferList;bM.exports=Ji;bM.exports.BufferListStream=Ji;bM.exports.BufferList=vT});var vQ=v(S0=>{var Jwr=Buffer.alloc,Zwr="0000000000000000000",Ywr="7777777777777777777",oVe=48,aVe=Buffer.from("ustar\0","binary"),Qwr=Buffer.from("00","binary"),ebr=Buffer.from("ustar ","binary"),tbr=Buffer.from(" \0","binary"),rbr=parseInt("7777",8),wT=257,_Q=263,nbr=function(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},ibr=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},sbr=function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},uVe=function(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n},cVe=function(t){for(var e=256,r=0;r<148;r++)e+=t[r];for(var n=156;n<512;n++)e+=t[n];return e},_d=function(t,e){return t=t.toString(8),t.length>e?Ywr.slice(0,e)+" ":Zwr.slice(0,e-t.length)+t+" "};function obr(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var r=[],n=t.length-1;n>0;n--){var i=t[n];e?r.push(i):r.push(255-i)}var s=0,o=r.length;for(n=0;n<o;n++)s+=r[n]*Math.pow(256,n);return e?s:-1*s}var vd=function(t,e,r){if(t=t.slice(e,e+r),e=0,t[e]&128)return obr(t);for(;e<t.length&&t[e]===32;)e++;for(var n=nbr(uVe(t,32,e,t.length),t.length,t.length);e<n&&t[e]===0;)e++;return n===e?0:parseInt(t.slice(e,n).toString(),8)},E0=function(t,e,r,n){return t.slice(e,uVe(t,0,e,e+r)).toString(n)},yQ=function(t){var e=Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t};S0.decodeLongPath=function(t,e){return E0(t,0,t.length,e)};S0.encodePax=function(t){var e="";t.name&&(e+=yQ(" path="+t.name+`
`)),t.linkname&&(e+=yQ(" linkpath="+t.linkname+`
`));var r=t.pax;if(r)for(var n in r)e+=yQ(" "+n+"="+r[n]+`
`);return Buffer.from(e)};S0.decodePax=function(t){for(var e={};t.length;){for(var r=0;r<t.length&&t[r]!==32;)r++;var n=parseInt(t.slice(0,r).toString(),10);if(!n)return e;var i=t.slice(r+1,n-1).toString(),s=i.indexOf("=");if(s===-1)return e;e[i.slice(0,s)]=i.slice(s+1),t=t.slice(n)}return e};S0.encode=function(t){var e=Jwr(512),r=t.name,n="";if(t.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),Buffer.byteLength(r)!==r.length)return null;for(;Buffer.byteLength(r)>100;){var i=r.indexOf("/");if(i===-1)return null;n+=n?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return Buffer.byteLength(r)>100||Buffer.byteLength(n)>155||t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(r),e.write(_d(t.mode&rbr,6),100),e.write(_d(t.uid,6),108),e.write(_d(t.gid,6),116),e.write(_d(t.size,11),124),e.write(_d(t.mtime.getTime()/1e3|0,11),136),e[156]=oVe+sbr(t.type),t.linkname&&e.write(t.linkname,157),aVe.copy(e,wT),Qwr.copy(e,_Q),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(_d(t.devmajor||0,6),329),e.write(_d(t.devminor||0,6),337),n&&e.write(n,345),e.write(_d(cVe(e),6),148),e)};S0.decode=function(t,e,r){var n=t[156]===0?0:t[156]-oVe,i=E0(t,0,100,e),s=vd(t,100,8),o=vd(t,108,8),a=vd(t,116,8),u=vd(t,124,12),c=vd(t,136,12),f=ibr(n),d=t[157]===0?null:E0(t,157,100,e),h=E0(t,265,32),p=E0(t,297,32),m=vd(t,329,8),g=vd(t,337,8),y=cVe(t);if(y===256)return null;if(y!==vd(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(aVe.compare(t,wT,wT+6)===0)t[345]&&(i=E0(t,345,155,e)+"/"+i);else if(!(ebr.compare(t,wT,wT+6)===0&&tbr.compare(t,_Q,_Q+2)===0)){if(!r)throw new Error("Invalid tar header: unknown format.")}return n===0&&i&&i[i.length-1]==="/"&&(n=5),{name:i,mode:s,uid:o,gid:a,size:u,mtime:new Date(1e3*c),type:f,linkname:d,uname:h,gname:p,devmajor:m,devminor:g}}});var gVe=v((yVr,mVe)=>{var fVe=require("util"),abr=sVe(),bT=vQ(),dVe=Wi().Writable,hVe=Wi().PassThrough,pVe=function(){},lVe=function(t){return t&=511,t&&512-t},ubr=function(t,e){var r=new EM(t,e);return r.end(),r},cbr=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),e.size&&(t.size=parseInt(e.size,10)),t.pax=e,t},EM=function(t,e){this._parent=t,this.offset=e,hVe.call(this,{autoDestroy:!1})};fVe.inherits(EM,hVe);EM.prototype.destroy=function(t){this._parent.destroy(t)};var Yc=function(t){if(!(this instanceof Yc))return new Yc(t);dVe.call(this,t),t=t||{},this._offset=0,this._buffer=abr(),this._missing=0,this._partial=!1,this._onparse=pVe,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,r=e._buffer,n=function(){e._continue()},i=function(h){if(e._locked=!1,h)return e.destroy(h);e._stream||n()},s=function(){e._stream=null;var h=lVe(e._header.size);h?e._parse(h,o):e._parse(512,d),e._locked||n()},o=function(){e._buffer.consume(lVe(e._header.size)),e._parse(512,d),n()},a=function(){var h=e._header.size;e._paxGlobal=bT.decodePax(r.slice(0,h)),r.consume(h),s()},u=function(){var h=e._header.size;e._pax=bT.decodePax(r.slice(0,h)),e._paxGlobal&&(e._pax=Object.assign({},e._paxGlobal,e._pax)),r.consume(h),s()},c=function(){var h=e._header.size;this._gnuLongPath=bT.decodeLongPath(r.slice(0,h),t.filenameEncoding),r.consume(h),s()},f=function(){var h=e._header.size;this._gnuLongLinkPath=bT.decodeLongPath(r.slice(0,h),t.filenameEncoding),r.consume(h),s()},d=function(){var h=e._offset,p;try{p=e._header=bT.decode(r.slice(0,512),t.filenameEncoding,t.allowUnknownFormat)}catch(m){e.emit("error",m)}if(r.consume(512),!p){e._parse(512,d),n();return}if(p.type==="gnu-long-path"){e._parse(p.size,c),n();return}if(p.type==="gnu-long-link-path"){e._parse(p.size,f),n();return}if(p.type==="pax-global-header"){e._parse(p.size,a),n();return}if(p.type==="pax-header"){e._parse(p.size,u),n();return}if(e._gnuLongPath&&(p.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(p.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=p=cbr(p,e._pax),e._pax=null),e._locked=!0,!p.size||p.type==="directory"){e._parse(512,d),e.emit("entry",p,ubr(e,h),i);return}e._stream=new EM(e,h),e.emit("entry",p,e._stream,i),e._parse(p.size,s),n()};this._onheader=d,this._parse(512,d)};fVe.inherits(Yc,dVe);Yc.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))};Yc.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,e===this._onheader&&(this._partial=!1),this._onparse=e)};Yc.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=pVe,this._overflow?this._write(this._overflow,void 0,t):t()}};Yc.prototype._write=function(t,e,r){if(!this._destroyed){var n=this._stream,i=this._buffer,s=this._missing;if(t.length&&(this._partial=!0),t.length<s)return this._missing-=t.length,this._overflow=null,n?n.write(t,r):(i.append(t),r());this._cb=r,this._missing=0;var o=null;t.length>s&&(o=t.slice(s),t=t.slice(0,s)),n?n.end(t):i.append(t),this._overflow=o,this._onparse()}};Yc.prototype._final=function(t){if(this._partial)return this.destroy(new Error("Unexpected end of data"));t()};mVe.exports=Yc});var _Ve=v((_Vr,yVe)=>{yVe.exports=require("fs").constants||require("constants")});var bVe=v((vVr,wVe)=>{var lbr=yM(),fbr=function(){},dbr=global.Bare?queueMicrotask:process.nextTick.bind(process),hbr=function(t){return t.setHeader&&typeof t.abort=="function"},pbr=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},vVe=function(t,e,r){if(typeof e=="function")return vVe(t,null,e);e||(e={}),r=lbr(r||fbr);var n=t._writableState,i=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||c()},c=function(){o=!1,s||r.call(t)},f=function(){s=!1,o||r.call(t)},d=function(y){r.call(t,y?new Error("exited with error code: "+y):null)},h=function(y){r.call(t,y)},p=function(){dbr(m)},m=function(){if(!a){if(s&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},g=function(){t.req.on("finish",c)};return hbr(t)?(t.on("complete",c),t.on("abort",p),t.req?g():t.on("request",g)):o&&!n&&(t.on("end",u),t.on("close",u)),pbr(t)&&t.on("exit",d),t.on("end",f),t.on("finish",c),e.error!==!1&&t.on("error",h),t.on("close",p),function(){a=!0,t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("exit",d),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}};wVe.exports=vVe});var xVe=v((wVr,CVe)=>{var T0=_Ve(),EVe=bVe(),TM=jr(),mbr=Buffer.alloc,SVe=Wi().Readable,C0=Wi().Writable,gbr=require("string_decoder").StringDecoder,SM=vQ(),ybr=parseInt("755",8),_br=parseInt("644",8),TVe=mbr(1024),bQ=function(){},wQ=function(t,e){e&=511,e&&t.push(TVe.slice(0,512-e))};function vbr(t){switch(t&T0.S_IFMT){case T0.S_IFBLK:return"block-device";case T0.S_IFCHR:return"character-device";case T0.S_IFDIR:return"directory";case T0.S_IFIFO:return"fifo";case T0.S_IFLNK:return"symlink"}return"file"}var CM=function(t){C0.call(this),this.written=0,this._to=t,this._destroyed=!1};TM(CM,C0);CM.prototype._write=function(t,e,r){if(this.written+=t.length,this._to.push(t))return r();this._to._drain=r};CM.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var xM=function(){C0.call(this),this.linkname="",this._decoder=new gbr("utf-8"),this._destroyed=!1};TM(xM,C0);xM.prototype._write=function(t,e,r){this.linkname+=this._decoder.write(t),r()};xM.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var ET=function(){C0.call(this),this._destroyed=!1};TM(ET,C0);ET.prototype._write=function(t,e,r){r(new Error("No body allowed for this entry"))};ET.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var Hu=function(t){if(!(this instanceof Hu))return new Hu(t);SVe.call(this,t),this._drain=bQ,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};TM(Hu,SVe);Hu.prototype.entry=function(t,e,r){if(this._stream)throw new Error("already piping an entry");if(!(this._finalized||this._destroyed)){typeof e=="function"&&(r=e,e=null),r||(r=bQ);var n=this;if((!t.size||t.type==="symlink")&&(t.size=0),t.type||(t.type=vbr(t.mode)),t.mode||(t.mode=t.type==="directory"?ybr:_br),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),typeof e=="string"&&(e=Buffer.from(e)),Buffer.isBuffer(e)){t.size=e.length,this._encode(t);var i=this.push(e);return wQ(n,t.size),i?process.nextTick(r):this._drain=r,new ET}if(t.type==="symlink"&&!t.linkname){var s=new xM;return EVe(s,function(a){if(a)return n.destroy(),r(a);t.linkname=s.linkname,n._encode(t),r()}),s}if(this._encode(t),t.type!=="file"&&t.type!=="contiguous-file")return process.nextTick(r),new ET;var o=new CM(this);return this._stream=o,EVe(o,function(a){if(n._stream=null,a)return n.destroy(),r(a);if(o.written!==t.size)return n.destroy(),r(new Error("size mismatch"));wQ(n,t.size),n._finalizing&&n.finalize(),r()}),o}};Hu.prototype.finalize=function(){if(this._stream){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(TVe),this.push(null))};Hu.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())};Hu.prototype._encode=function(t){if(!t.pax){var e=SM.encode(t);if(e){this.push(e);return}}this._encodePax(t)};Hu.prototype._encodePax=function(t){var e=SM.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(SM.encode(r)),this.push(e),wQ(this,e.length),r.size=t.size,r.type=t.type,this.push(SM.encode(r))};Hu.prototype._read=function(t){var e=this._drain;this._drain=bQ,e()};CVe.exports=Hu});var RVe=v(EQ=>{EQ.extract=gVe();EQ.pack=xVe()});var IVe=v((EVr,PVe)=>{var wbr=require("zlib"),bbr=RVe(),AVe=_T(),Qc=function(t){if(!(this instanceof Qc))return new Qc(t);t=this.options=AVe.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=bbr.pack(t),this.compressor=!1,t.gzip&&(this.compressor=wbr.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};Qc.prototype._onCompressorError=function(t){this.engine.emit("error",t)};Qc.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(o,a){if(o){r(o);return}n.engine.entry(e,a,function(u){r(u,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(o){r(o,e)});t.pipe(s)}else e.sourceType==="stream"&&AVe.collectStream(t,i)};Qc.prototype.finalize=function(){this.engine.finalize()};Qc.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Qc.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};Qc.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};PVe.exports=Qc});var DVe=v((SVr,NVe)=>{var Ebr=require("util").inherits,OVe=Wi().Transform,Sbr=sQ(),kVe=_T(),wd=function(t){if(!(this instanceof wd))return new wd(t);t=this.options=kVe.defaults(t,{}),OVe.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};Ebr(wd,OVe);wd.prototype._transform=function(t,e,r){r(null,t)};wd.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};wd.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,o){if(s){r(s);return}e.size=o.length||0,e.crc32=Sbr.unsigned(o),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&kVe.collectStream(t,i)};wd.prototype.finalize=function(){this._writeStringified(),this.end()};NVe.exports=wd});var LVe=v((TVr,FVe)=>{var Tbr=d6e(),ST={},bd=function(t,e){return bd.create(t,e)};bd.create=function(t,e){if(ST[t]){var r=new Tbr(t,e);return r.setFormat(t),r.setModule(new ST[t](e)),r}else throw new Error("create("+t+"): format not registered")};bd.registerFormat=function(t,e){if(ST[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");ST[t]=e};bd.isRegisteredFormat=function(t){return!!ST[t]};bd.registerFormat("zip",tVe());bd.registerFormat("tar",IVe());bd.registerFormat("json",DVe());FVe.exports=bd});var qVe=v((CVr,MVe)=>{var SQ=class{constructor(){this._values=[],this._totalRefs=0,this._hash=Object.create(null)}get count(){return this._values.length}get values(){return this._values}get totalRefs(){return this._totalRefs}getString(e){return this._values[e]}add(e){let r=this._hash[e];return r===void 0&&(r=this._hash[e]=this._values.length,this._values.push(e)),this._totalRefs++,r}};MVe.exports=SQ});var UVe=v((xVr,$Ve)=>{var Cbr=Gi(),xbr=Yf(),TQ=class{constructor(e){this.writer=e}push(e){this.writer.addHyperlink(e)}},CQ=class{constructor(e){this.id=e.id,this.count=0,this._hyperlinks=[],this._workbook=e.workbook}get stream(){return this._stream||(this._stream=this._workbook._openStream(`/xl/worksheets/_rels/sheet${this.id}.xml.rels`)),this._stream}get length(){return this._hyperlinks.length}each(e){return this._hyperlinks.forEach(e)}get hyperlinksProxy(){return this._hyperlinksProxy||(this._hyperlinksProxy=new TQ(this))}addHyperlink(e){let r={Target:e.target,Type:xbr.Hyperlink,TargetMode:"External"},n=this._writeRelationship(r);this._hyperlinks.push({rId:n,address:e.address})}addMedia(e){return this._writeRelationship(e)}addRelationship(e){return this._writeRelationship(e)}commit(){this.count&&(this._writeClose(),this.stream.end())}_writeOpen(){this.stream.write(`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
       <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">`)}_writeRelationship(e){this.count||this._writeOpen();let r=`rId${++this.count}`;return e.TargetMode?this.stream.write(`<Relationship Id="${r}" Type="${e.Type}" Target="${Cbr.xmlEncode(e.Target)}" TargetMode="${e.TargetMode}"/>`):this.stream.write(`<Relationship Id="${r}" Type="${e.Type}" Target="${e.Target}"/>`),r}_writeClose(){this.stream.write("</Relationships>")}};$Ve.exports=CQ});var zVe=v((RVr,HVe)=>{var jVe=di(),BVe=Yf(),Rbr=un(),Abr=oJ(),Pbr=hJ(),xQ=class{constructor(e,r,n){this.id=n.id,this.count=0,this._worksheet=e,this._workbook=n.workbook,this._sheetRelsWriter=r}get commentsStream(){return this._commentsStream||(this._commentsStream=this._workbook._openStream(`/xl/comments${this.id}.xml`)),this._commentsStream}get vmlStream(){return this._vmlStream||(this._vmlStream=this._workbook._openStream(`xl/drawings/vmlDrawing${this.id}.vml`)),this._vmlStream}_addRelationships(){let e={Type:BVe.Comments,Target:`../comments${this.id}.xml`};this._sheetRelsWriter.addRelationship(e);let r={Type:BVe.VmlDrawing,Target:`../drawings/vmlDrawing${this.id}.vml`};this.vmlRelId=this._sheetRelsWriter.addRelationship(r)}_addCommentRefs(){this._workbook.commentRefs.push({commentName:`comments${this.id}`,vmlDrawing:`vmlDrawing${this.id}`})}_writeOpen(){this.commentsStream.write('<?xml version="1.0" encoding="UTF-8" standalone="yes"?><comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><authors><author>Author</author></authors><commentList>'),this.vmlStream.write('<?xml version="1.0" encoding="UTF-8"?><xml xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:x="urn:schemas-microsoft-com:office:excel"><o:shapelayout v:ext="edit"><o:idmap v:ext="edit" data="1" /></o:shapelayout><v:shapetype id="_x0000_t202" coordsize="21600,21600" o:spt="202" path="m,l,21600r21600,l21600,xe"><v:stroke joinstyle="miter" /><v:path gradientshapeok="t" o:connecttype="rect" /></v:shapetype>')}_writeComment(e,r){let n=new Abr,i=new jVe;n.render(i,e),this.commentsStream.write(i.xml);let s=new Pbr,o=new jVe;s.render(o,e,r),this.vmlStream.write(o.xml)}_writeClose(){this.commentsStream.write("</commentList></comments>"),this.vmlStream.write("</xml>")}addComments(e){e&&e.length&&(this.startedData||(this._worksheet.comments=[],this._writeOpen(),this._addRelationships(),this._addCommentRefs(),this.startedData=!0),e.forEach(r=>{r.refAddress=Rbr.decodeAddress(r.ref)}),e.forEach(r=>{this._writeComment(r,this.count),this.count+=1}))}commit(){this.count&&(this._writeClose(),this.commentsStream.end(),this.vmlStream.end())}};HVe.exports=xQ});var XVe=v((AVr,KVe)=>{var Ibr=gn(),Obr=Yf(),RQ=un(),VVe=IW(),WVe=Nc(),kbr=t7(),GVe=KN(),AQ=XN(),Nbr=UVe(),Dbr=zVe(),Fbr=AW(),Zn=new kbr,PQ=Xf(),Lbr=OK(),Mbr=FK(),qbr=MK(),$br=SK(),Ubr=wK(),jbr=xK(),Bbr=$K(),Hbr=jK(),zbr=HK(),Vbr=VK(),Wbr=KK(),Gbr=JK(),Kbr=yX(),Xbr=nX(),Jbr=tX(),Yn={dataValidations:new Lbr,sheetProperties:new Mbr,sheetFormatProperties:new qbr,columns:new PQ({tag:"cols",length:!1,childXform:new $br}),row:new Ubr,hyperlinks:new PQ({tag:"hyperlinks",length:!1,childXform:new jbr}),sheetViews:new PQ({tag:"sheetViews",length:!1,childXform:new Bbr}),sheetProtection:new Hbr,pageMargins:new zbr,pageSeteup:new Vbr,autoFilter:new Wbr,picture:new Gbr,conditionalFormattings:new Kbr,headerFooter:new Xbr,rowBreaks:new Jbr},IQ=class{constructor(e){this.id=e.id,this.name=e.name||`Sheet${this.id}`,this.state=e.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges=[],this._merges.add=function(){},this._sheetRelsWriter=new Nbr(e),this._sheetCommentsWriter=new Dbr(this,this._sheetRelsWriter,e),this._dimensions=new WVe,this._rowZero=1,this.committed=!1,this.dataValidations=new Fbr,this._formulae={},this._siFormulae=0,this.conditionalFormatting=[],this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},e.properties),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},e.headerFooter),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!!(e.pageSetup&&(e.pageSetup.fitToWidth||e.pageSetup.fitToHeight)&&!e.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},e.pageSetup),this.useSharedStrings=e.useSharedStrings||!1,this._workbook=e.workbook,this.hasComments=!1,this._views=e.views||[],this.autoFilter=e.autoFilter||null,this._media=[],this.sheetProtection=null,this._writeOpenWorksheet(),this.startedData=!1}get workbook(){return this._workbook}get stream(){return this._stream||(this._stream=this._workbook._openStream(`/xl/worksheets/sheet${this.id}.xml`),this._stream.pause()),this._stream}destroy(){throw new Error("Invalid Operation: destroy")}commit(){this.committed||(this._rows.forEach(e=>{e&&this._writeRow(e)}),this._rows=null,this.startedData||this._writeOpenSheetData(),this._writeCloseSheetData(),this._writeAutoFilter(),this._writeMergeCells(),this._writeHyperlinks(),this._writeConditionalFormatting(),this._writeDataValidations(),this._writeSheetProtection(),this._writePageMargins(),this._writePageSetup(),this._writeBackground(),this._writeHeaderFooter(),this._writeRowBreaks(),this._writeLegacyData(),this._writeCloseWorksheet(),this.stream.end(),this._sheetCommentsWriter.commit(),this._sheetRelsWriter.commit(),this.committed=!0)}get dimensions(){return this._dimensions}get views(){return this._views}get columns(){return this._columns}set columns(e){this._headerRowCount=e.reduce((i,s)=>{let o=s.header&&1||s.headers&&s.headers.length||0;return Math.max(i,o)},0);let r=1,n=this._columns=[];e.forEach(i=>{let s=new AQ(this,r++,!1);n.push(s),s.defn=i})}getColumnKey(e){return this._keys[e]}setColumnKey(e,r){this._keys[e]=r}deleteColumnKey(e){delete this._keys[e]}eachColumnKey(e){Ibr.each(this._keys,e)}getColumn(e){if(typeof e=="string"){let r=this._keys[e];if(r)return r;e=RQ.l2n(e)}if(this._columns||(this._columns=[]),e>this._columns.length){let r=this._columns.length+1;for(;r<=e;)this._columns.push(new AQ(this,r++))}return this._columns[e-1]}get _nextRow(){return this._rowZero+this._rows.length}eachRow(e,r){if(r||(r=e,e=void 0),e&&e.includeEmpty){let n=this._nextRow;for(let i=this._rowZero;i<n;i++)r(this.getRow(i),i)}else this._rows.forEach(n=>{n.hasValues&&r(n,n.number)})}_commitRow(e){let r=!1;for(;this._rows.length&&!r;){let n=this._rows.shift();this._rowZero++,n&&(this._writeRow(n),r=n.number===e.number,this._rowZero=n.number+1)}}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(e){let r=e-this._rowZero;return this._rows[r]}getRow(e){let r=e-this._rowZero;if(r<0)throw new Error("Out of bounds: this row has been committed");let n=this._rows[r];return n||(this._rows[r]=n=new GVe(this,e)),n}addRow(e){let r=new GVe(this,this._nextRow);return this._rows[r.number-this._rowZero]=r,r.values=e,r}findCell(e,r){let n=RQ.getAddress(e,r),i=this.findRow(n.row);return i?i.findCell(n.column):void 0}getCell(e,r){let n=RQ.getAddress(e,r);return this.getRow(n.row).getCellEx(n)}mergeCells(...e){let r=new WVe(e);this._merges.forEach(i=>{if(i.intersects(r))throw new Error("Cannot merge already merged cells")});let n=this.getCell(r.top,r.left);for(let i=r.top;i<=r.bottom;i++)for(let s=r.left;s<=r.right;s++)(i>r.top||s>r.left)&&this.getCell(i,s).merge(n);this._merges.push(r)}addConditionalFormatting(e){this.conditionalFormatting.push(e)}removeConditionalFormatting(e){typeof e=="number"?this.conditionalFormatting.splice(e,1):e instanceof Function?this.conditionalFormatting=this.conditionalFormatting.filter(e):this.conditionalFormatting=[]}addBackgroundImage(e){this._background={imageId:e}}getBackgroundImageId(){return this._background&&this._background.imageId}protect(e,r){return new Promise(n=>{this.sheetProtection={sheet:!0},r&&"spinCount"in r&&(r.spinCount=Number.isFinite(r.spinCount)?Math.round(Math.max(0,r.spinCount)):1e5),e&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=VVe.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=r&&"spinCount"in r?r.spinCount:1e5,this.sheetProtection.hashValue=VVe.convertPasswordToHash(e,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),r&&(this.sheetProtection=Object.assign(this.sheetProtection,r),!e&&"spinCount"in r&&delete this.sheetProtection.spinCount),n()})}unprotect(){this.sheetProtection=null}_write(e){Zn.reset(),Zn.addText(e),this.stream.write(Zn)}_writeSheetProperties(e,r,n){let i={outlineProperties:r&&r.outlineProperties,tabColor:r&&r.tabColor,pageSetup:n&&n.fitToPage?{fitToPage:n.fitToPage}:void 0};e.addText(Yn.sheetProperties.toXml(i))}_writeSheetFormatProperties(e,r){let n=r?{defaultRowHeight:r.defaultRowHeight,dyDescent:r.dyDescent,outlineLevelCol:r.outlineLevelCol,outlineLevelRow:r.outlineLevelRow}:void 0;r.defaultColWidth&&(n.defaultColWidth=r.defaultColWidth),e.addText(Yn.sheetFormatProperties.toXml(n))}_writeOpenWorksheet(){Zn.reset(),Zn.addText('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'),Zn.addText('<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">'),this._writeSheetProperties(Zn,this.properties,this.pageSetup),Zn.addText(Yn.sheetViews.toXml(this.views)),this._writeSheetFormatProperties(Zn,this.properties),this.stream.write(Zn)}_writeColumns(){let e=AQ.toModel(this.columns);e&&(Yn.columns.prepare(e,{styles:this._workbook.styles}),this.stream.write(Yn.columns.toXml(e)))}_writeOpenSheetData(){this._write("<sheetData>")}_writeRow(e){if(this.startedData||(this._writeColumns(),this._writeOpenSheetData(),this.startedData=!0),e.hasValues||e.height){let{model:r}=e,n={styles:this._workbook.styles,sharedStrings:this.useSharedStrings?this._workbook.sharedStrings:void 0,hyperlinks:this._sheetRelsWriter.hyperlinksProxy,merges:this._merges,formulae:this._formulae,siFormulae:this._siFormulae,comments:[]};Yn.row.prepare(r,n),this.stream.write(Yn.row.toXml(r)),n.comments.length&&(this.hasComments=!0,this._sheetCommentsWriter.addComments(n.comments))}}_writeCloseSheetData(){this._write("</sheetData>")}_writeMergeCells(){this._merges.length&&(Zn.reset(),Zn.addText(`<mergeCells count="${this._merges.length}">`),this._merges.forEach(e=>{Zn.addText(`<mergeCell ref="${e}"/>`)}),Zn.addText("</mergeCells>"),this.stream.write(Zn))}_writeHyperlinks(){this.stream.write(Yn.hyperlinks.toXml(this._sheetRelsWriter._hyperlinks))}_writeConditionalFormatting(){let e={styles:this._workbook.styles};Yn.conditionalFormattings.prepare(this.conditionalFormatting,e),this.stream.write(Yn.conditionalFormattings.toXml(this.conditionalFormatting))}_writeRowBreaks(){this.stream.write(Yn.rowBreaks.toXml(this.rowBreaks))}_writeDataValidations(){this.stream.write(Yn.dataValidations.toXml(this.dataValidations.model))}_writeSheetProtection(){this.stream.write(Yn.sheetProtection.toXml(this.sheetProtection))}_writePageMargins(){this.stream.write(Yn.pageMargins.toXml(this.pageSetup.margins))}_writePageSetup(){this.stream.write(Yn.pageSeteup.toXml(this.pageSetup))}_writeHeaderFooter(){this.stream.write(Yn.headerFooter.toXml(this.headerFooter))}_writeAutoFilter(){this.stream.write(Yn.autoFilter.toXml(this.autoFilter))}_writeBackground(){if(this._background){if(this._background.imageId!==void 0){let e=this._workbook.getImage(this._background.imageId),r=this._sheetRelsWriter.addMedia({Target:`../media/${e.name}`,Type:Obr.Image});this._background={...this._background,rId:r}}this.stream.write(Yn.picture.toXml({rId:this._background.rId}))}}_writeLegacyData(){this.hasComments&&(Zn.reset(),Zn.addText(`<legacyDrawing r:id="${this._sheetCommentsWriter.vmlRelId}"/>`),this.stream.write(Zn))}_writeDimensions(){}_writeCloseWorksheet(){this._write("</worksheet>")}};KVe.exports=IQ});var e5e=v((PVr,QVe)=>{var Zbr=require("fs"),Ybr=LVe(),JVe=MS(),am=Yf(),ZVe=xF(),Qbr=qVe(),eEr=FW(),tEr=Y7(),YVe=IF(),rEr=sK(),nEr=uK(),iEr=kF(),sEr=nK(),oEr=XVe(),aEr=pJ(),OQ=class{constructor(e){e=e||{},this.created=e.created||new Date,this.modified=e.modified||this.created,this.creator=e.creator||"ExcelJS",this.lastModifiedBy=e.lastModifiedBy||"ExcelJS",this.lastPrinted=e.lastPrinted,this.useSharedStrings=e.useSharedStrings||!1,this.sharedStrings=new Qbr,this.styles=e.useStyles?new ZVe(!0):new ZVe.Mock(!0),this._definedNames=new eEr,this._worksheets=[],this.views=[],this.zipOptions=e.zip,this.media=[],this.commentRefs=[],this.zip=Ybr("zip",this.zipOptions),e.stream?this.stream=e.stream:e.filename?this.stream=Zbr.createWriteStream(e.filename):this.stream=new JVe,this.zip.pipe(this.stream),this.promise=Promise.all([this.addThemes(),this.addOfficeRels()])}get definedNames(){return this._definedNames}_openStream(e){let r=new JVe({bufSize:65536,batch:!0});return this.zip.append(r,{name:e}),r.on("finish",()=>{r.emit("zipped")}),r}_commitWorksheets(){let e=function(n){return n.committed?Promise.resolve():new Promise(i=>{n.stream.on("zipped",()=>{i()}),n.commit()})},r=this._worksheets.map(e);return r.length?Promise.all(r):Promise.resolve()}async commit(){return await this.promise,await this.addMedia(),await this._commitWorksheets(),await Promise.all([this.addContentTypes(),this.addApp(),this.addCore(),this.addSharedStrings(),this.addStyles(),this.addWorkbookRels()]),await this.addWorkbook(),this._finalize()}get nextId(){let e;for(e=1;e<this._worksheets.length;e++)if(!this._worksheets[e])return e;return this._worksheets.length||1}addImage(e){let r=this.media.length,n=Object.assign({},e,{type:"image",name:`image${r}.${e.extension}`});return this.media.push(n),r}getImage(e){return this.media[e]}addWorksheet(e,r){r=r||{};let n=r.useSharedStrings!==void 0?r.useSharedStrings:this.useSharedStrings;r.tabColor&&(console.trace("tabColor option has moved to { properties: tabColor: {...} }"),r.properties=Object.assign({tabColor:r.tabColor},r.properties));let i=this.nextId;e=e||`sheet${i}`;let s=new oEr({id:i,name:e,workbook:this,useSharedStrings:n,properties:r.properties,state:r.state,pageSetup:r.pageSetup,views:r.views,autoFilter:r.autoFilter,headerFooter:r.headerFooter});return this._worksheets[i]=s,s}getWorksheet(e){if(e===void 0)return this._worksheets.find(()=>!0);if(typeof e=="number")return this._worksheets[e];if(typeof e=="string")return this._worksheets.find(r=>r&&r.name===e)}addStyles(){return new Promise(e=>{this.zip.append(this.styles.xml,{name:"xl/styles.xml"}),e()})}addThemes(){return new Promise(e=>{this.zip.append(aEr,{name:"xl/theme/theme1.xml"}),e()})}addOfficeRels(){return new Promise(e=>{let n=new YVe().toXml([{Id:"rId1",Type:am.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:am.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:am.ExtenderProperties,Target:"docProps/app.xml"}]);this.zip.append(n,{name:"/_rels/.rels"}),e()})}addContentTypes(){return new Promise(e=>{let r={worksheets:this._worksheets.filter(Boolean),sharedStrings:this.sharedStrings,commentRefs:this.commentRefs,media:this.media},i=new rEr().toXml(r);this.zip.append(i,{name:"[Content_Types].xml"}),e()})}addMedia(){return Promise.all(this.media.map(e=>{if(e.type==="image"){let r=`xl/media/${e.name}`;if(e.filename)return this.zip.file(e.filename,{name:r});if(e.buffer)return this.zip.append(e.buffer,{name:r});if(e.base64){let n=e.base64,i=n.substring(n.indexOf(",")+1);return this.zip.append(i,{name:r,base64:!0})}}throw new Error("Unsupported media")}))}addApp(){return new Promise(e=>{let r={worksheets:this._worksheets.filter(Boolean)},i=new nEr().toXml(r);this.zip.append(i,{name:"docProps/app.xml"}),e()})}addCore(){return new Promise(e=>{let n=new tEr().toXml(this);this.zip.append(n,{name:"docProps/core.xml"}),e()})}addSharedStrings(){return this.sharedStrings.count?new Promise(e=>{let n=new sEr().toXml(this.sharedStrings);this.zip.append(n,{name:"/xl/sharedStrings.xml"}),e()}):Promise.resolve()}addWorkbookRels(){let e=1,r=[{Id:`rId${e++}`,Type:am.Styles,Target:"styles.xml"},{Id:`rId${e++}`,Type:am.Theme,Target:"theme/theme1.xml"}];return this.sharedStrings.count&&r.push({Id:`rId${e++}`,Type:am.SharedStrings,Target:"sharedStrings.xml"}),this._worksheets.forEach(n=>{n&&(n.rId=`rId${e++}`,r.push({Id:n.rId,Type:am.Worksheet,Target:`worksheets/sheet${n.id}.xml`}))}),new Promise(n=>{let s=new YVe().toXml(r);this.zip.append(s,{name:"/xl/_rels/workbook.xml.rels"}),n()})}addWorkbook(){let{zip:e}=this,r={worksheets:this._worksheets.filter(Boolean),definedNames:this._definedNames.model,views:this.views,properties:{},calcProperties:{}};return new Promise(n=>{let i=new iEr;i.prepare(r),e.append(i.toXml(r),{name:"/xl/workbook.xml"}),n()})}_finalize(){return new Promise((e,r)=>{this.stream.on("error",r),this.stream.on("finish",()=>{e(this)}),this.zip.on("error",r),this.zip.finalize()})}};QVe.exports=OQ});var r5e=v((IVr,t5e)=>{"use strict";var kQ=require("events").listenerCount;kQ=kQ||function(t,e){var r=t&&t._events&&t._events[e];return Array.isArray(r)?r.length:typeof r=="function"?1:0};t5e.exports=kQ});var i5e=v((OVr,n5e)=>{n5e.exports=function(e){var r=process&&process.version?process.version:"v5.0.0",n=r.split(".")[0].replace("v","");return n<6?new Buffer(e):Buffer.from(e)}});var o5e=v(()=>{"use strict";var TT=i5e();Buffer.prototype.indexOf||(Buffer.prototype.indexOf=function(t,e){e=e||0,typeof t=="string"||t instanceof String?t=TT(t):(typeof t=="number"||t instanceof Number)&&(t=TT([t]));for(var r=t.length,n=e;n<=this.length-r;n++){for(var i=!1,s=0;s<r;s++)if(this[n+s]!=t[s]){i=!0;break}if(!i)return n}return-1});function s5e(t,e){typeof t=="string"||t instanceof String?t=TT(t):(typeof t=="number"||t instanceof Number)&&(t=TT([t]));var r=t.length;e=e||this.length-r;for(var n=e;n>=0;n--){for(var i=!1,s=0;s<r;s++)if(this[n+s]!=t[s]){i=!0;break}if(!i)return n}return-1}Buffer.prototype.lastIndexOf?TT("ABC").lastIndexOf("ABC")===-1&&(Buffer.prototype.lastIndexOf=s5e):Buffer.prototype.lastIndexOf=s5e});var l5e=v((DVr,c5e)=>{c5e.exports=Zi;function Zi(t){if(!(this instanceof Zi))return new Zi(t);this.value=t}Zi.prototype.get=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!Object.hasOwnProperty.call(e,n)){e=void 0;break}e=e[n]}return e};Zi.prototype.set=function(t,e){for(var r=this.value,n=0;n<t.length-1;n++){var i=t[n];Object.hasOwnProperty.call(r,i)||(r[i]={}),r=r[i]}return r[t[n]]=e,e};Zi.prototype.map=function(t){return a5e(this.value,t,!0)};Zi.prototype.forEach=function(t){return this.value=a5e(this.value,t,!1),this.value};Zi.prototype.reduce=function(t,e){var r=arguments.length===1,n=r?this.value:e;return this.forEach(function(i){(!this.isRoot||!r)&&(n=t.call(this,n,i))}),n};Zi.prototype.deepEqual=function(t){if(arguments.length!==1)throw new Error("deepEqual requires exactly one object to compare against");var e=!0,r=t;return this.forEach(function(n){var i=(function(){e=!1}).bind(this);if(!this.isRoot){if(typeof r!="object")return i();r=r[this.key]}var s=r;this.post(function(){r=s});var o=function(d){return Object.prototype.toString.call(d)};if(this.circular)Zi(t).get(this.circular.path)!==s&&i();else if(typeof s!=typeof n)i();else if(s===null||n===null||s===void 0||n===void 0)s!==n&&i();else if(s.__proto__!==n.__proto__)i();else if(s!==n){if(typeof s=="function")s instanceof RegExp?s.toString()!=n.toString()&&i():s!==n&&i();else if(typeof s=="object")if(o(n)==="[object Arguments]"||o(s)==="[object Arguments]")o(s)!==o(n)&&i();else if(s instanceof Date||n instanceof Date)(!(s instanceof Date)||!(n instanceof Date)||s.getTime()!==n.getTime())&&i();else{var a=Object.keys(s),u=Object.keys(n);if(a.length!==u.length)return i();for(var c=0;c<a.length;c++){var f=a[c];Object.hasOwnProperty.call(n,f)||i()}}}}),e};Zi.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t};Zi.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t};Zi.prototype.clone=function(){var t=[],e=[];return(function r(n){for(var i=0;i<t.length;i++)if(t[i]===n)return e[i];if(typeof n=="object"&&n!==null){var s=u5e(n);return t.push(n),e.push(s),Object.keys(n).forEach(function(o){s[o]=r(n[o])}),t.pop(),e.pop(),s}else return n})(this.value)};function a5e(t,e,r){var n=[],i=[],s=!0;return(function o(a){var u=r?u5e(a):a,c={},f={node:u,node_:a,path:[].concat(n),parent:i.slice(-1)[0],key:n.slice(-1)[0],isRoot:n.length===0,level:n.length,circular:null,update:function(m){f.isRoot||(f.parent.node[f.key]=m),f.node=m},delete:function(){delete f.parent.node[f.key]},remove:function(){Array.isArray(f.parent.node)?f.parent.node.splice(f.key,1):delete f.parent.node[f.key]},before:function(m){c.before=m},after:function(m){c.after=m},pre:function(m){c.pre=m},post:function(m){c.post=m},stop:function(){s=!1}};if(!s)return f;if(typeof u=="object"&&u!==null){f.isLeaf=Object.keys(u).length==0;for(var d=0;d<i.length;d++)if(i[d].node_===a){f.circular=i[d];break}}else f.isLeaf=!0;f.notLeaf=!f.isLeaf,f.notRoot=!f.isRoot;var h=e.call(f,f.node);if(h!==void 0&&f.update&&f.update(h),c.before&&c.before.call(f,f.node),typeof f.node=="object"&&f.node!==null&&!f.circular){i.push(f);var p=Object.keys(f.node);p.forEach(function(m,g){n.push(m),c.pre&&c.pre.call(f,f.node[m],m);var y=o(f.node[m]);r&&Object.hasOwnProperty.call(f.node,m)&&(f.node[m]=y.node),y.isLast=g==p.length-1,y.isFirst=g==0,c.post&&c.post.call(f,y),n.pop()}),i.pop()}return c.after&&c.after.call(f,f.node),f})(t).node}Object.keys(Zi.prototype).forEach(function(t){Zi[t]=function(e){var r=[].slice.call(arguments,1),n=Zi(e);return n[t].apply(n,r)}});function u5e(t){if(typeof t=="object"&&t!==null){var e;return Array.isArray(t)?e=[]:t instanceof Date?e=new Date(t):t instanceof Boolean?e=new Boolean(t):t instanceof Number?e=new Number(t):t instanceof String?e=new String(t):e=Object.create(Object.getPrototypeOf(t)),Object.keys(t).forEach(function(r){e[r]=t[r]}),e}else return t}});var d5e=v((FVr,f5e)=>{var uEr=l5e(),cEr=require("events").EventEmitter;f5e.exports=x0;function x0(t){var e=x0.saw(t,{}),r=t.call(e.handlers,e);return r!==void 0&&(e.handlers=r),e.record(),e.chain()}x0.light=function(e){var r=x0.saw(e,{}),n=e.call(r.handlers,r);return n!==void 0&&(r.handlers=n),r.chain()};x0.saw=function(t,e){var r=new cEr;return r.handlers=e,r.actions=[],r.chain=function(){var n=uEr(r.handlers).map(function(i){if(this.isRoot)return i;var s=this.path;typeof i=="function"&&this.update(function(){return r.actions.push({path:s,args:[].slice.call(arguments)}),n})});return process.nextTick(function(){r.emit("begin"),r.next()}),n},r.pop=function(){return r.actions.shift()},r.next=function(){var n=r.pop();if(!n)r.emit("end");else if(!n.trap){var i=r.handlers;n.path.forEach(function(s){i=i[s]}),i.apply(r.handlers,n.args)}},r.nest=function(n){var i=[].slice.call(arguments,1),s=!0;if(typeof n=="boolean"){var s=n;n=i.shift()}var o=x0.saw(t,{}),a=t.call(o.handlers,o);a!==void 0&&(o.handlers=a),typeof r.step<"u"&&o.record(),n.apply(o.chain(),i),s!==!1&&o.on("end",r.next)},r.record=function(){lEr(r)},["trap","down","jump"].forEach(function(n){r[n]=function(){throw new Error("To use the trap, down and jump features, please call record() first to start recording actions.")}}),r};function lEr(t){t.step=0,t.pop=function(){return t.actions[t.step++]},t.trap=function(e,r){var n=Array.isArray(e)?e:[e];t.actions.push({path:n,step:t.step,cb:r,trap:!0})},t.down=function(e){var r=(Array.isArray(e)?e:[e]).join("/"),n=t.actions.slice(t.step).map(function(s){return s.trap&&s.step<=t.step?!1:s.path.join("/")==r}).indexOf(!0);n>=0?t.step+=n:t.step=t.actions.length;var i=t.actions[t.step-1];i&&i.trap?(t.step=i.step,i.cb()):t.next()},t.jump=function(e){t.step=e,t.next()}}});var p5e=v((LVr,h5e)=>{h5e.exports=ys;function ys(t){if(!(this instanceof ys))return new ys(t);this.buffers=t||[],this.length=this.buffers.reduce(function(e,r){return e+r.length},0)}ys.prototype.push=function(){for(var t=0;t<arguments.length;t++)if(!Buffer.isBuffer(arguments[t]))throw new TypeError("Tried to push a non-buffer");for(var t=0;t<arguments.length;t++){var e=arguments[t];this.buffers.push(e),this.length+=e.length}return this.length};ys.prototype.unshift=function(){for(var t=0;t<arguments.length;t++)if(!Buffer.isBuffer(arguments[t]))throw new TypeError("Tried to unshift a non-buffer");for(var t=0;t<arguments.length;t++){var e=arguments[t];this.buffers.unshift(e),this.length+=e.length}return this.length};ys.prototype.copy=function(t,e,r,n){return this.slice(r,n).copy(t,e,0,n-r)};ys.prototype.splice=function(t,e){var r=this.buffers,n=t>=0?t:this.length-t,i=[].slice.call(arguments,2);e===void 0?e=this.length-n:e>this.length-n&&(e=this.length-n);for(var t=0;t<i.length;t++)this.length+=i[t].length;for(var s=new ys,o=0,a=0,u=0;u<r.length&&a+r[u].length<n;u++)a+=r[u].length;if(n-a>0){var c=n-a;if(c+e<r[u].length){s.push(r[u].slice(c,c+e));for(var f=r[u],d=new Buffer(c),t=0;t<c;t++)d[t]=f[t];for(var h=new Buffer(f.length-c-e),t=c+e;t<f.length;t++)h[t-e-c]=f[t];if(i.length>0){var p=i.slice();p.unshift(d),p.push(h),r.splice.apply(r,[u,1].concat(p)),u+=p.length,i=[]}else r.splice(u,1,d,h),u+=2}else s.push(r[u].slice(c)),r[u]=r[u].slice(0,c),u++}for(i.length>0&&(r.splice.apply(r,[u,0].concat(i)),u+=i.length);s.length<e;){var m=r[u],g=m.length,y=Math.min(g,e-s.length);y===g?(s.push(m),r.splice(u,1)):(s.push(m.slice(0,y)),r[u]=r[u].slice(y))}return this.length-=s.length,s};ys.prototype.slice=function(t,e){var r=this.buffers;e===void 0&&(e=this.length),t===void 0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=0;i<r.length&&n+r[i].length<=t;i++)n+=r[i].length;for(var s=new Buffer(e-t),o=0,a=i;o<e-t&&a<r.length;a++){var u=r[a].length,c=o===0?t-n:0,f=o+u>=e-t?Math.min(c+(e-t)-o,u):u;r[a].copy(s,o,c,f),o+=f-c}return s};ys.prototype.pos=function(t){if(t<0||t>=this.length)throw new Error("oob");for(var e=t,r=0,n=null;;){if(n=this.buffers[r],e<n.length)return{buf:r,offset:e};e-=n.length,r++}};ys.prototype.get=function(e){var r=this.pos(e);return this.buffers[r.buf].get(r.offset)};ys.prototype.set=function(e,r){var n=this.pos(e);return this.buffers[n.buf].set(n.offset,r)};ys.prototype.indexOf=function(t,e){if(typeof t=="string")t=new Buffer(t);else if(!(t instanceof Buffer))throw new Error("Invalid type for a search string");if(!t.length)return 0;if(!this.length)return-1;var r=0,n=0,i=0,s,o=0;if(e){var a=this.pos(e);r=a.buf,n=a.offset,o=e}for(;;){for(;n>=this.buffers[r].length;)if(n=0,r++,r>=this.buffers.length)return-1;var u=this.buffers[r][n];if(u==t[i]){if(i==0&&(s={i:r,j:n,pos:o}),i++,i==t.length)return s.pos}else i!=0&&(r=s.i,n=s.j,o=s.pos,i=0);n++,o++}};ys.prototype.toBuffer=function(){return this.slice()};ys.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)}});var g5e=v((MVr,m5e)=>{m5e.exports=function(t){function e(n,i){var s=r.store,o=n.split(".");o.slice(0,-1).forEach(function(u){s[u]===void 0&&(s[u]={}),s=s[u]});var a=o[o.length-1];return arguments.length==1?s[a]:s[a]=i}var r={get:function(n){return e(n)},set:function(n,i){return e(n,i)},store:t||{}};return r}});var CT=v((um,b5e)=>{var fEr=d5e(),y5e=require("events").EventEmitter,dEr=p5e(),RM=g5e(),hEr=require("stream").Stream;um=b5e.exports=function(t,e){if(Buffer.isBuffer(t))return um.parse(t);var r=um.stream();return t&&t.pipe?t.pipe(r):t&&(t.on(e||"data",function(n){r.write(n)}),t.on("end",function(){r.end()})),r};um.stream=function(t){if(t)return um.apply(null,arguments);var e=null;function r(d,h,p){e={bytes:d,skip:p,cb:function(m){e=null,h(m)}},i()}var n=null;function i(){if(!e){f&&(c=!0);return}if(typeof e=="function")e();else{var d=n+e.bytes;if(a.length>=d){var h;n==null?(h=a.splice(0,d),e.skip||(h=h.slice())):(e.skip||(h=a.slice(n,d)),n=d),e.skip?e.cb():e.cb(h)}}}function s(d){function h(){c||d.next()}var p=w5e(function(m,g){return function(y){r(m,function(w){u.set(y,g(w)),h()})}});return p.tap=function(m){d.nest(m,u.store)},p.into=function(m,g){u.get(m)||u.set(m,{});var y=u;u=RM(y.get(m)),d.nest(function(){g.apply(this,arguments),this.tap(function(){u=y})},u.store)},p.flush=function(){u.store={},h()},p.loop=function(m){var g=!1;d.nest(!1,function y(){this.vars=u.store,m.call(this,function(){g=!0,h()},u.store),this.tap(function(){g?d.next():y.call(this)}.bind(this))},u.store)},p.buffer=function(m,g){typeof g=="string"&&(g=u.get(g)),r(g,function(y){u.set(m,y),h()})},p.skip=function(m){typeof m=="string"&&(m=u.get(m)),r(m,function(){h()})},p.scan=function(g,y){if(typeof y=="string")y=new Buffer(y);else if(!Buffer.isBuffer(y))throw new Error("search must be a Buffer or a string");var w=0;e=function(){var S=a.indexOf(y,n+w),E=S-n-w;S!==-1?(e=null,n!=null?(u.set(g,a.slice(n,n+w+E)),n+=w+E+y.length):(u.set(g,a.slice(0,w+E)),a.splice(0,w+E+y.length)),h(),i()):E=Math.max(a.length-y.length-n-w,0),w+=E},i()},p.peek=function(m){n=0,d.nest(function(){m.call(this,u.store),this.tap(function(){n=null})})},p}var o=fEr.light(s);o.writable=!0;var a=dEr();o.write=function(d){a.push(d),i()};var u=RM(),c=!1,f=!1;return o.end=function(){f=!0},o.pipe=hEr.prototype.pipe,Object.getOwnPropertyNames(y5e.prototype).forEach(function(d){o[d]=y5e.prototype[d]}),o};um.parse=function(e){var r=w5e(function(s,o){return function(a){if(n+s<=e.length){var u=e.slice(n,n+s);n+=s,i.set(a,o(u))}else i.set(a,null);return r}}),n=0,i=RM();return r.vars=i.store,r.tap=function(s){return s.call(r,i.store),r},r.into=function(s,o){i.get(s)||i.set(s,{});var a=i;return i=RM(a.get(s)),o.call(r,i.store),i=a,r},r.loop=function(s){for(var o=!1,a=function(){o=!0};o===!1;)s.call(r,a,i.store);return r},r.buffer=function(s,o){typeof o=="string"&&(o=i.get(o));var a=e.slice(n,Math.min(e.length,n+o));return n+=o,i.set(s,a),r},r.skip=function(s){return typeof s=="string"&&(s=i.get(s)),n+=s,r},r.scan=function(s,o){if(typeof o=="string")o=new Buffer(o);else if(!Buffer.isBuffer(o))throw new Error("search must be a Buffer or a string");i.set(s,null);for(var a=0;a+n<=e.length-o.length+1;a++){for(var u=0;u<o.length&&e[n+a+u]===o[u];u++);if(u===o.length)break}return i.set(s,e.slice(n,n+a)),n+=a+o.length,r},r.peek=function(s){var o=n;return s.call(r,i.store),n=o,r},r.flush=function(){return i.store={},r},r.eof=function(){return n>=e.length},r};function _5e(t){for(var e=0,r=0;r<t.length;r++)e+=Math.pow(256,r)*t[r];return e}function v5e(t){for(var e=0,r=0;r<t.length;r++)e+=Math.pow(256,t.length-r-1)*t[r];return e}function pEr(t){var e=v5e(t);return(t[0]&128)==128&&(e-=Math.pow(256,t.length)),e}function mEr(t){var e=_5e(t);return(t[t.length-1]&128)==128&&(e-=Math.pow(256,t.length)),e}function w5e(t){var e={};return[1,2,4,8].forEach(function(r){var n=r*8;e["word"+n+"le"]=e["word"+n+"lu"]=t(r,_5e),e["word"+n+"ls"]=t(r,mEr),e["word"+n+"be"]=e["word"+n+"bu"]=t(r,v5e),e["word"+n+"bs"]=t(r,pEr)}),e.word8=e.word8u=e.word8be,e.word8s=e.word8bs,e}});var cm=v((qVr,FQ)=>{var NQ=(function(){"use strict";return this===void 0})();NQ?FQ.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:NQ,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!!(!r||r.writable||r.set)}}:(E5e={}.hasOwnProperty,S5e={}.toString,T5e={}.constructor.prototype,DQ=function(t){var e=[];for(var r in t)E5e.call(t,r)&&e.push(r);return e},C5e=function(t,e){return{value:t[e]}},x5e=function(t,e,r){return t[e]=r.value,t},R5e=function(t){return t},A5e=function(t){try{return Object(t).constructor.prototype}catch{return T5e}},P5e=function(t){try{return S5e.call(t)==="[object Array]"}catch{return!1}},FQ.exports={isArray:P5e,keys:DQ,names:DQ,defineProperty:x5e,getDescriptor:C5e,freeze:R5e,getPrototypeOf:A5e,isES5:NQ,propertyIsWritable:function(){return!0}});var E5e,S5e,T5e,DQ,C5e,x5e,R5e,A5e,P5e});var Dr=v((exports,module)=>{"use strict";var es5=cm(),canEvaluate=typeof navigator>"u",errorObj={e:{}},tryCatchTarget,globalObject=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:exports!==void 0?exports:null;function tryCatcher(){try{var t=tryCatchTarget;return tryCatchTarget=null,t.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(t){return tryCatchTarget=t,tryCatcher}var inherits=function(t,e){var r={}.hasOwnProperty;function n(){this.constructor=t,this.constructor$=e;for(var i in e.prototype)r.call(e.prototype,i)&&i.charAt(i.length-1)!=="$"&&(this[i+"$"]=e.prototype[i])}return n.prototype=e.prototype,t.prototype=new n,t.prototype};function isPrimitive(t){return t==null||t===!0||t===!1||typeof t=="string"||typeof t=="number"}function isObject(t){return typeof t=="function"||typeof t=="object"&&t!==null}function maybeWrapAsError(t){return isPrimitive(t)?new Error(safeToString(t)):t}function withAppended(t,e){var r=t.length,n=new Array(r+1),i;for(i=0;i<r;++i)n[i]=t[i];return n[i]=e,n}function getDataPropertyOrDefault(t,e,r){if(es5.isES5){var n=Object.getOwnPropertyDescriptor(t,e);if(n!=null)return n.get==null&&n.set==null?n.value:r}else return{}.hasOwnProperty.call(t,e)?t[e]:void 0}function notEnumerableProp(t,e,r){if(isPrimitive(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(t,e,n),t}function thrower(t){throw t}var inheritedDataKeys=(function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(i){for(var s=0;s<t.length;++s)if(t[s]===i)return!0;return!1};if(es5.isES5){var r=Object.getOwnPropertyNames;return function(i){for(var s=[],o=Object.create(null);i!=null&&!e(i);){var a;try{a=r(i)}catch{return s}for(var u=0;u<a.length;++u){var c=a[u];if(!o[c]){o[c]=!0;var f=Object.getOwnPropertyDescriptor(i,c);f!=null&&f.get==null&&f.set==null&&s.push(c)}}i=es5.getPrototypeOf(i)}return s}}else{var n={}.hasOwnProperty;return function(i){if(e(i))return[];var s=[];e:for(var o in i)if(n.call(i,o))s.push(o);else{for(var a=0;a<t.length;++a)if(n.call(t[a],o))continue e;s.push(o)}return s}}})(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(t){try{if(typeof t=="function"){var e=es5.names(t.prototype),r=es5.isES5&&e.length>1,n=e.length>0&&!(e.length===1&&e[0]==="constructor"),i=thisAssignmentPattern.test(t+"")&&es5.names(t).length>0;if(r||n||i)return!0}return!1}catch{return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(t){return rident.test(t)}function filledRange(t,e,r){for(var n=new Array(t),i=0;i<t;++i)n[i]=e+i+r;return n}function safeToString(t){try{return t+""}catch{return"[no string representation]"}}function isError(t){return t!==null&&typeof t=="object"&&typeof t.message=="string"&&typeof t.name=="string"}function markAsOriginatingFromRejection(t){try{notEnumerableProp(t,"isOperational",!0)}catch{}}function originatesFromRejection(t){return t==null?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function canAttachTrace(t){return isError(t)&&es5.propertyIsWritable(t,"stack")}var ensureErrorObject=(function(){return"stack"in new Error?function(t){return canAttachTrace(t)?t:new Error(safeToString(t))}:function(t){if(canAttachTrace(t))return t;try{throw new Error(safeToString(t))}catch(e){return e}}})();function classString(t){return{}.toString.call(t)}function copyDescriptors(t,e,r){for(var n=es5.names(t),i=0;i<n.length;++i){var s=n[i];if(r(s))try{es5.defineProperty(e,s,es5.getDescriptor(t,s))}catch{}}}var asArray=function(t){return es5.isArray(t)?t:null};typeof Symbol<"u"&&Symbol.iterator&&(ArrayFrom=typeof Array.from=="function"?function(t){return Array.from(t)}:function(t){for(var e=[],r=t[Symbol.iterator](),n;!(n=r.next()).done;)e.push(n.value);return e},asArray=function(t){return es5.isArray(t)?t:t!=null&&typeof t[Symbol.iterator]=="function"?ArrayFrom(t):null});var ArrayFrom,isNode=typeof process<"u"&&classString(process).toLowerCase()==="[object process]",hasEnvVariables=typeof process<"u"&&typeof process.env<"u";function env(t){return hasEnvVariables?process.env[t]:void 0}function getNativePromise(){if(typeof Promise=="function")try{var t=new Promise(function(){});if({}.toString.call(t)==="[object Promise]")return Promise}catch{}}function domainBind(t,e){return t.bind(e)}var ret={isClass,isIdentifier,inheritedDataKeys,getDataPropertyOrDefault,thrower,isArray:es5.isArray,asArray,notEnumerableProp,isPrimitive,isObject,isError,canEvaluate,errorObj,tryCatch,inherits,withAppended,maybeWrapAsError,toFastProperties,filledRange,toString:safeToString,canAttachTrace,ensureErrorObject,originatesFromRejection,markAsOriginatingFromRejection,classString,copyDescriptors,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode,hasEnvVariables,env,global:globalObject,getNativePromise,domainBind};ret.isRecentNode=ret.isNode&&(function(){var t=process.versions.node.split(".").map(Number);return t[0]===0&&t[1]>10||t[0]>0})();ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(t){ret.lastLineError=t}module.exports=ret});var D5e=v(($Vr,N5e)=>{"use strict";var MQ=Dr(),lm,gEr=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},LQ=MQ.getNativePromise();MQ.isNode&&typeof MutationObserver>"u"?(I5e=global.setImmediate,O5e=process.nextTick,lm=MQ.isRecentNode?function(t){I5e.call(global,t)}:function(t){O5e.call(process,t)}):typeof LQ=="function"&&typeof LQ.resolve=="function"?(k5e=LQ.resolve(),lm=function(t){k5e.then(t)}):typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?lm=(function(){var t=document.createElement("div"),e={attributes:!0},r=!1,n=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),r=!1});i.observe(n,e);var s=function(){r||(r=!0,n.classList.toggle("foo"))};return function(a){var u=new MutationObserver(function(){u.disconnect(),a()});u.observe(t,e),s()}})():typeof setImmediate<"u"?lm=function(t){setImmediate(t)}:typeof setTimeout<"u"?lm=function(t){setTimeout(t,0)}:lm=gEr;var I5e,O5e,k5e;N5e.exports=lm});var L5e=v((UVr,F5e)=>{"use strict";function yEr(t,e,r,n,i){for(var s=0;s<i;++s)r[s+n]=t[s+e],t[s+e]=void 0}function Ed(t){this._capacity=t,this._length=0,this._front=0}Ed.prototype._willBeOverCapacity=function(t){return this._capacity<t};Ed.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var r=this._front+e&this._capacity-1;this[r]=t,this._length=e+1};Ed.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n)){this._pushOne(t),this._pushOne(e),this._pushOne(r);return}var i=this._front+n-3;this._checkCapacity(n);var s=this._capacity-1;this[i+0&s]=t,this[i+1&s]=e,this[i+2&s]=r,this._length=n};Ed.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e};Ed.prototype.length=function(){return this._length};Ed.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)};Ed.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var r=this._front,n=this._length,i=r+n&e-1;yEr(this,0,this,e,i)};F5e.exports=Ed});var H5e=v((jVr,qQ)=>{"use strict";var j5e;try{throw new Error}catch(t){j5e=t}var _Er=D5e(),M5e=L5e(),B5e=Dr();function Qn(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new M5e(16),this._normalQueue=new M5e(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=_Er}Qn.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e};Qn.prototype.hasCustomScheduler=function(){return this._customScheduler};Qn.prototype.enableTrampoline=function(){this._trampolineEnabled=!0};Qn.prototype.disableTrampolineIfNecessary=function(){B5e.hasDevTools&&(this._trampolineEnabled=!1)};Qn.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};Qn.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+`
`),process.exit(2)):this.throwLater(t)};Qn.prototype.throwLater=function(t,e){if(arguments.length===1&&(e=t,t=function(){throw e}),typeof setTimeout<"u")setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function q5e(t,e,r){this._lateQueue.push(t,e,r),this._queueTick()}function $5e(t,e,r){this._normalQueue.push(t,e,r),this._queueTick()}function U5e(t){this._normalQueue._pushOne(t),this._queueTick()}B5e.hasDevTools?(Qn.prototype.invokeLater=function(t,e,r){this._trampolineEnabled?q5e.call(this,t,e,r):this._schedule(function(){setTimeout(function(){t.call(e,r)},100)})},Qn.prototype.invoke=function(t,e,r){this._trampolineEnabled?$5e.call(this,t,e,r):this._schedule(function(){t.call(e,r)})},Qn.prototype.settlePromises=function(t){this._trampolineEnabled?U5e.call(this,t):this._schedule(function(){t._settlePromises()})}):(Qn.prototype.invokeLater=q5e,Qn.prototype.invoke=$5e,Qn.prototype.settlePromises=U5e);Qn.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if(typeof e!="function"){e._settlePromises();continue}var r=t.shift(),n=t.shift();e.call(r,n)}};Qn.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)};Qn.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))};Qn.prototype._reset=function(){this._isTickUsed=!1};qQ.exports=Qn;qQ.exports.firstLineError=j5e});var el=v((BVr,W5e)=>{"use strict";var jQ=cm(),vEr=jQ.freeze,z5e=Dr(),V5e=z5e.inherits,A0=z5e.notEnumerableProp;function P0(t,e){function r(n){if(!(this instanceof r))return new r(n);A0(this,"message",typeof n=="string"?n:e),A0(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return V5e(r,Error),r}var $Q,UQ,wEr=P0("Warning","warning"),bEr=P0("CancellationError","cancellation error"),EEr=P0("TimeoutError","timeout error"),RT=P0("AggregateError","aggregate error");try{$Q=TypeError,UQ=RangeError}catch{$Q=P0("TypeError","type error"),UQ=P0("RangeError","range error")}var AM="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" ");for(R0=0;R0<AM.length;++R0)typeof Array.prototype[AM[R0]]=="function"&&(RT.prototype[AM[R0]]=Array.prototype[AM[R0]]);var R0;jQ.defineProperty(RT.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});RT.prototype.isOperational=!0;var PM=0;RT.prototype.toString=function(){var t=Array(PM*4+1).join(" "),e=`
`+t+`AggregateError of:
`;PM++,t=Array(PM*4+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split(`
`),s=0;s<i.length;++s)i[s]=t+i[s];n=i.join(`
`),e+=n+`
`}return PM--,e};function xT(t){if(!(this instanceof xT))return new xT(t);A0(this,"name","OperationalError"),A0(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(A0(this,"message",t.message),A0(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}V5e(xT,Error);var fm=Error.__BluebirdErrorTypes__;fm||(fm=vEr({CancellationError:bEr,TimeoutError:EEr,OperationalError:xT,RejectionError:xT,AggregateError:RT}),jQ.defineProperty(Error,"__BluebirdErrorTypes__",{value:fm,writable:!1,enumerable:!1,configurable:!1}));W5e.exports={Error,TypeError:$Q,RangeError:UQ,CancellationError:fm.CancellationError,OperationalError:fm.OperationalError,TimeoutError:fm.TimeoutError,AggregateError:fm.AggregateError,Warning:wEr}});var K5e=v((HVr,G5e)=>{"use strict";G5e.exports=function(t,e){var r=Dr(),n=r.errorObj,i=r.isObject;function s(d,h){if(i(d)){if(d instanceof t)return d;var p=a(d);if(p===n){h&&h._pushContext();var m=t.reject(p.e);return h&&h._popContext(),m}else if(typeof p=="function"){if(c(d)){var m=new t(e);return d._then(m._fulfill,m._reject,void 0,m,null),m}return f(d,p,h)}}return d}function o(d){return d.then}function a(d){try{return o(d)}catch(h){return n.e=h,n}}var u={}.hasOwnProperty;function c(d){try{return u.call(d,"_promise0")}catch{return!1}}function f(d,h,p){var m=new t(e),g=m;p&&p._pushContext(),m._captureStackTrace(),p&&p._popContext();var y=!0,w=r.tryCatch(h).call(d,S,E);y=!1,m&&w===n&&(m._rejectCallback(w.e,!0,!0),m=null);function S(b){m&&(m._resolveCallback(b),m=null)}function E(b){m&&(m._rejectCallback(b,y,!0),m=null)}return g}return s}});var J5e=v((zVr,X5e)=>{"use strict";X5e.exports=function(t,e,r,n,i){var s=Dr(),o=s.isArray;function a(c){switch(c){case-2:return[];case-3:return{}}}function u(c){var f=this._promise=new t(e);c instanceof t&&f._propagateFrom(c,3),f._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(u,i),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function c(f,d){var h=r(this._values,this._promise);if(h instanceof t){h=h._target();var p=h._bitField;if(this._values=h,(p&50397184)===0)return this._promise._setAsyncGuaranteed(),h._then(c,this._reject,void 0,this,d);if((p&33554432)!==0)h=h._value();else return(p&16777216)!==0?this._reject(h._reason()):this._cancel()}if(h=s.asArray(h),h===null){var m=n("expecting an array or an iterable object but got "+s.classString(h)).reason();this._promise._rejectCallback(m,!1);return}if(h.length===0){d===-5?this._resolveEmptyArray():this._resolve(a(d));return}this._iterate(h)},u.prototype._iterate=function(c){var f=this.getActualLength(c.length);this._length=f,this._values=this.shouldCopyValues()?new Array(f):this._values;for(var d=this._promise,h=!1,p=null,m=0;m<f;++m){var g=r(c[m],d);g instanceof t?(g=g._target(),p=g._bitField):p=null,h?p!==null&&g.suppressUnhandledRejections():p!==null?(p&50397184)===0?(g._proxy(this,m),this._values[m]=g):(p&33554432)!==0?h=this._promiseFulfilled(g._value(),m):(p&16777216)!==0?h=this._promiseRejected(g._reason(),m):h=this._promiseCancelled(m):h=this._promiseFulfilled(g,m)}h||d._setAsyncGuaranteed()},u.prototype._isResolved=function(){return this._values===null},u.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},u.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},u.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},u.prototype._promiseFulfilled=function(c,f){this._values[f]=c;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof t)c.cancel();else for(var f=0;f<c.length;++f)c[f]instanceof t&&c[f].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(c){return c},u}});var Y5e=v((VVr,Z5e)=>{"use strict";Z5e.exports=function(t){var e=!1,r=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(s())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,r.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var o=r.pop(),a=o._promiseCreated;return o._promiseCreated=null,a}return null};function i(){if(e)return new n}function s(){var o=r.length-1;if(o>=0)return r[o]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var o=t.prototype._pushContext,a=t.prototype._popContext,u=t._peekContext,c=t.prototype._peekContext,f=t.prototype._promiseCreated;n.deactivateLongStackTraces=function(){t.prototype._pushContext=o,t.prototype._popContext=a,t._peekContext=u,t.prototype._peekContext=c,t.prototype._promiseCreated=f,e=!1},e=!0,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var d=this._peekContext();d&&d._promiseCreated==null&&(d._promiseCreated=this)}},n}});var e8e=v((WVr,Q5e)=>{"use strict";Q5e.exports=function(t,e){var r=t._getDomain,n=t._async,i=el().Warning,s=Dr(),o=s.canAttachTrace,a,u,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,p=null,m=!1,g,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),w=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),S=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),E=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(w||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var re=this._target();re._bitField=re._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){se("rejectionHandled",a,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var re=this._settledValue();this._setUnhandledRejectionIsNotified(),se("unhandledRejection",u,re,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(re,C,k){return ut(re,C,k||this)},t.onPossiblyUnhandledRejection=function(re){var C=r();u=typeof re=="function"?C===null?re:s.domainBind(C,re):void 0},t.onUnhandledRejectionHandled=function(re){var C=r();a=typeof re=="function"?C===null?re:s.domainBind(C,re):void 0};var b=function(){};t.longStackTraces=function(){if(n.haveItemsQueued()&&!$e.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!$e.longStackTraces&&je()){var re=t.prototype._captureStackTrace,C=t.prototype._attachExtraTrace;$e.longStackTraces=!0,b=function(){if(n.haveItemsQueued()&&!$e.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=re,t.prototype._attachExtraTrace=C,e.deactivateLongStackTraces(),n.enableTrampoline(),$e.longStackTraces=!1},t.prototype._captureStackTrace=ue,t.prototype._attachExtraTrace=_e,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return $e.longStackTraces&&je()};var O=(function(){try{if(typeof CustomEvent=="function"){var re=new CustomEvent("CustomEvent");return s.global.dispatchEvent(re),function(C,k){var U=new CustomEvent(C.toLowerCase(),{detail:k,cancelable:!0});return!s.global.dispatchEvent(U)}}else if(typeof Event=="function"){var re=new Event("CustomEvent");return s.global.dispatchEvent(re),function(k,U){var K=new Event(k.toLowerCase(),{cancelable:!0});return K.detail=U,!s.global.dispatchEvent(K)}}else{var re=document.createEvent("CustomEvent");return re.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(re),function(k,U){var K=document.createEvent("CustomEvent");return K.initCustomEvent(k.toLowerCase(),!1,!0,U),!s.global.dispatchEvent(K)}}}catch{}return function(){return!1}})(),M=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(re){var C="on"+re.toLowerCase(),k=s.global[C];return k?(k.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function x(re,C){return{promise:C}}var I={promiseCreated:x,promiseFulfilled:x,promiseRejected:x,promiseResolved:x,promiseCancelled:x,promiseChained:function(re,C,k){return{promise:C,child:k}},warning:function(re,C){return{warning:C}},unhandledRejection:function(re,C,k){return{reason:C,promise:k}},rejectionHandled:x},P=function(re){var C=!1;try{C=M.apply(null,arguments)}catch(U){n.throwLater(U),C=!0}var k=!1;try{k=O(re,I[re].apply(null,arguments))}catch(U){n.throwLater(U),k=!0}return k||C};t.config=function(re){if(re=Object(re),"longStackTraces"in re&&(re.longStackTraces?t.longStackTraces():!re.longStackTraces&&t.hasLongStackTraces()&&b()),"warnings"in re){var C=re.warnings;$e.warnings=!!C,E=$e.warnings,s.isObject(C)&&"wForgottenReturn"in C&&(E=!!C.wForgottenReturn)}if("cancellation"in re&&re.cancellation&&!$e.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=ee,t.prototype._propagateFrom=N,t.prototype._onCancel=L,t.prototype._setOnCancel=z,t.prototype._attachCancellationCallback=D,t.prototype._execute=$,X=N,$e.cancellation=!0}return"monitoring"in re&&(re.monitoring&&!$e.monitoring?($e.monitoring=!0,t.prototype._fireEvent=P):!re.monitoring&&$e.monitoring&&($e.monitoring=!1,t.prototype._fireEvent=F)),t};function F(){return!1}t.prototype._fireEvent=F,t.prototype._execute=function(re,C,k){try{re(C,k)}catch(U){return U}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(re){},t.prototype._attachCancellationCallback=function(re){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(re,C){};function $(re,C,k){var U=this;try{re(C,k,function(K){if(typeof K!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(K));U._attachCancellationCallback(K)})}catch(K){return K}}function D(re){if(!this._isCancellable())return this;var C=this._onCancel();C!==void 0?s.isArray(C)?C.push(re):this._setOnCancel([C,re]):this._setOnCancel(re)}function L(){return this._onCancelField}function z(re){this._onCancelField=re}function ee(){this._cancellationParent=void 0,this._onCancelField=void 0}function N(re,C){if((C&1)!==0){this._cancellationParent=re;var k=re._branchesRemainingToCancel;k===void 0&&(k=0),re._branchesRemainingToCancel=k+1}(C&2)!==0&&re._isBound()&&this._setBoundTo(re._boundTo)}function H(re,C){(C&2)!==0&&re._isBound()&&this._setBoundTo(re._boundTo)}var X=H;function V(){var re=this._boundTo;return re!==void 0&&re instanceof t?re.isFulfilled()?re.value():void 0:re}function ue(){this._trace=new zt(this._peekContext())}function _e(re,C){if(o(re)){var k=this._trace;if(k!==void 0&&C&&(k=k._parent),k!==void 0)k.attachExtraTrace(re);else if(!re.__stackCleaned__){var U=dt(re);s.notEnumerableProp(re,"stack",U.message+`
`+U.stack.join(`
`)),s.notEnumerableProp(re,"__stackCleaned__",!0)}}}function xe(re,C,k,U,K){if(re===void 0&&C!==null&&E){if(K!==void 0&&K._returnedNonUndefined()||(U._bitField&65535)===0)return;k&&(k=k+" ");var le="",Y="";if(C._trace){for(var ce=C._trace.stack.split(`
`),he=We(ce),de=he.length-1;de>=0;--de){var qe=he[de];if(!f.test(qe)){var yt=qe.match(d);yt&&(le="at "+yt[1]+":"+yt[2]+":"+yt[3]+" ");break}}if(he.length>0){for(var R=he[0],de=0;de<ce.length;++de)if(ce[de]===R){de>0&&(Y=`
`+ce[de-1]);break}}}var A="a promise was created in a "+k+"handler "+le+"but was not returned from it, see http://goo.gl/rRqMUw"+Y;U._warn(A,!0,C)}}function De(re,C){var k=re+" is deprecated and will be removed in a future version.";return C&&(k+=" Use "+C+" instead."),ut(k)}function ut(re,C,k){if($e.warnings){var U=new i(re),K;if(C)k._attachExtraTrace(U);else if($e.longStackTraces&&(K=t._peekContext()))K.attachExtraTrace(U);else{var le=dt(U);U.stack=le.message+`
`+le.stack.join(`
`)}P("warning",U)||st(U,"",!0)}}function Me(re,C){for(var k=0;k<C.length-1;++k)C[k].push("From previous event:"),C[k]=C[k].join(`
`);return k<C.length&&(C[k]=C[k].join(`
`)),re+`
`+C.join(`
`)}function Tt(re){for(var C=0;C<re.length;++C)(re[C].length===0||C+1<re.length&&re[C][0]===re[C+1][0])&&(re.splice(C,1),C--)}function Ue(re){for(var C=re[0],k=1;k<re.length;++k){for(var U=re[k],K=C.length-1,le=C[K],Y=-1,ce=U.length-1;ce>=0;--ce)if(U[ce]===le){Y=ce;break}for(var ce=Y;ce>=0;--ce){var he=U[ce];if(C[K]===he)C.pop(),K--;else break}C=U}}function We(re){for(var C=[],k=0;k<re.length;++k){var U=re[k],K=U==="    (No stack trace)"||h.test(U),le=K&&ht(U);K&&!le&&(m&&U.charAt(0)!==" "&&(U="    "+U),C.push(U))}return C}function kt(re){for(var C=re.stack.replace(/\s+$/g,"").split(`
`),k=0;k<C.length;++k){var U=C[k];if(U==="    (No stack trace)"||h.test(U))break}return k>0&&re.name!="SyntaxError"&&(C=C.slice(k)),C}function dt(re){var C=re.stack,k=re.toString();return C=typeof C=="string"&&C.length>0?kt(re):["    (No stack trace)"],{message:k,stack:re.name=="SyntaxError"?C:We(C)}}function st(re,C,k){if(typeof console<"u"){var U;if(s.isObject(re)){var K=re.stack;U=C+p(K,re)}else U=C+String(re);typeof g=="function"?g(U,k):(typeof console.log=="function"||typeof console.log=="object")&&console.log(U)}}function se(re,C,k,U){var K=!1;try{typeof C=="function"&&(K=!0,re==="rejectionHandled"?C(U):C(k,U))}catch(le){n.throwLater(le)}re==="unhandledRejection"?!P(re,k,U)&&!K&&st(k,"Unhandled rejection "):P(re,U)}function Se(re){var C;if(typeof re=="function")C="[function "+(re.name||"anonymous")+"]";else{C=re&&typeof re.toString=="function"?re.toString():s.toString(re);var k=/\[object [a-zA-Z0-9$_]+\]/;if(k.test(C))try{var U=JSON.stringify(re);C=U}catch{}C.length===0&&(C="(empty array)")}return"(<"+Ne(C)+">, no stack trace)"}function Ne(re){var C=41;return re.length<C?re:re.substr(0,C-3)+"..."}function je(){return typeof vn=="function"}var ht=function(){return!1},Ve=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function xt(re){var C=re.match(Ve);if(C)return{fileName:C[1],line:parseInt(C[2],10)}}function jn(re,C){if(je()){for(var k=re.stack.split(`
`),U=C.stack.split(`
`),K=-1,le=-1,Y,ce,he=0;he<k.length;++he){var de=xt(k[he]);if(de){Y=de.fileName,K=de.line;break}}for(var he=0;he<U.length;++he){var de=xt(U[he]);if(de){ce=de.fileName,le=de.line;break}}K<0||le<0||!Y||!ce||Y!==ce||K>=le||(ht=function(qe){if(c.test(qe))return!0;var yt=xt(qe);return!!(yt&&yt.fileName===Y&&K<=yt.line&&yt.line<=le)})}}function zt(re){this._parent=re,this._promisesCreated=0;var C=this._length=1+(re===void 0?0:re._length);vn(this,zt),C>32&&this.uncycle()}s.inherits(zt,Error),e.CapturedTrace=zt,zt.prototype.uncycle=function(){var re=this._length;if(!(re<2)){for(var C=[],k={},U=0,K=this;K!==void 0;++U)C.push(K),K=K._parent;re=this._length=U;for(var U=re-1;U>=0;--U){var le=C[U].stack;k[le]===void 0&&(k[le]=U)}for(var U=0;U<re;++U){var Y=C[U].stack,ce=k[Y];if(ce!==void 0&&ce!==U){ce>0&&(C[ce-1]._parent=void 0,C[ce-1]._length=1),C[U]._parent=void 0,C[U]._length=1;var he=U>0?C[U-1]:this;ce<re-1?(he._parent=C[ce+1],he._parent.uncycle(),he._length=he._parent._length+1):(he._parent=void 0,he._length=1);for(var de=he._length+1,qe=U-2;qe>=0;--qe)C[qe]._length=de,de++;return}}}},zt.prototype.attachExtraTrace=function(re){if(!re.__stackCleaned__){this.uncycle();for(var C=dt(re),k=C.message,U=[C.stack],K=this;K!==void 0;)U.push(We(K.stack.split(`
`))),K=K._parent;Ue(U),Tt(U),s.notEnumerableProp(re,"stack",Me(k,U)),s.notEnumerableProp(re,"__stackCleaned__",!0)}};var vn=(function(){var C=/^\s*at\s*/,k=function(Y,ce){return typeof Y=="string"?Y:ce.name!==void 0&&ce.message!==void 0?ce.toString():Se(ce)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=C,p=k;var U=Error.captureStackTrace;return ht=function(Y){return c.test(Y)},function(Y,ce){Error.stackTraceLimit+=6,U(Y,ce),Error.stackTraceLimit-=6}}var K=new Error;if(typeof K.stack=="string"&&K.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,p=k,m=!0,function(ce){ce.stack=new Error().stack};var le;try{throw new Error}catch(Y){le="stack"in Y}return!("stack"in K)&&le&&typeof Error.stackTraceLimit=="number"?(h=C,p=k,function(ce){Error.stackTraceLimit+=6;try{throw new Error}catch(he){ce.stack=he.stack}Error.stackTraceLimit-=6}):(p=function(Y,ce){return typeof Y=="string"?Y:(typeof ce=="object"||typeof ce=="function")&&ce.name!==void 0&&ce.message!==void 0?ce.toString():Se(ce)},null)})([]);typeof console<"u"&&typeof console.warn<"u"&&(g=function(re){console.warn(re)},s.isNode&&process.stderr.isTTY?g=function(re,C){var k=C?"\x1B[33m":"\x1B[31m";console.warn(k+re+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(g=function(re,C){console.warn("%c"+re,C?"color: darkorange":"color: red")}));var $e={warnings:w,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&t.longStackTraces(),{longStackTraces:function(){return $e.longStackTraces},warnings:function(){return $e.warnings},cancellation:function(){return $e.cancellation},monitoring:function(){return $e.monitoring},propagateFromFunction:function(){return X},boundValueFunction:function(){return V},checkForgottenReturns:xe,setBounds:jn,warn:ut,deprecated:De,CapturedTrace:zt,fireDomEvent:O,fireGlobalEvent:M}}});var r8e=v((GVr,t8e)=>{"use strict";t8e.exports=function(t,e){var r=Dr(),n=t.CancellationError,i=r.errorObj;function s(d,h,p){this.promise=d,this.type=h,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(d){this.finallyHandler=d}o.prototype._resultCancelled=function(){a(this.finallyHandler)};function a(d,h){return d.cancelPromise!=null?(arguments.length>1?d.cancelPromise._reject(h):d.cancelPromise._cancel(),d.cancelPromise=null,!0):!1}function u(){return f.call(this,this.promise._target()._settledValue())}function c(d){if(!a(this,d))return i.e=d,i}function f(d){var h=this.promise,p=this.handler;if(!this.called){this.called=!0;var m=this.isFinallyHandler()?p.call(h._boundValue()):p.call(h._boundValue(),d);if(m!==void 0){h._setReturnedNonUndefined();var g=e(m,h);if(g instanceof t){if(this.cancelPromise!=null)if(g._isCancelled()){var y=new n("late cancellation observer");return h._attachExtraTrace(y),i.e=y,i}else g.isPending()&&g._attachCancellationCallback(new o(this));return g._then(u,c,void 0,this,void 0)}}}return h.isRejected()?(a(this),i.e=d,i):(a(this),d)}return t.prototype._passThrough=function(d,h,p,m){return typeof d!="function"?this.then():this._then(p,m,void 0,new s(this,h,d),void 0)},t.prototype.lastly=t.prototype.finally=function(d){return this._passThrough(d,0,f,f)},t.prototype.tap=function(d){return this._passThrough(d,1,f)},s}});var i8e=v((KVr,n8e)=>{"use strict";n8e.exports=function(t){var e=Dr(),r=cm().keys,n=e.tryCatch,i=e.errorObj;function s(o,a,u){return function(c){var f=u._boundValue();e:for(var d=0;d<o.length;++d){var h=o[d];if(h===Error||h!=null&&h.prototype instanceof Error){if(c instanceof h)return n(a).call(f,c)}else if(typeof h=="function"){var p=n(h).call(f,c);if(p===i)return p;if(p)return n(a).call(f,c)}else if(e.isObject(c)){for(var m=r(h),g=0;g<m.length;++g){var y=m[g];if(h[y]!=c[y])continue e}return n(a).call(f,c)}}return t}}return s}});var BQ=v((XVr,a8e)=>{"use strict";var s8e=Dr(),SEr=s8e.maybeWrapAsError,TEr=el(),CEr=TEr.OperationalError,o8e=cm();function xEr(t){return t instanceof Error&&o8e.getPrototypeOf(t)===Error.prototype}var REr=/^(?:name|message|stack|cause)$/;function AEr(t){var e;if(xEr(t)){e=new CEr(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var r=o8e.keys(t),n=0;n<r.length;++n){var i=r[n];REr.test(i)||(e[i]=t[i])}return e}return s8e.markAsOriginatingFromRejection(t),t}function PEr(t,e){return function(r,n){if(t!==null){if(r){var i=AEr(SEr(r));t._attachExtraTrace(i),t._reject(i)}else if(!e)t._fulfill(n);else{for(var s=arguments.length,o=new Array(Math.max(s-1,0)),a=1;a<s;++a)o[a-1]=arguments[a];t._fulfill(o)}t=null}}}a8e.exports=PEr});var c8e=v((JVr,u8e)=>{"use strict";u8e.exports=function(t,e,r,n,i){var s=Dr(),o=s.tryCatch;t.method=function(a){if(typeof a!="function")throw new t.TypeError("expecting a function but got "+s.classString(a));return function(){var u=new t(e);u._captureStackTrace(),u._pushContext();var c=o(a).apply(this,arguments),f=u._popContext();return i.checkForgottenReturns(c,f,"Promise.method",u),u._resolveFromSyncValue(c),u}},t.attempt=t.try=function(a){if(typeof a!="function")return n("expecting a function but got "+s.classString(a));var u=new t(e);u._captureStackTrace(),u._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],d=arguments[2];c=s.isArray(f)?o(a).apply(d,f):o(a).call(d,f)}else c=o(a)();var h=u._popContext();return i.checkForgottenReturns(c,h,"Promise.try",u),u._resolveFromSyncValue(c),u},t.prototype._resolveFromSyncValue=function(a){a===s.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}});var f8e=v((ZVr,l8e)=>{"use strict";l8e.exports=function(t,e,r,n){var i=!1,s=function(c,f){this._reject(f)},o=function(c,f){f.promiseRejectionQueued=!0,f.bindingPromise._then(s,s,null,this,c)},a=function(c,f){(this._bitField&50397184)===0&&this._resolveCallback(f.target)},u=function(c,f){f.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=n.propagateFromFunction(),t.prototype._boundValue=n.boundValueFunction());var f=r(c),d=new t(e);d._propagateFrom(this,1);var h=this._target();if(d._setBoundTo(f),f instanceof t){var p={promiseRejectionQueued:!1,promise:d,target:h,bindingPromise:f};h._then(e,o,void 0,d,p),f._then(a,u,void 0,d,p),d._setOnCancel(f)}else d._resolveCallback(h);return d},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,f){return t.resolve(f).bind(c)}}});var h8e=v((YVr,d8e)=>{"use strict";d8e.exports=function(t,e,r,n){var i=Dr(),s=i.tryCatch,o=i.errorObj,a=t._async;t.prototype.break=t.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var u=this,c=u;u._isCancellable();){if(!u._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var f=u._cancellationParent;if(f==null||!f._isCancellable()){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}else u._isFollowing()&&u._followee().cancel(),u._setWillBeCancelled(),c=u,u=f}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(u){return u===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(u,c){if(i.isArray(u))for(var f=0;f<u.length;++f)this._doInvokeOnCancel(u[f],c);else if(u!==void 0)if(typeof u=="function"){if(!c){var d=s(u).call(this._boundValue());d===o&&(this._attachExtraTrace(d.e),a.throwLater(d.e))}}else u._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var u=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,u)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}});var m8e=v((QVr,p8e)=>{"use strict";p8e.exports=function(t){function e(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(n){return this._then(r,void 0,void 0,{reason:n},void 0)},t.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:n},void 0);var i=arguments[1],s=function(){throw i};return this.caught(n,s)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(n,s)}}});var y8e=v((e5r,g8e)=>{"use strict";g8e.exports=function(t){function e(u){u!==void 0?(u=u._target(),this._bitField=u._bitField,this._settledValueField=u._isFateSealed()?u._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var r=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},o=e.prototype.isPending=function(){return(this._bitField&50397184)===0},a=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return o.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return r.call(this._target())},t.prototype.reason=function(){var u=this._target();return u._unsetRejectionIsUnhandled(),n.call(u)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}});var v8e=v((t5r,_8e)=>{"use strict";_8e.exports=function(t,e,r,n,i,s){var o=Dr(),a=o.canEvaluate,u=o.tryCatch,c=o.errorObj,f;if(a){for(var d=function(S){return new Function("value","holder",`                             
            'use strict';                                                    
            holder.pIndex = value;                                           
            holder.checkFulfillment(this);                                   
            `.replace(/Index/g,S))},h=function(S){return new Function("promise","holder",`                           
            'use strict';                                                    
            holder.pIndex = promise;                                         
            `.replace(/Index/g,S))},p=function(S){for(var E=new Array(S),b=0;b<E.length;++b)E[b]="this.p"+(b+1);var O=E.join(" = ")+" = null;",M=`var promise;
`+E.map(function(F){return`                                                         
                promise = `+F+`;                                      
                if (promise instanceof Promise) {                            
                    promise.cancel();                                        
                }                                                            
            `}).join(`
`),x=E.join(", "),I="Holder$"+S,P=`return function(tryCatch, errorObj, Promise, async) {    
            'use strict';                                                    
            function [TheName](fn) {                                         
                [TheProperties]                                              
                this.fn = fn;                                                
                this.asyncNeeded = true;                                     
                this.now = 0;                                                
            }                                                                
                                                                             
            [TheName].prototype._callFunction = function(promise) {          
                promise._pushContext();                                      
                var ret = tryCatch(this.fn)([ThePassedArguments]);           
                promise._popContext();                                       
                if (ret === errorObj) {                                      
                    promise._rejectCallback(ret.e, false);                   
                } else {                                                     
                    promise._resolveCallback(ret);                           
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype.checkFulfillment = function(promise) {       
                var now = ++this.now;                                        
                if (now === [TheTotal]) {                                    
                    if (this.asyncNeeded) {                                  
                        async.invoke(this._callFunction, this, promise);     
                    } else {                                                 
                        this._callFunction(promise);                         
                    }                                                        
                                                                             
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype._resultCancelled = function() {              
                [CancellationCode]                                           
            };                                                               
                                                                             
            return [TheName];                                                
        }(tryCatch, errorObj, Promise, async);                               
        `;return P=P.replace(/\[TheName\]/g,I).replace(/\[TheTotal\]/g,S).replace(/\[ThePassedArguments\]/g,x).replace(/\[TheProperties\]/g,O).replace(/\[CancellationCode\]/g,M),new Function("tryCatch","errorObj","Promise","async",P)(u,c,t,i)},m=[],g=[],y=[],w=0;w<8;++w)m.push(p(w+1)),g.push(d(w+1)),y.push(h(w+1));f=function(S){this._reject(S)}}t.join=function(){var S=arguments.length-1,E;if(S>0&&typeof arguments[S]=="function"&&(E=arguments[S],S<=8&&a)){var z=new t(n);z._captureStackTrace();for(var b=m[S-1],O=new b(E),M=g,x=0;x<S;++x){var I=r(arguments[x],z);if(I instanceof t){I=I._target();var P=I._bitField;(P&50397184)===0?(I._then(M[x],f,void 0,z,O),y[x](I,O),O.asyncNeeded=!1):(P&33554432)!==0?M[x].call(z,I._value(),O):(P&16777216)!==0?z._reject(I._reason()):z._cancel()}else M[x].call(z,I,O)}if(!z._isFateSealed()){if(O.asyncNeeded){var F=s();F!==null&&(O.fn=o.domainBind(F,O.fn))}z._setAsyncGuaranteed(),z._setOnCancel(O)}return z}for(var $=arguments.length,D=new Array($),L=0;L<$;++L)D[L]=arguments[L];E&&D.pop();var z=new e(D).promise();return E!==void 0?z.spread(E):z}}});var b8e=v((r5r,w8e)=>{"use strict";w8e.exports=function(t,e,r,n,i,s){var o=t._getDomain,a=Dr(),u=a.tryCatch,c=a.errorObj,f=t._async;function d(p,m,g,y){this.constructor$(p),this._promise._captureStackTrace();var w=o();this._callback=w===null?m:a.domainBind(w,m),this._preservedValues=y===i?new Array(this.length()):null,this._limit=g,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}a.inherits(d,e),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(p,m){var g=this._values,y=this.length(),w=this._preservedValues,S=this._limit;if(m<0){if(m=m*-1-1,g[m]=p,S>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(S>=1&&this._inFlight>=S)return g[m]=p,this._queue.push(m),!1;w!==null&&(w[m]=p);var E=this._promise,b=this._callback,O=E._boundValue();E._pushContext();var M=u(b).call(O,p,m,y),x=E._popContext();if(s.checkForgottenReturns(M,x,w!==null?"Promise.filter":"Promise.map",E),M===c)return this._reject(M.e),!0;var I=n(M,this._promise);if(I instanceof t){I=I._target();var P=I._bitField;if((P&50397184)===0)return S>=1&&this._inFlight++,g[m]=I,I._proxy(this,(m+1)*-1),!1;if((P&33554432)!==0)M=I._value();else return(P&16777216)!==0?(this._reject(I._reason()),!0):(this._cancel(),!0)}g[m]=M}var F=++this._totalResolved;return F>=y?(w!==null?this._filter(g,w):this._resolve(g),!0):!1},d.prototype._drainQueue=function(){for(var p=this._queue,m=this._limit,g=this._values;p.length>0&&this._inFlight<m;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(g[y],y)}},d.prototype._filter=function(p,m){for(var g=m.length,y=new Array(g),w=0,S=0;S<g;++S)p[S]&&(y[w++]=m[S]);y.length=w,this._resolve(y)},d.prototype.preservedValues=function(){return this._preservedValues};function h(p,m,g,y){if(typeof m!="function")return r("expecting a function but got "+a.classString(m));var w=0;if(g!==void 0)if(typeof g=="object"&&g!==null){if(typeof g.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(g.concurrency)));w=g.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+a.classString(g)));return w=typeof w=="number"&&isFinite(w)&&w>=1?w:0,new d(p,m,w,y).promise()}t.prototype.map=function(p,m){return h(this,p,m,null)},t.map=function(p,m,g,y){return h(p,m,g,y)}}});var S8e=v((n5r,E8e)=>{"use strict";var HQ=Object.create;HQ&&(zQ=HQ(null),VQ=HQ(null),zQ[" size"]=VQ[" size"]=0);var zQ,VQ;E8e.exports=function(t){var e=Dr(),r=e.canEvaluate,n=e.isIdentifier,i,s,o=function(p){return new Function("ensureMethod",`                                    
        return function(obj) {                                               
            'use strict'                                                     
            var len = this.length;                                           
            ensureMethod(obj, 'methodName');                                 
            switch(len) {                                                    
                case 1: return obj.methodName(this[0]);                      
                case 2: return obj.methodName(this[0], this[1]);             
                case 3: return obj.methodName(this[0], this[1], this[2]);    
                case 0: return obj.methodName();                             
                default:                                                     
                    return obj.methodName.apply(obj, this);                  
            }                                                                
        };                                                                   
        `.replace(/methodName/g,p))(c)},a=function(p){return new Function("obj",`                                             
        'use strict';                                                        
        return obj.propertyName;                                             
        `.replace("propertyName",p))},u=function(p,m,g){var y=g[p];if(typeof y!="function"){if(!n(p))return null;if(y=m(p),g[p]=y,g[" size"]++,g[" size"]>512){for(var w=Object.keys(g),S=0;S<256;++S)delete g[w[S]];g[" size"]=w.length-256}}return y};i=function(p){return u(p,o,zQ)},s=function(p){return u(p,a,VQ)};function c(p,m){var g;if(p!=null&&(g=p[m]),typeof g!="function"){var y="Object "+e.classString(p)+" has no method '"+e.toString(m)+"'";throw new t.TypeError(y)}return g}function f(p){var m=this.pop(),g=c(p,m);return g.apply(p,this)}t.prototype.call=function(p){for(var m=arguments.length,g=new Array(Math.max(m-1,0)),y=1;y<m;++y)g[y-1]=arguments[y];if(r){var w=i(p);if(w!==null)return this._then(w,void 0,void 0,g,void 0)}return g.push(p),this._then(f,void 0,void 0,g,void 0)};function d(p){return p[this]}function h(p){var m=+this;return m<0&&(m=Math.max(0,m+p.length)),p[m]}t.prototype.get=function(p){var m=typeof p=="number",g;if(m)g=h;else if(r){var y=s(p);g=y!==null?y:d}else g=d;return this._then(g,void 0,void 0,p,void 0)}}});var C8e=v((i5r,T8e)=>{"use strict";T8e.exports=function(t,e,r,n,i,s){var o=Dr(),a=el().TypeError,u=Dr().inherits,c=o.errorObj,f=o.tryCatch,d={};function h(E){setTimeout(function(){throw E},0)}function p(E){var b=r(E);return b!==E&&typeof E._isDisposable=="function"&&typeof E._getDisposer=="function"&&E._isDisposable()&&b._setDisposable(E._getDisposer()),b}function m(E,b){var O=0,M=E.length,x=new t(i);function I(){if(O>=M)return x._fulfill();var P=p(E[O++]);if(P instanceof t&&P._isDisposable()){try{P=r(P._getDisposer().tryDispose(b),E.promise)}catch(F){return h(F)}if(P instanceof t)return P._then(I,h,null,null,null)}I()}return I(),x}function g(E,b,O){this._data=E,this._promise=b,this._context=O}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(E){var b=this.resource(),O=this._context;O!==void 0&&O._pushContext();var M=b!==d?this.doDispose(b,E):null;return O!==void 0&&O._popContext(),this._promise._unsetDisposable(),this._data=null,M},g.isDisposer=function(E){return E!=null&&typeof E.resource=="function"&&typeof E.tryDispose=="function"};function y(E,b,O){this.constructor$(E,b,O)}u(y,g),y.prototype.doDispose=function(E,b){var O=this.data();return O.call(E,E,b)};function w(E){return g.isDisposer(E)?(this.resources[this.index]._setDisposable(E),E.promise()):E}function S(E){this.length=E,this.promise=null,this[E-1]=null}S.prototype._resultCancelled=function(){for(var E=this.length,b=0;b<E;++b){var O=this[b];O instanceof t&&O.cancel()}},t.using=function(){var E=arguments.length;if(E<2)return e("you must pass at least 2 arguments to Promise.using");var b=arguments[E-1];if(typeof b!="function")return e("expecting a function but got "+o.classString(b));var O,M=!0;E===2&&Array.isArray(arguments[0])?(O=arguments[0],E=O.length,M=!1):(O=arguments,E--);for(var x=new S(E),I=0;I<E;++I){var P=O[I];if(g.isDisposer(P)){var F=P;P=P.promise(),P._setDisposable(F)}else{var $=r(P);$ instanceof t&&(P=$._then(w,null,null,{resources:x,index:I},void 0))}x[I]=P}for(var D=new Array(x.length),I=0;I<D.length;++I)D[I]=t.resolve(x[I]).reflect();var L=t.all(D).then(function(ee){for(var N=0;N<ee.length;++N){var H=ee[N];if(H.isRejected())return c.e=H.error(),c;if(!H.isFulfilled()){L.cancel();return}ee[N]=H.value()}z._pushContext(),b=f(b);var X=M?b.apply(void 0,ee):b(ee),V=z._popContext();return s.checkForgottenReturns(X,V,"Promise.using",z),X}),z=L.lastly(function(){var ee=new t.PromiseInspection(L);return m(x,ee)});return x.promise=z,z._setOnCancel(x),z},t.prototype._setDisposable=function(E){this._bitField=this._bitField|131072,this._disposer=E},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(E){if(typeof E=="function")return new y(E,this,n());throw new a}}});var R8e=v((s5r,x8e)=>{"use strict";x8e.exports=function(t,e,r){var n=Dr(),i=t.TimeoutError;function s(d){this.handle=d}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(d){return a(+this).thenReturn(d)},a=t.delay=function(d,h){var p,m;return h!==void 0?(p=t.resolve(h)._then(o,null,null,d,void 0),r.cancellation()&&h instanceof t&&p._setOnCancel(h)):(p=new t(e),m=setTimeout(function(){p._fulfill()},+d),r.cancellation()&&p._setOnCancel(new s(m)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(d){return a(d,this)};var u=function(d,h,p){var m;typeof h!="string"?h instanceof Error?m=h:m=new i("operation timed out"):m=new i(h),n.markAsOriginatingFromRejection(m),d._attachExtraTrace(m),d._reject(m),p?.cancel()};function c(d){return clearTimeout(this.handle),d}function f(d){throw clearTimeout(this.handle),d}t.prototype.timeout=function(d,h){d=+d;var p,m,g=new s(setTimeout(function(){p.isPending()&&u(p,h,m)},d));return r.cancellation()?(m=this.then(),p=m._then(c,f,void 0,g,void 0),p._setOnCancel(g)):p=this._then(c,f,void 0,g,void 0),p}}});var P8e=v((o5r,A8e)=>{"use strict";A8e.exports=function(t,e,r,n,i,s){var o=el(),a=o.TypeError,u=Dr(),c=u.errorObj,f=u.tryCatch,d=[];function h(m,g,y){for(var w=0;w<g.length;++w){y._pushContext();var S=f(g[w])(m);if(y._popContext(),S===c){y._pushContext();var E=t.reject(c.e);return y._popContext(),E}var b=n(S,y);if(b instanceof t)return b}return null}function p(m,g,y,w){if(s.cancellation()){var S=new t(r),E=this._finallyPromise=new t(r);this._promise=S.lastly(function(){return E}),S._captureStackTrace(),S._setOnCancel(this)}else{var b=this._promise=new t(r);b._captureStackTrace()}this._stack=w,this._generatorFunction=m,this._receiver=g,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(p,i),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var m=typeof this._generator.return<"u",g;if(m)this._promise._pushContext(),g=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),g=f(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(g)}},p.prototype._promiseFulfilled=function(m){this._yieldedPromise=null,this._promise._pushContext();var g=f(this._generator.next).call(this._generator,m);this._promise._popContext(),this._continue(g)},p.prototype._promiseRejected=function(m){this._yieldedPromise=null,this._promise._attachExtraTrace(m),this._promise._pushContext();var g=f(this._generator.throw).call(this._generator,m);this._promise._popContext(),this._continue(g)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var m=this._yieldedPromise;this._yieldedPromise=null,m.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(m){var g=this._promise;if(m===c)return this._cleanup(),this._cancellationPhase?g.cancel():g._rejectCallback(m.e,!1);var y=m.value;if(m.done===!0)return this._cleanup(),this._cancellationPhase?g.cancel():g._resolveCallback(y);var w=n(y,this._promise);if(!(w instanceof t)&&(w=h(w,this._yieldHandlers,this._promise),w===null)){this._promiseRejected(new a(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}w=w._target();var S=w._bitField;(S&50397184)===0?(this._yieldedPromise=w,w._proxy(this,null)):(S&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,w._value()):(S&16777216)!==0?t._async.invoke(this._promiseRejected,this,w._reason()):this._promiseCancelled()},t.coroutine=function(m,g){if(typeof m!="function")throw new a(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(g).yieldHandler,w=p,S=new Error().stack;return function(){var E=m.apply(this,arguments),b=new w(void 0,void 0,y,S),O=b.promise();return b._generator=E,b._promiseFulfilled(void 0),O}},t.coroutine.addYieldHandler=function(m){if(typeof m!="function")throw new a("expecting a function but got "+u.classString(m));d.push(m)},t.spawn=function(m){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof m!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=new p(m,this),y=g.promise();return g._run(t.spawn),y}}});var O8e=v((a5r,I8e)=>{"use strict";I8e.exports=function(t){var e=Dr(),r=t._async,n=e.tryCatch,i=e.errorObj;function s(u,c){var f=this;if(!e.isArray(u))return o.call(f,u,c);var d=n(c).apply(f._boundValue(),[null].concat(u));d===i&&r.throwLater(d.e)}function o(u,c){var f=this,d=f._boundValue(),h=u===void 0?n(c).call(d,null):n(c).call(d,null,u);h===i&&r.throwLater(h.e)}function a(u,c){var f=this;if(!u){var d=new Error(u+"");d.cause=u,u=d}var h=n(c).call(f._boundValue(),u);h===i&&r.throwLater(h.e)}t.prototype.asCallback=t.prototype.nodeify=function(u,c){if(typeof u=="function"){var f=o;c!==void 0&&Object(c).spread&&(f=s),this._then(f,a,void 0,this,u)}return this}}});var N8e=v((u5r,k8e)=>{"use strict";k8e.exports=function(t,e){var r={},n=Dr(),i=BQ(),s=n.withAppended,o=n.maybeWrapAsError,a=n.canEvaluate,u=el().TypeError,c="Async",f={__isPromisified__:!0},d=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+d.join("|")+")$"),p=function(L){return n.isIdentifier(L)&&L.charAt(0)!=="_"&&L!=="constructor"};function m(L){return!h.test(L)}function g(L){try{return L.__isPromisified__===!0}catch{return!1}}function y(L,z,ee){var N=n.getDataPropertyOrDefault(L,z+ee,f);return N?g(N):!1}function w(L,z,ee){for(var N=0;N<L.length;N+=2){var H=L[N];if(ee.test(H)){for(var X=H.replace(ee,""),V=0;V<L.length;V+=2)if(L[V]===X)throw new u(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",z))}}}function S(L,z,ee,N){for(var H=n.inheritedDataKeys(L),X=[],V=0;V<H.length;++V){var ue=H[V],_e=L[ue],xe=N===p?!0:p(ue,_e,L);typeof _e=="function"&&!g(_e)&&!y(L,ue,z)&&N(ue,_e,L,xe)&&X.push(ue,_e)}return w(X,z,ee),X}var E=function(L){return L.replace(/([$])/,"\\$")},b,O=function(L){for(var z=[L],ee=Math.max(0,L-1-3),N=L-1;N>=ee;--N)z.push(N);for(var N=L+1;N<=3;++N)z.push(N);return z},M=function(L){return n.filledRange(L,"_arg","")},x=function(L){return n.filledRange(Math.max(L,3),"_arg","")},I=function(L){return typeof L.length=="number"?Math.max(Math.min(L.length,1024),0):0};b=function(L,z,ee,N,H,X){var V=Math.max(0,I(N)-1),ue=O(V),_e=typeof L=="string"||z===r;function xe(Tt){var Ue=M(Tt).join(", "),We=Tt>0?", ":"",kt;return _e?kt=`ret = callback.call(this, {{args}}, nodeback); break;
`:kt=z===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,kt.replace("{{args}}",Ue).replace(", ",We)}function De(){for(var Tt="",Ue=0;Ue<ue.length;++Ue)Tt+="case "+ue[Ue]+":"+xe(ue[Ue]);return Tt+=`                                                             
        default:                                                             
            var args = new Array(len + 1);                                   
            var i = 0;                                                       
            for (var i = 0; i < len; ++i) {                                  
               args[i] = arguments[i];                                       
            }                                                                
            args[i] = nodeback;                                              
            [CodeForCall]                                                    
            break;                                                           
        `.replace("[CodeForCall]",_e?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Tt}var ut=typeof L=="string"?"this != null ? this['"+L+"'] : fn":"fn",Me=`'use strict';                                                
        var ret = function (Parameters) {                                    
            'use strict';                                                    
            var len = arguments.length;                                      
            var promise = new Promise(INTERNAL);                             
            promise._captureStackTrace();                                    
            var nodeback = nodebackForPromise(promise, `+X+`);   
            var ret;                                                         
            var callback = tryCatch([GetFunctionCode]);                      
            switch(len) {                                                    
                [CodeForSwitchCase]                                          
            }                                                                
            if (ret === errorObj) {                                          
                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
            }                                                                
            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
            return promise;                                                  
        };                                                                   
        notEnumerableProp(ret, '__isPromisified__', true);                   
        return ret;                                                          
    `.replace("[CodeForSwitchCase]",De()).replace("[GetFunctionCode]",ut);return Me=Me.replace("Parameters",x(V)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Me)(t,N,z,s,o,i,n.tryCatch,n.errorObj,n.notEnumerableProp,e)};function P(L,z,ee,N,H,X){var V=(function(){return this})(),ue=L;typeof ue=="string"&&(L=N);function _e(){var xe=z;z===r&&(xe=this);var De=new t(e);De._captureStackTrace();var ut=typeof ue=="string"&&this!==V?this[ue]:L,Me=i(De,X);try{ut.apply(xe,s(arguments,Me))}catch(Tt){De._rejectCallback(o(Tt),!0,!0)}return De._isFateSealed()||De._setAsyncGuaranteed(),De}return n.notEnumerableProp(_e,"__isPromisified__",!0),_e}var F=a?b:P;function $(L,z,ee,N,H){for(var X=new RegExp(E(z)+"$"),V=S(L,z,X,ee),ue=0,_e=V.length;ue<_e;ue+=2){var xe=V[ue],De=V[ue+1],ut=xe+z;if(N===F)L[ut]=F(xe,r,xe,De,z,H);else{var Me=N(De,function(){return F(xe,r,xe,De,z,H)});n.notEnumerableProp(Me,"__isPromisified__",!0),L[ut]=Me}}return n.toFastProperties(L),L}function D(L,z,ee){return F(L,z,void 0,L,null,ee)}t.promisify=function(L,z){if(typeof L!="function")throw new u("expecting a function but got "+n.classString(L));if(g(L))return L;z=Object(z);var ee=z.context===void 0?r:z.context,N=!!z.multiArgs,H=D(L,ee,N);return n.copyDescriptors(L,H,m),H},t.promisifyAll=function(L,z){if(typeof L!="function"&&typeof L!="object")throw new u(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);z=Object(z);var ee=!!z.multiArgs,N=z.suffix;typeof N!="string"&&(N=c);var H=z.filter;typeof H!="function"&&(H=p);var X=z.promisifier;if(typeof X!="function"&&(X=F),!n.isIdentifier(N))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var V=n.inheritedDataKeys(L),ue=0;ue<V.length;++ue){var _e=L[V[ue]];V[ue]!=="constructor"&&n.isClass(_e)&&($(_e.prototype,N,H,X,ee),$(_e,N,H,X,ee))}return $(L,N,H,X,ee)}}});var F8e=v((c5r,D8e)=>{"use strict";D8e.exports=function(t,e,r,n){var i=Dr(),s=i.isObject,o=cm(),a;typeof Map=="function"&&(a=Map);var u=(function(){var h=0,p=0;function m(g,y){this[h]=g,this[h+p]=y,h++}return function(y){p=y.size,h=0;var w=new Array(y.size*2);return y.forEach(m,w),w}})(),c=function(h){for(var p=new a,m=h.length/2|0,g=0;g<m;++g){var y=h[m+g],w=h[g];p.set(y,w)}return p};function f(h){var p=!1,m;if(a!==void 0&&h instanceof a)m=u(h),p=!0;else{var g=o.keys(h),y=g.length;m=new Array(y*2);for(var w=0;w<y;++w){var S=g[w];m[w]=h[S],m[w+y]=S}}this.constructor$(m),this._isMap=p,this._init$(void 0,-3)}i.inherits(f,e),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(h,p){this._values[p]=h;var m=++this._totalResolved;if(m>=this._length){var g;if(this._isMap)g=c(this._values);else{g={};for(var y=this.length(),w=0,S=this.length();w<S;++w)g[this._values[w+y]]=this._values[w]}return this._resolve(g),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(h){return h>>1};function d(h){var p,m=r(h);if(s(m))m instanceof t?p=m._then(t.props,void 0,void 0,void 0,void 0):p=new f(m).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return m instanceof t&&p._propagateFrom(m,2),p}t.prototype.props=function(){return d(this)},t.props=function(h){return d(h)}}});var M8e=v((l5r,L8e)=>{"use strict";L8e.exports=function(t,e,r,n){var i=Dr(),s=function(a){return a.then(function(u){return o(u,a)})};function o(a,u){var c=r(a);if(c instanceof t)return s(c);if(a=i.asArray(a),a===null)return n("expecting an array or an iterable object but got "+i.classString(a));var f=new t(e);u!==void 0&&f._propagateFrom(u,3);for(var d=f._fulfill,h=f._reject,p=0,m=a.length;p<m;++p){var g=a[p];g===void 0&&!(p in a)||t.cast(g)._then(d,h,void 0,f,null)}return f}t.race=function(a){return o(a,void 0)},t.prototype.race=function(){return o(this,void 0)}}});var $8e=v((f5r,q8e)=>{"use strict";q8e.exports=function(t,e,r,n,i,s){var o=t._getDomain,a=Dr(),u=a.tryCatch;function c(m,g,y,w){this.constructor$(m);var S=o();this._fn=S===null?g:a.domainBind(S,g),y!==void 0&&(y=t.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,w===i?this._eachValues=Array(this._length):w===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}a.inherits(c,e),c.prototype._gotAccum=function(m){this._eachValues!==void 0&&this._eachValues!==null&&m!==i&&this._eachValues.push(m)},c.prototype._eachComplete=function(m){return this._eachValues!==null&&this._eachValues.push(m),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(m){this._promise._resolveCallback(m),this._values=null},c.prototype._resultCancelled=function(m){if(m===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(m){this._values=m;var g,y,w=m.length;if(this._initialValue!==void 0?(g=this._initialValue,y=0):(g=t.resolve(m[0]),y=1),this._currentCancellable=g,!g.isRejected())for(;y<w;++y){var S={accum:null,value:m[y],index:y,length:w,array:this};g=g._then(h,void 0,void 0,S,void 0)}this._eachValues!==void 0&&(g=g._then(this._eachComplete,void 0,void 0,this,void 0)),g._then(f,f,void 0,g,this)},t.prototype.reduce=function(m,g){return d(this,m,g,null)},t.reduce=function(m,g,y,w){return d(m,g,y,w)};function f(m,g){this.isFulfilled()?g._resolve(m):g._reject(m)}function d(m,g,y,w){if(typeof g!="function")return r("expecting a function but got "+a.classString(g));var S=new c(m,g,y,w);return S.promise()}function h(m){this.accum=m,this.array._gotAccum(m);var g=n(this.value,this.array._promise);return g instanceof t?(this.array._currentCancellable=g,g._then(p,void 0,void 0,this,void 0)):p.call(this,g)}function p(m){var g=this.array,y=g._promise,w=u(g._fn);y._pushContext();var S;g._eachValues!==void 0?S=w.call(y._boundValue(),m,this.index,this.length):S=w.call(y._boundValue(),this.accum,m,this.index,this.length),S instanceof t&&(g._currentCancellable=S);var E=y._popContext();return s.checkForgottenReturns(S,E,g._eachValues!==void 0?"Promise.each":"Promise.reduce",y),S}}});var j8e=v((d5r,U8e)=>{"use strict";U8e.exports=function(t,e,r){var n=t.PromiseInspection,i=Dr();function s(o){this.constructor$(o)}i.inherits(s,e),s.prototype._promiseResolved=function(o,a){this._values[o]=a;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(o,a){var u=new n;return u._bitField=33554432,u._settledValueField=o,this._promiseResolved(a,u)},s.prototype._promiseRejected=function(o,a){var u=new n;return u._bitField=16777216,u._settledValueField=o,this._promiseResolved(a,u)},t.settle=function(o){return r.deprecated(".settle()",".reflect()"),new s(o).promise()},t.prototype.settle=function(){return t.settle(this)}}});var H8e=v((h5r,B8e)=>{"use strict";B8e.exports=function(t,e,r){var n=Dr(),i=el().RangeError,s=el().AggregateError,o=n.isArray,a={};function u(f){this.constructor$(f),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(u,e),u.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var f=o(this._values);!this._isResolved()&&f&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(f){this._howMany=f},u.prototype._promiseFulfilled=function(f){return this._addFulfilled(f),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},u.prototype._promiseRejected=function(f){return this._addRejected(f),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(a),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var f=new s,d=this.length();d<this._values.length;++d)this._values[d]!==a&&f.push(this._values[d]);return f.length>0?this._reject(f):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(f){this._values.push(f)},u.prototype._addFulfilled=function(f){this._values[this._totalResolved++]=f},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(f){var d="Input array must contain at least "+this._howMany+" items but contains only "+f+" items";return new i(d)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(f,d){if((d|0)!==d||d<0)return r(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new u(f),p=h.promise();return h.setHowMany(d),h.init(),p}t.some=function(f,d){return c(f,d)},t.prototype.some=function(f){return c(this,f)},t._SomePromiseArray=u}});var V8e=v((p5r,z8e)=>{"use strict";z8e.exports=function(t,e){var r=t.map;t.prototype.filter=function(n,i){return r(this,n,i,e)},t.filter=function(n,i,s){return r(n,i,s,e)}}});var G8e=v((m5r,W8e)=>{"use strict";W8e.exports=function(t,e){var r=t.reduce,n=t.all;function i(){return n(this)}function s(o,a){return r(o,a,e,e)}t.prototype.each=function(o){return r(this,o,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(o){return r(this,o,e,e)},t.each=function(o,a){return r(o,a,e,0)._then(i,void 0,void 0,o,void 0)},t.mapSeries=s}});var X8e=v((g5r,K8e)=>{"use strict";K8e.exports=function(t){var e=t._SomePromiseArray;function r(n){var i=new e(n),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(n){return r(n)},t.prototype.any=function(){return r(this)}}});var J8e=v((y5r,WQ)=>{"use strict";WQ.exports=function(){var t=function(){return new d(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},e=function(){return new D.PromiseInspection(this._target())},r=function(N){return D.reject(new d(N))};function n(){}var i={},s=Dr(),o;s.isNode?o=function(){var N=process.domain;return N===void 0&&(N=null),N}:o=function(){return null},s.notEnumerableProp(D,"_getDomain",o);var a=cm(),u=H5e(),c=new u;a.defineProperty(D,"_async",{value:c});var f=el(),d=D.TypeError=f.TypeError;D.RangeError=f.RangeError;var h=D.CancellationError=f.CancellationError;D.TimeoutError=f.TimeoutError,D.OperationalError=f.OperationalError,D.RejectionError=f.OperationalError,D.AggregateError=f.AggregateError;var p=function(){},m={},g={},y=K5e()(D,p),w=J5e()(D,p,y,r,n),S=Y5e()(D),E=S.create,b=e8e()(D,S),O=b.CapturedTrace,M=r8e()(D,y),x=i8e()(g),I=BQ(),P=s.errorObj,F=s.tryCatch;function $(N,H){if(typeof H!="function")throw new d("expecting a function but got "+s.classString(H));if(N.constructor!==D)throw new d(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function D(N){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,N!==p&&($(this,N),this._resolveFromExecutor(N)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}D.prototype.toString=function(){return"[object Promise]"},D.prototype.caught=D.prototype.catch=function(N){var H=arguments.length;if(H>1){var X=new Array(H-1),V=0,ue;for(ue=0;ue<H-1;++ue){var _e=arguments[ue];if(s.isObject(_e))X[V++]=_e;else return r("expecting an object but got A catch statement predicate "+s.classString(_e))}return X.length=V,N=arguments[ue],this.then(void 0,x(X,N,this))}return this.then(void 0,N)},D.prototype.reflect=function(){return this._then(e,e,void 0,this,void 0)},D.prototype.then=function(N,H){if(b.warnings()&&arguments.length>0&&typeof N!="function"&&typeof H!="function"){var X=".then() only accepts functions but was passed: "+s.classString(N);arguments.length>1&&(X+=", "+s.classString(H)),this._warn(X)}return this._then(N,H,void 0,void 0,void 0)},D.prototype.done=function(N,H){var X=this._then(N,H,void 0,void 0,void 0);X._setIsFinal()},D.prototype.spread=function(N){return typeof N!="function"?r("expecting a function but got "+s.classString(N)):this.all()._then(N,void 0,void 0,m,void 0)},D.prototype.toJSON=function(){var N={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(N.fulfillmentValue=this.value(),N.isFulfilled=!0):this.isRejected()&&(N.rejectionReason=this.reason(),N.isRejected=!0),N},D.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new w(this).promise()},D.prototype.error=function(N){return this.caught(s.originatesFromRejection,N)},D.getNewLibraryCopy=WQ.exports,D.is=function(N){return N instanceof D},D.fromNode=D.fromCallback=function(N){var H=new D(p);H._captureStackTrace();var X=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,V=F(N)(I(H,X));return V===P&&H._rejectCallback(V.e,!0),H._isFateSealed()||H._setAsyncGuaranteed(),H},D.all=function(N){return new w(N).promise()},D.cast=function(N){var H=y(N);return H instanceof D||(H=new D(p),H._captureStackTrace(),H._setFulfilled(),H._rejectionHandler0=N),H},D.resolve=D.fulfilled=D.cast,D.reject=D.rejected=function(N){var H=new D(p);return H._captureStackTrace(),H._rejectCallback(N,!0),H},D.setScheduler=function(N){if(typeof N!="function")throw new d("expecting a function but got "+s.classString(N));return c.setScheduler(N)},D.prototype._then=function(N,H,X,V,ue){var _e=ue!==void 0,xe=_e?ue:new D(p),De=this._target(),ut=De._bitField;_e||(xe._propagateFrom(this,3),xe._captureStackTrace(),V===void 0&&(this._bitField&2097152)!==0&&((ut&50397184)!==0?V=this._boundValue():V=De===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,xe));var Me=o();if((ut&50397184)!==0){var Tt,Ue,We=De._settlePromiseCtx;(ut&33554432)!==0?(Ue=De._rejectionHandler0,Tt=N):(ut&16777216)!==0?(Ue=De._fulfillmentHandler0,Tt=H,De._unsetRejectionIsUnhandled()):(We=De._settlePromiseLateCancellationObserver,Ue=new h("late cancellation observer"),De._attachExtraTrace(Ue),Tt=H),c.invoke(We,De,{handler:Me===null?Tt:typeof Tt=="function"&&s.domainBind(Me,Tt),promise:xe,receiver:V,value:Ue})}else De._addCallbacks(N,H,xe,V,Me);return xe},D.prototype._length=function(){return this._bitField&65535},D.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},D.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},D.prototype._setLength=function(N){this._bitField=this._bitField&-65536|N&65535},D.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},D.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},D.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},D.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},D.prototype._isFinal=function(){return(this._bitField&4194304)>0},D.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},D.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},D.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},D.prototype._setAsyncGuaranteed=function(){c.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},D.prototype._receiverAt=function(N){var H=N===0?this._receiver0:this[N*4-4+3];if(H!==i)return H===void 0&&this._isBound()?this._boundValue():H},D.prototype._promiseAt=function(N){return this[N*4-4+2]},D.prototype._fulfillmentHandlerAt=function(N){return this[N*4-4+0]},D.prototype._rejectionHandlerAt=function(N){return this[N*4-4+1]},D.prototype._boundValue=function(){},D.prototype._migrateCallback0=function(N){var H=N._bitField,X=N._fulfillmentHandler0,V=N._rejectionHandler0,ue=N._promise0,_e=N._receiverAt(0);_e===void 0&&(_e=i),this._addCallbacks(X,V,ue,_e,null)},D.prototype._migrateCallbackAt=function(N,H){var X=N._fulfillmentHandlerAt(H),V=N._rejectionHandlerAt(H),ue=N._promiseAt(H),_e=N._receiverAt(H);_e===void 0&&(_e=i),this._addCallbacks(X,V,ue,_e,null)},D.prototype._addCallbacks=function(N,H,X,V,ue){var _e=this._length();if(_e>=65531&&(_e=0,this._setLength(0)),_e===0)this._promise0=X,this._receiver0=V,typeof N=="function"&&(this._fulfillmentHandler0=ue===null?N:s.domainBind(ue,N)),typeof H=="function"&&(this._rejectionHandler0=ue===null?H:s.domainBind(ue,H));else{var xe=_e*4-4;this[xe+2]=X,this[xe+3]=V,typeof N=="function"&&(this[xe+0]=ue===null?N:s.domainBind(ue,N)),typeof H=="function"&&(this[xe+1]=ue===null?H:s.domainBind(ue,H))}return this._setLength(_e+1),_e},D.prototype._proxy=function(N,H){this._addCallbacks(void 0,void 0,H,N,null)},D.prototype._resolveCallback=function(N,H){if((this._bitField&117506048)===0){if(N===this)return this._rejectCallback(t(),!1);var X=y(N,this);if(!(X instanceof D))return this._fulfill(N);H&&this._propagateFrom(X,2);var V=X._target();if(V===this){this._reject(t());return}var ue=V._bitField;if((ue&50397184)===0){var _e=this._length();_e>0&&V._migrateCallback0(this);for(var xe=1;xe<_e;++xe)V._migrateCallbackAt(this,xe);this._setFollowing(),this._setLength(0),this._setFollowee(V)}else if((ue&33554432)!==0)this._fulfill(V._value());else if((ue&16777216)!==0)this._reject(V._reason());else{var De=new h("late cancellation observer");V._attachExtraTrace(De),this._reject(De)}}},D.prototype._rejectCallback=function(N,H,X){var V=s.ensureErrorObject(N),ue=V===N;if(!ue&&!X&&b.warnings()){var _e="a promise was rejected with a non-error: "+s.classString(N);this._warn(_e,!0)}this._attachExtraTrace(V,H?ue:!1),this._reject(N)},D.prototype._resolveFromExecutor=function(N){var H=this;this._captureStackTrace(),this._pushContext();var X=!0,V=this._execute(N,function(ue){H._resolveCallback(ue)},function(ue){H._rejectCallback(ue,X)});X=!1,this._popContext(),V!==void 0&&H._rejectCallback(V,!0)},D.prototype._settlePromiseFromHandler=function(N,H,X,V){var ue=V._bitField;if((ue&65536)===0){V._pushContext();var _e;H===m?!X||typeof X.length!="number"?(_e=P,_e.e=new d("cannot .spread() a non-array: "+s.classString(X))):_e=F(N).apply(this._boundValue(),X):_e=F(N).call(H,X);var xe=V._popContext();ue=V._bitField,(ue&65536)===0&&(_e===g?V._reject(X):_e===P?V._rejectCallback(_e.e,!1):(b.checkForgottenReturns(_e,xe,"",V,this),V._resolveCallback(_e)))}},D.prototype._target=function(){for(var N=this;N._isFollowing();)N=N._followee();return N},D.prototype._followee=function(){return this._rejectionHandler0},D.prototype._setFollowee=function(N){this._rejectionHandler0=N},D.prototype._settlePromise=function(N,H,X,V){var ue=N instanceof D,_e=this._bitField,xe=(_e&134217728)!==0;(_e&65536)!==0?(ue&&N._invokeInternalOnCancel(),X instanceof M&&X.isFinallyHandler()?(X.cancelPromise=N,F(H).call(X,V)===P&&N._reject(P.e)):H===e?N._fulfill(e.call(X)):X instanceof n?X._promiseCancelled(N):ue||N instanceof w?N._cancel():X.cancel()):typeof H=="function"?ue?(xe&&N._setAsyncGuaranteed(),this._settlePromiseFromHandler(H,X,V,N)):H.call(X,V,N):X instanceof n?X._isResolved()||((_e&33554432)!==0?X._promiseFulfilled(V,N):X._promiseRejected(V,N)):ue&&(xe&&N._setAsyncGuaranteed(),(_e&33554432)!==0?N._fulfill(V):N._reject(V))},D.prototype._settlePromiseLateCancellationObserver=function(N){var H=N.handler,X=N.promise,V=N.receiver,ue=N.value;typeof H=="function"?X instanceof D?this._settlePromiseFromHandler(H,V,ue,X):H.call(V,ue,X):X instanceof D&&X._reject(ue)},D.prototype._settlePromiseCtx=function(N){this._settlePromise(N.promise,N.handler,N.receiver,N.value)},D.prototype._settlePromise0=function(N,H,X){var V=this._promise0,ue=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(V,N,ue,H)},D.prototype._clearCallbackDataAtIndex=function(N){var H=N*4-4;this[H+2]=this[H+3]=this[H+0]=this[H+1]=void 0},D.prototype._fulfill=function(N){var H=this._bitField;if(!((H&117506048)>>>16)){if(N===this){var X=t();return this._attachExtraTrace(X),this._reject(X)}this._setFulfilled(),this._rejectionHandler0=N,(H&65535)>0&&((H&134217728)!==0?this._settlePromises():c.settlePromises(this))}},D.prototype._reject=function(N){var H=this._bitField;if(!((H&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=N,this._isFinal())return c.fatalError(N,s.isNode);(H&65535)>0?c.settlePromises(this):this._ensurePossibleRejectionHandled()}},D.prototype._fulfillPromises=function(N,H){for(var X=1;X<N;X++){var V=this._fulfillmentHandlerAt(X),ue=this._promiseAt(X),_e=this._receiverAt(X);this._clearCallbackDataAtIndex(X),this._settlePromise(ue,V,_e,H)}},D.prototype._rejectPromises=function(N,H){for(var X=1;X<N;X++){var V=this._rejectionHandlerAt(X),ue=this._promiseAt(X),_e=this._receiverAt(X);this._clearCallbackDataAtIndex(X),this._settlePromise(ue,V,_e,H)}},D.prototype._settlePromises=function(){var N=this._bitField,H=N&65535;if(H>0){if((N&16842752)!==0){var X=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,X,N),this._rejectPromises(H,X)}else{var V=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,V,N),this._fulfillPromises(H,V)}this._setLength(0)}this._clearCancellationData()},D.prototype._settledValue=function(){var N=this._bitField;if((N&33554432)!==0)return this._rejectionHandler0;if((N&16777216)!==0)return this._fulfillmentHandler0};function L(N){this.promise._resolveCallback(N)}function z(N){this.promise._rejectCallback(N,!1)}D.defer=D.pending=function(){b.deprecated("Promise.defer","new Promise");var N=new D(p);return{promise:N,resolve:L,reject:z}},s.notEnumerableProp(D,"_makeSelfResolutionError",t),c8e()(D,p,y,r,b),f8e()(D,p,y,b),h8e()(D,w,r,b),m8e()(D),y8e()(D),v8e()(D,w,y,p,c,o),D.Promise=D,D.version="3.4.7",b8e()(D,w,r,y,p,b),S8e()(D),C8e()(D,r,y,E,p,b),R8e()(D,p,b),P8e()(D,r,p,y,n,b),O8e()(D),N8e()(D,p),F8e()(D,w,y,r),M8e()(D,p,y,r),$8e()(D,w,r,y,p,b),j8e()(D,w,b),H8e()(D,w,r),V8e()(D,p),G8e()(D,p),X8e()(D),s.toFastProperties(D),s.toFastProperties(D.prototype);function ee(N){var H=new D(p);H._fulfillmentHandler0=N,H._rejectionHandler0=N,H._promise0=N,H._receiver0=N}return ee({a:1}),ee({b:2}),ee({c:3}),ee(1),ee(function(){}),ee(void 0),ee(!1),ee(new D(p)),b.setBounds(u.firstLineError,s.lastLineError),D}});var Sd=v((_5r,Y8e)=>{"use strict";var Z8e;typeof Promise<"u"&&(Z8e=Promise);function IEr(){try{Promise===IM&&(Promise=Z8e)}catch{}return IM}var IM=J8e()();IM.noConflict=IEr;Y8e.exports=IM});var O0=v((v5r,Q8e)=>{var I0=require("buffer").Buffer;I0.from===void 0&&(I0.from=function(t,e,r){return new I0(t,e,r)},I0.alloc=I0.from);Q8e.exports=I0});var kM=v((w5r,eWe)=>{var dm=require("stream"),GQ=Sd(),OEr=require("util"),OM=O0(),kEr="function";(!dm.Writable||!dm.Writable.prototype.destroy)&&(dm=Os());function Td(){if(!(this instanceof Td))return new Td;dm.Duplex.call(this,{decodeStrings:!1,objectMode:!0}),this.buffer=OM.from("");var t=this;t.on("finish",function(){t.finished=!0,t.emit("chunk",!1)})}OEr.inherits(Td,dm.Duplex);Td.prototype._write=function(t,e,r){this.buffer=OM.concat([this.buffer,t]),this.cb=r,this.emit("chunk")};Td.prototype.stream=function(t,e){var r=dm.PassThrough(),n,i=this;function s(){if(typeof i.cb===kEr){var a=i.cb;return i.cb=void 0,a()}}function o(){var a;if(i.buffer&&i.buffer.length){if(typeof t=="number")a=i.buffer.slice(0,t),i.buffer=i.buffer.slice(t),t-=a.length,n=!t;else{var u=i.buffer.indexOf(t);if(u!==-1)i.match=u,e&&(u=u+t.length),a=i.buffer.slice(0,u),i.buffer=i.buffer.slice(u),n=!0;else{var c=i.buffer.length-t.length;c<=0?s():(a=i.buffer.slice(0,c),i.buffer=i.buffer.slice(c))}}a&&r.write(a,function(){(i.buffer.length===0||t.length&&i.buffer.length<=t.length)&&s()})}if(n)i.removeListener("chunk",o),r.end();else if(i.finished){i.removeListener("chunk",o),i.emit("error",new Error("FILE_ENDED"));return}}return i.on("chunk",o),o(),r};Td.prototype.pull=function(t,e){if(t===0)return GQ.resolve("");if(!isNaN(t)&&this.buffer.length>t){var r=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),GQ.resolve(r)}var n=OM.from(""),i=this,s=dm.Transform();s._transform=function(u,c,f){n=OM.concat([n,u]),f()};var o,a;return new GQ(function(u,c){if(o=c,a=function(f){i.__emittedError=f,c(f)},i.finished)return c(new Error("FILE_ENDED"));i.once("error",a),i.stream(t,e).on("error",c).pipe(s).on("finish",function(){u(n)}).on("error",c)}).finally(function(){i.removeListener("error",o),i.removeListener("error",a)})};Td.prototype._read=function(){};eWe.exports=Td});var rWe=v((b5r,tWe)=>{var AT=require("stream"),NEr=require("util");(!AT.Writable||!AT.Writable.prototype.destroy)&&(AT=Os());function PT(){if(!(this instanceof PT))return new PT;AT.Transform.call(this)}NEr.inherits(PT,AT.Transform);PT.prototype._transform=function(t,e,r){r()};tWe.exports=PT});var DM=v((E5r,nWe)=>{var DEr=Sd(),NM=require("stream"),FEr=O0();(!NM.Writable||!NM.Writable.prototype.destroy)&&(NM=Os());nWe.exports=function(t){return new DEr(function(e,r){var n=[],i=NM.Transform().on("finish",function(){e(FEr.concat(n))}).on("error",r);i._transform=function(s,o,a){n.push(s),a()},t.on("error",r).pipe(i)})}});var FM=v((S5r,iWe)=>{var LEr=CT();iWe.exports=function(t,e){for(var r;!r&&t&&t.length;){var n=LEr.parse(t).word16lu("signature").word16lu("partsize").word64lu("uncompressedSize").word64lu("compressedSize").word64lu("offset").word64lu("disknum").vars;n.signature===1?r=n:t=t.slice(n.partsize+4)}return r=r||{},e.compressedSize===4294967295&&(e.compressedSize=r.compressedSize),e.uncompressedSize===4294967295&&(e.uncompressedSize=r.uncompressedSize),e.offsetToLocalFileHeader===4294967295&&(e.offsetToLocalFileHeader=r.offset),r}});var LM=v((T5r,sWe)=>{sWe.exports=function(e,r){let n=e&31,i=e>>5&15,s=(e>>9&127)+1980,o=r?(r&31)*2:0,a=r?r>>5&63:0,u=r?r>>11:0;return new Date(Date.UTC(s,i-1,n,u,a,o))}});var MM=v((C5r,cWe)=>{var MEr=require("util"),qEr=require("zlib"),IT=require("stream"),OT=CT(),KQ=Sd(),oWe=kM(),$Er=rWe(),UEr=DM(),jEr=FM(),aWe=O0(),BEr=LM();(!IT.Writable||!IT.Writable.prototype.destroy)&&(IT=Os());var uWe=aWe.alloc(4);uWe.writeUInt32LE(101010256,0);function ka(t){if(!(this instanceof ka))return new ka(t);var e=this;e._opts=t||{verbose:!1},oWe.call(e,e._opts),e.on("finish",function(){e.emit("end"),e.emit("close")}),e._readRecord().catch(function(r){(!e.__emittedError||e.__emittedError!==r)&&e.emit("error",r)})}MEr.inherits(ka,oWe);ka.prototype._readRecord=function(){var t=this;return t.pull(4).then(function(e){if(e.length!==0){var r=e.readUInt32LE(0);if(r===875721283)return t._readCrxHeader();if(r===67324752)return t._readFile();if(r===33639248)return t.reachedCD=!0,t._readCentralDirectoryFileHeader();if(r===101010256)return t._readEndOfCentralDirectoryRecord();if(t.reachedCD){var n=!0;return t.pull(uWe,n).then(function(){return t._readEndOfCentralDirectoryRecord()})}else t.emit("error",new Error("invalid signature: 0x"+r.toString(16)))}})};ka.prototype._readCrxHeader=function(){var t=this;return t.pull(12).then(function(e){return t.crxHeader=OT.parse(e).word32lu("version").word32lu("pubKeyLength").word32lu("signatureLength").vars,t.pull(t.crxHeader.pubKeyLength+t.crxHeader.signatureLength)}).then(function(e){return t.crxHeader.publicKey=e.slice(0,t.crxHeader.pubKeyLength),t.crxHeader.signature=e.slice(t.crxHeader.pubKeyLength),t.emit("crx-header",t.crxHeader),t._readRecord()})};ka.prototype._readFile=function(){var t=this;return t.pull(26).then(function(e){var r=OT.parse(e).word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").vars;return r.lastModifiedDateTime=BEr(r.lastModifiedDate,r.lastModifiedTime),t.crxHeader&&(r.crxHeader=t.crxHeader),t.pull(r.fileNameLength).then(function(n){var i=n.toString("utf8"),s=IT.PassThrough(),o=!1;return s.autodrain=function(){o=!0;var a=s.pipe($Er());return a.promise=function(){return new KQ(function(u,c){a.on("finish",u),a.on("error",c)})},a},s.buffer=function(){return UEr(s)},s.path=i,s.props={},s.props.path=i,s.props.pathBuffer=n,s.props.flags={isUnicode:(r.flags&2048)!=0},s.type=r.uncompressedSize===0&&/[\/\\]$/.test(i)?"Directory":"File",t._opts.verbose&&(s.type==="Directory"?console.log("   creating:",i):s.type==="File"&&(r.compressionMethod===0?console.log(" extracting:",i):console.log("  inflating:",i))),t.pull(r.extraFieldLength).then(function(a){var u=jEr(a,r);s.vars=r,s.extra=u,t._opts.forceStream?t.push(s):(t.emit("entry",s),(t._readableState.pipesCount||t._readableState.pipes&&t._readableState.pipes.length)&&t.push(s)),t._opts.verbose&&console.log({filename:i,vars:r,extra:u});var c=!(r.flags&8)||r.compressedSize>0,f;s.__autodraining=o;var d=r.compressionMethod&&!o?qEr.createInflateRaw():IT.PassThrough();return c?(s.size=r.uncompressedSize,f=r.compressedSize):(f=aWe.alloc(4),f.writeUInt32LE(134695760,0)),new KQ(function(h,p){t.stream(f).pipe(d).on("error",function(m){t.emit("error",m)}).pipe(s).on("finish",function(){return c?t._readRecord().then(h).catch(p):t._processDataDescriptor(s).then(h).catch(p)})})})})})};ka.prototype._processDataDescriptor=function(t){var e=this;return e.pull(16).then(function(r){var n=OT.parse(r).word32lu("dataDescriptorSignature").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").vars;return t.size=n.uncompressedSize,e._readRecord()})};ka.prototype._readCentralDirectoryFileHeader=function(){var t=this;return t.pull(42).then(function(e){var r=OT.parse(e).word16lu("versionMadeBy").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").word16lu("fileCommentLength").word16lu("diskNumber").word16lu("internalFileAttributes").word32lu("externalFileAttributes").word32lu("offsetToLocalFileHeader").vars;return t.pull(r.fileNameLength).then(function(n){return r.fileName=n.toString("utf8"),t.pull(r.extraFieldLength)}).then(function(n){return t.pull(r.fileCommentLength)}).then(function(n){return t._readRecord()})})};ka.prototype._readEndOfCentralDirectoryRecord=function(){var t=this;return t.pull(18).then(function(e){var r=OT.parse(e).word16lu("diskNumber").word16lu("diskStart").word16lu("numberOfRecordsOnDisk").word16lu("numberOfRecords").word32lu("sizeOfCentralDirectory").word32lu("offsetToStartOfCentralDirectory").word16lu("commentLength").vars;return t.pull(r.commentLength).then(function(n){n=n.toString("utf8"),t.end(),t.push(null)})})};ka.prototype.promise=function(){var t=this;return new KQ(function(e,r){t.on("finish",e),t.on("error",r)})};cWe.exports=ka});var ZQ=v((x5r,JQ)=>{"use strict";var XQ=Os();function k0(t,e,r){typeof r>"u"&&(r=e,e=t,t=null),XQ.Duplex.call(this,t),typeof r.read!="function"&&(r=new XQ.Readable(t).wrap(r)),this._writable=e,this._readable=r,this._waiting=!1;var n=this;e.once("finish",function(){n.end()}),this.once("finish",function(){e.end()}),r.on("readable",function(){n._waiting&&(n._waiting=!1,n._read())}),r.once("end",function(){n.push(null)}),(!t||typeof t.bubbleErrors>"u"||t.bubbleErrors)&&(e.on("error",function(i){n.emit("error",i)}),r.on("error",function(i){n.emit("error",i)}))}k0.prototype=Object.create(XQ.Duplex.prototype,{constructor:{value:k0}});k0.prototype._write=function(e,r,n){this._writable.write(e,r,n)};k0.prototype._read=function(){for(var e,r=0;(e=this._readable.read())!==null;)this.push(e),r++;r===0&&(this._waiting=!0)};JQ.exports=function(e,r,n){return new k0(e,r,n)};JQ.exports.DuplexWrapper=k0});var fWe=v((R5r,lWe)=>{var N0=require("stream"),HEr=MM(),zEr=ZQ(),VEr=DM();(!N0.Writable||!N0.Writable.prototype.destroy)&&(N0=Os());function WEr(t,e){var r=N0.PassThrough({objectMode:!0}),n=N0.PassThrough(),i=N0.Transform({objectMode:!0}),s=t instanceof RegExp?t:t&&new RegExp(t),o;i._transform=function(u,c,f){if(o||s&&!s.exec(u.path))return u.autodrain(),f();o=!0,a.emit("entry",u),u.on("error",function(d){n.emit("error",d)}),u.pipe(n).on("error",function(d){f(d)}).on("finish",function(d){f(null,d)})},r.pipe(HEr(e)).on("error",function(u){n.emit("error",u)}).pipe(i).on("error",Object).on("finish",function(){o?n.end():n.emit("error",new Error("PATTERN_NOT_FOUND"))});var a=zEr(r,n);return a.buffer=function(){return VEr(n)},a}lWe.exports=WEr});var qM=v((A5r,hWe)=>{hWe.exports=Cd;var YQ=require("stream").Stream,GEr=jr();function Cd(){YQ.call(this)}GEr(Cd,YQ);Cd.prototype.on=function(t,e){return t==="ready"&&this.ready?process.nextTick(e.bind(this)):YQ.prototype.on.call(this,t,e),this};Cd.prototype.abort=function(){this._aborted=!0,this.emit("abort")};Cd.prototype.destroy=function(){};Cd.prototype.warn=function(t,e){var r=this,n=dWe(t,e,r);r.listeners("warn")?r.emit("warn",n):console.error(`%s %s
path = %s
syscall = %s
fstream_type = %s
fstream_path = %s
fstream_unc_path = %s
fstream_class = %s
fstream_stack =
%s
`,e||"UNKNOWN",n.stack,n.path,n.syscall,n.fstream_type,n.fstream_path,n.fstream_unc_path,n.fstream_class,n.fstream_stack.join(`
`))};Cd.prototype.info=function(t,e){this.emit("info",t,e)};Cd.prototype.error=function(t,e,r){var n=dWe(t,e,this);if(r)throw n;this.emit("error",n)};function dWe(t,e,r){return t instanceof Error||(t=new Error(t)),t.code=t.code||e,t.path=t.path||r.path,t.fstream_type=t.fstream_type||r.type,t.fstream_path=t.fstream_path||r.path,r._path!==r.path&&(t.fstream_unc_path=t.fstream_unc_path||r._path),r.linkpath&&(t.fstream_linkpath=t.fstream_linkpath||r.linkpath),t.fstream_class=t.fstream_class||r.constructor.name,t.fstream_stack=t.fstream_stack||new Error().stack.split(/\n/).slice(3).map(function(n){return n.replace(/^ {4}at /,"")}),t}});var kT=v((P5r,pWe)=>{pWe.exports=KEr;function KEr(t){var e=["Directory","File","SymbolicLink","Link","BlockDevice","CharacterDevice","FIFO","Socket"],r;if(t.type&&e.indexOf(t.type)!==-1)return t[t.type]=!0,t.type;for(var n=0,i=e.length;n<i;n++){r=e[n];var s=t[r]||t["is"+r];if(typeof s=="function"&&(s=s.call(t)),s)return t[r]=!0,t.type=r,r}return null}});var eee=v((I5r,mWe)=>{mWe.exports=NT;var XEr=Ms(),JEr=jr(),QQ=hm();JEr(NT,QQ);function NT(t){var e=this;if(!(e instanceof NT))throw new Error("LinkReader must be called as constructor.");if(!(t.type==="Link"&&t.Link||t.type==="SymbolicLink"&&t.SymbolicLink))throw new Error("Non-link type "+t.type);QQ.call(e,t)}NT.prototype._stat=function(t){var e=this;XEr.readlink(e._path,function(r,n){if(r)return e.error(r);e.linkpath=e.props.linkpath=n,e.emit("linkpath",n),QQ.prototype._stat.call(e,t)})};NT.prototype._read=function(){var t=this;t._paused||t._ended||(t.emit("end"),t.emit("close"),t._ended=!0)}});var ree=v((O5r,_We)=>{_We.exports=zu;var yWe=Ms(),ZEr=jr(),DT=require("path"),tee=hm(),gWe=require("assert").ok;ZEr(zu,tee);function zu(t){var e=this;if(!(e instanceof zu))throw new Error("DirReader must be called as constructor.");if(t.type!=="Directory"||!t.Directory)throw new Error("Non-directory type "+t.type);e.entries=null,e._index=-1,e._paused=!1,e._length=-1,t.sort&&(this.sort=t.sort),tee.call(this,t)}zu.prototype._getEntries=function(){var t=this;t._gotEntries||(t._gotEntries=!0,yWe.readdir(t._path,function(e,r){if(e)return t.error(e);t.entries=r,t.emit("entries",r),t._paused?t.once("resume",n):n();function n(){t._length=t.entries.length,typeof t.sort=="function"&&(t.entries=t.entries.sort(t.sort.bind(t))),t._read()}}))};zu.prototype._read=function(){var t=this;if(!t.entries)return t._getEntries();if(!(t._paused||t._currentEntry||t._aborted)){if(t._index++,t._index>=t.entries.length){t._ended||(t._ended=!0,t.emit("end"),t.emit("close"));return}var e=DT.resolve(t._path,t.entries[t._index]);gWe(e!==t._path),gWe(t.entries[t._index]),t._currentEntry=e,yWe[t.props.follow?"stat":"lstat"](e,function(r,n){if(r)return t.error(r);var i=t._proxy||t;n.path=e,n.basename=DT.basename(e),n.dirname=DT.dirname(e);var s=t.getChildProps.call(i,n);s.path=e,s.basename=DT.basename(e),s.dirname=DT.dirname(e);var o=tee(s,n);t._currentEntry=o,o.on("pause",function(c){!t._paused&&!o._disowned&&t.pause(c)}),o.on("resume",function(c){t._paused&&!o._disowned&&t.resume(c)}),o.on("stat",function(c){t.emit("_entryStat",o,c),!o._aborted&&(o._paused?o.once("resume",function(){t.emit("entryStat",o,c)}):t.emit("entryStat",o,c))}),o.on("ready",function c(){if(t._paused)return o.pause(t),t.once("resume",c);o.type==="Socket"?t.emit("socket",o):t.emitEntry(o)});var a=!1;o.on("close",u),o.on("disown",u);function u(){a||(a=!0,t.emit("childEnd",o),t.emit("entryEnd",o),t._currentEntry=null,t._paused||t._read())}o.on("error",function(c){o._swallowErrors?(t.warn(c),o.emit("end"),o.emit("close")):t.emit("error",c)}),["child","childEnd","warn"].forEach(function(c){o.on(c,t.emit.bind(t,c))})})}};zu.prototype.disown=function(t){t.emit("beforeDisown"),t._disowned=!0,t.parent=t.root=null,t===this._currentEntry&&(this._currentEntry=null),t.emit("disown")};zu.prototype.getChildProps=function(){return{depth:this.depth+1,root:this.root||this,parent:this,follow:this.follow,filter:this.filter,sort:this.props.sort,hardlinks:this.props.hardlinks}};zu.prototype.pause=function(t){var e=this;e._paused||(t=t||e,e._paused=!0,e._currentEntry&&e._currentEntry.pause&&e._currentEntry.pause(t),e.emit("pause",t))};zu.prototype.resume=function(t){var e=this;e._paused&&(t=t||e,e._paused=!1,e.emit("resume",t),!e._paused&&(e._currentEntry?e._currentEntry.resume&&e._currentEntry.resume(t):e._read()))};zu.prototype.emitEntry=function(t){this.emit("entry",t),this.emit("child",t)}});var nee=v((k5r,EWe)=>{EWe.exports=pm;var YEr=Ms(),QEr=jr(),vWe=hm(),wWe={EOF:!0},bWe={CLOSE:!0};QEr(pm,vWe);function pm(t){var e=this;if(!(e instanceof pm))throw new Error("FileReader must be called as constructor.");if(!(t.type==="Link"&&t.Link||t.type==="File"&&t.File))throw new Error("Non-file type "+t.type);e._buffer=[],e._bytesEmitted=0,vWe.call(e,t)}pm.prototype._getStream=function(){var t=this,e=t._stream=YEr.createReadStream(t._path,t.props);t.props.blksize&&(e.bufferSize=t.props.blksize),e.on("open",t.emit.bind(t,"open")),e.on("data",function(r){if(t._bytesEmitted+=r.length,r.length)t._paused||t._buffer.length?(t._buffer.push(r),t._read()):t.emit("data",r);else return}),e.on("end",function(){t._paused||t._buffer.length?(t._buffer.push(wWe),t._read()):t.emit("end"),t._bytesEmitted!==t.props.size&&t.error(`Didn't get expected byte count
expect: `+t.props.size+`
actual: `+t._bytesEmitted)}),e.on("close",function(){t._paused||t._buffer.length?(t._buffer.push(bWe),t._read()):t.emit("close")}),e.on("error",function(r){t.emit("error",r)}),t._read()};pm.prototype._read=function(){var t=this;if(!t._paused){if(!t._stream)return t._getStream();if(t._buffer.length){for(var e=t._buffer,r=0,n=e.length;r<n;r++){var i=e[r];if(i===wWe?t.emit("end"):i===bWe?t.emit("close"):t.emit("data",i),t._paused){t._buffer=e.slice(r);return}}t._buffer.length=0}}};pm.prototype.pause=function(t){var e=this;e._paused||(t=t||e,e._paused=!0,e._stream&&e._stream.pause(),e.emit("pause",t))};pm.prototype.resume=function(t){var e=this;e._paused&&(t=t||e,e.emit("resume",t),e._paused=!1,e._stream&&e._stream.resume(),e._read())}});var CWe=v((N5r,TWe)=>{TWe.exports=$M;var eSr=jr(),SWe=hm();eSr($M,SWe);function $M(t){var e=this;if(!(e instanceof $M))throw new Error("SocketReader must be called as constructor.");if(!(t.type==="Socket"&&t.Socket))throw new Error("Non-socket type "+t.type);SWe.call(e,t)}$M.prototype._read=function(){var t=this;t._paused||t._ended||(t.emit("end"),t.emit("close"),t._ended=!0)}});var see=v((D5r,xWe)=>{xWe.exports=mm;var iee=hm(),tSr=kT(),rSr=jr(),nSr=Ms();rSr(mm,iee);function mm(t){var e=this;if(!(e instanceof mm))throw new Error("ProxyReader must be called as constructor.");e.props=t,e._buffer=[],e.ready=!1,iee.call(e,t)}mm.prototype._stat=function(){var t=this,e=t.props,r=e.follow?"stat":"lstat";nSr[r](e.path,function(n,i){var s;n||!i?s="File":s=tSr(i),e[s]=!0,e.type=t.type=s,t._old=i,t._addProxy(iee(e,i))})};mm.prototype._addProxy=function(t){var e=this;if(e._proxyTarget)return e.error("proxy already set");e._proxyTarget=t,t._proxy=e,["error","data","end","close","linkpath","entry","entryEnd","child","childEnd","warn","stat"].forEach(function(n){t.on(n,e.emit.bind(e,n))}),e.emit("proxy",t),t.on("ready",function(){e.ready=!0,e.emit("ready")});var r=e._buffer;e._buffer.length=0,r.forEach(function(n){t[n[0]].apply(t,n[1])})};mm.prototype.pause=function(){return this._proxyTarget?this._proxyTarget.pause():!1};mm.prototype.resume=function(){return this._proxyTarget?this._proxyTarget.resume():!1}});var hm=v((F5r,PWe)=>{PWe.exports=Na;var iSr=Ms(),sSr=require("stream").Stream,oSr=jr(),oee=require("path"),aee=kT(),UM=Na.hardLinks={},RWe=qM();oSr(Na,RWe);var AWe=eee();function Na(t,e){var r=this;if(!(r instanceof Na))return new Na(t,e);typeof t=="string"&&(t={path:t});var n,i;switch(t.type&&typeof t.type=="function"?(n=t.type,i=n):(n=aee(t),i=Na),e&&!n&&(n=aee(e),t[n]=!0,t.type=n),n){case"Directory":i=ree();break;case"Link":case"File":i=nee();break;case"SymbolicLink":i=AWe;break;case"Socket":i=CWe();break;case null:i=see();break}if(!(r instanceof i))return new i(t);RWe.call(r),t.path||r.error("Must provide a path",null,!0),r.readable=!0,r.writable=!1,r.type=n,r.props=t,r.depth=t.depth=t.depth||0,r.parent=t.parent||null,r.root=t.root||t.parent&&t.parent.root||r,r._path=r.path=oee.resolve(t.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=t.basename=oee.basename(r.path),r.dirname=t.dirname=oee.dirname(r.path),t.parent=t.root=null,r.size=t.size,r.filter=typeof t.filter=="function"?t.filter:null,t.sort==="alpha"&&(t.sort=aSr),r._stat(e)}function aSr(t,e){return t===e?0:t.toLowerCase()>e.toLowerCase()?1:t.toLowerCase()<e.toLowerCase()?-1:t>e?1:-1}Na.prototype._stat=function(t){var e=this,r=e.props,n=r.follow?"stat":"lstat";t?process.nextTick(i.bind(null,null,t)):iSr[n](e._path,i);function i(s,o){if(s)return e.error(s);if(Object.keys(o).forEach(function(p){r[p]=o[p]}),e.size!==void 0&&r.size!==e.size)return e.error("incorrect size");e.size=r.size;var a=aee(r),u=r.hardlinks!==!1;if(u&&a!=="Directory"&&r.nlink&&r.nlink>1){var c=r.dev+":"+r.ino;UM[c]===e._path||!UM[c]?UM[c]=e._path:(a=e.type=e.props.type="Link",e.Link=e.props.Link=!0,e.linkpath=e.props.linkpath=UM[c],e._stat=e._read=AWe.prototype._read)}if(e.type&&e.type!==a&&e.error("Unexpected type: "+a),e.filter){var f=e._proxy||e;if(!e.filter.call(f,f,r)){e._disowned||(e.abort(),e.emit("end"),e.emit("close"));return}}var d=["_stat","stat","ready"],h=0;(function p(){if(e._aborted){e.emit("end"),e.emit("close");return}if(e._paused&&e.type!=="Directory"){e.once("resume",p);return}var m=d[h++];if(!m)return e._read();e.emit(m,r),p()})()}};Na.prototype.pipe=function(t){var e=this;return typeof t.add=="function"&&e.on("entry",function(r){var n=t.add(r);n===!1&&e.pause()}),sSr.prototype.pipe.apply(this,arguments)};Na.prototype.pause=function(t){this._paused=!0,t=t||this,this.emit("pause",t),this._stream&&this._stream.pause(t)};Na.prototype.resume=function(t){this._paused=!1,t=t||this,this.emit("resume",t),this._stream&&this._stream.resume(t),this._read()};Na.prototype._read=function(){this.error("Cannot read unknown type: "+this.type)}});var fee=v((L5r,MWe)=>{MWe.exports=lee;lee.sync=LWe;var gr=require("assert"),NWe=require("path"),IWe=require("fs"),D0=void 0;try{D0=mT()}catch{}var DWe=parseInt("666",8),uSr={nosort:!0,silent:!0},uee=0,FT=process.platform==="win32";function FWe(t){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];if(e.forEach(function(r){t[r]=t[r]||IWe[r],r=r+"Sync",t[r]=t[r]||IWe[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&D0===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||uSr}function lee(t,e,r){typeof e=="function"&&(r=e,e={}),gr(t,"rimraf: missing path"),gr.equal(typeof t,"string","rimraf: path should be a string"),gr.equal(typeof r,"function","rimraf: callback function required"),gr(e,"rimraf: invalid options argument provided"),gr.equal(typeof e,"object","rimraf: options should be object"),FWe(e);var n=0,i=null,s=0;if(e.disableGlob||!D0.hasMagic(t))return a(null,[t]);e.lstat(t,function(u,c){if(!u)return a(null,[t]);D0(t,e.glob,a)});function o(u){i=i||u,--s===0&&r(i)}function a(u,c){if(u)return r(u);if(s=c.length,s===0)return r();c.forEach(function(f){cee(f,e,function d(h){if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&n<e.maxBusyTries){n++;var p=n*100;return setTimeout(function(){cee(f,e,d)},p)}if(h.code==="EMFILE"&&uee<e.emfileWait)return setTimeout(function(){cee(f,e,d)},uee++);h.code==="ENOENT"&&(h=null)}uee=0,o(h)})})}}function cee(t,e,r){gr(t),gr(e),gr(typeof r=="function"),e.lstat(t,function(n,i){if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&FT&&OWe(t,e,n,r),i&&i.isDirectory())return jM(t,e,n,r);e.unlink(t,function(s){if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return FT?OWe(t,e,s,r):jM(t,e,s,r);if(s.code==="EISDIR")return jM(t,e,s,r)}return r(s)})})}function OWe(t,e,r,n){gr(t),gr(e),gr(typeof n=="function"),r&&gr(r instanceof Error),e.chmod(t,DWe,function(i){i?n(i.code==="ENOENT"?null:r):e.stat(t,function(s,o){s?n(s.code==="ENOENT"?null:r):o.isDirectory()?jM(t,e,r,n):e.unlink(t,n)})})}function kWe(t,e,r){gr(t),gr(e),r&&gr(r instanceof Error);try{e.chmodSync(t,DWe)}catch(i){if(i.code==="ENOENT")return;throw r}try{var n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?BM(t,e,r):e.unlinkSync(t)}function jM(t,e,r,n){gr(t),gr(e),r&&gr(r instanceof Error),gr(typeof n=="function"),e.rmdir(t,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?cSr(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function cSr(t,e,r){gr(t),gr(e),gr(typeof r=="function"),e.readdir(t,function(n,i){if(n)return r(n);var s=i.length;if(s===0)return e.rmdir(t,r);var o;i.forEach(function(a){lee(NWe.join(t,a),e,function(u){if(!o){if(u)return r(o=u);--s===0&&e.rmdir(t,r)}})})})}function LWe(t,e){e=e||{},FWe(e),gr(t,"rimraf: missing path"),gr.equal(typeof t,"string","rimraf: path should be a string"),gr(e,"rimraf: missing options"),gr.equal(typeof e,"object","rimraf: options should be object");var r;if(e.disableGlob||!D0.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=D0.sync(t,e.glob)}if(r.length)for(var n=0;n<r.length;n++){var t=r[n];try{var i=e.lstatSync(t)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&FT&&kWe(t,e,o)}try{i&&i.isDirectory()?BM(t,e,null):e.unlinkSync(t)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return FT?kWe(t,e,o):BM(t,e,o);if(o.code!=="EISDIR")throw o;BM(t,e,o)}}}function BM(t,e,r){gr(t),gr(e),r&&gr(r instanceof Error);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&lSr(t,e)}}function lSr(t,e){gr(t),gr(e),e.readdirSync(t).forEach(function(o){LWe(NWe.join(t,o),e)});var r=FT?100:1,n=0;do{var i=!0;try{var s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)}});var dee=v((M5r,UWe)=>{var LT=require("path"),qWe=require("fs"),$We=parseInt("0777",8);UWe.exports=F0.mkdirp=F0.mkdirP=F0;function F0(t,e,r,n){typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var i=e.mode,s=e.fs||qWe;i===void 0&&(i=$We),n||(n=null);var o=r||function(){};t=LT.resolve(t),s.mkdir(t,i,function(a){if(!a)return n=n||t,o(null,n);switch(a.code){case"ENOENT":if(LT.dirname(t)===t)return o(a);F0(LT.dirname(t),e,function(u,c){u?o(u,c):F0(t,e,o,c)});break;default:s.stat(t,function(u,c){u||!c.isDirectory()?o(a,n):o(null,n)});break}})}F0.sync=function t(e,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,s=r.fs||qWe;i===void 0&&(i=$We),n||(n=null),e=LT.resolve(e);try{s.mkdirSync(e,i),n=n||e}catch(a){switch(a.code){case"ENOENT":n=t(LT.dirname(e),r,n),t(e,r,n);break;default:var o;try{o=s.statSync(e)}catch{throw a}if(!o.isDirectory())throw a;break}}return n}});var HM=v((q5r,jWe)=>{jWe.exports=hee;function hee(t){if(t._collected)return;if(t._paused)return t.on("resume",hee.bind(null,t));t._collected=!0,t.pause(),t.on("data",r),t.on("end",r);var e=[];function r(o){typeof o=="string"&&(o=new Buffer(o)),!(Buffer.isBuffer(o)&&!o.length)&&e.push(o)}t.on("entry",i);var n=[];function i(o){hee(o),n.push(o)}t.on("proxy",s);function s(o){o.pause()}t.pipe=(function(o){return function(a){var u=0;(function f(){var d=n[u++];if(!d)return c();d.on("end",f),a?a.add(d):t.emit("entry",d)})();function c(){t.removeListener("entry",i),t.removeListener("data",r),t.removeListener("end",r),t.pipe=o,a&&t.pipe(a),e.forEach(function(f){f?t.emit("data",f):t.emit("end")}),t.resume()}return a}})(t.pipe)}});var pee=v(($5r,HWe)=>{HWe.exports=xd;var zM=L0(),fSr=jr(),dSr=dee(),BWe=require("path"),hSr=HM();fSr(xd,zM);function xd(t){var e=this;e instanceof xd||e.error("DirWriter must be called as constructor.",null,!0),(t.type!=="Directory"||!t.Directory)&&e.error("Non-directory type "+t.type+" "+JSON.stringify(t),null,!0),zM.call(this,t)}xd.prototype._create=function(){var t=this;dSr(t._path,zM.dirmode,function(e){if(e)return t.error(e);t.ready=!0,t.emit("ready"),t._process()})};xd.prototype.write=function(){return!0};xd.prototype.end=function(){this._ended=!0,this._process()};xd.prototype.add=function(t){var e=this;return hSr(t),!e.ready||e._currentEntry?(e._buffer.push(t),!1):e._ended?e.error("add after end"):(e._buffer.push(t),e._process(),this._buffer.length===0)};xd.prototype._process=function(){var t=this;if(t._processing)return;var e=t._buffer.shift();if(!e){t.emit("drain"),t._ended&&t._finish();return}t._processing=!0,t.emit("entry",e);var r=e,n;do{if(n=r._path||r.path,n===t.root._path||n===t._path||n&&n.indexOf(t._path)===0)return t._processing=!1,e._collected&&e.pipe(),t._process();r=r.parent}while(r);var i={parent:t,root:t.root||t,type:e.type,depth:t.depth+1};n=e._path||e.path||e.props.path,e.parent&&(n=n.substr(e.parent._path.length+1)),i.path=BWe.join(t.path,BWe.join("/",n)),i.filter=t.filter,Object.keys(e.props).forEach(function(u){i.hasOwnProperty(u)||(i[u]=e.props[u])});var s=t._currentChild=new zM(i);s.on("ready",function(){e.pipe(s),e.resume()}),s.on("error",function(u){s._swallowErrors?(t.warn(u),s.emit("end"),s.emit("close")):t.emit("error",u)}),s.on("close",a);var o=!1;function a(){o||(o=!0,t._currentChild=null,t._processing=!1,t._process())}}});var mee=v((U5r,KWe)=>{KWe.exports=MT;var VWe=Ms(),WWe=L0(),pSr=jr(),mSr=require("path"),gSr=fee();pSr(MT,WWe);function MT(t){var e=this;if(!(e instanceof MT))throw new Error("LinkWriter must be called as constructor.");if(!(t.type==="Link"&&t.Link||t.type==="SymbolicLink"&&t.SymbolicLink))throw new Error("Non-link type "+t.type);t.linkpath===""&&(t.linkpath="."),t.linkpath||e.error("Need linkpath property to create "+t.type),WWe.call(this,t)}MT.prototype._create=function(){var t=this,e=t.type==="Link"||process.platform==="win32",r=e?"link":"symlink",n=e?mSr.resolve(t.dirname,t.linkpath):t.linkpath;if(e)return zWe(t,n,r);VWe.readlink(t._path,function(i,s){if(s&&s===n)return GWe(t);zWe(t,n,r)})};function zWe(t,e,r){gSr(t._path,function(n){if(n)return t.error(n);ySr(t,e,r)})}function ySr(t,e,r){VWe[r](e,t._path,function(n){if(n)if((n.code==="ENOENT"||n.code==="EACCES"||n.code==="EPERM")&&process.platform==="win32")t.ready=!0,t.emit("ready"),t.emit("end"),t.emit("close"),t.end=t._finish=function(){};else return t.error(n);GWe(t)})}function GWe(t){t.ready=!0,t.emit("ready"),t._ended&&!t._finished&&t._finish()}MT.prototype.end=function(){this._ended=!0,this.ready&&(this._finished=!0,this._finish())}});var gee=v((j5r,JWe)=>{JWe.exports=gm;var _Sr=Ms(),VM=L0(),vSr=jr(),XWe={};vSr(gm,VM);function gm(t){var e=this;if(!(e instanceof gm))throw new Error("FileWriter must be called as constructor.");if(t.type!=="File"||!t.File)throw new Error("Non-file type "+t.type);e._buffer=[],e._bytesWritten=0,VM.call(this,t)}gm.prototype._create=function(){var t=this;if(!t._stream){var e={};t.props.flags&&(e.flags=t.props.flags),e.mode=VM.filemode,t._old&&t._old.blksize&&(e.bufferSize=t._old.blksize),t._stream=_Sr.createWriteStream(t._path,e),t._stream.on("open",function(){t.ready=!0,t._buffer.forEach(function(r){r===XWe?t._stream.end():t._stream.write(r)}),t.emit("ready"),t.emit("drain")}),t._stream.on("error",function(r){t.emit("error",r)}),t._stream.on("drain",function(){t.emit("drain")}),t._stream.on("close",function(){t._finish()})}};gm.prototype.write=function(t){var e=this;if(e._bytesWritten+=t.length,!e.ready){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new Error("invalid write data");return e._buffer.push(t),!1}var r=e._stream.write(t);return r===!1&&e._stream._queue?e._stream._queue.length<=2:r};gm.prototype.end=function(t){var e=this;return t&&e.write(t),e.ready?e._stream.end():(e._buffer.push(XWe),!1)};gm.prototype._finish=function(){var t=this;typeof t.size=="number"&&t._bytesWritten!==t.size&&t.error(`Did not get expected byte count.
expect: `+t.size+`
actual: `+t._bytesWritten),VM.prototype._finish.call(t)}});var _ee=v((B5r,ZWe)=>{ZWe.exports=Rd;var yee=L0(),wSr=kT(),bSr=jr(),ESr=HM(),SSr=require("fs");bSr(Rd,yee);function Rd(t){var e=this;if(!(e instanceof Rd))throw new Error("ProxyWriter must be called as constructor.");e.props=t,e._needDrain=!1,yee.call(e,t)}Rd.prototype._stat=function(){var t=this,e=t.props,r=e.follow?"stat":"lstat";SSr[r](e.path,function(n,i){var s;n||!i?s="File":s=wSr(i),e[s]=!0,e.type=t.type=s,t._old=i,t._addProxy(yee(e,i))})};Rd.prototype._addProxy=function(t){var e=this;if(e._proxy)return e.error("proxy already set");e._proxy=t,["ready","error","close","pipe","drain","warn"].forEach(function(n){t.on(n,e.emit.bind(e,n))}),e.emit("proxy",t);var r=e._buffer;r.forEach(function(n){t[n[0]].apply(t,n[1])}),e._buffer.length=0,e._needsDrain&&e.emit("drain")};Rd.prototype.add=function(t){return ESr(t),this._proxy?this._proxy.add(t):(this._buffer.push(["add",[t]]),this._needDrain=!0,!1)};Rd.prototype.write=function(t){return this._proxy?this._proxy.write(t):(this._buffer.push(["write",[t]]),this._needDrain=!0,!1)};Rd.prototype.end=function(t){return this._proxy?this._proxy.end(t):(this._buffer.push(["end",[t]]),!1)}});var L0=v((H5r,o9e)=>{o9e.exports=Xo;var Ko=Ms(),TSr=jr(),CSr=fee(),xSr=dee(),qT=require("path"),QWe=process.platform==="win32"?0:process.umask(),e9e=kT(),t9e=qM();TSr(Xo,t9e);Xo.dirmode=parseInt("0777",8)&~QWe;Xo.filemode=parseInt("0666",8)&~QWe;var RSr=pee(),ASr=mee(),PSr=gee(),ISr=_ee();function Xo(t,e){var r=this;typeof t=="string"&&(t={path:t});var n=e9e(t),i=Xo;switch(n){case"Directory":i=RSr;break;case"File":i=PSr;break;case"Link":case"SymbolicLink":i=ASr;break;case null:default:i=ISr;break}if(!(r instanceof i))return new i(t);t9e.call(r),t.path||r.error("Must provide a path",null,!0),r.type=t.type,r.props=t,r.depth=t.depth||0,r.clobber=t.clobber===!1?t.clobber:!0,r.parent=t.parent||null,r.root=t.root||t.parent&&t.parent.root||r,r._path=r.path=qT.resolve(t.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=qT.basename(t.path),r.dirname=qT.dirname(t.path),r.linkpath=t.linkpath||null,t.parent=t.root=null,r.size=t.size,typeof t.mode=="string"&&(t.mode=parseInt(t.mode,8)),r.readable=!1,r.writable=!0,r._buffer=[],r.ready=!1,r.filter=typeof t.filter=="function"?t.filter:null,r._stat(e)}Xo.prototype._create=function(){var t=this;Ko[t.props.follow?"stat":"lstat"](t._path,function(e){if(e)return t.warn("Cannot create "+t._path+`
Unsupported type: `+t.type,"ENOTSUP");t._finish()})};Xo.prototype._stat=function(t){var e=this,r=e.props,n=r.follow?"stat":"lstat",i=e._proxy||e;t?s(null,t):Ko[n](e._path,s);function s(o,a){if(e.filter&&!e.filter.call(i,i,a)){e._aborted=!0,e.emit("end"),e.emit("close");return}if(o||!a)return vee(e);e._old=a;var u=e9e(a);if(u!==e.type||e.type==="File"&&a.nlink>1)return CSr(e._path,function(c){if(c)return e.error(c);e._old=null,vee(e)});vee(e)}};function vee(t){xSr(qT.dirname(t._path),Xo.dirmode,function(e,r){return e?t.error(e):(t._madeDir=r,t._create())})}function r9e(t,e,r,n,i){var s=e.mode,o=e.follow||t.type!=="SymbolicLink"?"chmod":"lchmod";if(!Ko[o]||typeof s!="number")return i();var a=r.mode&parseInt("0777",8);if(s=s&parseInt("0777",8),s===a)return i();Ko[o](n,s,i)}function n9e(t,e,r,n,i){if(process.platform==="win32"||!process.getuid||process.getuid()!==0||typeof e.uid!="number"&&typeof e.gid!="number"||r.uid===e.uid&&r.gid===e.gid)return i();var s=t.props.follow||t.type!=="SymbolicLink"?"chown":"lchown";if(!Ko[s])return i();typeof e.uid!="number"&&(e.uid=r.uid),typeof e.gid!="number"&&(e.gid=r.gid),Ko[s](n,e.uid,e.gid,i)}function i9e(t,e,r,n,i){if(!Ko.utimes||process.platform==="win32")return i();var s=e.follow||t.type!=="SymbolicLink"?"utimes":"lutimes";if(s==="lutimes"&&!Ko[s]&&(s="utimes"),!Ko[s])return i();var o=r.atime,a=r.mtime,u=e.atime,c=e.mtime;if(u===void 0&&(u=o),c===void 0&&(c=a),YWe(u)||(u=new Date(u)),YWe(c)||(u=new Date(c)),u.getTime()===o.getTime()&&c.getTime()===a.getTime())return i();Ko[s](n,u,c,i)}Xo.prototype._finish=function(){var t=this;if(t._finishing)return;t._finishing=!0;var e=0,r=null,n=!1;if(t._old)t._old.atime=new Date(0),t._old.mtime=new Date(0),s(t._old);else{var i=t.props.follow?"stat":"lstat";Ko[i](t._path,function(a,u){if(a)if(a.code==="ENOENT"&&(t.type==="Link"||t.type==="SymbolicLink")&&process.platform==="win32"){t.ready=!0,t.emit("ready"),t.emit("end"),t.emit("close"),t.end=t._finish=function(){};return}else return t.error(a);s(t._old=u)})}return;function s(a){e+=3,r9e(t,t.props,a,t._path,o("chmod")),n9e(t,t.props,a,t._path,o("chown")),i9e(t,t.props,a,t._path,o("utimes"))}function o(a){return function(u){if(r)return;if(u)return u.fstream_finish_call=a,t.error(r=u);if(--e>0||n)return;if(n=!0,t._madeDir)s9e(t,t._path,c);else return c();function c(f){if(f)return f.fstream_finish_call="setupMadeDir",t.error(f);t.emit("end"),t.emit("close")}}}};function s9e(t,e,r){var n=t._madeDir,i=qT.dirname(e);OSr(t,i,function(s){if(s)return r(s);if(i===n)return r();s9e(t,i,r)})}function OSr(t,e,r){var n={};Object.keys(t.props).forEach(function(a){n[a]=t.props[a],a==="mode"&&t.type!=="Directory"&&(n[a]=n[a]|parseInt("0111",8))});var i=3,s=null;Ko.stat(e,function(a,u){if(a)return r(s=a);r9e(t,n,u,e,o),n9e(t,n,u,e,o),i9e(t,n,u,e,o)});function o(a){if(!s){if(a)return r(s=a);if(--i===0)return r()}}}Xo.prototype.pipe=function(){this.error("Can't pipe from writable stream")};Xo.prototype.add=function(){this.error("Can't add to non-Directory type")};Xo.prototype.write=function(){return!0};function kSr(t){return Object.prototype.toString.call(t)}function YWe(t){return typeof t=="object"&&kSr(t)==="[object Date]"}});var wee=v(nr=>{nr.Abstract=qM();nr.Reader=hm();nr.Writer=L0();nr.File={Reader:nee(),Writer:gee()};nr.Dir={Reader:ree(),Writer:pee()};nr.Link={Reader:eee(),Writer:mee()};nr.Proxy={Reader:see(),Writer:_ee()};nr.Reader.Dir=nr.DirReader=nr.Dir.Reader;nr.Reader.File=nr.FileReader=nr.File.Reader;nr.Reader.Link=nr.LinkReader=nr.Link.Reader;nr.Reader.Proxy=nr.ProxyReader=nr.Proxy.Reader;nr.Writer.Dir=nr.DirWriter=nr.Dir.Writer;nr.Writer.File=nr.FileWriter=nr.File.Writer;nr.Writer.Link=nr.LinkWriter=nr.Link.Writer;nr.Writer.Proxy=nr.ProxyWriter=nr.Proxy.Writer;nr.collect=HM()});var u9e=v((V5r,a9e)=>{a9e.exports=qSr;var NSr=MM(),DSr=wee().Writer,bee=require("path"),FSr=require("stream"),LSr=ZQ(),MSr=Sd();function qSr(t){t.path=bee.resolve(bee.normalize(t.path));var e=new NSr(t),r=new FSr.Writable({objectMode:!0});r._write=function(i,s,o){if(i.type=="Directory")return o();var a=bee.join(t.path,i.path);if(a.indexOf(t.path)!=0)return o();let u=t.getWriter?t.getWriter({path:a}):DSr({path:a});i.pipe(u).on("error",o).on("close",o)};var n=LSr(e,r);return e.once("crx-header",function(i){n.crxHeader=i}),e.pipe(r).on("finish",function(){n.emit("close")}),n.promise=function(){return new MSr(function(i,s){n.on("close",i),n.on("error",s)})},n}});var c9e=v((W5r,WM)=>{var Un=(function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=h(n),s="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function a(C,k,U,K){return typeof C>"u"?a[0]:typeof k<"u"?+k==10&&!U?$e(C):je(C,k,U,K):$e(C)}function u(C,k){this.value=C,this.sign=k,this.isSmall=!1}u.prototype=Object.create(a.prototype);function c(C){this.value=C,this.sign=C<0,this.isSmall=!0}c.prototype=Object.create(a.prototype);function f(C){this.value=C}f.prototype=Object.create(a.prototype);function d(C){return-n<C&&C<n}function h(C){return C<1e7?[C]:C<1e14?[C%1e7,Math.floor(C/1e7)]:[C%1e7,Math.floor(C/1e7)%1e7,Math.floor(C/1e14)]}function p(C){m(C);var k=C.length;if(k<4&&X(C,i)<0)switch(k){case 0:return 0;case 1:return C[0];case 2:return C[0]+C[1]*e;default:return C[0]+(C[1]+C[2]*e)*e}return C}function m(C){for(var k=C.length;C[--k]===0;);C.length=k+1}function g(C){for(var k=new Array(C),U=-1;++U<C;)k[U]=0;return k}function y(C){return C>0?Math.floor(C):Math.ceil(C)}function w(C,k){var U=C.length,K=k.length,le=new Array(U),Y=0,ce=e,he,de;for(de=0;de<K;de++)he=C[de]+k[de]+Y,Y=he>=ce?1:0,le[de]=he-Y*ce;for(;de<U;)he=C[de]+Y,Y=he===ce?1:0,le[de++]=he-Y*ce;return Y>0&&le.push(Y),le}function S(C,k){return C.length>=k.length?w(C,k):w(k,C)}function E(C,k){var U=C.length,K=new Array(U),le=e,Y,ce;for(ce=0;ce<U;ce++)Y=C[ce]-le+k,k=Math.floor(Y/le),K[ce]=Y-k*le,k+=1;for(;k>0;)K[ce++]=k%le,k=Math.floor(k/le);return K}u.prototype.add=function(C){var k=$e(C);if(this.sign!==k.sign)return this.subtract(k.negate());var U=this.value,K=k.value;return k.isSmall?new u(E(U,Math.abs(K)),this.sign):new u(S(U,K),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(C){var k=$e(C),U=this.value;if(U<0!==k.sign)return this.subtract(k.negate());var K=k.value;if(k.isSmall){if(d(U+K))return new c(U+K);K=h(Math.abs(K))}return new u(E(K,Math.abs(U)),U<0)},c.prototype.plus=c.prototype.add,f.prototype.add=function(C){return new f(this.value+$e(C).value)},f.prototype.plus=f.prototype.add;function b(C,k){var U=C.length,K=k.length,le=new Array(U),Y=0,ce=e,he,de;for(he=0;he<K;he++)de=C[he]-Y-k[he],de<0?(de+=ce,Y=1):Y=0,le[he]=de;for(he=K;he<U;he++){if(de=C[he]-Y,de<0)de+=ce;else{le[he++]=de;break}le[he]=de}for(;he<U;he++)le[he]=C[he];return m(le),le}function O(C,k,U){var K;return X(C,k)>=0?K=b(C,k):(K=b(k,C),U=!U),K=p(K),typeof K=="number"?(U&&(K=-K),new c(K)):new u(K,U)}function M(C,k,U){var K=C.length,le=new Array(K),Y=-k,ce=e,he,de;for(he=0;he<K;he++)de=C[he]+Y,Y=Math.floor(de/ce),de%=ce,le[he]=de<0?de+ce:de;return le=p(le),typeof le=="number"?(U&&(le=-le),new c(le)):new u(le,U)}u.prototype.subtract=function(C){var k=$e(C);if(this.sign!==k.sign)return this.add(k.negate());var U=this.value,K=k.value;return k.isSmall?M(U,Math.abs(K),this.sign):O(U,K,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(C){var k=$e(C),U=this.value;if(U<0!==k.sign)return this.add(k.negate());var K=k.value;return k.isSmall?new c(U-K):M(K,Math.abs(U),U>=0)},c.prototype.minus=c.prototype.subtract,f.prototype.subtract=function(C){return new f(this.value-$e(C).value)},f.prototype.minus=f.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var C=this.sign,k=new c(-this.value);return k.sign=!C,k},f.prototype.negate=function(){return new f(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},f.prototype.abs=function(){return new f(this.value>=0?this.value:-this.value)};function x(C,k){var U=C.length,K=k.length,le=U+K,Y=g(le),ce=e,he,de,qe,yt,R;for(qe=0;qe<U;++qe){yt=C[qe];for(var A=0;A<K;++A)R=k[A],he=yt*R+Y[qe+A],de=Math.floor(he/ce),Y[qe+A]=he-de*ce,Y[qe+A+1]+=de}return m(Y),Y}function I(C,k){var U=C.length,K=new Array(U),le=e,Y=0,ce,he;for(he=0;he<U;he++)ce=C[he]*k+Y,Y=Math.floor(ce/le),K[he]=ce-Y*le;for(;Y>0;)K[he++]=Y%le,Y=Math.floor(Y/le);return K}function P(C,k){for(var U=[];k-- >0;)U.push(0);return U.concat(C)}function F(C,k){var U=Math.max(C.length,k.length);if(U<=30)return x(C,k);U=Math.ceil(U/2);var K=C.slice(U),le=C.slice(0,U),Y=k.slice(U),ce=k.slice(0,U),he=F(le,ce),de=F(K,Y),qe=F(S(le,K),S(ce,Y)),yt=S(S(he,P(b(b(qe,he),de),U)),P(de,2*U));return m(yt),yt}function $(C,k){return-.012*C-.012*k+15e-6*C*k>0}u.prototype.multiply=function(C){var k=$e(C),U=this.value,K=k.value,le=this.sign!==k.sign,Y;if(k.isSmall){if(K===0)return a[0];if(K===1)return this;if(K===-1)return this.negate();if(Y=Math.abs(K),Y<e)return new u(I(U,Y),le);K=h(Y)}return $(U.length,K.length)?new u(F(U,K),le):new u(x(U,K),le)},u.prototype.times=u.prototype.multiply;function D(C,k,U){return C<e?new u(I(k,C),U):new u(x(k,h(C)),U)}c.prototype._multiplyBySmall=function(C){return d(C.value*this.value)?new c(C.value*this.value):D(Math.abs(C.value),h(Math.abs(this.value)),this.sign!==C.sign)},u.prototype._multiplyBySmall=function(C){return C.value===0?a[0]:C.value===1?this:C.value===-1?this.negate():D(Math.abs(C.value),this.value,this.sign!==C.sign)},c.prototype.multiply=function(C){return $e(C)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,f.prototype.multiply=function(C){return new f(this.value*$e(C).value)},f.prototype.times=f.prototype.multiply;function L(C){var k=C.length,U=g(k+k),K=e,le,Y,ce,he,de;for(ce=0;ce<k;ce++){he=C[ce],Y=0-he*he;for(var qe=ce;qe<k;qe++)de=C[qe],le=2*(he*de)+U[ce+qe]+Y,Y=Math.floor(le/K),U[ce+qe]=le-Y*K;U[ce+k]=Y}return m(U),U}u.prototype.square=function(){return new u(L(this.value),!1)},c.prototype.square=function(){var C=this.value*this.value;return d(C)?new c(C):new u(L(h(Math.abs(this.value))),!1)},f.prototype.square=function(C){return new f(this.value*this.value)};function z(C,k){var U=C.length,K=k.length,le=e,Y=g(k.length),ce=k[K-1],he=Math.ceil(le/(2*ce)),de=I(C,he),qe=I(k,he),yt,R,A,W,Q,Z,ne;for(de.length<=U&&de.push(0),qe.push(0),ce=qe[K-1],R=U-K;R>=0;R--){for(yt=le-1,de[R+K]!==ce&&(yt=Math.floor((de[R+K]*le+de[R+K-1])/ce)),A=0,W=0,Z=qe.length,Q=0;Q<Z;Q++)A+=yt*qe[Q],ne=Math.floor(A/le),W+=de[R+Q]-(A-ne*le),A=ne,W<0?(de[R+Q]=W+le,W=-1):(de[R+Q]=W,W=0);for(;W!==0;){for(yt-=1,A=0,Q=0;Q<Z;Q++)A+=de[R+Q]-le+qe[Q],A<0?(de[R+Q]=A+le,A=0):(de[R+Q]=A,A=1);W+=A}Y[R]=yt}return de=N(de,he)[0],[p(Y),p(de)]}function ee(C,k){for(var U=C.length,K=k.length,le=[],Y=[],ce=e,he,de,qe,yt,R;U;){if(Y.unshift(C[--U]),m(Y),X(Y,k)<0){le.push(0);continue}de=Y.length,qe=Y[de-1]*ce+Y[de-2],yt=k[K-1]*ce+k[K-2],de>K&&(qe=(qe+1)*ce),he=Math.ceil(qe/yt);do{if(R=I(k,he),X(R,Y)<=0)break;he--}while(he);le.push(he),Y=b(Y,R)}return le.reverse(),[p(le),p(Y)]}function N(C,k){var U=C.length,K=g(U),le=e,Y,ce,he,de;for(he=0,Y=U-1;Y>=0;--Y)de=he*le+C[Y],ce=y(de/k),he=de-ce*k,K[Y]=ce|0;return[K,he|0]}function H(C,k){var U,K=$e(k);if(o)return[new f(C.value/K.value),new f(C.value%K.value)];var le=C.value,Y=K.value,ce;if(Y===0)throw new Error("Cannot divide by zero");if(C.isSmall)return K.isSmall?[new c(y(le/Y)),new c(le%Y)]:[a[0],C];if(K.isSmall){if(Y===1)return[C,a[0]];if(Y==-1)return[C.negate(),a[0]];var he=Math.abs(Y);if(he<e){U=N(le,he),ce=p(U[0]);var de=U[1];return C.sign&&(de=-de),typeof ce=="number"?(C.sign!==K.sign&&(ce=-ce),[new c(ce),new c(de)]):[new u(ce,C.sign!==K.sign),new c(de)]}Y=h(he)}var qe=X(le,Y);if(qe===-1)return[a[0],C];if(qe===0)return[a[C.sign===K.sign?1:-1],a[0]];le.length+Y.length<=200?U=z(le,Y):U=ee(le,Y),ce=U[0];var yt=C.sign!==K.sign,R=U[1],A=C.sign;return typeof ce=="number"?(yt&&(ce=-ce),ce=new c(ce)):ce=new u(ce,yt),typeof R=="number"?(A&&(R=-R),R=new c(R)):R=new u(R,A),[ce,R]}u.prototype.divmod=function(C){var k=H(this,C);return{quotient:k[0],remainder:k[1]}},f.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(C){return H(this,C)[0]},f.prototype.over=f.prototype.divide=function(C){return new f(this.value/$e(C).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(C){return H(this,C)[1]},f.prototype.mod=f.prototype.remainder=function(C){return new f(this.value%$e(C).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(C){var k=$e(C),U=this.value,K=k.value,le,Y,ce;if(K===0)return a[1];if(U===0)return a[0];if(U===1)return a[1];if(U===-1)return k.isEven()?a[1]:a[-1];if(k.sign)return a[0];if(!k.isSmall)throw new Error("The exponent "+k.toString()+" is too large.");if(this.isSmall&&d(le=Math.pow(U,K)))return new c(y(le));for(Y=this,ce=a[1];K&!0&&(ce=ce.times(Y),--K),K!==0;)K/=2,Y=Y.square();return ce},c.prototype.pow=u.prototype.pow,f.prototype.pow=function(C){var k=$e(C),U=this.value,K=k.value,le=BigInt(0),Y=BigInt(1),ce=BigInt(2);if(K===le)return a[1];if(U===le)return a[0];if(U===Y)return a[1];if(U===BigInt(-1))return k.isEven()?a[1]:a[-1];if(k.isNegative())return new f(le);for(var he=this,de=a[1];(K&Y)===Y&&(de=de.times(he),--K),K!==le;)K/=ce,he=he.square();return de},u.prototype.modPow=function(C,k){if(C=$e(C),k=$e(k),k.isZero())throw new Error("Cannot take modPow with modulus 0");var U=a[1],K=this.mod(k);for(C.isNegative()&&(C=C.multiply(a[-1]),K=K.modInv(k));C.isPositive();){if(K.isZero())return a[0];C.isOdd()&&(U=U.multiply(K).mod(k)),C=C.divide(2),K=K.square().mod(k)}return U},f.prototype.modPow=c.prototype.modPow=u.prototype.modPow;function X(C,k){if(C.length!==k.length)return C.length>k.length?1:-1;for(var U=C.length-1;U>=0;U--)if(C[U]!==k[U])return C[U]>k[U]?1:-1;return 0}u.prototype.compareAbs=function(C){var k=$e(C),U=this.value,K=k.value;return k.isSmall?1:X(U,K)},c.prototype.compareAbs=function(C){var k=$e(C),U=Math.abs(this.value),K=k.value;return k.isSmall?(K=Math.abs(K),U===K?0:U>K?1:-1):-1},f.prototype.compareAbs=function(C){var k=this.value,U=$e(C).value;return k=k>=0?k:-k,U=U>=0?U:-U,k===U?0:k>U?1:-1},u.prototype.compare=function(C){if(C===1/0)return-1;if(C===-1/0)return 1;var k=$e(C),U=this.value,K=k.value;return this.sign!==k.sign?k.sign?1:-1:k.isSmall?this.sign?-1:1:X(U,K)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(C){if(C===1/0)return-1;if(C===-1/0)return 1;var k=$e(C),U=this.value,K=k.value;return k.isSmall?U==K?0:U>K?1:-1:U<0!==k.sign?U<0?-1:1:U<0?1:-1},c.prototype.compareTo=c.prototype.compare,f.prototype.compare=function(C){if(C===1/0)return-1;if(C===-1/0)return 1;var k=this.value,U=$e(C).value;return k===U?0:k>U?1:-1},f.prototype.compareTo=f.prototype.compare,u.prototype.equals=function(C){return this.compare(C)===0},f.prototype.eq=f.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(C){return this.compare(C)!==0},f.prototype.neq=f.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(C){return this.compare(C)>0},f.prototype.gt=f.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(C){return this.compare(C)<0},f.prototype.lt=f.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(C){return this.compare(C)>=0},f.prototype.geq=f.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(C){return this.compare(C)<=0},f.prototype.leq=f.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},f.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},f.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},f.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},f.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},f.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},f.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(C){var k=$e(C);return k.isZero()?!1:k.isUnit()?!0:k.compareAbs(2)===0?this.isEven():this.mod(k).isZero()},f.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function V(C){var k=C.abs();if(k.isUnit())return!1;if(k.equals(2)||k.equals(3)||k.equals(5))return!0;if(k.isEven()||k.isDivisibleBy(3)||k.isDivisibleBy(5))return!1;if(k.lesser(49))return!0}function ue(C,k){for(var U=C.prev(),K=U,le=0,Y,ce,he,de;K.isEven();)K=K.divide(2),le++;e:for(he=0;he<k.length;he++)if(!C.lesser(k[he])&&(de=Un(k[he]).modPow(K,C),!(de.isUnit()||de.equals(U)))){for(Y=le-1;Y!=0;Y--){if(de=de.square().mod(C),de.isUnit())return!1;if(de.equals(U))continue e}return!1}return!0}u.prototype.isPrime=function(C){var k=V(this);if(k!==t)return k;var U=this.abs(),K=U.bitLength();if(K<=64)return ue(U,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var le=Math.log(2)*K.toJSNumber(),Y=Math.ceil(C===!0?2*Math.pow(le,2):le),ce=[],he=0;he<Y;he++)ce.push(Un(he+2));return ue(U,ce)},f.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(C,k){var U=V(this);if(U!==t)return U;for(var K=this.abs(),le=C===t?5:C,Y=[],ce=0;ce<le;ce++)Y.push(Un.randBetween(2,K.minus(2),k));return ue(K,Y)},f.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(C){for(var k=Un.zero,U=Un.one,K=$e(C),le=this.abs(),Y,ce,he;!le.isZero();)Y=K.divide(le),ce=k,he=K,k=U,K=le,U=ce.subtract(Y.multiply(U)),le=he.subtract(Y.multiply(le));if(!K.isUnit())throw new Error(this.toString()+" and "+C.toString()+" are not co-prime");return k.compare(0)===-1&&(k=k.add(C)),this.isNegative()?k.negate():k},f.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var C=this.value;return this.sign?M(C,1,this.sign):new u(E(C,1),this.sign)},c.prototype.next=function(){var C=this.value;return C+1<n?new c(C+1):new u(i,!1)},f.prototype.next=function(){return new f(this.value+BigInt(1))},u.prototype.prev=function(){var C=this.value;return this.sign?new u(E(C,1),!0):M(C,1,this.sign)},c.prototype.prev=function(){var C=this.value;return C-1>-n?new c(C-1):new u(i,!0)},f.prototype.prev=function(){return new f(this.value-BigInt(1))};for(var _e=[1];2*_e[_e.length-1]<=e;)_e.push(2*_e[_e.length-1]);var xe=_e.length,De=_e[xe-1];function ut(C){return Math.abs(C)<=e}u.prototype.shiftLeft=function(C){var k=$e(C).toJSNumber();if(!ut(k))throw new Error(String(k)+" is too large for shifting.");if(k<0)return this.shiftRight(-k);var U=this;if(U.isZero())return U;for(;k>=xe;)U=U.multiply(De),k-=xe-1;return U.multiply(_e[k])},f.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(C){var k,U=$e(C).toJSNumber();if(!ut(U))throw new Error(String(U)+" is too large for shifting.");if(U<0)return this.shiftLeft(-U);for(var K=this;U>=xe;){if(K.isZero()||K.isNegative()&&K.isUnit())return K;k=H(K,De),K=k[1].isNegative()?k[0].prev():k[0],U-=xe-1}return k=H(K,_e[U]),k[1].isNegative()?k[0].prev():k[0]},f.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight;function Me(C,k,U){k=$e(k);for(var K=C.isNegative(),le=k.isNegative(),Y=K?C.not():C,ce=le?k.not():k,he=0,de=0,qe=null,yt=null,R=[];!Y.isZero()||!ce.isZero();)qe=H(Y,De),he=qe[1].toJSNumber(),K&&(he=De-1-he),yt=H(ce,De),de=yt[1].toJSNumber(),le&&(de=De-1-de),Y=qe[0],ce=yt[0],R.push(U(he,de));for(var A=U(K?1:0,le?1:0)!==0?Un(-1):Un(0),W=R.length-1;W>=0;W-=1)A=A.multiply(De).add(Un(R[W]));return A}u.prototype.not=function(){return this.negate().prev()},f.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(C){return Me(this,C,function(k,U){return k&U})},f.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(C){return Me(this,C,function(k,U){return k|U})},f.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(C){return Me(this,C,function(k,U){return k^U})},f.prototype.xor=c.prototype.xor=u.prototype.xor;var Tt=1<<30,Ue=(e&-e)*(e&-e)|Tt;function We(C){var k=C.value,U=typeof k=="number"?k|Tt:typeof k=="bigint"?k|BigInt(Tt):k[0]+k[1]*e|Ue;return U&-U}function kt(C,k){if(k.compareTo(C)<=0){var U=kt(C,k.square(k)),K=U.p,le=U.e,Y=K.multiply(k);return Y.compareTo(C)<=0?{p:Y,e:le*2+1}:{p:K,e:le*2}}return{p:Un(1),e:0}}u.prototype.bitLength=function(){var C=this;return C.compareTo(Un(0))<0&&(C=C.negate().subtract(Un(1))),C.compareTo(Un(0))===0?Un(0):Un(kt(C,Un(2)).e).add(Un(1))},f.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;function dt(C,k){return C=$e(C),k=$e(k),C.greater(k)?C:k}function st(C,k){return C=$e(C),k=$e(k),C.lesser(k)?C:k}function se(C,k){if(C=$e(C).abs(),k=$e(k).abs(),C.equals(k))return C;if(C.isZero())return k;if(k.isZero())return C;for(var U=a[1],K,le;C.isEven()&&k.isEven();)K=st(We(C),We(k)),C=C.divide(K),k=k.divide(K),U=U.multiply(K);for(;C.isEven();)C=C.divide(We(C));do{for(;k.isEven();)k=k.divide(We(k));C.greater(k)&&(le=k,k=C,C=le),k=k.subtract(C)}while(!k.isZero());return U.isUnit()?C:C.multiply(U)}function Se(C,k){return C=$e(C).abs(),k=$e(k).abs(),C.divide(se(C,k)).multiply(k)}function Ne(C,k,U){C=$e(C),k=$e(k);var K=U||Math.random,le=st(C,k),Y=dt(C,k),ce=Y.subtract(le).add(1);if(ce.isSmall)return le.add(Math.floor(K()*ce));for(var he=xt(ce,e).value,de=[],qe=!0,yt=0;yt<he.length;yt++){var R=qe?he[yt]+(yt+1<he.length?he[yt+1]/e:0):e,A=y(K()*R);de.push(A),A<he[yt]&&(qe=!1)}return le.add(a.fromArray(de,e,!1))}var je=function(C,k,U,K){U=U||s,C=String(C),K||(C=C.toLowerCase(),U=U.toLowerCase());var le=C.length,Y,ce=Math.abs(k),he={};for(Y=0;Y<U.length;Y++)he[U[Y]]=Y;for(Y=0;Y<le;Y++){var de=C[Y];if(de!=="-"&&de in he&&he[de]>=ce){if(de==="1"&&ce===1)continue;throw new Error(de+" is not a valid digit in base "+k+".")}}k=$e(k);var qe=[],yt=C[0]==="-";for(Y=yt?1:0;Y<C.length;Y++){var de=C[Y];if(de in he)qe.push($e(he[de]));else if(de==="<"){var R=Y;do Y++;while(C[Y]!==">"&&Y<C.length);qe.push($e(C.slice(R+1,Y)))}else throw new Error(de+" is not a valid character")}return ht(qe,k,yt)};function ht(C,k,U){var K=a[0],le=a[1],Y;for(Y=C.length-1;Y>=0;Y--)K=K.add(C[Y].times(le)),le=le.times(k);return U?K.negate():K}function Ve(C,k){return k=k||s,C<k.length?k[C]:"<"+C+">"}function xt(C,k){if(k=Un(k),k.isZero()){if(C.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(k.equals(-1)){if(C.isZero())return{value:[0],isNegative:!1};if(C.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-C.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var U=Array.apply(null,Array(C.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return U.unshift([1]),{value:[].concat.apply([],U),isNegative:!1}}var K=!1;if(C.isNegative()&&k.isPositive()&&(K=!0,C=C.abs()),k.isUnit())return C.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(C.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:K};for(var le=[],Y=C,ce;Y.isNegative()||Y.compareAbs(k)>=0;){ce=Y.divmod(k),Y=ce.quotient;var he=ce.remainder;he.isNegative()&&(he=k.minus(he).abs(),Y=Y.next()),le.push(he.toJSNumber())}return le.push(Y.toJSNumber()),{value:le.reverse(),isNegative:K}}function jn(C,k,U){var K=xt(C,k);return(K.isNegative?"-":"")+K.value.map(function(le){return Ve(le,U)}).join("")}u.prototype.toArray=function(C){return xt(this,C)},c.prototype.toArray=function(C){return xt(this,C)},f.prototype.toArray=function(C){return xt(this,C)},u.prototype.toString=function(C,k){if(C===t&&(C=10),C!==10||k)return jn(this,C,k);for(var U=this.value,K=U.length,le=String(U[--K]),Y="0000000",ce;--K>=0;)ce=String(U[K]),le+=Y.slice(ce.length)+ce;var he=this.sign?"-":"";return he+le},c.prototype.toString=function(C,k){return C===t&&(C=10),C!=10||k?jn(this,C,k):String(this.value)},f.prototype.toString=c.prototype.toString,f.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,f.prototype.valueOf=f.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function zt(C){if(d(+C)){var k=+C;if(k===y(k))return o?new f(BigInt(k)):new c(k);throw new Error("Invalid integer: "+C)}var U=C[0]==="-";U&&(C=C.slice(1));var K=C.split(/e/i);if(K.length>2)throw new Error("Invalid integer: "+K.join("e"));if(K.length===2){var le=K[1];if(le[0]==="+"&&(le=le.slice(1)),le=+le,le!==y(le)||!d(le))throw new Error("Invalid integer: "+le+" is not a valid exponent.");var Y=K[0],ce=Y.indexOf(".");if(ce>=0&&(le-=Y.length-ce-1,Y=Y.slice(0,ce)+Y.slice(ce+1)),le<0)throw new Error("Cannot include negative exponent part for integers");Y+=new Array(le+1).join("0"),C=Y}var he=/^([0-9][0-9]*)$/.test(C);if(!he)throw new Error("Invalid integer: "+C);if(o)return new f(BigInt(U?"-"+C:C));for(var de=[],qe=C.length,yt=r,R=qe-yt;qe>0;)de.push(+C.slice(R,qe)),R-=yt,R<0&&(R=0),qe-=yt;return m(de),new u(de,U)}function vn(C){if(o)return new f(BigInt(C));if(d(C)){if(C!==y(C))throw new Error(C+" is not an integer.");return new c(C)}return zt(C.toString())}function $e(C){return typeof C=="number"?vn(C):typeof C=="string"?zt(C):typeof C=="bigint"?new f(C):C}for(var re=0;re<1e3;re++)a[re]=$e(re),re>0&&(a[-re]=$e(-re));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=dt,a.min=st,a.gcd=se,a.lcm=Se,a.isInstance=function(C){return C instanceof u||C instanceof c||C instanceof f},a.randBetween=Ne,a.fromArray=function(C,k,U){return ht(C.map($e),$e(k||10),U)},a})();typeof WM<"u"&&WM.hasOwnProperty("exports")&&(WM.exports=Un);typeof define=="function"&&define.amd&&define(function(){return Un})});var d9e=v((G5r,f9e)=>{var Ad=c9e(),GM=require("stream");(!GM.Writable||!GM.Writable.prototype.destroy)&&(GM=Os());var KM;function $Sr(){var t=3988292384,e,r,n;for(KM=[],r=0;r<256;r++){for(e=r,n=0;n<8;n++)e=e&1?t^e>>>1:e=e>>>1;KM[r]=e>>>0}}function l9e(t,e){return KM||$Sr(),t.charCodeAt&&(t=t.charCodeAt(0)),Ad(e).shiftRight(8).and(16777215).xor(KM[Ad(e).xor(t).and(255)]).value}function M0(){if(!(this instanceof M0))return new M0;this.key0=305419896,this.key1=591751049,this.key2=878082192}M0.prototype.update=function(t){this.key0=l9e(t,this.key0),this.key1=Ad(this.key0).and(255).and(4294967295).add(this.key1),this.key1=Ad(this.key1).multiply(134775813).add(1).and(4294967295).value,this.key2=l9e(Ad(this.key1).shiftRight(24).and(255),this.key2)};M0.prototype.decryptByte=function(t){var e=Ad(this.key2).or(2);return t=t^Ad(e).multiply(Ad(e^1)).shiftRight(8).and(255),this.update(t),t};M0.prototype.stream=function(){var t=GM.Transform(),e=this;return t._transform=function(r,n,i){for(var s=0;s<r.length;s++)r[s]=e.decryptByte(r[s]);this.push(r),i()},t};f9e.exports=M0});var p9e=v((K5r,h9e)=>{var USr=Sd(),jSr=d9e(),BSr=kM(),$T=require("stream"),HSr=CT(),zSr=require("zlib"),VSr=FM(),WSr=O0(),GSr=LM();(!$T.Writable||!$T.Writable.prototype.destroy)&&($T=Os());h9e.exports=function(e,r,n,i){var s=BSr(),o=$T.PassThrough(),a=e.stream(r);return a.pipe(s).on("error",function(u){o.emit("error",u)}),o.vars=s.pull(30).then(function(u){var c=HSr.parse(u).word32lu("signature").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").vars;return c.lastModifiedDateTime=GSr(c.lastModifiedDate,c.lastModifiedTime),s.pull(c.fileNameLength).then(function(f){return c.fileName=f.toString("utf8"),s.pull(c.extraFieldLength)}).then(function(f){var d;return c.extra=VSr(f,c),i&&i.compressedSize&&(c=i),c.flags&1&&(d=s.pull(12).then(function(h){if(!n)throw new Error("MISSING_PASSWORD");var p=jSr();String(n).split("").forEach(function(y){p.update(y)});for(var m=0;m<h.length;m++)h[m]=p.decryptByte(h[m]);c.decrypt=p,c.compressedSize-=12;var g=c.flags&8?c.lastModifiedTime>>8&255:c.crc32>>24&255;if(h[11]!==g)throw new Error("BAD_PASSWORD");return c})),USr.resolve(d).then(function(){return o.emit("vars",c),c})})}),o.vars.then(function(u){var c=!(u.flags&8)||u.compressedSize>0,f,d=u.compressionMethod?zSr.createInflateRaw():$T.PassThrough();c?(o.size=u.uncompressedSize,f=u.compressedSize):(f=WSr.alloc(4),f.writeUInt32LE(134695760,0));var h=s.stream(f);u.decrypt&&(h=h.pipe(u.decrypt.stream())),h.pipe(d).on("error",function(p){o.emit("error",p)}).pipe(o).on("finish",function(){a.destroy?a.destroy():a.abort?a.abort():a.close?a.close():a.push?a.push():console.log("warning - unable to close stream")})}).catch(function(u){o.emit("error",u)}),o}});var y9e=v((X5r,g9e)=>{var BT=CT(),jT=kM(),KSr=p9e(),UT=Sd(),XSr=DM(),JSr=FM(),ZSr=O0(),Eee=require("path"),YSr=wee().Writer,QSr=LM(),m9e=ZSr.alloc(4);m9e.writeUInt32LE(101010256,0);function eTr(t){var e=t.stream(0).pipe(jT());return e.pull(4).then(function(r){var n=r.readUInt32LE(0);if(n===875721283){var i;return e.pull(12).then(function(s){i=BT.parse(s).word32lu("version").word32lu("pubKeyLength").word32lu("signatureLength").vars}).then(function(){return e.pull(i.pubKeyLength+i.signatureLength)}).then(function(s){return i.publicKey=s.slice(0,i.pubKeyLength),i.signature=s.slice(i.pubKeyLength),i.size=16+i.pubKeyLength+i.signatureLength,i})}})}function tTr(t,e){var r=BT.parse(e).word32lu("signature").word32lu("diskNumber").word64lu("offsetToStartOfCentralDirectory").word32lu("numberOfDisks").vars;if(r.signature!=117853008)throw new Error("invalid zip64 end of central dir locator signature (0x07064b50): 0x"+r.signature.toString(16));var n=jT();return t.stream(r.offsetToStartOfCentralDirectory).pipe(n),n.pull(56)}function rTr(t){var e=BT.parse(t).word32lu("signature").word64lu("sizeOfCentralDirectory").word16lu("version").word16lu("versionsNeededToExtract").word32lu("diskNumber").word32lu("diskStart").word64lu("numberOfRecordsOnDisk").word64lu("numberOfRecords").word64lu("sizeOfCentralDirectory").word64lu("offsetToStartOfCentralDirectory").vars;if(e.signature!=101075792)throw new Error("invalid zip64 end of central dir locator signature (0x06064b50): 0x0"+e.signature.toString(16));return e}g9e.exports=function(e,r){var n=jT(),i=jT(),s=r&&r.tailSize||80,o,a,u,c;return r&&r.crx&&(a=eTr(e)),e.size().then(function(f){return o=f,e.stream(Math.max(0,f-s)).on("error",function(d){n.emit("error",d)}).pipe(n),n.pull(m9e)}).then(function(){return UT.props({directory:n.pull(22),crxHeader:a})}).then(function(f){var d=f.directory;if(u=f.crxHeader&&f.crxHeader.size||0,c=BT.parse(d).word32lu("signature").word16lu("diskNumber").word16lu("diskStart").word16lu("numberOfRecordsOnDisk").word16lu("numberOfRecords").word32lu("sizeOfCentralDirectory").word32lu("offsetToStartOfCentralDirectory").word16lu("commentLength").vars,c.numberOfRecords==65535||c.numberOfRecords==65535||c.offsetToStartOfCentralDirectory==4294967295){let p=o-(s-n.match+20),m=jT();return e.stream(p).pipe(m),m.pull(20).then(function(g){return tTr(e,g)}).then(function(g){c=rTr(g)})}else c.offsetToStartOfCentralDirectory+=u}).then(function(){if(c.commentLength)return n.pull(c.commentLength).then(function(f){c.comment=f.toString("utf8")})}).then(function(){return e.stream(c.offsetToStartOfCentralDirectory).pipe(i),c.extract=function(f){if(!f||!f.path)throw new Error("PATH_MISSING");return f.path=Eee.resolve(Eee.normalize(f.path)),c.files.then(function(d){return UT.map(d,function(h){if(h.type!="Directory"){var p=Eee.join(f.path,h.path);if(p.indexOf(f.path)==0){var m=f.getWriter?f.getWriter({path:p}):YSr({path:p});return new UT(function(g,y){h.stream(f.password).on("error",y).pipe(m).on("close",g).on("error",y)})}}},{concurrency:f.concurrency>1?f.concurrency:1})})},c.files=UT.mapSeries(Array(c.numberOfRecords),function(){return i.pull(46).then(function(f){var d=BT.parse(f).word32lu("signature").word16lu("versionMadeBy").word16lu("versionsNeededToExtract").word16lu("flags").word16lu("compressionMethod").word16lu("lastModifiedTime").word16lu("lastModifiedDate").word32lu("crc32").word32lu("compressedSize").word32lu("uncompressedSize").word16lu("fileNameLength").word16lu("extraFieldLength").word16lu("fileCommentLength").word16lu("diskNumber").word16lu("internalFileAttributes").word32lu("externalFileAttributes").word32lu("offsetToLocalFileHeader").vars;return d.offsetToLocalFileHeader+=u,d.lastModifiedDateTime=QSr(d.lastModifiedDate,d.lastModifiedTime),i.pull(d.fileNameLength).then(function(h){return d.pathBuffer=h,d.path=h.toString("utf8"),d.isUnicode=(d.flags&2048)!=0,i.pull(d.extraFieldLength)}).then(function(h){return d.extra=JSr(h,d),i.pull(d.fileCommentLength)}).then(function(h){return d.comment=h,d.type=d.uncompressedSize===0&&/[\/\\]$/.test(d.path)?"Directory":"File",d.stream=function(p){return KSr(e,d.offsetToLocalFileHeader,p,d)},d.buffer=function(p){return XSr(d.stream(p))},d})})}),UT.props(c)})}});var w9e=v((J5r,v9e)=>{var _9e=Ms(),XM=Sd(),HT=y9e(),JM=require("stream");(!JM.Writable||!JM.Writable.prototype.destroy)&&(JM=Os());v9e.exports={buffer:function(t,e){var r={stream:function(n,i){var s=JM.PassThrough();return s.end(t.slice(n,i)),s},size:function(){return XM.resolve(t.length)}};return HT(r,e)},file:function(t,e){var r={stream:function(n,i){return _9e.createReadStream(t,{start:n,end:i&&n+i})},size:function(){return new XM(function(n,i){_9e.stat(t,function(s,o){s?i(s):n(o.size)})})}};return HT(r,e)},url:function(t,e,r){if(typeof e=="string"&&(e={url:e}),!e.url)throw"URL missing";e.headers=e.headers||{};var n={stream:function(i,s){var o=Object.create(e);return o.headers=Object.create(e.headers),o.headers.range="bytes="+i+"-"+(s||""),t(o)},size:function(){return new XM(function(i,s){var o=t(e);o.on("response",function(a){o.abort(),a.headers["content-length"]?i(a.headers["content-length"]):s(new Error("Missing content length header"))}).on("error",s)})}};return HT(n,r)},s3:function(t,e,r){var n={size:function(){return new XM(function(i,s){t.headObject(e,function(o,a){o?s(o):i(a.ContentLength)})})},stream:function(i,s){var o={};for(var a in e)o[a]=e[a];return o.Range="bytes="+i+"-"+(s||""),t.getObject(o).createReadStream()}};return HT(n,r)},custom:function(t,e){return HT(t,e)}}});var b9e=v(zT=>{"use strict";r5e();o5e();y9();zT.Parse=MM();zT.ParseOne=fWe();zT.Extract=u9e();zT.Open=w9e()});var $9e=v((Y5r,tl)=>{var Pr=require("fs"),YM=require("os"),_i=require("path"),E9e=require("crypto"),Vu={fs:Pr.constants,os:YM.constants},S9e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",R9e=/XXXXXX/,nTr=3,A9e=(Vu.O_CREAT||Vu.fs.O_CREAT)|(Vu.O_EXCL||Vu.fs.O_EXCL)|(Vu.O_RDWR||Vu.fs.O_RDWR),iTr=YM.platform()==="win32",sTr=Vu.EBADF||Vu.os.errno.EBADF,oTr=Vu.ENOENT||Vu.os.errno.ENOENT,P9e=448,I9e=384,aTr="exit",q0=[],O9e=Pr.rmdirSync.bind(Pr),k9e=!1;function uTr(t,e){return Pr.rm(t,{recursive:!0},e)}function N9e(t){return Pr.rmSync(t,{recursive:!0})}function Cee(t,e){let r=$0(t,e),n=r[0],i=r[1];_Tr(n,function(s,o){if(s)return i(s);let a=o.tries;(function u(){try{let c=F9e(o);Pr.stat(c,function(f){if(!f)return a-- >0?u():i(new Error("Could not get a unique tmp filename, max tries reached "+c));i(null,c)})}catch(c){i(c)}})()})}function xee(t){let e=$0(t),r=e[0],n=vTr(r),i=n.tries;do{let s=F9e(n);try{Pr.statSync(s)}catch{return s}}while(i-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function cTr(t,e){let r=$0(t,e),n=r[0],i=r[1];Cee(n,function(o,a){if(o)return i(o);Pr.open(a,A9e,n.mode||I9e,function(c,f){if(c)return i(c);if(n.discardDescriptor)return Pr.close(f,function(h){return i(h,a,void 0,See(a,-1,n,!1))});{let d=n.discardDescriptor||n.detachDescriptor;i(null,a,f,See(a,d?-1:f,n,!1))}})})}function lTr(t){let e=$0(t),r=e[0],n=r.discardDescriptor||r.detachDescriptor,i=xee(r),s=Pr.openSync(i,A9e,r.mode||I9e);return r.discardDescriptor&&(Pr.closeSync(s),s=void 0),{name:i,fd:s,removeCallback:See(i,n?-1:s,r,!0)}}function fTr(t,e){let r=$0(t,e),n=r[0],i=r[1];Cee(n,function(o,a){if(o)return i(o);Pr.mkdir(a,n.mode||P9e,function(c){if(c)return i(c);i(null,a,D9e(a,n,!1))})})}function dTr(t){let e=$0(t),r=e[0],n=xee(r);return Pr.mkdirSync(n,r.mode||P9e),{name:n,removeCallback:D9e(n,r,!0)}}function hTr(t,e){let r=function(n){if(n&&!Tee(n))return e(n);e()};0<=t[0]?Pr.close(t[0],function(){Pr.unlink(t[1],r)}):Pr.unlink(t[1],r)}function pTr(t){let e=null;try{0<=t[0]&&Pr.closeSync(t[0])}catch(r){if(!wTr(r)&&!Tee(r))throw r}finally{try{Pr.unlinkSync(t[1])}catch(r){Tee(r)||(e=r)}}if(e!==null)throw e}function See(t,e,r,n){let i=ZM(pTr,[e,t],n),s=ZM(hTr,[e,t],n,i);return r.keep||q0.unshift(i),n?i:s}function D9e(t,e,r){let n=e.unsafeCleanup?uTr:Pr.rmdir.bind(Pr),i=e.unsafeCleanup?N9e:O9e,s=ZM(i,t,r),o=ZM(n,t,r,s);return e.keep||q0.unshift(s),r?s:o}function ZM(t,e,r,n){let i=!1;return function s(o){if(!i){let a=n||s,u=q0.indexOf(a);return u>=0&&q0.splice(u,1),i=!0,r||t===O9e||t===N9e?t(e):t(e,o||function(){})}}}function mTr(){if(k9e)for(;q0.length;)try{q0[0]()}catch{}}function T9e(t){let e=[],r=null;try{r=E9e.randomBytes(t)}catch{r=E9e.pseudoRandomBytes(t)}for(let n=0;n<t;n++)e.push(S9e[r[n]%S9e.length]);return e.join("")}function io(t){return typeof t>"u"}function $0(t,e){if(typeof t=="function")return[{},t];if(io(t))return[{},e];let r={};for(let n of Object.getOwnPropertyNames(t))r[n]=t[n];return[r,e]}function gTr(t,e,r){let n=_i.isAbsolute(t)?t:_i.join(e,t);Pr.stat(n,function(i){i?Pr.realpath(_i.dirname(n),function(s,o){if(s)return r(s);r(null,_i.join(o,_i.basename(n)))}):Pr.realpath(n,r)})}function yTr(t,e){let r=_i.isAbsolute(t)?t:_i.join(e,t);try{return Pr.statSync(r),Pr.realpathSync(r)}catch{let i=Pr.realpathSync(_i.dirname(r));return _i.join(i,_i.basename(r))}}function F9e(t){let e=t.tmpdir;if(!io(t.name))return _i.join(e,t.dir,t.name);if(!io(t.template))return _i.join(e,t.dir,t.template).replace(R9e,T9e(6));let r=[t.prefix?t.prefix:"tmp","-",process.pid,"-",T9e(12),t.postfix?"-"+t.postfix:""].join("");return _i.join(e,t.dir,r)}function L9e(t){if(!io(t.name)){let e=t.name;if(_i.isAbsolute(e))throw new Error(`name option must not contain an absolute path, found "${e}".`);let r=_i.basename(e);if(r===".."||r==="."||r!==e)throw new Error(`name option must not contain a path, found "${e}".`)}if(!io(t.template)&&!t.template.match(R9e))throw new Error(`Invalid template, found "${t.template}".`);if(!io(t.tries)&&isNaN(t.tries)||t.tries<0)throw new Error(`Invalid tries, found "${t.tries}".`);t.tries=io(t.name)?t.tries||nTr:1,t.keep=!!t.keep,t.detachDescriptor=!!t.detachDescriptor,t.discardDescriptor=!!t.discardDescriptor,t.unsafeCleanup=!!t.unsafeCleanup,t.prefix=io(t.prefix)?"":t.prefix,t.postfix=io(t.postfix)?"":t.postfix}function C9e(t,e,r,n){if(io(e))return n(null);gTr(e,r,function(i,s){if(i)return n(i);let o=_i.relative(r,s);if(!s.startsWith(r))return n(new Error(`${t} option must be relative to "${r}", found "${o}".`));n(null,o)})}function x9e(t,e,r){if(io(e))return;let n=yTr(e,r),i=_i.relative(r,n);if(!n.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${i}".`);return i}function _Tr(t,e){ETr(t,function(r,n){if(r)return e(r);t.tmpdir=n;try{L9e(t,n)}catch(i){return e(i)}C9e("dir",t.dir,n,function(i,s){if(i)return e(i);t.dir=io(s)?"":s,C9e("template",t.template,n,function(o,a){if(o)return e(o);t.template=a,e(null,t)})})})}function vTr(t){let e=t.tmpdir=q9e(t);L9e(t,e);let r=x9e("dir",t.dir,e);return t.dir=io(r)?"":r,t.template=x9e("template",t.template,e),t}function wTr(t){return M9e(t,-sTr,"EBADF")}function Tee(t){return M9e(t,-oTr,"ENOENT")}function M9e(t,e,r){return iTr?t.code===r:t.code===r&&t.errno===e}function bTr(){k9e=!0}function ETr(t,e){return Pr.realpath(t&&t.tmpdir||YM.tmpdir(),e)}function q9e(t){return Pr.realpathSync(t&&t.tmpdir||YM.tmpdir())}process.addListener(aTr,mTr);Object.defineProperty(tl.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return q9e()}});tl.exports.dir=fTr;tl.exports.dirSync=dTr;tl.exports.file=cTr;tl.exports.fileSync=lTr;tl.exports.tmpName=Cee;tl.exports.tmpNameSync=xee;tl.exports.setGracefulCleanup=bTr});var j9e=v((Q5r,U9e)=>{U9e.exports=async function*(e){let r=[];e.on("data",a=>r.push(a));let n,i=new Promise(a=>n=a),s=!1;e.on("end",()=>{s=!0,n()});let o=!1;for(e.on("error",a=>{o=a,n()});!s||r.length>0;)if(r.length===0?(e.resume(),await Promise.race([STr(e,"data"),i])):(e.pause(),yield r.shift()),o)throw o;n()};function STr(t,e){return new Promise(r=>{let n=!1,i=()=>{n||(n=!0,t.removeListener(e,i),r())};t.addListener(e,i)})}});var V9e=v((e8r,z9e)=>{var{EventEmitter:TTr}=require("events"),CTr=jS(),xTr=gn(),QM=Gi(),B9e=un(),RTr=Nc(),ATr=KN(),H9e=XN(),Ree=class extends TTr{constructor({workbook:e,id:r,iterator:n,options:i}){super(),this.workbook=e,this.id=r,this.iterator=n,this.options=i||{},this.name=`Sheet${this.id}`,this._columns=null,this._keys={},this._dimensions=new RTr}destroy(){throw new Error("Invalid Operation: destroy")}get dimensions(){return this._dimensions}get columns(){return this._columns}getColumn(e){if(typeof e=="string"){let r=this._keys[e];if(r)return r;e=B9e.l2n(e)}if(this._columns||(this._columns=[]),e>this._columns.length){let r=this._columns.length+1;for(;r<=e;)this._columns.push(new H9e(this,r++))}return this._columns[e-1]}getColumnKey(e){return this._keys[e]}setColumnKey(e,r){this._keys[e]=r}deleteColumnKey(e){delete this._keys[e]}eachColumnKey(e){xTr.each(this._keys,e)}async read(){try{for await(let e of this.parse())for(let{eventType:r,value:n}of e)this.emit(r,n);this.emit("finished")}catch(e){this.emit("error",e)}}async*[Symbol.asyncIterator](){for await(let e of this.parse())for(let{eventType:r,value:n}of e)r==="row"&&(yield n)}async*parse(){let{iterator:e,options:r}=this,n=!1,i=!1,s=null;switch(r.worksheets){case"emit":n=!0;break;case"prep":break;default:break}switch(r.hyperlinks){case"emit":i=!0;break;case"cache":this.hyperlinks=s={};break;default:break}if(!n&&!i&&!s)return;let{sharedStrings:o,styles:a,properties:u}=this.workbook,c=!1,f=!1,d=!1,h=null,p=null,m=null,g=null;for await(let y of CTr(e)){let w=[];for(let{eventType:S,value:E}of y)if(S==="opentag"){let b=E;if(n)switch(b.name){case"cols":c=!0,h=[];break;case"sheetData":f=!0;break;case"col":c&&h.push({min:parseInt(b.attributes.min,10),max:parseInt(b.attributes.max,10),width:parseFloat(b.attributes.width),styleId:parseInt(b.attributes.style||"0",10)});break;case"row":if(f){let O=parseInt(b.attributes.r,10);if(p=new ATr(this,O),b.attributes.ht&&(p.height=parseFloat(b.attributes.ht)),b.attributes.s){let M=parseInt(b.attributes.s,10),x=a.getStyleModel(M);x&&(p.style=x)}}break;case"c":p&&(m={ref:b.attributes.r,s:parseInt(b.attributes.s,10),t:b.attributes.t});break;case"f":m&&(g=m.f={text:""});break;case"v":m&&(g=m.v={text:""});break;case"is":case"t":m&&(g=m.v={text:""});break;case"mergeCell":break;default:break}if(i||s)switch(b.name){case"hyperlinks":d=!0;break;case"hyperlink":if(d){let O={ref:b.attributes.ref,rId:b.attributes["r:id"]};i?w.push({eventType:"hyperlink",value:O}):s[O.ref]=O}break;default:break}}else if(S==="text")n&&g&&(g.text+=E);else if(S==="closetag"){let b=E;if(n)switch(b.name){case"cols":c=!1,this._columns=H9e.fromModel(h);break;case"sheetData":f=!1;break;case"row":this._dimensions.expandRow(p),w.push({eventType:"row",value:p}),p=null;break;case"c":if(p&&m){let O=B9e.decodeAddress(m.ref),M=p.getCell(O.col);if(m.s){let x=a.getStyleModel(m.s);x&&(M.style=x)}if(m.f){let x={formula:m.f.text};m.v&&(m.t==="str"?x.result=QM.xmlDecode(m.v.text):x.result=parseFloat(m.v.text)),M.value=x}else if(m.v)switch(m.t){case"s":{let x=parseInt(m.v.text,10);o?M.value=o[x]:M.value={sharedString:x};break}case"inlineStr":case"str":M.value=QM.xmlDecode(m.v.text);break;case"e":M.value={error:m.v.text};break;case"b":M.value=parseInt(m.v.text,10)!==0;break;default:QM.isDateFmt(M.numFmt)?M.value=QM.excelToDate(parseFloat(m.v.text),u.model&&u.model.date1904):M.value=parseFloat(m.v.text);break}if(s){let x=s[m.ref];x&&(M.text=M.value,M.value=void 0,M.hyperlink=x)}m=null}break;default:break}if(i||s)switch(b.name){case"hyperlinks":d=!1;break;default:break}}w.length>0&&(yield w)}}};z9e.exports=Ree});var G9e=v((t8r,W9e)=>{var{EventEmitter:PTr}=require("events"),ITr=jS(),OTr=ba(),kTr=Yf(),Aee=class extends PTr{constructor({workbook:e,id:r,iterator:n,options:i}){super(),this.workbook=e,this.id=r,this.iterator=n,this.options=i}get count(){return this.hyperlinks&&this.hyperlinks.length||0}each(e){return this.hyperlinks.forEach(e)}async read(){let{iterator:e,options:r}=this,n=!1,i=null;switch(r.hyperlinks){case"emit":n=!0;break;case"cache":this.hyperlinks=i={};break;default:break}if(!n&&!i){this.emit("finished");return}try{for await(let s of ITr(e))for(let{eventType:o,value:a}of s)if(o==="opentag"){let u=a;if(u.name==="Relationship"){let c=u.attributes.Id;switch(u.attributes.Type){case kTr.Hyperlink:{let f={type:OTr.RelationshipType.Styles,rId:c,target:u.attributes.Target,targetMode:u.attributes.TargetMode};n?this.emit("hyperlink",f):i[f.rId]=f}break;default:break}}}this.emit("finished")}catch(s){this.emit("error",s)}}};W9e.exports=Aee});var Z9e=v((r8r,J9e)=>{var Pee=require("fs"),{EventEmitter:NTr}=require("events"),{PassThrough:DTr,Readable:FTr}=Wi(),LTr=require("stream"),MTr=b9e(),X9e=$9e(),ym=j9e(),qTr=jS(),K9e=xF(),$Tr=kF(),UTr=IF(),jTr=V9e(),BTr=G9e();X9e.setGracefulCleanup();var eq=class extends NTr{constructor(e,r={}){super(),this.input=e,this.options={worksheets:"emit",sharedStrings:"cache",hyperlinks:"ignore",styles:"ignore",entries:"ignore",...r},this.styles=new K9e,this.styles.init()}_getStream(e){if(e instanceof LTr.Readable||e instanceof FTr)return e;if(typeof e=="string")return Pee.createReadStream(e);throw new Error(`Could not recognise input: ${e}`)}async read(e,r){try{for await(let{eventType:n,value:i}of this.parse(e,r))switch(n){case"shared-strings":this.emit(n,i);break;case"worksheet":this.emit(n,i),await i.read();break;case"hyperlinks":this.emit(n,i);break}this.emit("end"),this.emit("finished")}catch(n){this.emit("error",n)}}async*[Symbol.asyncIterator](){for await(let{eventType:e,value:r}of this.parse())e==="worksheet"&&(yield r)}async*parse(e,r){r&&(this.options=r);let n=this.stream=this._getStream(e||this.input),i=MTr.Parse({forceStream:!0});n.pipe(i);let s=[];for await(let o of ym(i)){let a,u;switch(o.path){case"_rels/.rels":break;case"xl/_rels/workbook.xml.rels":await this._parseRels(o);break;case"xl/workbook.xml":await this._parseWorkbook(o);break;case"xl/sharedStrings.xml":yield*this._parseSharedStrings(o);break;case"xl/styles.xml":await this._parseStyles(o);break;default:o.path.match(/xl\/worksheets\/sheet\d+[.]xml/)?(a=o.path.match(/xl\/worksheets\/sheet(\d+)[.]xml/),u=a[1],this.sharedStrings&&this.workbookRels?yield*this._parseWorksheet(ym(o),u):await new Promise((c,f)=>{X9e.file((d,h,p,m)=>{if(d)return f(d);s.push({sheetNo:u,path:h,tempFileCleanupCallback:m});let g=Pee.createWriteStream(h);return g.on("error",f),o.pipe(g),g.on("finish",()=>c())})})):o.path.match(/xl\/worksheets\/_rels\/sheet\d+[.]xml.rels/)&&(a=o.path.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),u=a[1],yield*this._parseHyperlinks(ym(o),u));break}o.autodrain()}for(let{sheetNo:o,path:a,tempFileCleanupCallback:u}of s){let c=Pee.createReadStream(a);c[Symbol.asyncIterator]||(c=c.pipe(new DTr)),yield*this._parseWorksheet(c,o),u()}}_emitEntry(e){this.options.entries==="emit"&&this.emit("entry",e)}async _parseRels(e){let r=new UTr;this.workbookRels=await r.parseStream(ym(e))}async _parseWorkbook(e){this._emitEntry({type:"workbook"});let r=new $Tr;await r.parseStream(ym(e)),this.properties=r.map.workbookPr,this.model=r.model}async*_parseSharedStrings(e){switch(this._emitEntry({type:"shared-strings"}),this.options.sharedStrings){case"cache":this.sharedStrings=[];break;case"emit":break;default:return}let r=null,n=[],i=0,s=null;for await(let o of qTr(ym(e)))for(let{eventType:a,value:u}of o)if(a==="opentag"){let c=u;switch(c.name){case"b":s=s||{},s.bold=!0;break;case"charset":s=s||{},s.charset=parseInt(c.attributes.charset,10);break;case"color":s=s||{},s.color={},c.attributes.rgb&&(s.color.argb=c.attributes.argb),c.attributes.val&&(s.color.argb=c.attributes.val),c.attributes.theme&&(s.color.theme=c.attributes.theme);break;case"family":s=s||{},s.family=parseInt(c.attributes.val,10);break;case"i":s=s||{},s.italic=!0;break;case"outline":s=s||{},s.outline=!0;break;case"rFont":s=s||{},s.name=c.value;break;case"si":s=null,n=[],r=null;break;case"sz":s=s||{},s.size=parseInt(c.attributes.val,10);break;case"strike":break;case"t":r=null;break;case"u":s=s||{},s.underline=!0;break;case"vertAlign":s=s||{},s.vertAlign=c.attributes.val;break}}else if(a==="text")r=r?r+u:u;else if(a==="closetag")switch(u.name){case"r":n.push({font:s,text:r}),s=null,r=null;break;case"si":this.options.sharedStrings==="cache"?this.sharedStrings.push(n.length?{richText:n}:r):this.options.sharedStrings==="emit"&&(yield{index:i++,text:n.length?{richText:n}:r}),n=[],s=null,r=null;break}}async _parseStyles(e){this._emitEntry({type:"styles"}),this.options.styles==="cache"&&(this.styles=new K9e,await this.styles.parseStream(ym(e)))}*_parseWorksheet(e,r){this._emitEntry({type:"worksheet",id:r});let n=new jTr({workbook:this,id:r,iterator:e,options:this.options}),i=(this.workbookRels||[]).find(o=>o.Target===`worksheets/sheet${r}.xml`),s=i&&(this.model.sheets||[]).find(o=>o.rId===i.Id);s&&(n.id=s.id,n.name=s.name,n.state=s.state),this.options.worksheets==="emit"&&(yield{eventType:"worksheet",value:n})}*_parseHyperlinks(e,r){this._emitEntry({type:"hyperlinks",id:r});let n=new BTr({workbook:this,id:r,iterator:e,options:this.options});this.options.hyperlinks==="emit"&&(yield{eventType:"hyperlinks",value:n})}};eq.Options={worksheets:["emit","ignore"],sharedStrings:["cache","emit","ignore"],hyperlinks:["cache","emit","ignore"],styles:["cache","ignore"],entries:["emit","ignore"]};J9e.exports=eq});var eGe=v((n8r,Q9e)=>{var Y9e={Workbook:M3e(),ModelContainer:$3e(),stream:{xlsx:{WorkbookWriter:e5e(),WorkbookReader:Z9e()}}};Object.assign(Y9e,ba());Q9e.exports=Y9e});var rGe=v((i8r,tGe)=>{if(parseInt(process.versions.node.split(".")[0],10)<10)throw new Error("For node versions older than 10, please use the ES5 Import: https://github.com/exceljs/exceljs#es5-imports");tGe.exports=eGe()});var iGe=v(U0=>{"use strict";var HTr=U0&&U0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(U0,"__esModule",{value:!0});U0.HcpService=void 0;var ei=GA(),nGe=HTr(rGe()),Iee=class{async search(e){let{query:r,specialty:n,state:i,page:s,limit:o}=e,a={};r&&(a.OR=[{npi:{contains:r}},{firstName:{contains:r,mode:"insensitive"}},{lastName:{contains:r,mode:"insensitive"}},{email:{contains:r,mode:"insensitive"}},{aliases:{some:{aliasName:{contains:r,mode:"insensitive"}}}}]),n&&(a.specialty=n),i&&(a.state=i);let[u,c]=await Promise.all([ei.prisma.hcp.count({where:a}),ei.prisma.hcp.findMany({where:a,include:{aliases:!0,_count:{select:{campaignHcps:!0,nominationsReceived:!0}}},skip:(s-1)*o,take:o,orderBy:[{lastName:"asc"},{firstName:"asc"}]})]);return{items:c,pagination:{page:s,limit:o,total:u,pages:Math.ceil(u/o)}}}async getById(e){return ei.prisma.hcp.findUnique({where:{id:e},include:{aliases:!0,diseaseAreaScores:{where:{isCurrent:!0},include:{diseaseArea:!0}},campaignScores:{include:{campaign:{include:{diseaseArea:!0}}},orderBy:{createdAt:"desc"},take:10},campaignHcps:{include:{campaign:{select:{id:!0,name:!0,status:!0}}},orderBy:{createdAt:"desc"},take:10}}})}async getByNpi(e){return ei.prisma.hcp.findUnique({where:{npi:e}})}async create(e,r){return ei.prisma.hcp.create({data:{...e,createdBy:r}})}async update(e,r){return ei.prisma.hcp.update({where:{id:e},data:r})}async importFromExcel(e,r){let n=new nGe.default.Workbook,i=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);await n.xlsx.load(i);let s=n.worksheets[0],o=[],a=[];s.eachRow((c,f)=>{if(f===1)c.eachCell(d=>{a.push(String(d.value||""))});else{let d={};c.eachCell((h,p)=>{let m=a[p-1];m&&(d[m]=h.value)}),o.push(d)}});let u={total:o.length,created:0,updated:0,errors:[]};for(let c=0;c<o.length;c++){let f=o[c];try{let d=String(f.NPI||f.npi||"").trim();if(!/^\d{10}$/.test(d))throw new Error("Invalid NPI format");let h={npi:d,firstName:String(f["First Name"]||f.firstName||"").trim(),lastName:String(f["Last Name"]||f.lastName||"").trim(),email:f.Email||f.email||null,specialty:f.Specialty||f.specialty||null,subSpecialty:f["Sub-specialty"]||f.subSpecialty||null,city:f.City||f.city||null,state:f.State||f.state||null,yearsInPractice:f["Years in Practice"]?parseInt(String(f["Years in Practice"])):null};if(!h.firstName||!h.lastName)throw new Error("First and last name required");let p=await ei.prisma.hcp.findUnique({where:{npi:d}});p?(await ei.prisma.hcp.update({where:{npi:d},data:{firstName:h.firstName||p.firstName,lastName:h.lastName||p.lastName,email:h.email||p.email,specialty:h.specialty||p.specialty,subSpecialty:h.subSpecialty||p.subSpecialty,city:h.city||p.city,state:h.state||p.state,yearsInPractice:h.yearsInPractice??p.yearsInPractice}}),u.updated++):(await ei.prisma.hcp.create({data:{...h,createdBy:r}}),u.created++)}catch(d){u.errors.push({row:c+2,error:d instanceof Error?d.message:"Unknown error"})}}return u}async getAliases(e){return ei.prisma.hcpAlias.findMany({where:{hcpId:e}})}async addAlias(e,r,n){return ei.prisma.hcpAlias.create({data:{hcpId:e,aliasName:r,createdBy:n}})}async removeAlias(e){return ei.prisma.hcpAlias.delete({where:{id:e}})}async importAliases(e,r){let n=new nGe.default.Workbook,i=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);await n.xlsx.load(i);let s=n.worksheets[0],o=[],a=[];s.eachRow((c,f)=>{if(f===1)c.eachCell(d=>{a.push(String(d.value||""))});else{let d={};c.eachCell((h,p)=>{let m=a[p-1];m&&(d[m]=h.value)}),o.push(d)}});let u={total:o.length,created:0,skipped:0,errors:[]};for(let c=0;c<o.length;c++){let f=o[c];try{let d=String(f.NPI||f.npi||"").trim(),h=String(f.Alias||f.alias||"").trim();if(!h)throw new Error("Alias is required");let p=await ei.prisma.hcp.findUnique({where:{npi:d}});if(!p)throw new Error(`HCP not found: ${d}`);await ei.prisma.hcpAlias.findFirst({where:{hcpId:p.id,aliasName:h}})?u.skipped++:(await ei.prisma.hcpAlias.create({data:{hcpId:p.id,aliasName:h,createdBy:r}}),u.created++)}catch(d){u.errors.push({row:c+2,error:d instanceof Error?d.message:"Unknown error"})}}return u}async findByName(e){let r=e.toLowerCase().trim();return await ei.prisma.hcp.findMany({where:{OR:[{firstName:{contains:r,mode:"insensitive"}},{lastName:{contains:r,mode:"insensitive"}},{aliases:{some:{aliasName:{contains:r,mode:"insensitive"}}}}]},include:{aliases:!0},take:10})}async getSpecialties(){return(await ei.prisma.hcp.findMany({where:{specialty:{not:null}},select:{specialty:!0},distinct:["specialty"],orderBy:{specialty:"asc"}})).map(r=>r.specialty).filter(Boolean)}async getStates(){return(await ei.prisma.hcp.findMany({where:{state:{not:null}},select:{state:!0},distinct:["state"],orderBy:{state:"asc"}})).map(r=>r.state).filter(Boolean)}};U0.HcpService=Iee});var Oee=v((o8r,sGe)=>{"use strict";var{EventEmitter:zTr}=require("node:events"),{inherits:VTr}=require("node:util");function _m(t){if(typeof t=="string"&&(t=Buffer.from(t)),!Buffer.isBuffer(t))throw new TypeError("The needle has to be a String or a Buffer.");let e=t.length,r=e-1;if(e===0)throw new Error("The needle cannot be an empty String/Buffer.");if(e>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Uint8Array(256).fill(e),this._lookbehind_size=0,this._needle=t,this._bufpos=0,this._lookbehind=Buffer.alloc(r);for(var n=0;n<r;++n)this._occ[t[n]]=r-n}VTr(_m,zTr);_m.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};_m.prototype.push=function(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t,"binary"));let r=t.length;this._bufpos=e||0;let n;for(;n!==r&&this.matches<this.maxMatches;)n=this._sbmh_feed(t);return n};_m.prototype._sbmh_feed=function(t){let e=t.length,r=this._needle,n=r.length,i=n-1,s=r[i],o=-this._lookbehind_size,a;if(o<0){for(;o<0&&o<=e-n;){if(a=t[o+i],a===s&&this._sbmh_memcmp(t,o,i))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=o+n;o+=this._occ[a]}for(;o<0&&!this._sbmh_memcmp(t,o,e-o);)++o;if(o>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let u=this._lookbehind_size+o;return u>0&&this.emit("info",!1,this._lookbehind,0,u),this._lookbehind_size-=u,this._lookbehind.copy(this._lookbehind,0,u,this._lookbehind_size),t.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=e,this._bufpos=e,e}}if(o=t.indexOf(r,o+this._bufpos),o!==-1)return++this.matches,o===0?this.emit("info",!0):this.emit("info",!0,t,this._bufpos,o),this._bufpos=o+n;for(o=e-i,o<0&&(o=0);o!==e&&(t[o]!==r[0]||Buffer.compare(t.subarray(o+1,e),r.subarray(1,e-o))!==0);)++o;return o!==e&&(t.copy(this._lookbehind,0,o,e),this._lookbehind_size=e-o),o!==0&&this.emit("info",!1,t,this._bufpos,o),this._bufpos=e,e};_m.prototype._sbmh_lookup_char=function(t,e){return e<0?this._lookbehind[this._lookbehind_size+e]:t[e]};_m.prototype._sbmh_memcmp=function(t,e,r){for(var n=0;n<r;++n)if(this._sbmh_lookup_char(t,e+n)!==this._needle[n])return!1;return!0};sGe.exports=_m});var uGe=v((a8r,aGe)=>{"use strict";var WTr=require("node:util").inherits,oGe=require("node:stream").Readable;function kee(t){oGe.call(this,t)}WTr(kee,oGe);kee.prototype._read=function(t){};aGe.exports=kee});var tq=v((u8r,cGe)=>{"use strict";cGe.exports=function(e,r,n){if(!e||e[r]===void 0||e[r]===null)return n;if(typeof e[r]!="number"||isNaN(e[r]))throw new TypeError("Limit "+r+" is not a valid number");return e[r]}});var hGe=v((c8r,dGe)=>{"use strict";var fGe=require("node:events").EventEmitter,GTr=require("node:util").inherits,lGe=tq(),KTr=Oee(),XTr=Buffer.from(`\r
\r
`),JTr=/\r\n/g,ZTr=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function j0(t){fGe.call(this),t=t||{};let e=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=lGe(t,"maxHeaderPairs",2e3),this.maxHeaderSize=lGe(t,"maxHeaderSize",80*1024),this.buffer="",this.header={},this.finished=!1,this.ss=new KTr(XTr),this.ss.on("info",function(r,n,i,s){n&&!e.maxed&&(e.nread+s-i>=e.maxHeaderSize?(s=e.maxHeaderSize-e.nread+i,e.nread=e.maxHeaderSize,e.maxed=!0):e.nread+=s-i,e.buffer+=n.toString("binary",i,s)),r&&e._finish()})}GTr(j0,fGe);j0.prototype.push=function(t){let e=this.ss.push(t);if(this.finished)return e};j0.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};j0.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let t=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",t)};j0.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let t=this.buffer.split(JTr),e=t.length,r,n;for(var i=0;i<e;++i){if(t[i].length===0)continue;if((t[i][0]==="	"||t[i][0]===" ")&&n){this.header[n][this.header[n].length-1]+=t[i];continue}let s=t[i].indexOf(":");if(s===-1||s===0)return;if(r=ZTr.exec(t[i]),n=r[1].toLowerCase(),this.header[n]=this.header[n]||[],this.header[n].push(r[2]||""),++this.npairs===this.maxHeaderPairs)break}};dGe.exports=j0});var Dee=v((l8r,mGe)=>{"use strict";var Nee=require("node:stream").Writable,YTr=require("node:util").inherits,QTr=Oee(),pGe=uGe(),eCr=hGe(),tCr=45,rCr=Buffer.from("-"),nCr=Buffer.from(`\r
`),iCr=function(){};function Da(t){if(!(this instanceof Da))return new Da(t);if(Nee.call(this,t),!t||!t.headerFirst&&typeof t.boundary!="string")throw new TypeError("Boundary required");typeof t.boundary=="string"?this.setBoundary(t.boundary):this._bparser=void 0,this._headerFirst=t.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:t.partHwm},this._pause=!1;let e=this;this._hparser=new eCr(t),this._hparser.on("header",function(r){e._inHeader=!1,e._part.emit("header",r)})}YTr(Da,Nee);Da.prototype.emit=function(t){if(t==="finish"&&!this._realFinish){if(!this._finished){let e=this;process.nextTick(function(){if(e.emit("error",new Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){let r=e._isPreamble?"Preamble":"Part";e._part.emit("error",new Error(r+" terminated early due to unexpected end of multipart data")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1});return}e._realFinish=!0,e.emit("finish"),e._realFinish=!1})}}else Nee.prototype.emit.apply(this,arguments)};Da.prototype._write=function(t,e,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new pGe(this._partOpts),this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._ignore());let n=this._hparser.push(t);if(!this._inHeader&&n!==void 0&&n<t.length)t=t.slice(n);else return r()}this._firstWrite&&(this._bparser.push(nCr),this._firstWrite=!1),this._bparser.push(t),this._pause?this._cb=r:r()};Da.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};Da.prototype.setBoundary=function(t){let e=this;this._bparser=new QTr(`\r
--`+t),this._bparser.on("info",function(r,n,i,s){e._oninfo(r,n,i,s)})};Da.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",iCr),this._part.resume())};Da.prototype._oninfo=function(t,e,r,n){let i,s=this,o=0,a,u=!0;if(!this._part&&this._justMatched&&e){for(;this._dashes<2&&r+o<n;)if(e[r+o]===tCr)++o,++this._dashes;else{this._dashes&&(i=rCr),this._dashes=0;break}if(this._dashes===2&&(r+o<n&&this.listenerCount("trailer")!==0&&this.emit("trailer",e.slice(r+o,n)),this.reset(),this._finished=!0,s._parts===0&&(s._realFinish=!0,s.emit("finish"),s._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new pGe(this._partOpts),this._part._read=function(c){s._unpause()},this._isPreamble&&this.listenerCount("preamble")!==0?this.emit("preamble",this._part):this._isPreamble!==!0&&this.listenerCount("part")!==0?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),e&&r<n&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(i&&(u=this._part.push(i)),u=this._part.push(e.slice(r,n)),u||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(i&&this._hparser.push(i),a=this._hparser.push(e.slice(r,n)),!this._inHeader&&a!==void 0&&a<n&&this._oninfo(!1,e,r+a,n))),t&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==n&&(++this._parts,this._part.on("end",function(){--s._parts===0&&(s._finished?(s._realFinish=!0,s.emit("finish"),s._realFinish=!1):s._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};Da.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let t=this._cb;this._cb=void 0,t()}};mGe.exports=Da});var rq=v((Fee,_Ge)=>{"use strict";var gGe=new TextDecoder("utf-8"),yGe=new Map([["utf-8",gGe],["utf8",gGe]]);function sCr(t){let e;for(;;)switch(t){case"utf-8":case"utf8":return VT.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return VT.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return VT.utf16le;case"base64":return VT.base64;default:if(e===void 0){e=!0,t=t.toLowerCase();continue}return VT.other.bind(t)}}var VT={utf8:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.utf8Slice(0,t.length)),latin1:(t,e)=>t.length===0?"":typeof t=="string"?t:t.latin1Slice(0,t.length),utf16le:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.ucs2Slice(0,t.length)),base64:(t,e)=>t.length===0?"":(typeof t=="string"&&(t=Buffer.from(t,e)),t.base64Slice(0,t.length)),other:(t,e)=>{if(t.length===0)return"";if(typeof t=="string"&&(t=Buffer.from(t,e)),yGe.has(Fee.toString()))try{return yGe.get(Fee).decode(t)}catch{}return typeof t=="string"?t:t.toString()}};function oCr(t,e,r){return t&&sCr(r)(t,e)}_Ge.exports=oCr});var Mee=v((f8r,SGe)=>{"use strict";var nq=rq(),vGe=/%[a-fA-F0-9][a-fA-F0-9]/g,aCr={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"\x07","%08":"\b","%09":"	","%0a":`
`,"%0A":`
`,"%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"\x1B","%1B":"\x1B","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7F","%7F":"\x7F","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8A","%8A":"\x8A","%8b":"\x8B","%8B":"\x8B","%8c":"\x8C","%8C":"\x8C","%8d":"\x8D","%8D":"\x8D","%8e":"\x8E","%8E":"\x8E","%8f":"\x8F","%8F":"\x8F","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9A","%9A":"\x9A","%9b":"\x9B","%9B":"\x9B","%9c":"\x9C","%9C":"\x9C","%9d":"\x9D","%9D":"\x9D","%9e":"\x9E","%9E":"\x9E","%9f":"\x9F","%9F":"\x9F","%a0":"\xA0","%A0":"\xA0","%a1":"\xA1","%A1":"\xA1","%a2":"\xA2","%A2":"\xA2","%a3":"\xA3","%A3":"\xA3","%a4":"\xA4","%A4":"\xA4","%a5":"\xA5","%A5":"\xA5","%a6":"\xA6","%A6":"\xA6","%a7":"\xA7","%A7":"\xA7","%a8":"\xA8","%A8":"\xA8","%a9":"\xA9","%A9":"\xA9","%aa":"\xAA","%Aa":"\xAA","%aA":"\xAA","%AA":"\xAA","%ab":"\xAB","%Ab":"\xAB","%aB":"\xAB","%AB":"\xAB","%ac":"\xAC","%Ac":"\xAC","%aC":"\xAC","%AC":"\xAC","%ad":"\xAD","%Ad":"\xAD","%aD":"\xAD","%AD":"\xAD","%ae":"\xAE","%Ae":"\xAE","%aE":"\xAE","%AE":"\xAE","%af":"\xAF","%Af":"\xAF","%aF":"\xAF","%AF":"\xAF","%b0":"\xB0","%B0":"\xB0","%b1":"\xB1","%B1":"\xB1","%b2":"\xB2","%B2":"\xB2","%b3":"\xB3","%B3":"\xB3","%b4":"\xB4","%B4":"\xB4","%b5":"\xB5","%B5":"\xB5","%b6":"\xB6","%B6":"\xB6","%b7":"\xB7","%B7":"\xB7","%b8":"\xB8","%B8":"\xB8","%b9":"\xB9","%B9":"\xB9","%ba":"\xBA","%Ba":"\xBA","%bA":"\xBA","%BA":"\xBA","%bb":"\xBB","%Bb":"\xBB","%bB":"\xBB","%BB":"\xBB","%bc":"\xBC","%Bc":"\xBC","%bC":"\xBC","%BC":"\xBC","%bd":"\xBD","%Bd":"\xBD","%bD":"\xBD","%BD":"\xBD","%be":"\xBE","%Be":"\xBE","%bE":"\xBE","%BE":"\xBE","%bf":"\xBF","%Bf":"\xBF","%bF":"\xBF","%BF":"\xBF","%c0":"\xC0","%C0":"\xC0","%c1":"\xC1","%C1":"\xC1","%c2":"\xC2","%C2":"\xC2","%c3":"\xC3","%C3":"\xC3","%c4":"\xC4","%C4":"\xC4","%c5":"\xC5","%C5":"\xC5","%c6":"\xC6","%C6":"\xC6","%c7":"\xC7","%C7":"\xC7","%c8":"\xC8","%C8":"\xC8","%c9":"\xC9","%C9":"\xC9","%ca":"\xCA","%Ca":"\xCA","%cA":"\xCA","%CA":"\xCA","%cb":"\xCB","%Cb":"\xCB","%cB":"\xCB","%CB":"\xCB","%cc":"\xCC","%Cc":"\xCC","%cC":"\xCC","%CC":"\xCC","%cd":"\xCD","%Cd":"\xCD","%cD":"\xCD","%CD":"\xCD","%ce":"\xCE","%Ce":"\xCE","%cE":"\xCE","%CE":"\xCE","%cf":"\xCF","%Cf":"\xCF","%cF":"\xCF","%CF":"\xCF","%d0":"\xD0","%D0":"\xD0","%d1":"\xD1","%D1":"\xD1","%d2":"\xD2","%D2":"\xD2","%d3":"\xD3","%D3":"\xD3","%d4":"\xD4","%D4":"\xD4","%d5":"\xD5","%D5":"\xD5","%d6":"\xD6","%D6":"\xD6","%d7":"\xD7","%D7":"\xD7","%d8":"\xD8","%D8":"\xD8","%d9":"\xD9","%D9":"\xD9","%da":"\xDA","%Da":"\xDA","%dA":"\xDA","%DA":"\xDA","%db":"\xDB","%Db":"\xDB","%dB":"\xDB","%DB":"\xDB","%dc":"\xDC","%Dc":"\xDC","%dC":"\xDC","%DC":"\xDC","%dd":"\xDD","%Dd":"\xDD","%dD":"\xDD","%DD":"\xDD","%de":"\xDE","%De":"\xDE","%dE":"\xDE","%DE":"\xDE","%df":"\xDF","%Df":"\xDF","%dF":"\xDF","%DF":"\xDF","%e0":"\xE0","%E0":"\xE0","%e1":"\xE1","%E1":"\xE1","%e2":"\xE2","%E2":"\xE2","%e3":"\xE3","%E3":"\xE3","%e4":"\xE4","%E4":"\xE4","%e5":"\xE5","%E5":"\xE5","%e6":"\xE6","%E6":"\xE6","%e7":"\xE7","%E7":"\xE7","%e8":"\xE8","%E8":"\xE8","%e9":"\xE9","%E9":"\xE9","%ea":"\xEA","%Ea":"\xEA","%eA":"\xEA","%EA":"\xEA","%eb":"\xEB","%Eb":"\xEB","%eB":"\xEB","%EB":"\xEB","%ec":"\xEC","%Ec":"\xEC","%eC":"\xEC","%EC":"\xEC","%ed":"\xED","%Ed":"\xED","%eD":"\xED","%ED":"\xED","%ee":"\xEE","%Ee":"\xEE","%eE":"\xEE","%EE":"\xEE","%ef":"\xEF","%Ef":"\xEF","%eF":"\xEF","%EF":"\xEF","%f0":"\xF0","%F0":"\xF0","%f1":"\xF1","%F1":"\xF1","%f2":"\xF2","%F2":"\xF2","%f3":"\xF3","%F3":"\xF3","%f4":"\xF4","%F4":"\xF4","%f5":"\xF5","%F5":"\xF5","%f6":"\xF6","%F6":"\xF6","%f7":"\xF7","%F7":"\xF7","%f8":"\xF8","%F8":"\xF8","%f9":"\xF9","%F9":"\xF9","%fa":"\xFA","%Fa":"\xFA","%fA":"\xFA","%FA":"\xFA","%fb":"\xFB","%Fb":"\xFB","%fB":"\xFB","%FB":"\xFB","%fc":"\xFC","%Fc":"\xFC","%fC":"\xFC","%FC":"\xFC","%fd":"\xFD","%Fd":"\xFD","%fD":"\xFD","%FD":"\xFD","%fe":"\xFE","%Fe":"\xFE","%fE":"\xFE","%FE":"\xFE","%ff":"\xFF","%Ff":"\xFF","%fF":"\xFF","%FF":"\xFF"};function wGe(t){return aCr[t]}var iq=0,bGe=1,Lee=2,EGe=3;function uCr(t){let e=[],r=iq,n="",i=!1,s=!1,o=0,a="",u=t.length;for(var c=0;c<u;++c){let f=t[c];if(f==="\\"&&i)if(s)s=!1;else{s=!0;continue}else if(f==='"')if(s)s=!1;else{if(i)for(i=!1,r=iq;c+1<u&&t[c+1]!==";";)++c;else i=!0;continue}else if(s&&i&&(a+="\\"),s=!1,(r===Lee||r===EGe)&&f==="'"){r===Lee?(r=EGe,n=a.substring(1)):r=bGe,a="";continue}else if(r===iq&&(f==="*"||f==="=")&&e.length){r=f==="*"?Lee:bGe,e[o]=[a,void 0],a="";continue}else if(!i&&f===";"){r=iq,n?(a.length&&(a=nq(a.replace(vGe,wGe),"binary",n)),n=""):a.length&&(a=nq(a,"binary","utf8")),e[o]===void 0?e[o]=a:e[o][1]=a,a="",++o;continue}else if(!i&&(f===" "||f==="	"))continue;a+=f}return n&&a.length?a=nq(a.replace(vGe,wGe),"binary",n):a&&(a=nq(a,"binary","utf8")),e[o]===void 0?a&&(e[o]=a):e[o][1]=a,e}SGe.exports=uCr});var CGe=v((d8r,TGe)=>{"use strict";TGe.exports=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;--r)switch(e.charCodeAt(r)){case 47:case 92:return e=e.slice(r+1),e===".."||e==="."?"":e}return e===".."||e==="."?"":e}});var PGe=v((h8r,AGe)=>{"use strict";var{Readable:RGe}=require("node:stream"),{inherits:cCr}=require("node:util"),lCr=Dee(),xGe=Mee(),fCr=rq(),dCr=CGe(),vm=tq(),hCr=/^boundary$/i,pCr=/^form-data$/i,mCr=/^charset$/i,gCr=/^filename$/i,yCr=/^name$/i;sq.detect=/^multipart\/form-data/i;function sq(t,e){let r,n,i=this,s,o=e.limits,a=e.isPartAFile||(($,D,L)=>D==="application/octet-stream"||L!==void 0),u=e.parsedConType||[],c=e.defCharset||"utf8",f=e.preservePath,d={highWaterMark:e.fileHwm};for(r=0,n=u.length;r<n;++r)if(Array.isArray(u[r])&&hCr.test(u[r][0])){s=u[r][1];break}function h(){M===0&&P&&!t._done&&(P=!1,i.end())}if(typeof s!="string")throw new Error("Multipart: Boundary not found");let p=vm(o,"fieldSize",1*1024*1024),m=vm(o,"fileSize",1/0),g=vm(o,"files",1/0),y=vm(o,"fields",1/0),w=vm(o,"parts",1/0),S=vm(o,"headerPairs",2e3),E=vm(o,"headerSize",80*1024),b=0,O=0,M=0,x,I,P=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=t;let F={boundary:s,maxHeaderPairs:S,maxHeaderSize:E,partHwm:d.highWaterMark,highWaterMark:e.highWaterMark};this.parser=new lCr(F),this.parser.on("drain",function(){if(i._needDrain=!1,i._cb&&!i._pause){let $=i._cb;i._cb=void 0,$()}}).on("part",function $(D){if(++i._nparts>w)return i.parser.removeListener("part",$),i.parser.on("part",B0),t.hitPartsLimit=!0,t.emit("partsLimit"),B0(D);if(I){let L=I;L.emit("end"),L.removeAllListeners("end")}D.on("header",function(L){let z,ee,N,H,X,V,ue=0;if(L["content-type"]&&(N=xGe(L["content-type"][0]),N[0])){for(z=N[0].toLowerCase(),r=0,n=N.length;r<n;++r)if(mCr.test(N[r][0])){H=N[r][1].toLowerCase();break}}if(z===void 0&&(z="text/plain"),H===void 0&&(H=c),L["content-disposition"]){if(N=xGe(L["content-disposition"][0]),!pCr.test(N[0]))return B0(D);for(r=0,n=N.length;r<n;++r)yCr.test(N[r][0])?ee=N[r][1]:gCr.test(N[r][0])&&(V=N[r][1],f||(V=dCr(V)))}else return B0(D);L["content-transfer-encoding"]?X=L["content-transfer-encoding"][0].toLowerCase():X="7bit";let _e,xe;if(a(ee,z,V)){if(b===g)return t.hitFilesLimit||(t.hitFilesLimit=!0,t.emit("filesLimit")),B0(D);if(++b,t.listenerCount("file")===0){i.parser._ignore();return}++M;let De=new qee(d);x=De,De.on("end",function(){if(--M,i._pause=!1,h(),i._cb&&!i._needDrain){let ut=i._cb;i._cb=void 0,ut()}}),De._read=function(ut){if(i._pause&&(i._pause=!1,i._cb&&!i._needDrain)){let Me=i._cb;i._cb=void 0,Me()}},t.emit("file",ee,De,V,X,z),_e=function(ut){if((ue+=ut.length)>m){let Me=m-ue+ut.length;Me>0&&De.push(ut.slice(0,Me)),De.truncated=!0,De.bytesRead=m,D.removeAllListeners("data"),De.emit("limit");return}else De.push(ut)||(i._pause=!0);De.bytesRead=ue},xe=function(){x=void 0,De.push(null)}}else{if(O===y)return t.hitFieldsLimit||(t.hitFieldsLimit=!0,t.emit("fieldsLimit")),B0(D);++O,++M;let De="",ut=!1;I=D,_e=function(Me){if((ue+=Me.length)>p){let Tt=p-(ue-Me.length);De+=Me.toString("binary",0,Tt),ut=!0,D.removeAllListeners("data")}else De+=Me.toString("binary")},xe=function(){I=void 0,De.length&&(De=fCr(De,"binary",H)),t.emit("field",ee,De,!1,ut,X,z),--M,h()}}D._readableState.sync=!1,D.on("data",_e),D.on("end",xe)}).on("error",function(L){x&&x.emit("error",L)})}).on("error",function($){t.emit("error",$)}).on("finish",function(){P=!0,h()})}sq.prototype.write=function(t,e){let r=this.parser.write(t);r&&!this._pause?e():(this._needDrain=!r,this._cb=e)};sq.prototype.end=function(){let t=this;t.parser.writable?t.parser.end():t._boy._done||process.nextTick(function(){t._boy._done=!0,t._boy.emit("finish")})};function B0(t){t.resume()}function qee(t){RGe.call(this,t),this.bytesRead=0,this.truncated=!1}cCr(qee,RGe);qee.prototype._read=function(t){};AGe.exports=sq});var OGe=v((p8r,IGe)=>{"use strict";var _Cr=/\+/g,vCr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function $ee(){this.buffer=void 0}$ee.prototype.write=function(t){t=t.replace(_Cr," ");let e="",r=0,n=0,i=t.length;for(;r<i;++r)this.buffer!==void 0?vCr[t.charCodeAt(r)]?(this.buffer+=t[r],++n,this.buffer.length===2&&(e+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(e+="%"+this.buffer,this.buffer=void 0,--r):t[r]==="%"&&(r>n&&(e+=t.substring(n,r),n=r),this.buffer="",++n);return n<i&&this.buffer===void 0&&(e+=t.substring(n)),e};$ee.prototype.reset=function(){this.buffer=void 0};IGe.exports=$ee});var NGe=v((m8r,kGe)=>{"use strict";var wCr=OGe(),H0=rq(),Uee=tq(),bCr=/^charset$/i;oq.detect=/^application\/x-www-form-urlencoded/i;function oq(t,e){let r=e.limits,n=e.parsedConType;this.boy=t,this.fieldSizeLimit=Uee(r,"fieldSize",1*1024*1024),this.fieldNameSizeLimit=Uee(r,"fieldNameSize",100),this.fieldsLimit=Uee(r,"fields",1/0);let i;for(var s=0,o=n.length;s<o;++s)if(Array.isArray(n[s])&&bCr.test(n[s][0])){i=n[s][1].toLowerCase();break}i===void 0&&(i=e.defCharset||"utf8"),this.decoder=new wCr,this.charset=i,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}oq.prototype.write=function(t,e){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),e();let r,n,i,s=0,o=t.length;for(;s<o;)if(this._state==="key"){for(r=n=void 0,i=s;i<o;++i){if(this._checkingBytes||++s,t[i]===61){r=i;break}else if(t[i]===38){n=i;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesKey}if(r!==void 0)r>s&&(this._key+=this.decoder.write(t.toString("binary",s,r))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),s=r+1;else if(n!==void 0){++this._fields;let a,u=this._keyTrunc;if(n>s?a=this._key+=this.decoder.write(t.toString("binary",s,n)):a=this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a.length&&this.boy.emit("field",H0(a,"binary",this.charset),"",u,!1),s=n+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>s&&(this._key+=this.decoder.write(t.toString("binary",s,i))),s=i,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(s<o&&(this._key+=this.decoder.write(t.toString("binary",s))),s=o)}else{for(n=void 0,i=s;i<o;++i){if(this._checkingBytes||++s,t[i]===38){n=i;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}else this._checkingBytes&&++this._bytesVal}if(n!==void 0){if(++this._fields,n>s&&(this._val+=this.decoder.write(t.toString("binary",s,n))),this.boy.emit("field",H0(this._key,"binary",this.charset),H0(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),s=n+1,this._fields===this.fieldsLimit)return e()}else this._hitLimit?(i>s&&(this._val+=this.decoder.write(t.toString("binary",s,i))),s=i,(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(s<o&&(this._val+=this.decoder.write(t.toString("binary",s))),s=o)}e()};oq.prototype.end=function(){this.boy._done||(this._state==="key"&&this._key.length>0?this.boy.emit("field",H0(this._key,"binary",this.charset),"",this._keyTrunc,!1):this._state==="val"&&this.boy.emit("field",H0(this._key,"binary",this.charset),H0(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))};kGe.exports=oq});var LGe=v((g8r,WT)=>{"use strict";var jee=require("node:stream").Writable,{inherits:ECr}=require("node:util"),SCr=Dee(),DGe=PGe(),FGe=NGe(),TCr=Mee();function rl(t){if(!(this instanceof rl))return new rl(t);if(typeof t!="object")throw new TypeError("Busboy expected an options-Object.");if(typeof t.headers!="object")throw new TypeError("Busboy expected an options-Object with headers-attribute.");if(typeof t.headers["content-type"]!="string")throw new TypeError("Missing Content-Type-header.");let{headers:e,...r}=t;this.opts={autoDestroy:!1,...r},jee.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(e),this._finished=!1}ECr(rl,jee);rl.prototype.emit=function(t){if(t==="finish"){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}jee.prototype.emit.apply(this,arguments)};rl.prototype.getParserByHeaders=function(t){let e=TCr(t["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:t,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:e,preservePath:this.opts.preservePath};if(DGe.detect.test(e[0]))return new DGe(this,r);if(FGe.detect.test(e[0]))return new FGe(this,r);throw new Error("Unsupported Content-Type.")};rl.prototype._write=function(t,e,r){this._parser.write(t,r)};WT.exports=rl;WT.exports.default=rl;WT.exports.Busboy=rl;WT.exports.Dicer=SCr});var $Ge=v((y8r,qGe)=>{"use strict";var nl=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],wm=Math.random;function MGe(){return nl[255*wm()|0]+nl[255*wm()|0]+nl[255*wm()|0]+nl[255*wm()|0]+nl[255*wm()|0]+nl[255*wm()|0]+nl[255*wm()|0]}qGe.exports.generateId=(function(){let e=0,r=MGe();return function(){return e===255?(r=MGe())+nl[e=0]:r+nl[++e]}})()});var UGe=v((_8r,GT)=>{"use strict";var{format:CCr}=require("node:util");function xCr(){return`${this.name} [${this.code}]: ${this.message}`}var aq=Symbol.for("fastify-error-generic");function z0(t,e,r=500,n=Error,i=z0.captureStackTrace){let s=t===aq;if(s&&(t="FST_ERR"),!t)throw new Error("Fastify error code must not be empty");if(!e)throw new Error("Fastify error message must not be empty");t=t.toUpperCase(),!r&&(r=void 0);let o=Symbol.for(`fastify-error ${t}`);function a(...u){if(!new.target)return new a(...u);this.code=t,this.name="FastifyError",this.statusCode=r;let c=u.length-1;c!==-1&&u[c]&&typeof u[c]=="object"&&"cause"in u[c]&&(this.cause=u.pop().cause),this.message=CCr(e,...u),Error.stackTraceLimit&&i&&Error.captureStackTrace(this,a)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0},[aq]:{value:!0,enumerable:!1,writable:!1,configurable:!1},[o]:{value:!0,enumerable:!1,writable:!1,configurable:!1}}),s?Object.defineProperty(a,Symbol.hasInstance,{value(u){return u&&u[aq]},configurable:!1,writable:!1,enumerable:!1}):Object.defineProperty(a,Symbol.hasInstance,{value(u){return u&&u[o]},configurable:!1,writable:!1,enumerable:!1}),a.prototype[Symbol.toStringTag]="Error",a.prototype.toString=xCr,a}z0.captureStackTrace=!0;var RCr=z0(aq,"Fastify Error",500,Error);GT.exports=z0;GT.exports.FastifyError=RCr;GT.exports.default=z0;GT.exports.createError=z0});var BGe=v((v8r,jGe)=>{"use strict";jGe.exports=(t,e)=>new Promise((r,n)=>{if(typeof t.resume!="function"||(t.unpipe&&t.unpipe(),t.resume(),t._readableState&&t._readableState.ended)||!t.readable||t.destroyed)return r();function i(){t.removeListener("end",s),t.removeListener("close",s),t.removeListener("error",o)}function s(){i(),r()}function o(a){i(),e?n(a):r()}t.on("end",s),t.on("close",s),t.on("error",o)})});var zGe=v((w8r,uq)=>{"use strict";var HGe=Object.getPrototypeOf({});function Bee(t){function e(w){return w!=="constructor"&&w!=="prototype"&&w!=="__proto__"}function r(w){let S=0,E=w.length,b=new Array(E);for(S;S<E;++S)b[S]=p(w[S]);return b}function n(w){let S={};if(u&&Object.getPrototypeOf(w)!==HGe)return u(w);let E=a(w),b,O,M;for(b=0,O=E.length;b<O;++b)e(M=E[b])&&(S[M]=p(w[M]));return S}function i(w,S){let E=w.length,b=S.length,O=0,M=new Array(E+b);for(O;O<E;++O)M[O]=p(w[O]);for(O=0;O<b;++O)M[O+E]=p(S[O]);return M}let s=Object.prototype.propertyIsEnumerable;function o(w){let S=Object.keys(w),E=Object.getOwnPropertySymbols(w);for(let b=0,O=E.length;b<O;++b)s.call(w,E[b])&&S.push(E[b]);return S}let a=t?.symbols?o:Object.keys,u=typeof t?.cloneProtoObject=="function"?t.cloneProtoObject:void 0;function c(w){return typeof w=="object"&&w!==null&&!(w instanceof RegExp)&&!(w instanceof Date)}function f(w){return typeof w!="object"||w===null}let d=typeof Buffer<"u"?w=>typeof w!="object"||w===null||w instanceof RegExp||w instanceof Date||w instanceof Buffer:w=>typeof w!="object"||w===null||w instanceof RegExp||w instanceof Date,h=t&&typeof t.mergeArray=="function"?t.mergeArray({clone:p,deepmerge:g,getKeys:a,isMergeableObject:c}):i;function p(w){return c(w)?Array.isArray(w)?r(w):n(w):w}function m(w,S){let E={},b=a(w),O=a(S),M,x,I;for(M=0,x=b.length;M<x;++M)e(I=b[M])&&O.indexOf(I)===-1&&(E[I]=p(w[I]));for(M=0,x=O.length;M<x;++M)e(I=O[M])&&(I in w?b.indexOf(I)!==-1&&(u&&c(S[I])&&Object.getPrototypeOf(S[I])!==HGe?E[I]=u(S[I]):E[I]=g(w[I],S[I])):E[I]=p(S[I]));return E}function g(w,S){let E=Array.isArray(S),b=Array.isArray(w);return f(S)?S:d(w)?p(S):E&&b?h(w,S):E!==b?p(S):m(w,S)}function y(){switch(arguments.length){case 0:return{};case 1:return p(arguments[0]);case 2:return g(arguments[0],arguments[1])}let w;for(let S=0,E=arguments.length;S<E;++S)w=g(w,arguments[S]);return w}return t?.all?y:g}uq.exports=Bee;uq.exports.default=Bee;uq.exports.deepmerge=Bee});var YGe=v((b8r,KT)=>{"use strict";var ACr=LGe(),PCr=require("node:os"),ICr=sh(),{createWriteStream:OCr}=require("node:fs"),{unlink:kCr}=require("node:fs/promises"),VGe=require("node:path"),{generateId:NCr}=$Ge(),DCr=require("node:util"),il=UGe(),FCr=BGe(),LCr=zGe()({all:!0}),{PassThrough:MCr,pipeline:qCr,Readable:$Cr}=require("node:stream"),UCr=DCr.promisify(qCr),jCr=SU(),Vee=Symbol("multipart"),cq=Symbol("multipartHandler"),WGe=il("FST_PARTS_LIMIT","reach parts limit",413),GGe=il("FST_FILES_LIMIT","reach files limit",413),KGe=il("FST_FIELDS_LIMIT","reach fields limit",413),Hee=il("FST_REQ_FILE_TOO_LARGE","request file too large",413),zee=il("FST_PROTO_VIOLATION","prototype property is not allowed as field name",400),XGe=il("FST_INVALID_MULTIPART_CONTENT_TYPE","the request is not multipart",406),JGe=il("FST_INVALID_JSON_FIELD_ERROR","a request field is not a valid JSON as declared by its Content-Type",406),ZGe=il("FST_FILE_BUFFER_NOT_FOUND","the file buffer was not found",500),BCr=il("FST_NO_FORM_DATA","FormData is not available",500);function HCr(t,e,r){t[Vee]=!0,r()}function zCr(t){try{return new ACr(t)}catch(e){let r=new MCr;return process.nextTick(function(){r.emit("error",e)}),r}}function Wee(t,e,r){e.limits={...e.limits,parts:e.limits?.parts||1e3,fileSize:e.limits?.fileSize||t.initialConfig.bodyLimit};let n=e.attachFieldsToBody;(n===!0||n==="keyValues")&&(typeof e.sharedSchemaId=="string"&&n===!0&&t.addSchema({$id:e.sharedSchemaId,type:"object",properties:{fieldname:{type:"string"},encoding:{type:"string"},filename:{type:"string"},mimetype:{type:"string"}}}),t.addHook("preValidation",async function(p,m){if(p.isMultipart()){for await(let g of p.parts())p.body=g.fields,g.file&&(e.onFile?await e.onFile.call(p,g):await g.toBuffer());if(n==="keyValues"){let g={};if(p.body){let y=Object.keys(p.body);for(let w=0;w<y.length;++w){let S=y[w],E=p.body[S];if(E.value!==void 0)g[S]=E.value;else if(E._buf)g[S]=E._buf;else if(Array.isArray(E)){let b=[];for(let O=0;O<E.length;++O){let M=E[O];M.value!==void 0?b.push(M.value):M._buf&&b.push(M._buf)}b.length&&(g[S]=b)}}}p.body=g}}}),globalThis.FormData&&!t.hasRequestDecorator("formData")&&t.decorateRequest("formData",async function(){let p=new FormData;for(let g in this.body){let y=this.body[g];if(Array.isArray(y))for(let w of y)await m(g,w);else await m(g,y)}async function m(g,y){y.type==="file"||n==="keyValues"&&Buffer.isBuffer(y)?p.append(g,new Blob([await y.toBuffer()],{type:y.mimetype}),y.filename):p.append(g,y.value)}return p})),t.hasRequestDecorator("formData")||t.decorateRequest("formData",async function(){throw new BCr});let i=typeof e.throwFileSizeLimit=="boolean"?e.throwFileSizeLimit:!0;t.decorate("multipartErrors",{PartsLimitError:WGe,FilesLimitError:GGe,FieldsLimitError:KGe,PrototypeViolationError:zee,InvalidMultipartContentTypeError:XGe,RequestFileTooLargeError:Hee,FileBufferNotFoundError:ZGe}),t.addContentTypeParser("multipart/form-data",HCr),t.decorateRequest(Vee,!1),t.decorateRequest(cq,o),t.decorateRequest("parts",h),t.decorateRequest("isMultipart",s),t.decorateRequest("tmpUploads",null),t.decorateRequest("savedRequestFiles",null),t.decorateRequest("file",f),t.decorateRequest("files",d),t.decorateRequest("saveRequestFiles",a),t.decorateRequest("cleanRequestFiles",c),t.addHook("onResponse",async(p,m)=>{await p.cleanRequestFiles()});function s(){return this[Vee]}function o(p={}){if(!this.isMultipart())throw new XGe;this.log.debug("starting multipart parsing");let m=[],g=null,y=L=>{g?(g(L),g=null):m.push(L)},w=L=>{if(m.length>0){let z=m[0];m=m.slice(1),L(z)}else g=L},S=()=>new Promise((L,z)=>{w(ee=>{ee instanceof Error?ee.message==="Unexpected end of multipart data"?L(null):z(ee):L(ee)})}),E={},b=null,O=null,M=this.raw,x=LCr({headers:M.headers},e,p);this.log.trace({busboyOptions:x},"Providing options to busboy");let I=zCr(x);M.on("close",D),M.on("error",D),I.on("field",P).on("file",F).on("end",D).on("finish",D).on("close",D).on("error",D),I.on("partsLimit",function(){let L=new WGe;$(L),process.nextTick(()=>D(L))}),I.on("filesLimit",function(){let L=new GGe;$(L),process.nextTick(()=>D(L))}),I.on("fieldsLimit",function(){let L=new KGe;$(L),process.nextTick(()=>D(L))}),M.pipe(I);function P(L,z,ee,N,H,X){if(L in Object.prototype){$(new zee);return}if(X.startsWith("application/json")){if(N){$(new JGe);return}try{z=jCr.parse(z),X="application/json"}catch{$(new JGe);return}}let V={type:"field",fieldname:L,mimetype:X,encoding:H,value:z,fieldnameTruncated:ee,valueTruncated:N,fields:E};E[L]===void 0?E[L]=V:Array.isArray(E[L])?E[L].push(V):E[L]=[E[L],V],y(V)}function F(L,z,ee,N,H){if(L in Object.prototype){FCr(z),$(new zee);return}let X=typeof p.throwFileSizeLimit=="boolean"?p.throwFileSizeLimit:i,V={type:"file",fieldname:L,filename:ee,encoding:N,mimetype:H,file:z,fields:E,_buf:null,async toBuffer(){if(this._buf)return this._buf;let ue=[],_e;for await(let xe of this.file)ue.push(xe),X&&this.file.truncated&&(_e=new Hee,_e.part=this,$(_e),ue.length=0);if(_e)throw _e;return this._buf=Buffer.concat(ue),this._buf}};X&&z.on("limit",function(){let ue=new Hee;ue.part=V,$(ue)}),E[L]===void 0?E[L]=V:Array.isArray(E[L])?E[L].push(V):E[L]=[E[L],V],O=z,y(V)}function $(L){b=L,O=null}function D(L){M.unpipe(I),(L||M.aborted)&&O&&(O.destroy(),O=null),y(L||b||null)}return S}async function a(p){if(this.savedRequestFiles)return this.savedRequestFiles;let m;if(n===!0){if(!this.body)return[];m=u.call(this,this.body)}else m=await this.files(p);this.savedRequestFiles=[];let g=p&&p.tmpdir||PCr.tmpdir();this.tmpUploads=[];let y=0;for await(let w of m){let S=VGe.join(g,NCr()+VGe.extname(w.filename||"file"+y++)),E=OCr(S);try{this.tmpUploads.push(S),await UCr(w.file,E),this.savedRequestFiles.push({...w,filepath:S})}catch(b){throw this.log.error({err:b},"save request file"),b}}return this.savedRequestFiles}function*u(p){try{let m=Array.isArray(p)?p:Object.values(p);for(let g=0;g<m.length;++g){let y=m[g];if(Array.isArray(y))for(let w of u.call(this,y))yield w;if(y.file){if(!y._buf)throw new ZGe;y.file=$Cr.from(y._buf),yield y}}}catch(m){throw this.log.error({err:m},"save request file failed"),m}}async function c(){if(this.tmpUploads)for(let p=0;p<this.tmpUploads.length;++p){let m=this.tmpUploads[p];try{await kCr(m)}catch(g){this.log.error(g,"Could not delete file")}}}async function f(p){let m=this[cq](p),g;for(;(g=await m())!=null;)if(g.file)return g}async function*d(p){let m=this[cq](p),g;for(;(g=await m())!=null;)g.file&&(yield g)}async function*h(p){let m=this[cq](p),g;for(;(g=await m())!=null;)yield g}r()}function VCr(t){return t.addKeyword({keyword:"isFile",compile:(e,r)=>(r.type="string",r.format="binary",delete r.isFile,n=>!!n.file),error:{message:"should be a file"}})}KT.exports=ICr(Wee,{fastify:"4.x",name:"@fastify/multipart"});KT.exports.default=Wee;KT.exports.fastifyMultipart=Wee;KT.exports.ajvFilePlugin=VCr});var e7e=v(V0=>{"use strict";var WCr=V0&&V0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(V0,"__esModule",{value:!0});V0.hcpRoutes=void 0;var QGe=VA(),GCr=WA(),KCr=iGe(),XCr=WCr(YGe()),qs=new KCr.HcpService,JCr=async t=>{await t.register(XCr.default,{limits:{fileSize:10*1024*1024}}),t.addHook("preHandler",(0,GCr.requireClientAdmin)()),t.get("/filters",async()=>{let[e,r]=await Promise.all([qs.getSpecialties(),qs.getStates()]);return{specialties:e,states:r}}),t.get("/",async e=>{let{query:r,specialty:n,state:i,page:s,limit:o}=e.query;return qs.search({query:r,specialty:n,state:i,page:parseInt(s||"1",10),limit:parseInt(o||"50",10)})}),t.get("/:id",async(e,r)=>{let n=await qs.getById(e.params.id);return n||r.status(404).send({error:"Not Found",message:"HCP not found",statusCode:404})}),t.post("/",async(e,r)=>{let n=QGe.createHcpSchema.parse(e.body);if(await qs.getByNpi(n.npi))return r.status(409).send({error:"Conflict",message:"HCP with this NPI already exists",statusCode:409});let s=await qs.create(n,e.user.sub);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"hcp.created",entityType:"Hcp",entityId:s.id,newValues:{npi:n.npi,name:`${n.firstName} ${n.lastName}`}}}),r.status(201).send(s)}),t.put("/:id",async(e,r)=>{let n=QGe.updateHcpSchema.parse(e.body),i=await qs.getById(e.params.id);if(!i)return r.status(404).send({error:"Not Found",message:"HCP not found",statusCode:404});let s=await qs.update(e.params.id,n);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"hcp.updated",entityType:"Hcp",entityId:s.id,oldValues:{firstName:i.firstName,lastName:i.lastName},newValues:n}}),s}),t.post("/import",async(e,r)=>{let n=await e.file();if(!n)return r.status(400).send({error:"Bad Request",message:"No file uploaded",statusCode:400});let i=await n.toBuffer(),s=await qs.importFromExcel(i,e.user.sub);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"hcp.bulk_import",entityType:"Hcp",entityId:"bulk",newValues:{created:s.created,updated:s.updated,errors:s.errors.length}}}),s}),t.get("/:id/aliases",async e=>qs.getAliases(e.params.id)),t.post("/:id/aliases",async(e,r)=>{let{aliasName:n}=e.body;if(!n||typeof n!="string"||!n.trim())return r.status(400).send({error:"Bad Request",message:"aliasName is required",statusCode:400});if(!await qs.getById(e.params.id))return r.status(404).send({error:"Not Found",message:"HCP not found",statusCode:404});let s=await qs.addAlias(e.params.id,n.trim(),e.user.sub);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"hcp.alias_added",entityType:"HcpAlias",entityId:s.id,newValues:{hcpId:e.params.id,aliasName:n}}}),r.status(201).send(s)}),t.delete("/:id/aliases/:aliasId",async(e,r)=>(await qs.removeAlias(e.params.aliasId),await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"hcp.alias_removed",entityType:"HcpAlias",entityId:e.params.aliasId}}),r.status(204).send())),t.post("/aliases/import",async(e,r)=>{let n=await e.file();if(!n)return r.status(400).send({error:"Bad Request",message:"No file uploaded",statusCode:400});let i=await n.toBuffer(),s=await qs.importAliases(i,e.user.sub);return await t.prisma.auditLog.create({data:{userId:e.user.sub,action:"hcp.aliases_bulk_import",entityType:"HcpAlias",entityId:"bulk",newValues:{created:s.created,skipped:s.skipped,errors:s.errors.length}}}),s})};V0.hcpRoutes=JCr});var t7e=v(W0=>{"use strict";var lq=W0&&W0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W0,"__esModule",{value:!0});W0.buildApp=axr;W0.configureApp=uxr;var ZCr=lq($me()),YCr=lq(oge()),QCr=lq(mge()),exr=lq(xge()),txr=Rge(),rxr=Zge(),nxr=Yge(),ixr=Oye(),sxr=hke(),oxr=e7e();function axr(){return(0,ZCr.default)({logger:{level:process.env.LOG_LEVEL||"info",transport:process.env.NODE_ENV==="development"?{target:"pino-pretty"}:void 0}})}async function uxr(t){return await t.register(QCr.default),await t.register(YCr.default,{origin:process.env.CORS_ORIGIN||"http://localhost:3000",credentials:!0}),await t.register(exr.default,{max:100,timeWindow:"1 minute"}),await t.register(txr.prismaPlugin),await t.register(rxr.authPlugin),await t.register(nxr.healthRoutes,{prefix:"/health"}),await t.register(ixr.clientRoutes,{prefix:"/api/v1/clients"}),await t.register(sxr.userRoutes,{prefix:"/api/v1/users"}),await t.register(oxr.hcpRoutes,{prefix:"/api/v1/hcps"}),t}});var cxr=exports&&exports.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});exports.main=void 0;var lxr=cxr(Cte()),r7e=t7e(),Gee;async function fxr(){let t=(0,r7e.buildApp)();return await(0,r7e.configureApp)(t),(0,lxr.default)(t)}var dxr=async(t,e)=>(Gee||(Gee=await fxr()),Gee(t,e));exports.main=dxr;
/*! Bundled license information:

forwarded/index.js:
  (*!
   * forwarded
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

proxy-addr/index.js:
  (*!
   * proxy-addr
   * Copyright(c) 2014-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toad-cache/dist/toad-cache.cjs:
  (**
   * toad-cache
   *
   * @copyright 2024 Igor Savin <kibertoad@gmail.com>
   * @license MIT
   * @version 3.7.0
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

light-my-request/lib/form-data.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

xmlchars/xml/1.0/ed5.js:
  (**
   * Character classes and associated utilities for the 5th edition of XML 1.0.
   *
   * @author Louis-Dominique Dubeau
   * @license MIT
   * @copyright Louis-Dominique Dubeau
   *)

xmlchars/xml/1.1/ed2.js:
  (**
   * Character classes and associated utilities for the 2nd edition of XML 1.1.
   *
   * @author Louis-Dominique Dubeau
   * @license MIT
   * @copyright Louis-Dominique Dubeau
   *)

xmlchars/xmlns/1.0/ed3.js:
  (**
   * Character class utilities for XML NS 1.0 edition 3.
   *
   * @author Louis-Dominique Dubeau
   * @license MIT
   * @copyright Louis-Dominique Dubeau
   *)

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

archiver/lib/error.js:
archiver/lib/core.js:
  (**
   * Archiver Core
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)

zip-stream/index.js:
  (**
   * ZipStream
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
   * @copyright (c) 2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/zip.js:
  (**
   * ZIP Format Plugin
   *
   * @module plugins/zip
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/tar.js:
  (**
   * TAR Format Plugin
   *
   * @module plugins/tar
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/lib/plugins/json.js:
  (**
   * JSON Format Plugin
   *
   * @module plugins/json
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

archiver/index.js:
  (**
   * Archiver Vending
   *
   * @ignore
   * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
   * @copyright (c) 2012-2014 Chris Talkington, contributors.
   *)

tmp/lib/tmp.js:
  (*!
   * Tmp
   *
   * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
   *
   * MIT Licensed
   *)
*/

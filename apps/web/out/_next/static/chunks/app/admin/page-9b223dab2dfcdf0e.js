(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{2642:function(e,t,r){Promise.resolve().then(r.bind(r,745))},745:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(6517),a=r(8949),s=r(5996),i=r(1737),l=r(6944),o=r(1326),c=r(3933);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),u=(0,c.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),f=(0,c.Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),h=(0,c.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);function m(){var e;let{user:t,signOut:r}=(0,s.a)(),i=(null==t?void 0:t.role)==="PLATFORM_ADMIN";return(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"KOL360 Admin"}),(0,n.jsx)(l.z,{variant:"outline",onClick:r,children:"Sign Out"})]}),(0,n.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsx)(o.ll,{children:"Welcome"}),(0,n.jsx)(o.SZ,{children:"You are signed in"})]}),(0,n.jsx)(o.aY,{children:(0,n.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("dt",{className:"font-medium text-gray-500",children:"Email"}),(0,n.jsx)("dd",{children:null==t?void 0:t.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("dt",{className:"font-medium text-gray-500",children:"Role"}),(0,n.jsx)("dd",{className:"capitalize",children:null==t?void 0:null===(e=t.role)||void 0===e?void 0:e.replace(/_/g," ").toLowerCase()})]}),(null==t?void 0:t.tenantId)&&(0,n.jsxs)("div",{children:[(0,n.jsx)("dt",{className:"font-medium text-gray-500",children:"Tenant ID"}),(0,n.jsx)("dd",{children:t.tenantId})]})]})})]}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsx)(o.ll,{children:"Quick Actions"}),(0,n.jsx)(o.SZ,{children:"Manage your platform"})]}),(0,n.jsxs)(o.aY,{className:"space-y-2",children:[i&&(0,n.jsx)(a.default,{href:"/admin/clients",children:(0,n.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",children:[(0,n.jsx)(d,{className:"w-4 h-4 mr-2"}),"Manage Clients"]})}),(0,n.jsx)(a.default,{href:"/admin/users",children:(0,n.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",children:[(0,n.jsx)(u,{className:"w-4 h-4 mr-2"}),"Manage Users"]})}),(0,n.jsx)(a.default,{href:"/admin/hcps",children:(0,n.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",children:[(0,n.jsx)(f,{className:"w-4 h-4 mr-2"}),"HCP Database"]})}),(0,n.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",disabled:!0,children:[(0,n.jsx)(h,{className:"w-4 h-4 mr-2"}),"View Campaigns (Coming Soon)"]})]})]})]})]})})}function v(){return(0,n.jsx)(i.Y,{children:(0,n.jsx)(m,{})})}},1737:function(e,t,r){"use strict";r.d(t,{Y:function(){return l}});var n=r(6517),a=r(6557),s=r(6815),i=r(5996);function l(e){let{children:t,allowedRoles:r}=e,l=(0,s.useRouter)(),{user:o,isLoading:c,isAuthenticated:d}=(0,i.a)();return((0,a.useEffect)(()=>{c||d||l.push("/login")},[c,d,l]),(0,a.useEffect)(()=>{!c&&d&&r&&o&&!r.includes(o.role)&&l.push("/unauthorized")},[c,d,r,o,l]),c)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):!d||r&&o&&!r.includes(o.role)?null:(0,n.jsx)(n.Fragment,{children:t})}},6944:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(6517),a=r(6557),s=r(2320),i=r(7310),l=r(7205);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},1326:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=r(6517),a=r(6557),s=r(7205);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},5996:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return m},a:function(){return v}});var n=r(6517),a=r(6557),s=r(1895),i=r(3665),l=r(1957),o=r(2955),c=r(8934),d=r(8420),u=r(8866),f=r(993);s.V.configure({Auth:{Cognito:{userPoolId:"us-east-2_63CJVTAV9",userPoolClientId:"7tqkritsrh3dgmaj6oq8va46vj"}}});let h=(0,a.createContext)(null);function m(e){let{children:t}=e,[r,s]=(0,a.useState)(null),[m,v]=(0,a.useState)(!0);async function x(){try{var e;let t=await (0,i.t)(),r=await (0,l.y)(),n=await (0,o.v)(),a=null===(e=r.tokens)||void 0===e?void 0:e.accessToken,c=null==a?void 0:a.payload["custom:role"];if(!c){let e=null==a?void 0:a.payload["cognito:groups"];(null==e?void 0:e.includes("PLATFORM_ADMIN"))||(null==e?void 0:e.includes("platform-admins"))?c="PLATFORM_ADMIN":(null==e?void 0:e.includes("CLIENT_ADMIN"))||(null==e?void 0:e.includes("client-admins"))?c="CLIENT_ADMIN":((null==e?void 0:e.includes("TEAM_MEMBER"))||null==e||e.includes("team-members"),c="TEAM_MEMBER")}s({sub:t.userId,email:n.email||"",role:c,tenantId:null==a?void 0:a.payload["custom:tenant_id"],firstName:n.given_name,lastName:n.family_name})}catch(e){s(null)}finally{v(!1)}}async function y(e,t){try{await (0,c.z)({username:e,password:t}),await x()}catch(e){throw console.error("Sign in error:",e),e}}async function p(e,t,r,n){try{await (0,d.y)({username:e,password:t,options:{userAttributes:{email:e,given_name:r,family_name:n}}})}catch(e){throw console.error("Sign up error:",e),e}}async function g(e,t){try{await (0,u._)({username:e,confirmationCode:t})}catch(e){throw console.error("Confirm sign up error:",e),e}}async function j(){try{await (0,f.w)(),s(null)}catch(e){throw console.error("Sign out error:",e),e}}async function w(){try{var e,t;let r=await (0,l.y)();return(null===(t=r.tokens)||void 0===t?void 0:null===(e=t.accessToken)||void 0===e?void 0:e.toString())||null}catch(e){return null}}return(0,a.useEffect)(()=>{x()},[]),(0,n.jsx)(h.Provider,{value:{user:r,isLoading:m,isAuthenticated:!!r,signIn:y,signUp:p,confirmSignUp:g,signOut:j,getAccessToken:w},children:t})}function v(){let e=(0,a.useContext)(h);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},7205:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(3287),a=r(6759);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},3933:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(6557);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...f}=e;return(0,n.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:o?24*Number(l)/Number(a):l,className:s("lucide",c),...f},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:o,...c}=r;return(0,n.createElement)(l,{ref:i,iconNode:t,className:s("lucide-".concat(a(e)),o),...c})});return r.displayName="".concat(e),r}},6815:function(e,t,r){"use strict";var n=r(2346);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[401,621,949,416,963,744],function(){return e(e.s=2642)}),_N_E=e.O()}]);